var LC=Object.defineProperty,dk=Object.defineProperties;var hk=Object.getOwnPropertyDescriptors;var kC=Object.getOwnPropertySymbols,fk=Object.getPrototypeOf,pk=Object.prototype.hasOwnProperty,gk=Object.prototype.propertyIsEnumerable,mk=Reflect.get;var FC=(n,e,t)=>e in n?LC(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,V=(n,e)=>{for(var t in e||={})pk.call(e,t)&&FC(n,t,e[t]);if(kC)for(var t of kC(e))gk.call(e,t)&&FC(n,t,e[t]);return n},X=(n,e)=>dk(n,hk(e));var yk=(n,e)=>{for(var t in e)LC(n,t,{get:e[t],enumerable:!0})};var Mi=(n,e,t)=>mk(fk(n),t,e);var E=(n,e,t)=>new Promise((r,i)=>{var o=l=>{try{a(t.next(l))}catch(u){i(u)}},s=l=>{try{a(t.throw(l))}catch(u){i(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((t=t.apply(n,e)).next())});function Wm(n,e){return Object.is(n,e)}var bt=null,vd=!1,Km=1,Nn=Symbol("SIGNAL");function Ie(n){let e=bt;return bt=n,e}function Qm(){return bt}var Uc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Bc(n){if(vd)throw new Error("");if(bt===null)return;bt.consumerOnSignalRead(n);let e=bt.nextProducerIndex++;if(Id(bt),e<bt.producerNode.length&&bt.producerNode[e]!==n&&jc(bt)){let t=bt.producerNode[e];Ed(t,bt.producerIndexOfThis[e])}bt.producerNode[e]!==n&&(bt.producerNode[e]=n,bt.producerIndexOfThis[e]=jc(bt)?jC(n,bt,e):0),bt.producerLastReadVersion[e]=n.version}function VC(){Km++}function Ym(n){if(!(jc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Km)){if(!n.producerMustRecompute(n)&&!ey(n)){Gm(n);return}n.producerRecomputeValue(n),Gm(n)}}function Jm(n){if(n.liveConsumerNode===void 0)return;let e=vd;vd=!0;try{for(let t of n.liveConsumerNode)t.dirty||vk(t)}finally{vd=e}}function Zm(){return bt?.consumerAllowSignalWrites!==!1}function vk(n){n.dirty=!0,Jm(n),n.consumerMarkedDirty?.(n)}function Gm(n){n.dirty=!1,n.lastCleanEpoch=Km}function wd(n){return n&&(n.nextProducerIndex=0),Ie(n)}function Xm(n,e){if(Ie(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(jc(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Ed(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function ey(n){Id(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Ym(t),r!==t.version))return!0}return!1}function ty(n){if(Id(n),jc(n))for(let e=0;e<n.producerNode.length;e++)Ed(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function jC(n,e,t){if(UC(n),n.liveConsumerNode.length===0&&BC(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=jC(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Ed(n,e){if(UC(n),n.liveConsumerNode.length===1&&BC(n))for(let r=0;r<n.producerNode.length;r++)Ed(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Id(i),i.producerIndexOfThis[r]=e}}function jc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Id(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function UC(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function BC(n){return n.producerNode!==void 0}function ny(n,e){let t=Object.create(_k);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Ym(t),Bc(t),t.value===_d)throw t.error;return t.value};return r[Nn]=t,r}var zm=Symbol("UNSET"),qm=Symbol("COMPUTING"),_d=Symbol("ERRORED"),_k=X(V({},Uc),{value:zm,dirty:!0,error:null,equal:Wm,kind:"computed",producerMustRecompute(n){return n.value===zm||n.value===qm},producerRecomputeValue(n){if(n.value===qm)throw new Error("Detected cycle in computations.");let e=n.value;n.value=qm;let t=wd(n),r,i=!1;try{r=n.computation(),Ie(null),i=e!==zm&&e!==_d&&r!==_d&&n.equal(e,r)}catch(o){r=_d,n.error=o}finally{Xm(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function wk(){throw new Error}var $C=wk;function HC(n){$C(n)}function ry(n){$C=n}var Ek=null;function iy(n,e){let t=Object.create(bd);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(Bc(t),t.value);return r[Nn]=t,r}function $c(n,e){Zm()||HC(n),n.equal(n.value,e)||(n.value=e,Ik(n))}function oy(n,e){Zm()||HC(n),$c(n,e(n.value))}var bd=X(V({},Uc),{equal:Wm,value:void 0,kind:"signal"});function Ik(n){n.version++,VC(),Jm(n),Ek?.()}function sy(n){let e=Ie(null);try{return n()}finally{Ie(e)}}var ay;function Hc(){return ay}function Wr(n){let e=ay;return ay=n,e}var Cd=Symbol("NotFound");function he(n){return typeof n=="function"}function Os(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Td=Os(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function _o(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var et=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(he(r))try{r()}catch(o){e=o instanceof Td?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{zC(o)}catch(s){e=e??[],s instanceof Td?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Td(e)}}add(e){var t;if(e&&e!==this)if(this.closed)zC(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&_o(t,e)}remove(e){let{_finalizers:t}=this;t&&_o(t,e),e instanceof n&&e._removeParent(this)}};et.EMPTY=(()=>{let n=new et;return n.closed=!0,n})();var cy=et.EMPTY;function Dd(n){return n instanceof et||n&&"closed"in n&&he(n.remove)&&he(n.add)&&he(n.unsubscribe)}function zC(n){he(n)?n():n.unsubscribe()}var Kn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ns={setTimeout(n,e,...t){let{delegate:r}=Ns;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Ns;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Sd(n){Ns.setTimeout(()=>{let{onUnhandledError:e}=Kn;if(e)e(n);else throw n})}function zc(){}var qC=ly("C",void 0,void 0);function GC(n){return ly("E",void 0,n)}function WC(n){return ly("N",n,void 0)}function ly(n,e,t){return{kind:n,value:e,error:t}}var wo=null;function ks(n){if(Kn.useDeprecatedSynchronousErrorHandling){let e=!wo;if(e&&(wo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=wo;if(wo=null,t)throw r}}else n()}function KC(n){Kn.useDeprecatedSynchronousErrorHandling&&wo&&(wo.errorThrown=!0,wo.error=n)}var Eo=class extends et{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Dd(e)&&e.add(this)):this.destination=Ak}static create(e,t,r){return new Fs(e,t,r)}next(e){this.isStopped?dy(WC(e),this):this._next(e)}error(e){this.isStopped?dy(GC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?dy(qC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Dk=Function.prototype.bind;function uy(n,e){return Dk.call(n,e)}var hy=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ad(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ad(r)}else Ad(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ad(t)}}},Fs=class extends Eo{constructor(e,t,r){super();let i;if(he(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Kn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&uy(e.next,o),error:e.error&&uy(e.error,o),complete:e.complete&&uy(e.complete,o)}):i=e}this.destination=new hy(i)}};function Ad(n){Kn.useDeprecatedSynchronousErrorHandling?KC(n):Sd(n)}function Sk(n){throw n}function dy(n,e){let{onStoppedNotification:t}=Kn;t&&Ns.setTimeout(()=>t(n,e))}var Ak={closed:!0,next:zc,error:Sk,complete:zc};var Ls=typeof Symbol=="function"&&Symbol.observable||"@@observable";function bn(n){return n}function fy(...n){return py(n)}function py(n){return n.length===0?bn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var we=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=Pk(t)?t:new Fs(t,r,i);return ks(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=QC(r),new r((i,o)=>{let s=new Fs({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ls](){return this}pipe(...t){return py(t)(this)}toPromise(t){return t=QC(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function QC(n){var e;return(e=n??Kn.Promise)!==null&&e!==void 0?e:Promise}function Mk(n){return n&&he(n.next)&&he(n.error)&&he(n.complete)}function Pk(n){return n&&n instanceof Eo||Mk(n)&&Dd(n)}function gy(n){return he(n?.lift)}function Ae(n){return e=>{if(gy(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function be(n,e,t,r,i){return new my(n,e,t,r,i)}var my=class extends Eo{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Vs(){return Ae((n,e)=>{let t=null;n._refCount++;let r=be(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var js=class extends we{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,gy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new et;let t=this.getSubject();e.add(this.source.subscribe(be(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=et.EMPTY)}return e}refCount(){return Vs()(this)}};var YC=Os(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ht=(()=>{class n extends we{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Md(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new YC}next(t){ks(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ks(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ks(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?cy:(this.currentObservers=null,o.push(t),new et(()=>{this.currentObservers=null,_o(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new we;return t.source=this,t}}return n.create=(e,t)=>new Md(e,t),n})(),Md=class extends ht{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:cy}};var Ye=class extends ht{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var yy={now(){return(yy.delegate||Date).now()},delegate:void 0};var Pd=class extends et{constructor(e,t){super()}schedule(e,t=0){return this}};var qc={setInterval(n,e,...t){let{delegate:r}=qc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=qc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Us=class extends Pd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return qc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&qc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,_o(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Bs=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Bs.now=yy.now;var $s=class extends Bs{constructor(e,t=Bs.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var vy=new $s(Us);var xd=class extends Us{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Rd=class extends $s{};var _y=new Rd(xd);var ln=new we(n=>n.complete());function JC(n){return n&&he(n.schedule)}function ZC(n){return n[n.length-1]}function Od(n){return he(ZC(n))?n.pop():void 0}function Pi(n){return JC(ZC(n))?n.pop():void 0}function wy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function eT(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{u(r.next(h))}catch(p){s(p)}}function l(h){try{u(r.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):i(h.value).then(a,l)}u((r=r.apply(n,e||[])).next())})}function XC(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Io(n){return this instanceof Io?(this.v=n,this):new Io(n)}function tT(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(_){return function(S){return Promise.resolve(S).then(_,p)}}function a(_,S){r[_]&&(i[_]=function(N){return new Promise(function(O,H){o.push([_,N,O,H])>1||l(_,N)})},S&&(i[_]=S(i[_])))}function l(_,S){try{u(r[_](S))}catch(N){v(o[0][3],N)}}function u(_){_.value instanceof Io?Promise.resolve(_.value.v).then(h,p):v(o[0][2],_)}function h(_){l("next",_)}function p(_){l("throw",_)}function v(_,S){_(S),o.shift(),o.length&&l(o[0][0],o[0][1])}}function nT(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof XC=="function"?XC(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}var Nd=n=>n&&typeof n.length=="number"&&typeof n!="function";function kd(n){return he(n?.then)}function Fd(n){return he(n[Ls])}function Ld(n){return Symbol.asyncIterator&&he(n?.[Symbol.asyncIterator])}function Vd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function xk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var jd=xk();function Ud(n){return he(n?.[jd])}function Bd(n){return tT(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Io(t.read());if(i)return yield Io(void 0);yield yield Io(r)}}finally{t.releaseLock()}})}function $d(n){return he(n?.getReader)}function ft(n){if(n instanceof we)return n;if(n!=null){if(Fd(n))return Rk(n);if(Nd(n))return Ok(n);if(kd(n))return Nk(n);if(Ld(n))return rT(n);if(Ud(n))return kk(n);if($d(n))return Fk(n)}throw Vd(n)}function Rk(n){return new we(e=>{let t=n[Ls]();if(he(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ok(n){return new we(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Nk(n){return new we(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Sd)})}function kk(n){return new we(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function rT(n){return new we(e=>{Lk(n,e).catch(t=>e.error(t))})}function Fk(n){return rT(Bd(n))}function Lk(n,e){var t,r,i,o;return eT(this,void 0,void 0,function*(){try{for(t=nT(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function un(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function xi(n,e=0){return Ae((t,r)=>{t.subscribe(be(r,i=>un(r,n,()=>r.next(i),e),()=>un(r,n,()=>r.complete(),e),i=>un(r,n,()=>r.error(i),e)))})}function Ri(n,e=0){return Ae((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function iT(n,e){return ft(n).pipe(Ri(e),xi(e))}function oT(n,e){return ft(n).pipe(Ri(e),xi(e))}function sT(n,e){return new we(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function aT(n,e){return new we(t=>{let r;return un(t,e,()=>{r=n[jd](),un(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>he(r?.return)&&r.return()})}function Hd(n,e){if(!n)throw new Error("Iterable cannot be null");return new we(t=>{un(t,e,()=>{let r=n[Symbol.asyncIterator]();un(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function cT(n,e){return Hd(Bd(n),e)}function lT(n,e){if(n!=null){if(Fd(n))return iT(n,e);if(Nd(n))return sT(n,e);if(kd(n))return oT(n,e);if(Ld(n))return Hd(n,e);if(Ud(n))return aT(n,e);if($d(n))return cT(n,e)}throw Vd(n)}function qe(n,e){return e?lT(n,e):ft(n)}function Z(...n){let e=Pi(n);return qe(n,e)}function dn(n,e){let t=he(n)?n:()=>n,r=i=>i.error(t());return new we(e?i=>e.schedule(r,0,i):r)}function Ey(n){return!!n&&(n instanceof we||he(n.lift)&&he(n.subscribe))}var Qn=Os(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function zd(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let o=!1,s;n.subscribe({next:a=>{s=a,o=!0},error:i,complete:()=>{o?r(s):t?r(e.defaultValue):i(new Qn)}})})}function ue(n,e){return Ae((t,r)=>{let i=0;t.subscribe(be(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:Vk}=Array;function jk(n,e){return Vk(e)?n(...e):n(e)}function qd(n){return ue(e=>jk(n,e))}var{isArray:Uk}=Array,{getPrototypeOf:Bk,prototype:$k,keys:Hk}=Object;function Gd(n){if(n.length===1){let e=n[0];if(Uk(e))return{args:e,keys:null};if(zk(e)){let t=Hk(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function zk(n){return n&&typeof n=="object"&&Bk(n)===$k}function Wd(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Gc(...n){let e=Pi(n),t=Od(n),{args:r,keys:i}=Gd(n);if(r.length===0)return qe([],e);let o=new we(qk(r,e,i?s=>Wd(i,s):bn));return t?o.pipe(qd(t)):o}function qk(n,e,t=bn){return r=>{uT(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)uT(e,()=>{let u=qe(n[l],e),h=!1;u.subscribe(be(r,p=>{o[l]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function uT(n,e,t){n?un(t,n,e):e()}function dT(n,e,t,r,i,o,s,a){let l=[],u=0,h=0,p=!1,v=()=>{p&&!l.length&&!u&&e.complete()},_=N=>u<r?S(N):l.push(N),S=N=>{o&&e.next(N),u++;let O=!1;ft(t(N,h++)).subscribe(be(e,H=>{i?.(H),o?_(H):e.next(H)},()=>{O=!0},void 0,()=>{if(O)try{for(u--;l.length&&u<r;){let H=l.shift();s?un(e,s,()=>S(H)):S(H)}v()}catch(H){e.error(H)}}))};return n.subscribe(be(e,_,()=>{p=!0,v()})),()=>{a?.()}}function ot(n,e,t=1/0){return he(e)?ot((r,i)=>ue((o,s)=>e(r,o,i,s))(ft(n(r,i))),t):(typeof e=="number"&&(t=e),Ae((r,i)=>dT(r,i,n,t)))}function Hs(n=1/0){return ot(bn,n)}function hT(){return Hs(1)}function zs(...n){return hT()(qe(n,Pi(n)))}function Kd(n){return new we(e=>{ft(n()).subscribe(e)})}function Iy(...n){let e=Od(n),{args:t,keys:r}=Gd(n),i=new we(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,u=s;for(let h=0;h<s;h++){let p=!1;ft(t[h]).subscribe(be(o,v=>{p||(p=!0,u--),a[h]=v},()=>l--,void 0,()=>{(!l||!p)&&(u||o.next(r?Wd(r,a):a),o.complete())}))}});return e?i.pipe(qd(e)):i}function kt(n,e){return Ae((t,r)=>{let i=0;t.subscribe(be(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Qe(n){return Ae((e,t)=>{let r=null,i=!1,o;r=e.subscribe(be(t,void 0,void 0,s=>{o=ft(n(s,Qe(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function fT(n,e,t,r,i){return(o,s)=>{let a=t,l=e,u=0;o.subscribe(be(s,h=>{let p=u++;l=a?n(l,h,p):(a=!0,h),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function hr(n,e){return he(e)?ot(n,e,1):ot(n,1)}function Oi(n){return Ae((e,t)=>{let r=!1;e.subscribe(be(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Dt(n){return n<=0?()=>ln:Ae((e,t)=>{let r=0;e.subscribe(be(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Qd(n=Gk){return Ae((e,t)=>{let r=!1;e.subscribe(be(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Gk(){return new Qn}function bo(n){return Ae((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Kr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?kt((i,o)=>n(i,o,r)):bn,Dt(1),t?Oi(e):Qd(()=>new Qn))}function qs(n){return n<=0?()=>ln:Ae((e,t)=>{let r=[];e.subscribe(be(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function by(n,e){let t=arguments.length>=2;return r=>r.pipe(n?kt((i,o)=>n(i,o,r)):bn,qs(1),t?Oi(e):Qd(()=>new Qn))}function Cy(n,e){return Ae(fT(n,e,arguments.length>=2,!0))}function Ty(...n){let e=Pi(n);return Ae((t,r)=>{(e?zs(n,t,e):zs(n,t)).subscribe(r)})}function Wt(n,e){return Ae((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(be(r,l=>{i?.unsubscribe();let u=0,h=o++;ft(n(l,h)).subscribe(i=be(r,p=>r.next(e?e(l,p,h,u++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Dy(n){return Ae((e,t)=>{ft(n).subscribe(be(t,()=>t.complete(),zc)),!t.closed&&e.subscribe(t)})}function Ft(n,e,t){let r=he(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ae((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(be(o,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),o.error(l)},()=>{var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):bn}var nD="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",q=class extends Error{code;constructor(e,t){super(rD(e,t)),this.code=e}};function Wk(n){return`NG0${Math.abs(n)}`}function rD(n,e){return`${Wk(n)}${e?": "+e:""}`}var iD=Symbol("InputSignalNode#UNSET"),Kk=X(V({},bd),{transformFn:void 0,applyValueToInputSignal(n,e){$c(n,e)}});function oD(n,e){let t=Object.create(Kk);t.value=n,t.transformFn=e?.transform;function r(){if(Bc(t),t.value===iD){let i=null;throw new q(-950,i)}return t.value}return r[Nn]=t,r}function nl(n){return{toString:n}.toString()}var Yd="__parameters__";function Qk(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function sD(n,e,t){return nl(()=>{let r=Qk(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,u,h){let p=l.hasOwnProperty(Yd)?l[Yd]:Object.defineProperty(l,Yd,{value:[]})[Yd];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),l}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var To=globalThis;function ze(n){for(let e in n)if(n[e]===ze)return e;throw Error("Could not find renamed property on target object.")}function Yk(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function fn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(fn).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function pT(n,e){return n?e?`${n} ${e}`:n:e||""}var Jk=ze({__forward_ref__:ze});function Lt(n){return n.__forward_ref__=Lt,n.toString=function(){return fn(this())},n}function nn(n){return aD(n)?n():n}function aD(n){return typeof n=="function"&&n.hasOwnProperty(Jk)&&n.__forward_ref__===Lt}function $(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Zn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ph(n){return gT(n,lD)||gT(n,uD)}function cD(n){return Ph(n)!==null}function gT(n,e){return n.hasOwnProperty(e)?n[e]:null}function Zk(n){let e=n&&(n[lD]||n[uD]);return e||null}function mT(n){return n&&(n.hasOwnProperty(yT)||n.hasOwnProperty(Xk))?n[yT]:null}var lD=ze({\u0275prov:ze}),yT=ze({\u0275inj:ze}),uD=ze({ngInjectableDef:ze}),Xk=ze({ngInjectorDef:ze}),G=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=$({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function dD(n){return n&&!!n.\u0275providers}var eF=ze({\u0275cmp:ze}),tF=ze({\u0275dir:ze}),nF=ze({\u0275pipe:ze}),rF=ze({\u0275mod:ze}),ih=ze({\u0275fac:ze}),Yc=ze({__NG_ELEMENT_ID__:ze}),vT=ze({__NG_ENV_ID__:ze});function Qr(n){return typeof n=="string"?n:n==null?"":String(n)}function iF(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Qr(n)}function hD(n,e){throw new q(-200,n)}function Mv(n,e){throw new q(-201,!1)}var me=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(me||{}),By;function fD(){return By}function hn(n){let e=By;return By=n,e}function pD(n,e,t){let r=Ph(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&me.Optional)return null;if(e!==void 0)return e;Mv(n,"Injector")}var oF={},Do=oF,$y="__NG_DI_FLAG__",oh=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?Cd:Do,r)}},sh="ngTempTokenPath",sF="ngTokenPath",aF=/\n/gm,cF="\u0275",_T="__source";function lF(n,e=me.Default){if(Hc()===void 0)throw new q(-203,!1);if(Hc()===null)return pD(n,void 0,e);{let t=Hc(),r;return t instanceof oh?r=t.injector:r=t,r.get(n,e&me.Optional?null:void 0,e)}}function W(n,e=me.Default){return(fD()||lF)(nn(n),e)}function F(n,e=me.Default){return W(n,xh(e))}function xh(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Hy(n){let e=[];for(let t=0;t<n.length;t++){let r=nn(n[t]);if(Array.isArray(r)){if(r.length===0)throw new q(900,!1);let i,o=me.Default;for(let s=0;s<r.length;s++){let a=r[s],l=uF(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(W(i,o))}else e.push(W(r))}return e}function gD(n,e){return n[$y]=e,n.prototype[$y]=e,n}function uF(n){return n[$y]}function dF(n,e,t,r){let i=n[sh];throw e[_T]&&i.unshift(e[_T]),n.message=hF(`
`+n.message,i,t,r),n[sF]=i,n[sh]=null,n}function hF(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==cF?n.slice(2):n;let i=fn(e);if(Array.isArray(e))i=e.map(fn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):fn(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(aF,`
  `)}`}var Fi=gD(sD("Optional"),8);var fF=gD(sD("SkipSelf"),4);function Ao(n,e){let t=n.hasOwnProperty(ih);return t?n[ih]:null}function Pv(n,e){n.forEach(t=>Array.isArray(t)?Pv(t,e):e(t))}function mD(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ah(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function pF(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function gF(n,e,t){let r=rl(n,e);return r>=0?n[r|1]=t:(r=~r,pF(n,r,e,t)),r}function Sy(n,e){let t=rl(n,e);if(t>=0)return n[t|1]}function rl(n,e){return mF(n,e,1)}function mF(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Mo={},kn=[],Jc=new G(""),yD=new G("",-1),vD=new G(""),ch=class{get(e,t=Do){if(t===Do){let r=new Error(`NullInjectorError: No provider for ${fn(e)}!`);throw r.name="NullInjectorError",r}return t}};function _D(n,e){let t=n[rF]||null;if(!t&&e===!0)throw new Error(`Type ${fn(n)} does not have '\u0275mod' property.`);return t}function Po(n){return n[eF]||null}function yF(n){return n[tF]||null}function vF(n){return n[nF]||null}function Xr(n){return{\u0275providers:n}}function _F(...n){return{\u0275providers:wD(!0,n),\u0275fromNgModule:!0}}function wD(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Pv(e,s=>{let a=s;zy(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&ED(i,o),t}function ED(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];xv(i,o=>{e(o,r)})}}function zy(n,e,t,r){if(n=nn(n),!n)return!1;let i=null,o=mT(n),s=!o&&Po(n);if(!o&&!s){let l=n.ngModule;if(o=mT(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)zy(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{Pv(o.imports,h=>{zy(h,e,t,r)&&(u||=[],u.push(h))})}finally{}u!==void 0&&ED(u,e)}if(!a){let u=Ao(i)||(()=>new i);e({provide:i,useFactory:u,deps:kn},i),e({provide:vD,useValue:i,multi:!0},i),e({provide:Jc,useValue:()=>W(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let u=n;xv(l,h=>{e(h,u)})}}else return!1;return i!==n&&n.providers!==void 0}function xv(n,e){for(let t of n)dD(t)&&(t=t.\u0275providers),Array.isArray(t)?xv(t,e):e(t)}var wF=ze({provide:String,useValue:ze});function ID(n){return n!==null&&typeof n=="object"&&wF in n}function EF(n){return!!(n&&n.useExisting)}function IF(n){return!!(n&&n.useFactory)}function Zs(n){return typeof n=="function"}function bF(n){return!!n.useClass}var Rh=new G(""),Xd={},wT={},Ay;function Rv(){return Ay===void 0&&(Ay=new ch),Ay}var St=class{},Zc=class extends St{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Gy(e,s=>this.processProvider(s)),this.records.set(yD,Gs(void 0,this)),i.has("environment")&&this.records.set(St,Gs(void 0,this));let o=this.records.get(Rh);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(vD,kn,me.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?Cd:Do,r)}destroy(){Kc(this),this._destroyed=!0;let e=Ie(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ie(e)}}onDestroy(e){return Kc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Kc(this);let t=Wr(this),r=hn(void 0),i;try{return e()}finally{Wr(t),hn(r)}}get(e,t=Do,r=me.Default){if(Kc(this),e.hasOwnProperty(vT))return e[vT](this);r=xh(r);let i,o=Wr(this),s=hn(void 0);try{if(!(r&me.SkipSelf)){let l=this.records.get(e);if(l===void 0){let u=AF(e)&&Ph(e);u&&this.injectableDefInScope(u)?l=Gs(qy(e),Xd):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,r)}let a=r&me.Self?Rv():this.parent;return t=r&me.Optional&&t===Do?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[sh]=a[sh]||[]).unshift(fn(e)),o)throw a;return dF(a,e,"R3InjectorError",this.source)}else throw a}finally{hn(s),Wr(o)}}resolveInjectorInitializers(){let e=Ie(null),t=Wr(this),r=hn(void 0),i;try{let o=this.get(Jc,kn,me.Self);for(let s of o)s()}finally{Wr(t),hn(r),Ie(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(fn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=nn(e);let t=Zs(e)?e:nn(e&&e.provide),r=TF(e);if(!Zs(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Gs(void 0,Xd,!0),i.factory=()=>Hy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Ie(null);try{return t.value===wT?hD(fn(e)):t.value===Xd&&(t.value=wT,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&SF(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ie(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=nn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function qy(n){let e=Ph(n),t=e!==null?e.factory:Ao(n);if(t!==null)return t;if(n instanceof G)throw new q(204,!1);if(n instanceof Function)return CF(n);throw new q(204,!1)}function CF(n){if(n.length>0)throw new q(204,!1);let t=Zk(n);return t!==null?()=>t.factory(n):()=>new n}function TF(n){if(ID(n))return Gs(void 0,n.useValue);{let e=bD(n);return Gs(e,Xd)}}function bD(n,e,t){let r;if(Zs(n)){let i=nn(n);return Ao(i)||qy(i)}else if(ID(n))r=()=>nn(n.useValue);else if(IF(n))r=()=>n.useFactory(...Hy(n.deps||[]));else if(EF(n))r=(i,o)=>W(nn(n.useExisting),o!==void 0&&o&me.Optional?me.Optional:void 0);else{let i=nn(n&&(n.useClass||n.provide));if(DF(n))r=()=>new i(...Hy(n.deps));else return Ao(i)||qy(i)}return r}function Kc(n){if(n.destroyed)throw new q(205,!1)}function Gs(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function DF(n){return!!n.deps}function SF(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function AF(n){return typeof n=="function"||typeof n=="object"&&n instanceof G}function Gy(n,e){for(let t of n)Array.isArray(t)?Gy(t,e):t&&dD(t)?Gy(t.\u0275providers,e):e(t)}function Mt(n,e){let t;n instanceof Zc?(Kc(n),t=n):t=new oh(n);let r,i=Wr(t),o=hn(void 0);try{return e()}finally{Wr(i),hn(o)}}function CD(){return fD()!==void 0||Hc()!=null}function Ov(n){if(!CD())throw new q(-203,!1)}function MF(n){return typeof n=="function"}var ei=0,De=1,fe=2,rn=3,Jn=4,Xn=5,lh=6,uh=7,pn=8,Xs=9,Yr=10,at=11,Xc=12,ET=13,ca=14,pr=15,ea=16,Ws=17,ta=18,Oh=19,TD=20,Ni=21,My=22,dh=23,Fn=24,Ys=25,gn=26,DD=1;var xo=7,hh=8,fh=9,Ln=10;function ki(n){return Array.isArray(n)&&typeof n[DD]=="object"}function ti(n){return Array.isArray(n)&&n[DD]===!0}function Nv(n){return(n.flags&4)!==0}function la(n){return n.componentOffset>-1}function Nh(n){return(n.flags&1)===1}function gr(n){return!!n.template}function ph(n){return(n[fe]&512)!==0}function ua(n){return(n[fe]&256)===256}var Wy=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function SD(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var wr=(()=>{let n=()=>AD;return n.ngInherit=!0,n})();function AD(n){return n.type.prototype.ngOnChanges&&(n.setInput=xF),PF}function PF(){let n=PD(this),e=n?.current;if(e){let t=n.previous;if(t===Mo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function xF(n,e,t,r,i){let o=this.declaredInputs[r],s=PD(n)||RF(n,{previous:Mo,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new Wy(u&&u.currentValue,t,l===Mo),SD(n,e,i,t)}var MD="__ngSimpleChanges__";function PD(n){return n[MD]||null}function RF(n,e){return n[MD]=e}var IT=null;var je=function(n,e=null,t){IT?.(n,e,t)},OF="svg",NF="math";function mr(n){for(;Array.isArray(n);)n=n[ei];return n}function xD(n,e){return mr(e[n])}function Er(n,e){return mr(e[n.index])}function RD(n,e){return n.data[e]}function kv(n,e){return n[e]}function kF(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function yr(n,e){let t=e[n];return ki(t)?t:t[ei]}function Fv(n){return(n[fe]&128)===128}function FF(n){return ti(n[rn])}function na(n,e){return e==null?null:n[e]}function OD(n){n[Ws]=0}function ND(n){n[fe]&1024||(n[fe]|=1024,Fv(n)&&il(n))}function LF(n,e){for(;n>0;)e=e[ca],n--;return e}function kh(n){return!!(n[fe]&9216||n[Fn]?.dirty)}function Ky(n){n[Yr].changeDetectionScheduler?.notify(8),n[fe]&64&&(n[fe]|=1024),kh(n)&&il(n)}function il(n){n[Yr].changeDetectionScheduler?.notify(0);let e=Ro(n);for(;e!==null&&!(e[fe]&8192||(e[fe]|=8192,!Fv(e)));)e=Ro(e)}function kD(n,e){if(ua(n))throw new q(911,!1);n[Ni]===null&&(n[Ni]=[]),n[Ni].push(e)}function VF(n,e){if(n[Ni]===null)return;let t=n[Ni].indexOf(e);t!==-1&&n[Ni].splice(t,1)}function Ro(n){let e=n[rn];return ti(e)?e[rn]:e}function FD(n){return n[uh]??=[]}function LD(n){return n.cleanup??=[]}var ye={lFrame:qD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Qy=!1;function jF(){return ye.lFrame.elementDepthCount}function UF(){ye.lFrame.elementDepthCount++}function BF(){ye.lFrame.elementDepthCount--}function Lv(){return ye.bindingsEnabled}function $F(){return ye.skipHydrationRootTNode!==null}function HF(n){return ye.skipHydrationRootTNode===n}function zF(){ye.skipHydrationRootTNode=null}function Pe(){return ye.lFrame.lView}function Vt(){return ye.lFrame.tView}function ae(n){return ye.lFrame.contextLView=n,n[pn]}function ce(n){return ye.lFrame.contextLView=null,n}function on(){let n=VD();for(;n!==null&&n.type===64;)n=n.parent;return n}function VD(){return ye.lFrame.currentTNode}function qF(){let n=ye.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function jo(n,e){let t=ye.lFrame;t.currentTNode=n,t.isParent=e}function Vv(){return ye.lFrame.isParent}function jD(){ye.lFrame.isParent=!1}function GF(){return ye.lFrame.contextLView}function UD(){return Qy}function bT(n){let e=Qy;return Qy=n,e}function jv(){let n=ye.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function BD(){return ye.lFrame.bindingIndex}function WF(n){return ye.lFrame.bindingIndex=n}function Fh(){return ye.lFrame.bindingIndex++}function Uv(n){let e=ye.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function KF(){return ye.lFrame.inI18n}function QF(n,e){let t=ye.lFrame;t.bindingIndex=t.bindingRootIndex=n,Yy(e)}function YF(){return ye.lFrame.currentDirectiveIndex}function Yy(n){ye.lFrame.currentDirectiveIndex=n}function JF(n){let e=ye.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function $D(n){ye.lFrame.currentQueryIndex=n}function ZF(n){let e=n[De];return e.type===2?e.declTNode:e.type===1?n[Xn]:null}function HD(n,e,t){if(t&me.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&me.Host);)if(i=ZF(o),i===null||(o=o[ca],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ye.lFrame=zD();return r.currentTNode=e,r.lView=n,!0}function Bv(n){let e=zD(),t=n[De];ye.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function zD(){let n=ye.lFrame,e=n===null?null:n.child;return e===null?qD(n):e}function qD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function GD(){let n=ye.lFrame;return ye.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var WD=GD;function $v(){let n=GD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function XF(n){return(ye.lFrame.contextLView=LF(n,ye.lFrame.contextLView))[pn]}function Li(){return ye.lFrame.selectedIndex}function Oo(n){ye.lFrame.selectedIndex=n}function Lh(){let n=ye.lFrame;return RD(n.tView,n.selectedIndex)}function eL(){return ye.lFrame.currentNamespace}var KD=!0;function Vh(){return KD}function jh(n){KD=n}function tL(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=AD(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Hv(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function eh(n,e,t){QD(n,e,3,t)}function th(n,e,t,r){(n[fe]&3)===t&&QD(n,e,t,r)}function Py(n,e){let t=n[fe];(t&3)===e&&(t&=16383,t+=1,n[fe]=t)}function QD(n,e,t,r){let i=r!==void 0?n[Ws]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[Ws]+=65536),(a<o||o==-1)&&(nL(n,t,e,l),n[Ws]=(n[Ws]&4294901760)+l+2),l++}function CT(n,e){je(4,n,e);let t=Ie(null);try{e.call(n)}finally{Ie(t),je(5,n,e)}}function nL(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[fe]>>14<n[Ws]>>16&&(n[fe]&3)===e&&(n[fe]+=16384,CT(a,o)):CT(a,o)}var Js=-1,No=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function rL(n){return(n.flags&8)!==0}function iL(n){return(n.flags&16)!==0}function oL(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];sL(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function YD(n){return n===3||n===4||n===6}function sL(n){return n.charCodeAt(0)===64}function ra(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?TT(n,t,i,null,e[++r]):TT(n,t,i,null,null))}}return n}function TT(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function JD(n){return n!==Js}function gh(n){return n&32767}function aL(n){return n>>16}function mh(n,e){let t=aL(n),r=e;for(;t>0;)r=r[ca],t--;return r}var Jy=!0;function yh(n){let e=Jy;return Jy=n,e}var cL=256,ZD=cL-1,XD=5,lL=0,fr={};function uL(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Yc)&&(r=t[Yc]),r==null&&(r=t[Yc]=lL++);let i=r&ZD,o=1<<i;e.data[n+(i>>XD)]|=o}function vh(n,e){let t=eS(n,e);if(t!==-1)return t;let r=e[De];r.firstCreatePass&&(n.injectorIndex=e.length,xy(r.data,n),xy(e,null),xy(r.blueprint,null));let i=zv(n,e),o=n.injectorIndex;if(JD(i)){let s=gh(i),a=mh(i,e),l=a[De].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function xy(n,e){n.push(0,0,0,0,0,0,0,0,e)}function eS(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function zv(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=oS(i),r===null)return Js;if(t++,i=i[ca],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Js}function Zy(n,e,t){uL(n,e,t)}function dL(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(YD(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function tS(n,e,t){if(t&me.Optional||n!==void 0)return n;Mv(e,"NodeInjector")}function nS(n,e,t,r){if(t&me.Optional&&r===void 0&&(r=null),(t&(me.Self|me.Host))===0){let i=n[Xs],o=hn(void 0);try{return i?i.get(e,r,t&me.Optional):pD(e,r,t&me.Optional)}finally{hn(o)}}return tS(r,e,t)}function rS(n,e,t,r=me.Default,i){if(n!==null){if(e[fe]&2048&&!(r&me.Self)){let s=mL(n,e,t,r,fr);if(s!==fr)return s}let o=iS(n,e,t,r,fr);if(o!==fr)return o}return nS(e,t,r,i)}function iS(n,e,t,r,i){let o=pL(t);if(typeof o=="function"){if(!HD(e,n,r))return r&me.Host?tS(i,t,r):nS(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&me.Optional))Mv(t);else return s}finally{WD()}}else if(typeof o=="number"){let s=null,a=eS(n,e),l=Js,u=r&me.Host?e[pr][Xn]:null;for((a===-1||r&me.SkipSelf)&&(l=a===-1?zv(n,e):e[a+8],l===Js||!ST(r,!1)?a=-1:(s=e[De],a=gh(l),e=mh(l,e)));a!==-1;){let h=e[De];if(DT(o,a,h.data)){let p=hL(a,e,t,s,r,u);if(p!==fr)return p}l=e[a+8],l!==Js&&ST(r,e[De].data[a+8]===u)&&DT(o,a,e)?(s=h,a=gh(l),e=mh(l,e)):a=-1}}return i}function hL(n,e,t,r,i,o){let s=e[De],a=s.data[n+8],l=r==null?la(a)&&Jy:r!=s&&(a.type&3)!==0,u=i&me.Host&&o===a,h=fL(a,s,t,l,u);return h!==null?_h(e,s,h,a,i):fr}function fL(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,u=n.directiveEnd,h=o>>20,p=r?a:a+h,v=i?a+h:u;for(let _=p;_<v;_++){let S=s[_];if(_<l&&t===S||_>=l&&S.type===t)return _}if(i){let _=s[l];if(_&&gr(_)&&_.type===t)return l}return null}function _h(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof No){let a=o;a.resolving&&hD(iF(s[t]));let l=yh(a.canSeeViewProviders);a.resolving=!0;let u,h=a.injectImpl?hn(a.injectImpl):null,p=HD(n,r,me.Default);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&tL(t,s[t],e)}finally{h!==null&&hn(h),yh(l),a.resolving=!1,WD()}}return o}function pL(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Yc)?n[Yc]:void 0;return typeof e=="number"?e>=0?e&ZD:gL:e}function DT(n,e,t){let r=1<<n;return!!(t[e+(n>>XD)]&r)}function ST(n,e){return!(n&me.Self)&&!(n&me.Host&&e)}var So=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return rS(this._tNode,this._lView,e,xh(r),t)}};function gL(){return new So(on(),Pe())}function Cn(n){return nl(()=>{let e=n.prototype.constructor,t=e[ih]||Xy(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[ih]||Xy(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Xy(n){return aD(n)?()=>{let e=Xy(nn(n));return e&&e()}:Ao(n)}function mL(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[fe]&2048&&!ph(s);){let a=iS(o,s,t,r|me.Self,fr);if(a!==fr)return a;let l=o.parent;if(!l){let u=s[TD];if(u){let h=u.get(t,fr,r);if(h!==fr)return h}l=oS(s),s=s[ca]}o=l}return i}function oS(n){let e=n[De],t=e.type;return t===2?e.declTNode:t===1?n[Xn]:null}function qv(n){return dL(on(),n)}function AT(n,e=null,t=null,r){let i=sS(n,e,t,r);return i.resolveInjectorInitializers(),i}function sS(n,e=null,t=null,r,i=new Set){let o=[t||kn,_F(n)];return r=r||(typeof n=="object"?void 0:fn(n)),new Zc(o,e||Rv(),r||null,i)}var At=class n{static THROW_IF_NOT_FOUND=Do;static NULL=new ch;static create(e,t){if(Array.isArray(e))return AT({name:""},t,e,"");{let r=e.name??"";return AT({name:r},e.parent,e.providers,r)}}static \u0275prov=$({token:n,providedIn:"any",factory:()=>W(yD)});static __NG_ELEMENT_ID__=-1};var yL=new G("");yL.__NG_ELEMENT_ID__=n=>{let e=on();if(e===null)throw new q(204,!1);if(e.type&2)return e.value;if(n&me.Optional)return null;throw new q(204,!1)};var aS=!1,Uo=(()=>{class n{static __NG_ELEMENT_ID__=vL;static __NG_ENV_ID__=t=>t}return n})(),ev=class extends Uo{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return ua(t)?(e(),()=>{}):(kD(t,e),()=>VF(t,e))}};function vL(){return new ev(Pe())}var ko=class{},cS=new G("",{providedIn:"root",factory:()=>!1});var lS=new G(""),uS=new G(""),ni=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Ye(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}return n})(),Uh=(()=>{class n{internalPendingTasks=F(ni);scheduler=F(ko);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return E(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}return n})(),tv=class extends ht{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,CD()&&(this.destroyRef=F(Uo,{optional:!0})??void 0,this.pendingTasks=F(ni,{optional:!0})??void 0)}emit(e){let t=Ie(null);try{super.next(e)}finally{Ie(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof et&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},st=tv;function wh(...n){}function dS(n){let e,t;function r(){n=wh;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function MT(n){return queueMicrotask(()=>n()),()=>{n=wh}}var Gv="isAngularZone",Eh=Gv+"_ID",_L=0,Ve=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new st(!1);onMicrotaskEmpty=new st(!1);onStable=new st(!1);onError=new st(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=aS}=e;if(typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,IL(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Gv)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new q(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,wL,wh,wh);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},wL={};function Wv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function EL(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){dS(()=>{n.callbackScheduled=!1,nv(n),n.isCheckStableRunning=!0,Wv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),nv(n)}function IL(n){let e=()=>{EL(n)},t=_L++;n._inner=n._inner.fork({name:"angular",properties:{[Gv]:!0,[Eh]:t,[Eh+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(bL(l))return r.invokeTask(o,s,a,l);try{return PT(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),xT(n)}},onInvoke:(r,i,o,s,a,l,u)=>{try{return PT(n),r.invoke(o,s,a,l,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!CL(l)&&e(),xT(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,nv(n),Wv(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function nv(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function PT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function xT(n){n._nesting--,Wv(n)}var rv=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new st;onMicrotaskEmpty=new st;onStable=new st;onError=new st;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function bL(n){return hS(n,"__ignore_ng_zone__")}function CL(n){return hS(n,"__scheduler_tick__")}function hS(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var vr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},TL=new G("",{providedIn:"root",factory:()=>{let n=F(Ve),e=F(vr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function RT(n,e){return oD(n,e)}function DL(n){return oD(iD,n)}var fS=(RT.required=DL,RT);function SL(){return Bh(on(),Pe())}function Bh(n,e){return new Ir(Er(n,e))}var Ir=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=SL}return n})();function AL(n){return typeof n=="function"&&n[Nn]!==void 0}function Bo(n,e){let t=iy(n,e?.equal),r=t[Nn];return t.set=i=>$c(r,i),t.update=i=>oy(r,i),t.asReadonly=ML.bind(t),t}function ML(){let n=this[Nn];if(n.readonlyFn===void 0){let e=()=>this();e[Nn]=n,n.readonlyFn=e}return n.readonlyFn}function pS(n){return AL(n)&&typeof n.set=="function"}function gS(n){return(n.flags&128)===128}var mS=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(mS||{}),yS=new Map,PL=0;function xL(){return PL++}function RL(n){yS.set(n[Oh],n)}function iv(n){yS.delete(n[Oh])}var OT="__ngContext__";function da(n,e){ki(e)?(n[OT]=e[Oh],RL(e)):n[OT]=e}function vS(n){return wS(n[Xc])}function _S(n){return wS(n[Jn])}function wS(n){for(;n!==null&&!ti(n);)n=n[Jn];return n}var ov;function ES(n){ov=n}function OL(){if(ov!==void 0)return ov;if(typeof document<"u")return document;throw new q(210,!1)}var Kv=new G("",{providedIn:"root",factory:()=>NL}),NL="ng",Qv=new G(""),Vi=new G("",{providedIn:"platform",factory:()=>"unknown"});var Yv=new G("",{providedIn:"root",factory:()=>OL().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var kL="h",FL="b";var IS=!1,LL=new G("",{providedIn:"root",factory:()=>IS});var Jv=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Jv||{}),ha=new G(""),NT=new Set;function ol(n){NT.has(n)||(NT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var bS=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=VL}return n})();function VL(){return new bS(Pe(),on())}var Ks=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Ks||{}),CS=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}return n})(),jL=[Ks.EarlyRead,Ks.Write,Ks.MixedReadWrite,Ks.Read],UL=(()=>{class n{ngZone=F(Ve);scheduler=F(ko);errorHandler=F(vr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){F(ha,{optional:!0})}execute(){let t=this.sequences.size>0;t&&je(16),this.executing=!0;for(let r of jL)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&je(17)}register(t){let{view:r}=t;r!==void 0?((r[Ys]??=[]).push(t),il(r),r[fe]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Jv.AFTER_NEXT_RENDER,t):t()}static \u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}return n})(),sv=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Ys];e&&(this.view[Ys]=e.filter(t=>t!==this))}};function Zv(n,e){!e?.injector&&Ov(Zv);let t=e?.injector??F(At);return ol("NgAfterNextRender"),$L(n,t,e,!0)}function BL(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function $L(n,e,t,r){let i=e.get(CS);i.impl??=e.get(UL);let o=e.get(ha,null,{optional:!0}),s=t?.phase??Ks.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(Uo):null,l=e.get(bS,null,{optional:!0}),u=new sv(i.impl,BL(n,s),l?.view,r,a,o?.snapshot(null));return i.impl.register(u),u}var HL=(n,e,t,r)=>{};function zL(n,e,t,r){HL(n,e,t,r)}var qL=()=>null;function TS(n,e,t=!1){return qL(n,e,t)}function DS(n,e){let t=n.contentQueries;if(t!==null){let r=Ie(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];$D(o),a.contentQueries(2,e[s],s)}}}finally{Ie(r)}}}function av(n,e,t){$D(0);let r=Ie(null);try{e(n,t)}finally{Ie(r)}}function Xv(n,e,t){if(Nv(e)){let r=Ie(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{Ie(r)}}}var _r=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(_r||{});var Jd;function GL(){if(Jd===void 0&&(Jd=null,To.trustedTypes))try{Jd=To.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Jd}function kT(n){return GL()?.createScriptURL(n)||n}var Ih=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nD})`}};function $h(n){return n instanceof Ih?n.changingThisBreaksApplicationSecurity:n}function SS(n,e){let t=WL(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${nD})`)}return t===e}function WL(n){return n instanceof Ih&&n.getTypeName()||null}var KL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function QL(n){return n=String(n),n.match(KL)?n:"unsafe:"+n}var e_=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(e_||{});function ji(n){let e=MS();return e?e.sanitize(e_.URL,n)||"":SS(n,"URL")?$h(n):QL(Qr(n))}function YL(n){let e=MS();if(e)return kT(e.sanitize(e_.RESOURCE_URL,n)||"");if(SS(n,"ResourceURL"))return kT($h(n));throw new q(904,!1)}function JL(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?YL:ji}function AS(n,e,t){return JL(e,t)(n)}function MS(){let n=Pe();return n&&n[Yr].sanitizer}var ZL=/^>|^->|<!--|-->|--!>|<!-$/g,XL=/(<|>)/g,eV="\u200B$1\u200B";function tV(n){return n.replace(ZL,e=>e.replace(XL,eV))}function PS(n){return n instanceof Function?n():n}function nV(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var xS="ng-template";function rV(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&nV(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(t_(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function t_(n){return n.type===4&&n.value!==xS}function iV(n,e,t){let r=n.type===4&&!t?xS:n.value;return e===r}function oV(n,e,t){let r=4,i=n.attrs,o=i!==null?cV(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Yn(r)&&!Yn(l))return!1;if(s&&Yn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!iV(n,l,t)||l===""&&e.length===1){if(Yn(r))return!1;s=!0}}else if(r&8){if(i===null||!rV(n,i,l,t)){if(Yn(r))return!1;s=!0}}else{let u=e[++a],h=sV(l,i,t_(n),t);if(h===-1){if(Yn(r))return!1;s=!0;continue}if(u!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&u!==p){if(Yn(r))return!1;s=!0}}}}return Yn(r)||s}function Yn(n){return(n&1)===0}function sV(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return lV(e,n)}function aV(n,e,t=!1){for(let r=0;r<e.length;r++)if(oV(n,e[r],t))return!0;return!1}function cV(n){for(let e=0;e<n.length;e++){let t=n[e];if(YD(t))return e}return n.length}function lV(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function FT(n,e){return n?":not("+e.trim()+")":e}function uV(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Yn(s)&&(e+=FT(o,i),i=""),r=s,o=o||!Yn(r);t++}return i!==""&&(e+=FT(o,i)),e}function dV(n){return n.map(uV).join(",")}function hV(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Yn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Vn={};function fV(n,e){return n.createText(e)}function pV(n,e,t){n.setValue(e,t)}function gV(n,e){return n.createComment(tV(e))}function RS(n,e,t){return n.createElement(e,t)}function bh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function OS(n,e,t){n.appendChild(e,t)}function LT(n,e,t,r,i){r!==null?bh(n,e,t,r,i):OS(n,e,t)}function mV(n,e,t){n.removeChild(null,e,t)}function yV(n,e,t){n.setAttribute(e,"style",t)}function vV(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function NS(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&oL(n,e,r),i!==null&&vV(n,e,i),o!==null&&yV(n,e,o)}function n_(n,e,t,r,i,o,s,a,l,u,h){let p=gn+r,v=p+i,_=_V(p,v),S=typeof u=="function"?u():u;return _[De]={type:n,blueprint:_,template:t,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:S,incompleteFirstPass:!1,ssrId:h}}function _V(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Vn);return t}function wV(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=n_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function r_(n,e,t,r,i,o,s,a,l,u,h){let p=e.blueprint.slice();return p[ei]=i,p[fe]=r|4|128|8|64|1024,(u!==null||n&&n[fe]&2048)&&(p[fe]|=2048),OD(p),p[rn]=p[ca]=n,p[pn]=t,p[Yr]=s||n&&n[Yr],p[at]=a||n&&n[at],p[Xs]=l||n&&n[Xs]||null,p[Xn]=o,p[Oh]=xL(),p[lh]=h,p[TD]=u,p[pr]=e.type==2?n[pr]:p,p}function EV(n,e,t){let r=Er(e,n),i=wV(t),o=n[Yr].rendererFactory,s=i_(n,r_(n,i,null,kS(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function kS(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function FS(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function i_(n,e){return n[Xc]?n[ET][Jn]=e:n[Xc]=e,n[ET]=e,e}function b(n=1){LS(Vt(),Pe(),Li()+n,!1)}function LS(n,e,t,r){if(!r)if((e[fe]&3)===3){let o=n.preOrderCheckHooks;o!==null&&eh(e,o,t)}else{let o=n.preOrderHooks;o!==null&&th(e,o,0,t)}Oo(t)}var Hh=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Hh||{});function cv(n,e,t,r){let i=Ie(null);try{let[o,s,a]=n.inputs[t],l=null;(s&Hh.SignalBased)!==0&&(l=e[o][Nn]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,l,r,t,o):SD(e,l,o,r)}finally{Ie(i)}}function VS(n,e,t,r,i){let o=Li(),s=r&2;try{Oo(-1),s&&e.length>gn&&LS(n,e,gn,!1),je(s?2:0,i),t(r,i)}finally{Oo(o),je(s?3:1,i)}}function zh(n,e,t){SV(n,e,t),(t.flags&64)===64&&AV(n,e,t)}function o_(n,e,t=Er){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function IV(n,e,t,r){let o=r.get(LL,IS)||t===_r.ShadowDom,s=n.selectRootElement(e,o);return bV(s),s}function bV(n){CV(n)}var CV=()=>null;function TV(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function s_(n,e,t,r,i,o,s,a){if(!a&&c_(e,n,t,r,i)){la(e)&&DV(t,e.index);return}if(e.type&3){let l=Er(e,t);r=TV(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(l,r,i)}else e.type&12}function DV(n,e){let t=yr(e,n);t[fe]&16||(t[fe]|=64)}function SV(n,e,t){let r=t.directiveStart,i=t.directiveEnd;la(t)&&EV(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||vh(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=_h(e,n,s,t);if(da(l,e),o!==null&&RV(e,s-r,l,a,t,o),gr(a)){let u=yr(t.index,e);u[pn]=_h(e,n,s,t)}}}function AV(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=YF();try{Oo(o);for(let a=r;a<i;a++){let l=n.data[a],u=e[a];Yy(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&MV(l,u)}}finally{Oo(-1),Yy(s)}}function MV(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function a_(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];aV(e,o.selectors,!1)&&(r??=[],gr(o)?r.unshift(o):r.push(o))}return r}function PV(n,e,t,r,i,o){let s=Er(n,e);xV(e[at],s,o,n.value,t,r,i)}function xV(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Qr(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function RV(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],u=s[a+1];cv(r,t,l,u)}}function OV(n,e){let t=n[Xs],r=t?t.get(vr,null):null;r&&r.handleError(e)}function c_(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let u=s[l],h=s[l+1],p=e.data[u];cv(p,t[u],h,i),a=!0}if(o)for(let l of o){let u=t[l],h=e.data[l];cv(h,u,r,i),a=!0}return a}function NV(n,e){let t=yr(e,n),r=t[De];kV(r,t);let i=t[ei];i!==null&&t[lh]===null&&(t[lh]=TS(i,t[Xs])),je(18),l_(r,t,t[pn]),je(19,t[pn])}function kV(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function l_(n,e,t){Bv(e);try{let r=n.viewQuery;r!==null&&av(1,r,t);let i=n.template;i!==null&&VS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[ta]?.finishViewCreation(n),n.staticContentQueries&&DS(n,e),n.staticViewQueries&&av(2,n.viewQuery,t);let o=n.components;o!==null&&FV(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[fe]&=-5,$v()}}function FV(n,e){for(let t=0;t<e.length;t++)NV(n,e[t])}function LV(n,e,t,r){let i=Ie(null);try{let o=e.tView,a=n[fe]&4096?4096:16,l=r_(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];l[ea]=u;let h=n[ta];return h!==null&&(l[ta]=h.createEmbeddedView(o)),l_(o,l,t),l}finally{Ie(i)}}function VT(n,e){return!e||e.firstChild===null||gS(n)}var VV;function u_(n,e){return VV(n,e)}var Jr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Jr||{});function jS(n){return(n.flags&32)===32}function Qs(n,e,t,r,i){if(r!=null){let o,s=!1;ti(r)?o=r:ki(r)&&(s=!0,r=r[ei]);let a=mr(r);n===0&&t!==null?i==null?OS(e,t,a):bh(e,t,a,i||null,!0):n===1&&t!==null?bh(e,t,a,i||null,!0):n===2?mV(e,a,s):n===3&&e.destroyNode(a),o!=null&&YV(e,n,o,t,i)}}function jV(n,e){US(n,e),e[ei]=null,e[Xn]=null}function UV(n,e,t,r,i,o){r[ei]=i,r[Xn]=e,Gh(n,r,t,1,i,o)}function US(n,e){e[Yr].changeDetectionScheduler?.notify(9),Gh(n,e,e[at],2,null,null)}function BV(n){let e=n[Xc];if(!e)return Ry(n[De],n);for(;e;){let t=null;if(ki(e))t=e[Xc];else{let r=e[Ln];r&&(t=r)}if(!t){for(;e&&!e[Jn]&&e!==n;)ki(e)&&Ry(e[De],e),e=e[rn];e===null&&(e=n),ki(e)&&Ry(e[De],e),t=e&&e[Jn]}e=t}}function d_(n,e){let t=n[fh],r=t.indexOf(e);t.splice(r,1)}function BS(n,e){if(ua(e))return;let t=e[at];t.destroyNode&&Gh(n,e,t,3,null,null),BV(e)}function Ry(n,e){if(ua(e))return;let t=Ie(null);try{e[fe]&=-129,e[fe]|=256,e[Fn]&&ty(e[Fn]),HV(n,e),$V(n,e),e[De].type===1&&e[at].destroy();let r=e[ea];if(r!==null&&ti(e[rn])){r!==e[rn]&&d_(r,e);let i=e[ta];i!==null&&i.detachView(n)}iv(e)}finally{Ie(t)}}function $V(n,e){let t=n.cleanup,r=e[uh];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[uh]=null);let i=e[Ni];if(i!==null){e[Ni]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[dh];if(o!==null){e[dh]=null;for(let s of o)s.destroy()}}function HV(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof No)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];je(4,a,l);try{l.call(a)}finally{je(5,a,l)}}else{je(4,i,o);try{o.call(i)}finally{je(5,i,o)}}}}}function zV(n,e,t){return qV(n,e.parent,t)}function qV(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[ei];if(la(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===_r.None||i===_r.Emulated)return null}return Er(r,t)}function GV(n,e,t){return KV(n,e,t)}function WV(n,e,t){return n.type&40?Er(n,t):null}var KV=WV,jT;function qh(n,e,t,r){let i=zV(n,r,e),o=e[at],s=r.parent||e[Xn],a=GV(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)LT(o,i,t[l],a,!1);else LT(o,i,t,a,!1);jT!==void 0&&jT(o,r,e,t,i)}function Qc(n,e){if(e!==null){let t=e.type;if(t&3)return Er(e,n);if(t&4)return lv(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Qc(n,r);{let i=n[e.index];return ti(i)?lv(-1,i):mr(i)}}else{if(t&128)return Qc(n,e.next);if(t&32)return u_(e,n)()||mr(n[e.index]);{let r=$S(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ro(n[pr]);return Qc(i,r)}else return Qc(n,e.next)}}}return null}function $S(n,e){if(e!==null){let r=n[pr][Xn],i=e.projection;return r.projection[i]}return null}function lv(n,e){let t=Ln+n+1;if(t<e.length){let r=e[t],i=r[De].firstChild;if(i!==null)return Qc(r,i)}return e[xo]}function h_(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&e===0&&(a&&da(mr(a),r),t.flags|=2),!jS(t))if(l&8)h_(n,e,t.child,r,i,o,!1),Qs(e,n,i,a,o);else if(l&32){let u=u_(t,r),h;for(;h=u();)Qs(e,n,i,h,o);Qs(e,n,i,a,o)}else l&16?QV(n,e,r,t,i,o):Qs(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Gh(n,e,t,r,i,o){h_(t,r,n.firstChild,e,i,o,!1)}function QV(n,e,t,r,i,o){let s=t[pr],l=s[Xn].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let h=l[u];Qs(e,n,i,h,o)}else{let u=l,h=s[rn];gS(r)&&(u.flags|=128),h_(n,e,u,h,i,o,!0)}}function YV(n,e,t,r,i){let o=t[xo],s=mr(t);o!==s&&Qs(e,n,r,o,i);for(let a=Ln;a<t.length;a++){let l=t[a];Gh(l[De],l,n,e,r,o)}}function JV(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Jr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Jr.Important),n.setStyle(t,r,i,o))}}function Ch(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(mr(o)),ti(o)&&ZV(o,r);let s=t.type;if(s&8)Ch(n,e,t.child,r);else if(s&32){let a=u_(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=$S(e,t);if(Array.isArray(a))r.push(...a);else{let l=Ro(e[pr]);Ch(l[De],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function ZV(n,e){for(let t=Ln;t<n.length;t++){let r=n[t],i=r[De].firstChild;i!==null&&Ch(r[De],r,i,e)}n[xo]!==n[ei]&&e.push(n[xo])}function HS(n){if(n[Ys]!==null){for(let e of n[Ys])e.impl.addSequence(e);n[Ys].length=0}}var zS=[];function XV(n){return n[Fn]??e2(n)}function e2(n){let e=zS.pop()??Object.create(n2);return e.lView=n,e}function t2(n){n.lView[Fn]!==n&&(n.lView=null,zS.push(n))}var n2=X(V({},Uc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{il(n.lView)},consumerOnSignalRead(){this.lView[Fn]=this}});function r2(n){let e=n[Fn]??Object.create(i2);return e.lView=n,e}var i2=X(V({},Uc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Ro(n.lView);for(;e&&!qS(e[De]);)e=Ro(e);e&&ND(e)},consumerOnSignalRead(){this.lView[Fn]=this}});function qS(n){return n.type!==2}function GS(n){if(n[dh]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[dh])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[fe]&8192)}}var o2=100;function WS(n,e=!0,t=0){let i=n[Yr].rendererFactory,o=!1;o||i.begin?.();try{s2(n,t)}catch(s){throw e&&OV(n,s),s}finally{o||i.end?.()}}function s2(n,e){let t=UD();try{bT(!0),uv(n,e);let r=0;for(;kh(n);){if(r===o2)throw new q(103,!1);r++,uv(n,1)}}finally{bT(t)}}function a2(n,e,t,r){if(ua(e))return;let i=e[fe],o=!1,s=!1;Bv(e);let a=!0,l=null,u=null;o||(qS(n)?(u=XV(e),l=wd(u)):Qm()===null?(a=!1,u=r2(e),l=wd(u)):e[Fn]&&(ty(e[Fn]),e[Fn]=null));try{OD(e),WF(n.bindingStartIndex),t!==null&&VS(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let _=n.preOrderCheckHooks;_!==null&&eh(e,_,null)}else{let _=n.preOrderHooks;_!==null&&th(e,_,0,null),Py(e,0)}if(s||c2(e),GS(e),KS(e,0),n.contentQueries!==null&&DS(n,e),!o)if(h){let _=n.contentCheckHooks;_!==null&&eh(e,_)}else{let _=n.contentHooks;_!==null&&th(e,_,1),Py(e,1)}u2(n,e);let p=n.components;p!==null&&YS(e,p,0);let v=n.viewQuery;if(v!==null&&av(2,v,r),!o)if(h){let _=n.viewCheckHooks;_!==null&&eh(e,_)}else{let _=n.viewHooks;_!==null&&th(e,_,2),Py(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[My]){for(let _ of e[My])_();e[My]=null}o||(HS(e),e[fe]&=-73)}catch(h){throw o||il(e),h}finally{u!==null&&(Xm(u,l),a&&t2(u)),$v()}}function KS(n,e){for(let t=vS(n);t!==null;t=_S(t))for(let r=Ln;r<t.length;r++){let i=t[r];QS(i,e)}}function c2(n){for(let e=vS(n);e!==null;e=_S(e)){if(!(e[fe]&2))continue;let t=e[fh];for(let r=0;r<t.length;r++){let i=t[r];ND(i)}}}function l2(n,e,t){je(18);let r=yr(e,n);QS(r,t),je(19,r[pn])}function QS(n,e){Fv(n)&&uv(n,e)}function uv(n,e){let r=n[De],i=n[fe],o=n[Fn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ey(o)),s||=!1,o&&(o.dirty=!1),n[fe]&=-9217,s)a2(r,n,r.template,n[pn]);else if(i&8192){GS(n),KS(n,1);let a=r.components;a!==null&&YS(n,a,1),HS(n)}}function YS(n,e,t){for(let r=0;r<e.length;r++)l2(n,e[r],t)}function u2(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Oo(~i);else{let o=i,s=t[++r],a=t[++r];QF(s,o);let l=e[o];je(24,l),a(2,l),je(25,l)}}}finally{Oo(-1)}}function f_(n,e){let t=UD()?64:1088;for(n[Yr].changeDetectionScheduler?.notify(e);n;){n[fe]|=t;let r=Ro(n);if(ph(n)&&!r)return n;n=r}return null}function JS(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function d2(n,e,t,r=!0){let i=e[De];if(h2(i,e,n,t),r){let s=lv(t,n),a=e[at],l=a.parentNode(n[xo]);l!==null&&UV(i,n[Xn],a,e,l,s)}let o=e[lh];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function dv(n,e){if(n.length<=Ln)return;let t=Ln+e,r=n[t];if(r){let i=r[ea];i!==null&&i!==n&&d_(i,r),e>0&&(n[t-1][Jn]=r[Jn]);let o=ah(n,Ln+e);jV(r[De],r);let s=o[ta];s!==null&&s.detachView(o[De]),r[rn]=null,r[Jn]=null,r[fe]&=-129}return r}function h2(n,e,t,r){let i=Ln+r,o=t.length;r>0&&(t[i-1][Jn]=e),r<o-Ln?(e[Jn]=t[i],mD(t,Ln+r,e)):(t.push(e),e[Jn]=null),e[rn]=t;let s=e[ea];s!==null&&t!==s&&ZS(s,e);let a=e[ta];a!==null&&a.insertView(n),Ky(e),e[fe]|=128}function ZS(n,e){let t=n[fh],r=e[rn];if(ki(r))n[fe]|=2;else{let i=r[rn][pr];e[pr]!==i&&(n[fe]|=2)}t===null?n[fh]=[e]:t.push(e)}var el=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[De];return Ch(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[pn]}set context(e){this._lView[pn]=e}get destroyed(){return ua(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[rn];if(ti(e)){let t=e[hh],r=t?t.indexOf(this):-1;r>-1&&(dv(e,r),ah(t,r))}this._attachedToViewContainer=!1}BS(this._lView[De],this._lView)}onDestroy(e){kD(this._lView,e)}markForCheck(){f_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[fe]&=-129}reattach(){Ky(this._lView),this._lView[fe]|=128}detectChanges(){this._lView[fe]|=1024,WS(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ph(this._lView),t=this._lView[ea];t!==null&&!e&&d_(t,this._lView),US(this._lView[De],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=e;let t=ph(this._lView),r=this._lView[ea];r!==null&&!t&&ZS(r,this._lView),Ky(this._lView)}};var Wh=(()=>{class n{static __NG_ELEMENT_ID__=g2}return n})(),f2=Wh,p2=class extends f2{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=LV(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new el(i)}};function g2(){return XS(on(),Pe())}function XS(n,e){return n.type&4?new p2(e,n,Bh(n,e)):null}function Kh(n,e,t,r,i){let o=n.data[e];if(o===null)o=m2(n,e,t,r,i),KF()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=qF();o.injectorIndex=s===null?-1:s.injectorIndex}return jo(o,!0),o}function m2(n,e,t,r,i){let o=VD(),s=Vv(),a=s?o:o&&o.parent,l=n.data[e]=v2(n,a,t,e,r,i);return y2(n,l,o,s),l}function y2(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function v2(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return $F()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var nZ=new RegExp(`^(\\d+)*(${FL}|${kL})*(.*)`);var _2=()=>null;function UT(n,e){return _2(n,e)}var w2=class{},eA=class{},hv=class{resolveComponentFactory(e){throw Error(`No component factory found for ${fn(e)}.`)}},Qh=class{static NULL=new hv},ia=class{},ri=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>E2()}return n})();function E2(){let n=Pe(),e=on(),t=yr(e.index,n);return(ki(t)?t:n)[at]}var I2=(()=>{class n{static \u0275prov=$({token:n,providedIn:"root",factory:()=>null})}return n})();var Oy={},fv=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=xh(r);let i=this.injector.get(e,Oy,r);return i!==Oy||t===Oy?i:this.parentInjector.get(e,t,r)}};function pv(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=pT(i,a);else if(o==2){let l=a,u=e[++s];r=pT(r,l+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function L(n,e=me.Default){let t=Pe();if(t===null)return W(n,e);let r=on();return rS(r,t,nn(n),e)}function tA(){let n="invalid";throw new Error(n)}function p_(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,l=null,u=null,h=C2(s);h===null?a=s:[a,l,u]=h,S2(n,e,t,a,o,l,u)}o!==null&&r!==null&&b2(t,r,o)}function b2(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new q(-301,!1);r.push(e[i],o)}}function C2(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&gr(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,T2(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function T2(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function D2(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function S2(n,e,t,r,i,o,s){let a=r.length,l=!1;for(let v=0;v<a;v++){let _=r[v];!l&&gr(_)&&(l=!0,D2(n,t,v)),Zy(vh(t,e),n,_.type)}O2(t,n.data.length,a);for(let v=0;v<a;v++){let _=r[v];_.providersResolver&&_.providersResolver(_)}let u=!1,h=!1,p=FS(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let v=0;v<a;v++){let _=r[v];if(t.mergedAttrs=ra(t.mergedAttrs,_.hostAttrs),M2(n,t,e,p,_),R2(p,_,i),s!==null&&s.has(_)){let[N,O]=s.get(_);t.directiveToIndex.set(_.type,[p,N+t.directiveStart,O+t.directiveStart])}else(o===null||!o.has(_))&&t.directiveToIndex.set(_.type,p);_.contentQueries!==null&&(t.flags|=4),(_.hostBindings!==null||_.hostAttrs!==null||_.hostVars!==0)&&(t.flags|=64);let S=_.type.prototype;!u&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!h&&(S.ngOnChanges||S.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}A2(n,t,o)}function A2(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))BT(0,e,i,r),BT(1,e,i,r),HT(e,r,!1);else{let o=t.get(i);$T(0,e,o,r),$T(1,e,o,r),HT(e,r,!0)}}}function BT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),nA(e,o)}}function $T(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),nA(e,s)}}function nA(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function HT(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||t_(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let u=i[l];for(let h of u)if(h===e){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let u=o[l];for(let h=0;h<u.length;h+=2)if(u[h]===e){s??=[],s.push(u[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function M2(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Ao(i.type,!0)),s=new No(o,gr(i),L);n.blueprint[r]=s,t[r]=s,P2(n,e,r,FS(n,t,i.hostVars,Vn),i)}function P2(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;x2(s)!=a&&s.push(a),s.push(t,r,o)}}function x2(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function R2(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;gr(e)&&(t[""]=n)}}function O2(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function rA(n,e,t,r,i,o,s,a){let l=e.consts,u=na(l,s),h=Kh(e,n,2,r,u);return o&&p_(e,t,h,na(l,a),i),h.mergedAttrs=ra(h.mergedAttrs,h.attrs),h.attrs!==null&&pv(h,h.attrs,!1),h.mergedAttrs!==null&&pv(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function iA(n,e){Hv(n,e),Nv(e)&&n.queries.elementEnd(e)}var Th=class extends Qh{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Po(e);return new oa(t,this.ngModule)}};function N2(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Hh.SignalBased)!==0};return i&&(o.transform=i),o})}function k2(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function F2(n,e,t){let r=e instanceof St?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new fv(t,r):t}function L2(n){let e=n.get(ia,null);if(e===null)throw new q(407,!1);let t=n.get(I2,null),r=n.get(ko,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function V2(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return RS(e,t,t==="svg"?OF:t==="math"?NF:null)}var oa=class extends eA{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=N2(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=k2(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=dV(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){je(22);let o=Ie(null);try{let s=this.componentDef,a=r?["ng-version","19.2.13"]:hV(this.componentDef.selectors[0]),l=n_(0,null,null,1,0,null,null,null,null,[a],null),u=F2(s,i||this.ngModule,e),h=L2(u),p=h.rendererFactory.createRenderer(null,s),v=r?IV(p,r,s.encapsulation,u):V2(s,p),_=r_(null,l,null,512|kS(s),null,null,h,p,u,null,TS(v,u,!0));_[gn]=v,Bv(_);let S=null;try{let N=rA(gn,l,_,"#host",()=>[this.componentDef],!0,0);v&&(NS(p,v,N),da(v,_)),zh(l,_,N),Xv(l,N,_),iA(l,N),t!==void 0&&j2(N,this.ngContentSelectors,t),S=yr(N.index,_),_[pn]=S[pn],l_(l,_,null)}catch(N){throw S!==null&&iv(S),iv(_),N}finally{je(23),$v()}return new gv(this.componentType,_)}finally{Ie(o)}}},gv=class extends w2{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=RD(t[De],gn),this.location=Bh(this._tNode,t),this.instance=yr(this._tNode.index,t)[pn],this.hostView=this.changeDetectorRef=new el(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=c_(r,i[De],i,e,t);this.previousInputValues.set(e,t);let s=yr(r.index,i);f_(s,1)}get injector(){return new So(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function j2(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var fa=(()=>{class n{static __NG_ELEMENT_ID__=U2}return n})();function U2(){let n=on();return $2(n,Pe())}var B2=fa,oA=class extends B2{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Bh(this._hostTNode,this._hostLView)}get injector(){return new So(this._hostTNode,this._hostLView)}get parentInjector(){let e=zv(this._hostTNode,this._hostLView);if(JD(e)){let t=mh(e,this._hostLView),r=gh(e),i=t[De].data[r+8];return new So(i,t)}else return new So(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=zT(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Ln}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=UT(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,VT(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!MF(e),a;if(s)a=t;else{let S=t||{};a=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let l=s?e:new oa(Po(e)),u=r||this.parentInjector;if(!o&&l.ngModule==null){let N=(s?u:this.parentInjector).get(St,null);N&&(o=N)}let h=Po(l.componentType??{}),p=UT(this._lContainer,h?.id??null),v=p?.firstChild??null,_=l.create(u,i,v,o);return this.insertImpl(_.hostView,a,VT(this._hostTNode,p)),_}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(FF(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[rn],u=new oA(l,l[Xn],l[rn]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return d2(s,i,o,r),e.attachToViewContainerRef(),mD(Ny(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=zT(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=dv(this._lContainer,t);r&&(ah(Ny(this._lContainer),t),BS(r[De],r))}detach(e){let t=this._adjustIndex(e,-1),r=dv(this._lContainer,t);return r&&ah(Ny(this._lContainer),t)!=null?new el(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function zT(n){return n[hh]}function Ny(n){return n[hh]||(n[hh]=[])}function $2(n,e){let t,r=e[n.index];return ti(r)?t=r:(t=JS(r,e,null,n),e[n.index]=t,i_(e,t)),z2(t,e,n,r),new oA(t,n,e)}function H2(n,e){let t=n[at],r=t.createComment(""),i=Er(e,n),o=t.parentNode(i);return bh(t,o,r,t.nextSibling(i),!1),r}var z2=W2,q2=()=>!1;function G2(n,e,t){return q2(n,e,t)}function W2(n,e,t,r){if(n[xo])return;let i;t.type&8?i=mr(r):i=H2(e,t),n[xo]=i}var sa=class{},g_=class{};var mv=class extends sa{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Th(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=_D(e);this._bootstrapComponents=PS(o.bootstrap),this._r3Injector=sS(e,t,[{provide:sa,useValue:this},{provide:Qh,useValue:this.componentFactoryResolver},...r],fn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},yv=class extends g_{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new mv(this.moduleType,e,[])}};var Dh=class extends sa{injector;componentFactoryResolver=new Th(this);instance=null;constructor(e){super();let t=new Zc([...e.providers,{provide:sa,useValue:this},{provide:Qh,useValue:this.componentFactoryResolver}],e.parent||Rv(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function sl(n,e,t=null){return new Dh({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var K2=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=wD(!1,t.type),i=r.length>0?sl([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=$({token:n,providedIn:"environment",factory:()=>new n(W(St))})}return n})();function tt(n){return nl(()=>{let e=sA(n),t=X(V({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===mS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(K2).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||_r.Emulated,styles:n.styles||kn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&ol("NgStandalone"),aA(t);let r=n.dependencies;return t.directiveDefs=qT(r,!1),t.pipeDefs=qT(r,!0),t.id=X2(t),t})}function Q2(n){return Po(n)||yF(n)}function Y2(n){return n!==null}function er(n){return nl(()=>({type:n.type,bootstrap:n.bootstrap||kn,declarations:n.declarations||kn,imports:n.imports||kn,exports:n.exports||kn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function J2(n,e){if(n==null)return Mo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=Hh.None,l=null),t[o]=[r,a,l],e[o]=s}return t}function Z2(n){if(n==null)return Mo;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Oe(n){return nl(()=>{let e=sA(n);return aA(e),e})}function $o(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function sA(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Mo,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||kn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:J2(n.inputs,e),outputs:Z2(n.outputs),debugInfo:null}}function aA(n){n.features?.forEach(e=>e(n))}function qT(n,e){if(!n)return null;let t=e?vF:Q2;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(Y2)}function X2(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ej(n){return Object.getPrototypeOf(n.prototype).constructor}function pt(n){let e=ej(n.type),t=!0,r=[n];for(;e;){let i;if(gr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new q(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=ky(n.inputs),s.declaredInputs=ky(n.declaredInputs),s.outputs=ky(n.outputs);let a=i.hostBindings;a&&oj(n,a);let l=i.viewQuery,u=i.contentQueries;if(l&&rj(n,l),u&&ij(n,u),tj(n,i),Yk(n.outputs,i.outputs),gr(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===pt&&(t=!1)}}e=Object.getPrototypeOf(e)}nj(r)}function tj(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function nj(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ra(i.hostAttrs,t=ra(t,i.hostAttrs))}}function ky(n){return n===Mo?{}:n===kn?[]:n}function rj(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function ij(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function oj(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function cA(n){return aj(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function sj(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function aj(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function lA(n,e,t){return n[e]=t}function Zr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function m_(n,e,t,r){let i=Zr(n,e,t);return Zr(n,e+1,r)||i}function cj(n,e,t,r,i){let o=m_(n,e,t,r);return Zr(n,e+2,i)||o}function lj(n,e,t,r,i,o,s,a,l){let u=e.consts,h=Kh(e,n,4,s||null,a||null);Lv()&&p_(e,t,h,na(u,l),a_),h.mergedAttrs=ra(h.mergedAttrs,h.attrs),Hv(e,h);let p=h.tView=n_(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function uj(n,e,t,r,i,o,s,a,l,u){let h=t+gn,p=e.firstCreatePass?lj(h,e,n,r,i,o,s,a,l):e.data[h];jo(p,!1);let v=dj(e,n,p,t);Vh()&&qh(e,n,v,p),da(v,n);let _=JS(v,n,v,p);return n[h]=_,i_(n,_),G2(_,p,n),Nh(p)&&zh(e,n,p),l!=null&&o_(n,p,u),p}function Q(n,e,t,r,i,o,s,a){let l=Pe(),u=Vt(),h=na(u.consts,o);return uj(l,u,n,e,t,r,i,h,s,a),Q}var dj=hj;function hj(n,e,t,r){return jh(!0),e[at].createComment("")}var uA=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var dA=new G("");var fj=(()=>{class n{static \u0275prov=$({token:n,providedIn:"root",factory:()=>new vv})}return n})(),vv=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function Ui(n){return!!n&&typeof n.then=="function"}function y_(n){return!!n&&typeof n.subscribe=="function"}var hA=new G("");function v_(n){return Xr([{provide:hA,multi:!0,useValue:n}])}var fA=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=F(hA,{optional:!0})??[];injector=F(At);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Mt(this.injector,i);if(Ui(o))t.push(o);else if(y_(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Yh=new G("");function pj(){ry(()=>{throw new q(600,!1)})}function gj(n){return n.isBoundToModule}var mj=10;var Fo=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=F(TL);afterRenderManager=F(CS);zonelessEnabled=F(cS);rootEffectScheduler=F(fj);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ht;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=F(ni).hasPendingTasks.pipe(ue(t=>!t));constructor(){F(ha,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=F(St);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=At.NULL){je(10);let o=t instanceof eA;if(!this._injector.get(fA).done){let _="";throw new q(405,_)}let a;o?a=t:a=this._injector.get(Qh).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let l=gj(a)?void 0:this._injector.get(sa),u=r||a.selector,h=a.create(i,[],u,l),p=h.location.nativeElement,v=h.injector.get(dA,null);return v?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),nh(this.components,h),v?.unregisterApplication(p)}),this._loadComponent(h),je(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){je(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Jv.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new q(101,!1);let t=Ie(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ie(t),this.afterTick.next(),je(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ia,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<mj;)je(14),this.synchronizeOnce(),je(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)yj(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>kh(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;nh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Yh,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>nh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new q(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nh(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function yj(n,e,t,r){if(!t&&!kh(n))return;WS(n,e,t&&!r?0:1)}function Ho(n,e,t,r){let i=Pe(),o=Fh();if(Zr(i,o,e)){let s=Vt(),a=Lh();PV(a,i,n,e,t,r)}return Ho}function pA(n,e,t,r){return Zr(n,Fh(),t)?e+Qr(t)+r:Vn}function vj(n,e,t,r,i,o){let s=BD(),a=m_(n,s,t,i);return Uv(2),a?e+Qr(t)+r+Qr(i)+o:Vn}function _j(n,e,t,r,i,o,s,a){let l=BD(),u=cj(n,l,t,i,s);return Uv(3),u?e+Qr(t)+r+Qr(i)+o+Qr(s)+a:Vn}function Zd(n,e){return n<<17|e<<2}function Lo(n){return n>>17&32767}function wj(n){return(n&2)==2}function Ej(n,e){return n&131071|e<<17}function _v(n){return n|2}function aa(n){return(n&131068)>>2}function Fy(n,e){return n&-131069|e<<2}function Ij(n){return(n&1)===1}function wv(n){return n|1}function bj(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Lo(s),l=aa(s);n[r]=t;let u=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||rl(p,h)>0)&&(u=!0)}else h=t;if(i)if(l!==0){let v=Lo(n[a+1]);n[r+1]=Zd(v,a),v!==0&&(n[v+1]=Fy(n[v+1],r)),n[a+1]=Ej(n[a+1],r)}else n[r+1]=Zd(a,0),a!==0&&(n[a+1]=Fy(n[a+1],r)),a=r;else n[r+1]=Zd(l,0),a===0?a=r:n[l+1]=Fy(n[l+1],r),l=r;u&&(n[r+1]=_v(n[r+1])),GT(n,h,r,!0),GT(n,h,r,!1),Cj(e,h,n,r,o),s=Zd(a,l),o?e.classBindings=s:e.styleBindings=s}function Cj(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&rl(o,e)>=0&&(t[r+1]=wv(t[r+1]))}function GT(n,e,t,r){let i=n[t+1],o=e===null,s=r?Lo(i):aa(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],u=n[s+1];Tj(l,e)&&(a=!0,n[s+1]=r?wv(u):_v(u)),s=r?Lo(u):aa(u)}a&&(n[t+1]=r?_v(i):wv(i))}function Tj(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?rl(n,e)>=0:!1}function k(n,e,t){let r=Pe(),i=Fh();if(Zr(r,i,e)){let o=Vt(),s=Lh();s_(o,s,r,n,e,r[at],t,!1)}return k}function WT(n,e,t,r,i){c_(e,n,t,i?"class":"style",r)}function Bi(n,e,t){return gA(n,e,t,!1),Bi}function gt(n,e){return gA(n,e,null,!0),gt}function gA(n,e,t,r){let i=Pe(),o=Vt(),s=Uv(2);if(o.firstUpdatePass&&Sj(o,n,s,r),e!==Vn&&Zr(i,s,e)){let a=o.data[Li()];Rj(o,a,i,i[at],n,i[s+1]=Oj(e,t),r,s)}}function Dj(n,e){return e>=n.expandoStartIndex}function Sj(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Li()],s=Dj(n,t);Nj(o,r)&&e===null&&!s&&(e=!1),e=Aj(i,o,e,r),bj(i,o,e,t,s,r)}}function Aj(n,e,t,r){let i=JF(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Ly(null,n,e,t,r),t=tl(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Ly(i,n,e,t,r),o===null){let l=Mj(n,e,r);l!==void 0&&Array.isArray(l)&&(l=Ly(null,n,e,l[1],r),l=tl(l,e.attrs,r),Pj(n,e,r,l))}else o=xj(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function Mj(n,e,t){let r=t?e.classBindings:e.styleBindings;if(aa(r)!==0)return n[Lo(r)]}function Pj(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Lo(i)]=r}function xj(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=tl(r,s,t)}return tl(r,e.attrs,t)}function Ly(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=tl(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function tl(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),gF(n,s,t?!0:e[++o]))}return n===void 0?null:n}function Rj(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let l=n.data,u=l[a+1],h=Ij(u)?KT(l,e,t,i,aa(u),s):void 0;if(!Sh(h)){Sh(o)||wj(u)&&(o=KT(l,null,t,i,a,s));let p=xD(Li(),t);JV(r,s,p,i,o)}}function KT(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let l=n[i],u=Array.isArray(l),h=u?l[1]:l,p=h===null,v=t[i+1];v===Vn&&(v=p?kn:void 0);let _=p?Sy(v,r):h===r?v:void 0;if(u&&!Sh(_)&&(_=Sy(l,r)),Sh(_)&&(a=_,s))return a;let S=n[i+1];i=s?Lo(S):aa(S)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=Sy(l,r))}return a}function Sh(n){return n!==void 0}function Oj(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=fn($h(n)))),n}function Nj(n,e){return(n.flags&(e?8:16))!==0}function y(n,e,t,r){let i=Pe(),o=Vt(),s=gn+n,a=i[at],l=o.firstCreatePass?rA(s,o,i,e,a_,Lv(),t,r):o.data[s],u=kj(o,i,l,a,e,n);i[s]=u;let h=Nh(l);return jo(l,!0),NS(a,u,l),!jS(l)&&Vh()&&qh(o,i,u,l),(jF()===0||h)&&da(u,i),UF(),h&&(zh(o,i,l),Xv(o,l,i)),r!==null&&o_(i,l),y}function g(){let n=on();Vv()?jD():(n=n.parent,jo(n,!1));let e=n;HF(e)&&zF(),BF();let t=Vt();return t.firstCreatePass&&iA(t,e),e.classesWithoutHost!=null&&rL(e)&&WT(t,e,Pe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&iL(e)&&WT(t,e,Pe(),e.stylesWithoutHost,!1),g}function ie(n,e,t,r){return y(n,e,t,r),g(),ie}var kj=(n,e,t,r,i,o)=>(jh(!0),RS(r,i,eL()));function Fj(n,e,t,r,i){let o=e.consts,s=na(o,r),a=Kh(e,n,8,"ng-container",s);s!==null&&pv(a,s,!0);let l=na(o,i);return Lv()&&p_(e,t,a,l,a_),a.mergedAttrs=ra(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function __(n,e,t){let r=Pe(),i=Vt(),o=n+gn,s=i.firstCreatePass?Fj(o,i,r,e,t):i.data[o];jo(s,!0);let a=Lj(i,r,s,n);return r[o]=a,Vh()&&qh(i,r,a,s),da(a,r),Nh(s)&&(zh(i,r,s),Xv(i,s,r)),t!=null&&o_(r,s),__}function w_(){let n=on(),e=Vt();return Vv()?jD():(n=n.parent,jo(n,!1)),e.firstCreatePass&&(Hv(e,n),Nv(n)&&e.queries.elementEnd(n)),w_}var Lj=(n,e,t,r)=>(jh(!0),gV(e[at],""));function Ue(){return Pe()}var Co=void 0;function Vj(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var jj=["en",[["a","p"],["AM","PM"],Co],[["AM","PM"],Co,Co],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Co,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Co,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Co,"{1} 'at' {0}",Co],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Vj],Vy={};function Tn(n){let e=Uj(n),t=QT(e);if(t)return t;let r=e.split("-")[0];if(t=QT(r),t)return t;if(r==="en")return jj;throw new q(701,!1)}function QT(n){return n in Vy||(Vy[n]=To.ng&&To.ng.common&&To.ng.common.locales&&To.ng.common.locales[n]),Vy[n]}var nt=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(nt||{});function Uj(n){return n.toLowerCase().replace(/_/g,"-")}var Ah="en-US";var Bj=Ah;function $j(n){typeof n=="string"&&(Bj=n.toLowerCase().replace(/_/g,"-"))}function YT(n,e,t){return function r(i){if(i===Function)return t;let o=la(n)?yr(n.index,e):e;f_(o,5);let s=e[pn],a=JT(e,s,t,i),l=r.__ngNextListenerFn__;for(;l;)a=JT(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function JT(n,e,t,r){let i=Ie(null);try{return je(6,e,t),t(r)!==!1}catch(o){return Hj(n,o),!1}finally{je(7,e,t),Ie(i)}}function Hj(n,e){let t=n[Xs],r=t?t.get(vr,null):null;r&&r.handleError(e)}function ZT(n,e,t,r,i,o){let s=e[t],a=e[De],u=a.data[t].outputs[r],h=s[u],p=a.firstCreatePass?LD(a):null,v=FD(e),_=h.subscribe(o),S=v.length;v.push(o,_),p&&p.push(i,n.index,S,-(S+1))}function K(n,e,t,r){let i=Pe(),o=Vt(),s=on();return mA(o,i,i[at],s,n,e,r),K}function zj(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[uh],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function mA(n,e,t,r,i,o,s){let a=Nh(r),u=n.firstCreatePass?LD(n):null,h=FD(e),p=!0;if(r.type&3||s){let v=Er(r,e),_=s?s(v):v,S=h.length,N=s?H=>s(mr(H[r.index])):r.index,O=null;if(!s&&a&&(O=zj(n,e,i,r.index)),O!==null){let H=O.__ngLastListenerFn__||O;H.__ngNextListenerFn__=o,O.__ngLastListenerFn__=o,p=!1}else{o=YT(r,e,o),zL(e,_,i,o);let H=t.listen(_,i,o);h.push(o,H),u&&u.push(i,N,S,S+1)}}else o=YT(r,e,o);if(p){let v=r.outputs?.[i],_=r.hostDirectiveOutputs?.[i];if(_&&_.length)for(let S=0;S<_.length;S+=2){let N=_[S],O=_[S+1];ZT(r,e,N,O,i,o)}if(v&&v.length)for(let S of v)ZT(r,e,S,i,i,o)}}function z(n=1){return XF(n)}function E_(n,e,t,r,i){let o=Pe(),s=pA(o,e,t,r);if(s!==Vn){let a=Vt(),l=Lh();s_(a,l,o,n,s,o[at],i,!1)}return E_}function yA(n){let e=GF();return kv(e,gn+n)}function w(n,e=""){let t=Pe(),r=Vt(),i=n+gn,o=r.firstCreatePass?Kh(r,i,1,e,null):r.data[i],s=qj(r,t,o,e,n);t[i]=s,Vh()&&qh(r,t,s,o),jo(o,!1)}var qj=(n,e,t,r,i)=>(jh(!0),fV(e[at],r));function te(n){return le("",n,""),te}function le(n,e,t){let r=Pe(),i=pA(r,n,e,t);return i!==Vn&&b_(r,Li(),i),le}function zo(n,e,t,r,i){let o=Pe(),s=vj(o,n,e,t,r,i);return s!==Vn&&b_(o,Li(),s),zo}function I_(n,e,t,r,i,o,s){let a=Pe(),l=_j(a,n,e,t,r,i,o,s);return l!==Vn&&b_(a,Li(),l),I_}function b_(n,e,t){let r=xD(e,n);pV(n[at],r,t)}function ct(n,e,t){pS(e)&&(e=e());let r=Pe(),i=Fh();if(Zr(r,i,e)){let o=Vt(),s=Lh();s_(o,s,r,n,e,r[at],t,!1)}return ct}function mt(n,e){let t=pS(n);return t&&n.set(e),t}function lt(n,e){let t=Pe(),r=Vt(),i=on();return mA(r,t,t[at],i,n,e),lt}function Gj(n,e,t){let r=Vt();if(r.firstCreatePass){let i=gr(n);Ev(t,r.data,r.blueprint,i,!0),Ev(e,r.data,r.blueprint,i,!1)}}function Ev(n,e,t,r,i){if(n=nn(n),Array.isArray(n))for(let o=0;o<n.length;o++)Ev(n[o],e,t,r,i);else{let o=Vt(),s=Pe(),a=on(),l=Zs(n)?n:nn(n.provide),u=bD(n),h=a.providerIndexes&1048575,p=a.directiveStart,v=a.providerIndexes>>20;if(Zs(n)||!n.multi){let _=new No(u,i,L),S=Uy(l,e,i?h:h+v,p);S===-1?(Zy(vh(a,s),o,l),jy(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(_),s.push(_)):(t[S]=_,s[S]=_)}else{let _=Uy(l,e,h+v,p),S=Uy(l,e,h,h+v),N=_>=0&&t[_],O=S>=0&&t[S];if(i&&!O||!i&&!N){Zy(vh(a,s),o,l);let H=Qj(i?Kj:Wj,t.length,i,r,u);!i&&O&&(t[S].providerFactory=H),jy(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(H),s.push(H)}else{let H=vA(t[i?S:_],u,!i&&r);jy(o,n,_>-1?_:S,H)}!i&&r&&O&&t[S].componentProviders++}}}function jy(n,e,t,r){let i=Zs(e),o=bF(e);if(i||o){let l=(o?nn(e.useClass):e).prototype.ngOnDestroy;if(l){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=u.indexOf(t);h===-1?u.push(t,[r,l]):u[h+1].push(r,l)}else u.push(t,l)}}}function vA(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Uy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Wj(n,e,t,r,i){return Iv(this.multi,[])}function Kj(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=_h(r,r[De],this.providerFactory.index,i);s=l.slice(0,a),Iv(o,s);for(let u=a;u<l.length;u++)s.push(l[u])}else s=[],Iv(o,s);return s}function Iv(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function Qj(n,e,t,r,i){let o=new No(n,t,L);return o.multi=[],o.index=e,o.componentProviders=0,vA(o,i,r&&!t),o}function jt(n,e=[]){return t=>{t.providersResolver=(r,i)=>Gj(r,i?i(n):n,e)}}function _A(n,e,t,r){return EA(Pe(),jv(),n,e,t,r)}function wA(n,e){let t=n[e];return t===Vn?void 0:t}function EA(n,e,t,r,i,o){let s=e+t;return Zr(n,s,i)?lA(n,s+1,o?r.call(o,i):r(i)):wA(n,s+1)}function Yj(n,e,t,r,i,o,s){let a=e+t;return m_(n,a,i,o)?lA(n,a+2,s?r.call(s,i,o):r(i,o)):wA(n,a+2)}function Je(n,e){let t=Vt(),r,i=n+gn;t.firstCreatePass?(r=Jj(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Ao(r.type,!0)),s,a=hn(L);try{let l=yh(!1),u=o();return yh(l),kF(t,Pe(),i,u),u}finally{hn(a)}}function Jj(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Ut(n,e,t){let r=n+gn,i=Pe(),o=kv(i,r);return IA(i,r)?EA(i,jv(),e,o.transform,t,o):o.transform(t)}function qo(n,e,t,r){let i=n+gn,o=Pe(),s=kv(o,i);return IA(o,i)?Yj(o,jv(),e,s.transform,t,r,s):s.transform(t,r)}function IA(n,e){return n[De].data[e].pure}function bA(n,e){return XS(n,e)}var Vo=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},CA=new Vo("19.2.13"),bv=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},TA=(()=>{class n{compileModuleSync(t){return new yv(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=_D(t),o=PS(i.declarations).reduce((s,a)=>{let l=Po(a);return l&&s.push(new oa(l)),s},[]);return new bv(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Zj=(()=>{class n{zone=F(Ve);changeDetectionScheduler=F(ko);applicationRef=F(Fo);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Xj({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ve(X(V({},eU()),{scheduleInRootZone:t})),[{provide:Ve,useFactory:n},{provide:Jc,multi:!0,useFactory:()=>{let r=F(Zj,{optional:!0});return()=>r.initialize()}},{provide:Jc,multi:!0,useFactory:()=>{let r=F(tU);return()=>{r.initialize()}}},e===!0?{provide:lS,useValue:!0}:[],{provide:uS,useValue:t??aS}]}function eU(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var tU=(()=>{class n{subscription=new et;initialized=!1;zone=F(Ve);pendingTasks=F(ni);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ve.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ve.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var nU=(()=>{class n{appRef=F(Fo);taskService=F(ni);ngZone=F(Ve);zonelessEnabled=F(cS);tracing=F(ha,{optional:!0});disableScheduling=F(lS,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new et;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Eh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(F(uS,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof rv||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?MT:dS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Eh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,MT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rU(){return typeof $localize<"u"&&$localize.locale||Ah}var al=new G("",{providedIn:"root",factory:()=>F(al,me.Optional|me.SkipSelf)||rU()});var Cv=new G(""),iU=new G("");function Wc(n){return!n.moduleRef}function oU(n){let e=Wc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ve);return t.run(()=>{Wc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(vr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Wc(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Cv);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Cv);s.add(o),n.moduleRef.onDestroy(()=>{nh(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return aU(r,t,()=>{let o=e.get(fA);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(al,Ah);if($j(s||Ah),!e.get(iU,!0))return Wc(n)?e.get(Fo):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Wc(n)){let l=e.get(Fo);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return sU(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function sU(n,e){let t=n.injector.get(Fo);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new q(-403,!1);e.push(n)}function aU(n,e,t){try{let r=t();return Ui(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var rh=null;function cU(n=[],e){return At.create({name:e,providers:[{provide:Rh,useValue:"platform"},{provide:Cv,useValue:new Set([()=>rh=null])},...n]})}function lU(n=[]){if(rh)return rh;let e=cU(n);return rh=e,pj(),uU(e),e}function uU(n){let e=n.get(Qv,null);Mt(n,()=>{e?.forEach(t=>t())})}function C_(){return!1}var $i=(()=>{class n{static __NG_ELEMENT_ID__=dU}return n})();function dU(n){return hU(on(),Pe(),(n&16)===16)}function hU(n,e,t){if(la(n)&&!t){let r=yr(n.index,e);return new el(r,r)}else if(n.type&175){let r=e[pr];return new el(r,e)}return null}var Tv=class{constructor(){}supports(e){return cA(e)}create(e){return new Dv(e)}},fU=(n,e)=>e,Dv=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||fU}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<XT(r,i,o)?t:r,a=XT(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,h=l-i;if(u!=h){for(let v=0;v<u;v++){let _=v<o.length?o[v]:o[v]=0,S=_+v;h<=S&&S<u&&(o[v]=_+1)}let p=s.previousIndex;o[p]=h-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!cA(e))throw new q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,sj(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Sv(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Mh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Mh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Sv=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Av=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Mh=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Av,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function XT(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function eD(){return new T_([new Tv])}var T_=(()=>{class n{factories;static \u0275prov=$({token:n,providedIn:"root",factory:eD});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||eD()),deps:[[n,new fF,new Fi]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new q(901,!1)}}return n})();function DA(n){je(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=lU(r),o=[Xj({}),{provide:ko,useExisting:nU},...t||[]],s=new Dh({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return oU({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{je(9)}}function Hi(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Dn(n){return sy(n)}function Go(n,e){return ny(n,e?.equal)}var tD=class{[Nn];constructor(e){this[Nn]=e}destroy(){this[Nn].destroy()}};function SA(n){let e=Po(n);if(!e)return null;let t=new oa(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var yt=new G("");var PA=null;function jn(){return PA}function D_(n){PA??=n}var cl=class{},ll=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>F(xA),providedIn:"platform"})}return n})(),S_=new G(""),xA=(()=>{class n extends ll{_location;_history;_doc=F(yt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return jn().getBaseHref(this._doc)}onPopState(t){let r=jn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=jn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Jh(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function AA(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function tr(n){return n&&n[0]!=="?"?`?${n}`:n}var Un=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>F(Xh),providedIn:"root"})}return n})(),Zh=new G(""),Xh=(()=>{class n extends Un{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??F(yt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Jh(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+tr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+tr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+tr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(W(ll),W(Zh,8))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zi=(()=>{class n{_subject=new ht;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=mU(AA(MA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+tr(r))}normalize(t){return n.stripTrailingSlash(gU(this._basePath,MA(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=tr;static joinWithSlash=Jh;static stripTrailingSlash=AA;static \u0275fac=function(r){return new(r||n)(W(Un))};static \u0275prov=$({token:n,factory:()=>pU(),providedIn:"root"})}return n})();function pU(){return new zi(W(Un))}function gU(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function MA(n){return n.replace(/\/index.html$/,"")}function mU(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var uf=(()=>{class n extends Un{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Jh(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+tr(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+tr(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(W(ll),W(Zh,8))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();var k_=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(k_||{});var Kt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Kt||{}),$e=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}($e||{}),mn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(mn||{}),yn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function FA(n){return Tn(n)[nt.LocaleId]}function LA(n,e,t){let r=Tn(n),i=[r[nt.DayPeriodsFormat],r[nt.DayPeriodsStandalone]],o=Bn(i,e);return Bn(o,t)}function VA(n,e,t){let r=Tn(n),i=[r[nt.DaysFormat],r[nt.DaysStandalone]],o=Bn(i,e);return Bn(o,t)}function jA(n,e,t){let r=Tn(n),i=[r[nt.MonthsFormat],r[nt.MonthsStandalone]],o=Bn(i,e);return Bn(o,t)}function UA(n,e){let r=Tn(n)[nt.Eras];return Bn(r,e)}function ul(n,e){let t=Tn(n);return Bn(t[nt.DateFormat],e)}function dl(n,e){let t=Tn(n);return Bn(t[nt.TimeFormat],e)}function hl(n,e){let r=Tn(n)[nt.DateTimeFormat];return Bn(r,e)}function br(n,e){let t=Tn(n),r=t[nt.NumberSymbols][e];if(typeof r>"u"){if(e===yn.CurrencyDecimal)return t[nt.NumberSymbols][yn.Decimal];if(e===yn.CurrencyGroup)return t[nt.NumberSymbols][yn.Group]}return r}function BA(n,e){return Tn(n)[nt.NumberFormats][e]}function $A(n){if(!n[nt.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[nt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function HA(n){let e=Tn(n);return $A(e),(e[nt.ExtraData][2]||[]).map(r=>typeof r=="string"?A_(r):[A_(r[0]),A_(r[1])])}function zA(n,e,t){let r=Tn(n);$A(r);let i=[r[nt.ExtraData][0],r[nt.ExtraData][1]],o=Bn(i,e)||[];return Bn(o,t)||[]}function Bn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function A_(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var yU=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ef={},vU=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function qA(n,e,t,r){let i=SU(n);e=ii(t,e)||e;let s=[],a;for(;e;)if(a=vU.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let l=i.getTimezoneOffset();r&&(l=WA(r,l),i=DU(i,r));let u="";return s.forEach(h=>{let p=CU(h);u+=p?p(i,t,l):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function sf(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function ii(n,e){let t=FA(n);if(ef[t]??={},ef[t][e])return ef[t][e];let r="";switch(e){case"shortDate":r=ul(n,mn.Short);break;case"mediumDate":r=ul(n,mn.Medium);break;case"longDate":r=ul(n,mn.Long);break;case"fullDate":r=ul(n,mn.Full);break;case"shortTime":r=dl(n,mn.Short);break;case"mediumTime":r=dl(n,mn.Medium);break;case"longTime":r=dl(n,mn.Long);break;case"fullTime":r=dl(n,mn.Full);break;case"short":let i=ii(n,"shortTime"),o=ii(n,"shortDate");r=tf(hl(n,mn.Short),[i,o]);break;case"medium":let s=ii(n,"mediumTime"),a=ii(n,"mediumDate");r=tf(hl(n,mn.Medium),[s,a]);break;case"long":let l=ii(n,"longTime"),u=ii(n,"longDate");r=tf(hl(n,mn.Long),[l,u]);break;case"full":let h=ii(n,"fullTime"),p=ii(n,"fullDate");r=tf(hl(n,mn.Full),[h,p]);break}return r&&(ef[t][e]=r),r}function tf(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function nr(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function _U(n,e){return nr(n,3).substring(0,e)}function vt(n,e,t=0,r=!1,i=!1){return function(o,s){let a=wU(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return _U(a,e);let l=br(s,yn.MinusSign);return nr(a,e,l,r,i)}}function wU(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Ge(n,e,t=Kt.Format,r=!1){return function(i,o){return EU(i,o,n,e,t,r)}}function EU(n,e,t,r,i,o){switch(t){case 2:return jA(e,i,r)[n.getMonth()];case 1:return VA(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let u=HA(e),h=zA(e,i,r),p=u.findIndex(v=>{if(Array.isArray(v)){let[_,S]=v,N=s>=_.hours&&a>=_.minutes,O=s<S.hours||s===S.hours&&a<S.minutes;if(_.hours<S.hours){if(N&&O)return!0}else if(N||O)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return LA(e,i,r)[s<12?0:1];case 3:return UA(e,r)[n.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function nf(n){return function(e,t,r){let i=-1*r,o=br(t,yn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+nr(s,2,o)+nr(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+nr(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+nr(s,2,o)+":"+nr(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+nr(s,2,o)+":"+nr(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var IU=0,of=4;function bU(n){let e=sf(n,IU,1).getDay();return sf(n,0,1+(e<=of?of:of+7)-e)}function GA(n){let e=n.getDay(),t=e===0?-3:of-e;return sf(n.getFullYear(),n.getMonth(),n.getDate()+t)}function M_(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=GA(t),s=bU(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return nr(i,n,br(r,yn.MinusSign))}}function rf(n,e=!1){return function(t,r){let o=GA(t).getFullYear();return nr(o,n,br(r,yn.MinusSign),e)}}var P_={};function CU(n){if(P_[n])return P_[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ge(3,$e.Abbreviated);break;case"GGGG":e=Ge(3,$e.Wide);break;case"GGGGG":e=Ge(3,$e.Narrow);break;case"y":e=vt(0,1,0,!1,!0);break;case"yy":e=vt(0,2,0,!0,!0);break;case"yyy":e=vt(0,3,0,!1,!0);break;case"yyyy":e=vt(0,4,0,!1,!0);break;case"Y":e=rf(1);break;case"YY":e=rf(2,!0);break;case"YYY":e=rf(3);break;case"YYYY":e=rf(4);break;case"M":case"L":e=vt(1,1,1);break;case"MM":case"LL":e=vt(1,2,1);break;case"MMM":e=Ge(2,$e.Abbreviated);break;case"MMMM":e=Ge(2,$e.Wide);break;case"MMMMM":e=Ge(2,$e.Narrow);break;case"LLL":e=Ge(2,$e.Abbreviated,Kt.Standalone);break;case"LLLL":e=Ge(2,$e.Wide,Kt.Standalone);break;case"LLLLL":e=Ge(2,$e.Narrow,Kt.Standalone);break;case"w":e=M_(1);break;case"ww":e=M_(2);break;case"W":e=M_(1,!0);break;case"d":e=vt(2,1);break;case"dd":e=vt(2,2);break;case"c":case"cc":e=vt(7,1);break;case"ccc":e=Ge(1,$e.Abbreviated,Kt.Standalone);break;case"cccc":e=Ge(1,$e.Wide,Kt.Standalone);break;case"ccccc":e=Ge(1,$e.Narrow,Kt.Standalone);break;case"cccccc":e=Ge(1,$e.Short,Kt.Standalone);break;case"E":case"EE":case"EEE":e=Ge(1,$e.Abbreviated);break;case"EEEE":e=Ge(1,$e.Wide);break;case"EEEEE":e=Ge(1,$e.Narrow);break;case"EEEEEE":e=Ge(1,$e.Short);break;case"a":case"aa":case"aaa":e=Ge(0,$e.Abbreviated);break;case"aaaa":e=Ge(0,$e.Wide);break;case"aaaaa":e=Ge(0,$e.Narrow);break;case"b":case"bb":case"bbb":e=Ge(0,$e.Abbreviated,Kt.Standalone,!0);break;case"bbbb":e=Ge(0,$e.Wide,Kt.Standalone,!0);break;case"bbbbb":e=Ge(0,$e.Narrow,Kt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ge(0,$e.Abbreviated,Kt.Format,!0);break;case"BBBB":e=Ge(0,$e.Wide,Kt.Format,!0);break;case"BBBBB":e=Ge(0,$e.Narrow,Kt.Format,!0);break;case"h":e=vt(3,1,-12);break;case"hh":e=vt(3,2,-12);break;case"H":e=vt(3,1);break;case"HH":e=vt(3,2);break;case"m":e=vt(4,1);break;case"mm":e=vt(4,2);break;case"s":e=vt(5,1);break;case"ss":e=vt(5,2);break;case"S":e=vt(6,1);break;case"SS":e=vt(6,2);break;case"SSS":e=vt(6,3);break;case"Z":case"ZZ":case"ZZZ":e=nf(0);break;case"ZZZZZ":e=nf(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=nf(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=nf(2);break;default:return null}return P_[n]=e,e}function WA(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function TU(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function DU(n,e,t){let i=n.getTimezoneOffset(),o=WA(e,i);return TU(n,-1*(o-i))}function SU(n){if(RA(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return sf(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(yU))return AU(r)}let e=new Date(n);if(!RA(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function AU(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,l=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,l,u),e}function RA(n){return n instanceof Date&&!isNaN(n.valueOf())}var MU=/^(\d+)?\.((\d+)(-(\d+))?)?$/,OA=22,af=".",fl="0",PU=";",xU=",",x_="#";function RU(n,e,t,r,i,o,s=!1){let a="",l=!1;if(!isFinite(n))a=br(t,yn.Infinity);else{let u=kU(n);s&&(u=NU(u));let h=e.minInt,p=e.minFrac,v=e.maxFrac;if(o){let ee=o.match(MU);if(ee===null)throw new Error(`${o} is not a valid digit info`);let J=ee[1],Te=ee[3],dt=ee[5];J!=null&&(h=R_(J)),Te!=null&&(p=R_(Te)),dt!=null?v=R_(dt):Te!=null&&p>v&&(v=p)}FU(u,p,v);let _=u.digits,S=u.integerLen,N=u.exponent,O=[];for(l=_.every(ee=>!ee);S<h;S++)_.unshift(0);for(;S<0;S++)_.unshift(0);S>0?O=_.splice(S,_.length):(O=_,_=[0]);let H=[];for(_.length>=e.lgSize&&H.unshift(_.splice(-e.lgSize,_.length).join(""));_.length>e.gSize;)H.unshift(_.splice(-e.gSize,_.length).join(""));_.length&&H.unshift(_.join("")),a=H.join(br(t,r)),O.length&&(a+=br(t,i)+O.join("")),N&&(a+=br(t,yn.Exponential)+"+"+N)}return n<0&&!l?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function KA(n,e,t){let r=BA(e,k_.Decimal),i=OU(r,br(e,yn.MinusSign));return RU(n,i,e,yn.Group,yn.Decimal,t)}function OU(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(PU),i=r[0],o=r[1],s=i.indexOf(af)!==-1?i.split(af):[i.substring(0,i.lastIndexOf(fl)+1),i.substring(i.lastIndexOf(fl)+1)],a=s[0],l=s[1]||"";t.posPre=a.substring(0,a.indexOf(x_));for(let h=0;h<l.length;h++){let p=l.charAt(h);p===fl?t.minFrac=t.maxFrac=h+1:p===x_?t.maxFrac=h+1:t.posSuf+=p}let u=a.split(xU);if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){let h=i.length-t.posPre.length-t.posSuf.length,p=o.indexOf(x_);t.negPre=o.substring(0,p).replace(/'/g,""),t.negSuf=o.slice(p+h).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function NU(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function kU(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(af))>-1&&(e=e.replace(af,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===fl;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===fl;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>OA&&(r=r.splice(0,OA-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function FU(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=o!==0,u=e+n.integerLen,h=r.reduceRight(function(p,v,_,S){return v=v+p,S[_]=v<10?v:v-10,l&&(S[_]===0&&_>=u?S.pop():l=!1),v>=10?1:0},0);h&&(r.unshift(h),n.integerLen++)}function R_(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}var cf=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Pt=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new cf(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),NA(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);NA(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(L(fa),L(Wh),L(T_))};static \u0275dir=Oe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function NA(n,e){n.context.$implicit=e.item}var ut=(()=>{class n{_viewContainer;_context=new lf;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){kA(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){kA(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(L(fa),L(Wh))};static \u0275dir=Oe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),lf=class{$implicit=null;ngIf=null};function kA(n,e){if(n&&!n.createEmbeddedView)throw new q(2020,!1)}function df(n,e){return new q(2100,!1)}var O_=class{createSubscription(e,t){return Dn(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){Dn(()=>e.unsubscribe())}},N_=class{createSubscription(e,t){return e.then(r=>t?.(r),r=>{throw r}),{unsubscribe:()=>{t=null}}}dispose(e){e.unsubscribe()}},LU=new N_,VU=new O_,F_=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Ui(t))return LU;if(y_(t))return VU;throw df(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(L($i,16))};static \u0275pipe=$o({name:"async",type:n,pure:!1})}return n})();var Wo=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw df(n,t);return t.toUpperCase()}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=$o({name:"uppercase",type:n,pure:!0})}return n})(),jU="mediumDate",QA=new G(""),YA=new G(""),qi=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??jU,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return qA(t,s,o||this.locale,a)}catch(s){throw df(n,s.message)}}static \u0275fac=function(r){return new(r||n)(L(al,16),L(QA,24),L(YA,24))};static \u0275pipe=$o({name:"date",type:n,pure:!0})}return n})();var Cr=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!UU(t))return null;i||=this._locale;try{let o=BU(t);return KA(o,i,r)}catch(o){throw df(n,o.message)}}static \u0275fac=function(r){return new(r||n)(L(al,16))};static \u0275pipe=$o({name:"number",type:n,pure:!0})}return n})();function UU(n){return!(n==null||n===""||n!==n)}function BU(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var rt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=er({type:n});static \u0275inj=Zn({})}return n})();function pl(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var L_="browser",JA="server";function hf(n){return n===JA}var Ko=class{};var ZA=(()=>{class n{static \u0275prov=$({token:n,providedIn:"root",factory:()=>new V_(F(yt),window)})}return n})(),V_=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=$U(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function $U(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var gf=new G(""),$_=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new q(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(W(gf),W(Ve))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),gl=class{_doc;constructor(e){this._doc=e}manager},ff="ng-app-id";function XA(n){for(let e of n)e.remove()}function eM(n,e){let t=e.createElement("style");return t.textContent=n,t}function HU(n,e,t,r){let i=n.head?.querySelectorAll(`style[${ff}="${e}"],link[${ff}="${e}"]`);if(i)for(let o of i)o.removeAttribute(ff),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function U_(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var H_=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=hf(o),HU(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,eM);r?.forEach(i=>this.addUsage(i,this.external,U_))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(XA(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])XA(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,eM(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,U_(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(ff,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(W(yt),W(Kv),W(Yv,8),W(Vi))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),j_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},z_=/%COMP%/g;var nM="%COMP%",zU=`_nghost-${nM}`,qU=`_ngcontent-${nM}`,GU=!0,WU=new G("",{providedIn:"root",factory:()=>GU});function KU(n){return qU.replace(z_,n)}function QU(n){return zU.replace(z_,n)}function rM(n,e){return e.map(t=>t.replace(z_,n))}var q_=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,l,u=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.tracingService=h,this.platformIsServer=hf(a),this.defaultRenderer=new ml(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===_r.ShadowDom&&(r=X(V({},r),{encapsulation:_r.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof pf?i.applyToHost(t):i instanceof yl&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,v=this.tracingService;switch(r.encapsulation){case _r.Emulated:o=new pf(l,u,r,this.appId,h,s,a,p,v);break;case _r.ShadowDom:return new B_(l,u,t,r,s,a,this.nonce,p,v);default:o=new yl(l,u,r,h,s,a,p,v);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(W($_),W(H_),W(Kv),W(WU),W(yt),W(Vi),W(Ve),W(Yv),W(ha,8))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),ml=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(j_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(tM(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(tM(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new q(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=j_[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=j_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Jr.DashCase|Jr.Important)?e.style.setProperty(t,r,i&Jr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Jr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=jn().getGlobalEventTarget(this.doc,e),!e))throw new q(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function tM(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var B_=class extends ml{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,l,u){super(e,o,s,l,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=rM(i.id,h);for(let v of h){let _=document.createElement("style");a&&_.setAttribute("nonce",a),_.textContent=v,this.shadowRoot.appendChild(_)}let p=i.getExternalStyles?.();if(p)for(let v of p){let _=U_(v,o);a&&_.setAttribute("nonce",a),this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},yl=class extends ml{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,l,u){super(e,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=u?rM(u,h):h,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},pf=class extends yl{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,l,u){let h=i+"-"+r.id;super(e,t,r,o,s,a,l,u,h),this.contentAttr=KU(h),this.hostAttr=QU(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var mf=class n extends cl{supportsDOMEvents=!0;static makeCurrent(){D_(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=YU();return t==null?null:JU(t)}resetBaseElement(){vl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return pl(document.cookie,e)}},vl=null;function YU(){return vl=vl||document.head.querySelector("base"),vl?vl.getAttribute("href"):null}function JU(n){return new URL(n,document.baseURI).pathname}var ZU=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),oM=(()=>{class n extends gl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(W(yt))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),iM=["alt","control","meta","shift"],XU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eB={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},sM=(()=>{class n extends gl{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>jn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),iM.forEach(u=>{let h=r.indexOf(u);h>-1&&(r.splice(h,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=XU[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),iM.forEach(s=>{if(s!==i){let a=eB[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(W(yt))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();function G_(n,e){return DA(V({rootComponent:n},tB(e)))}function tB(n){return{appProviders:[...sB,...n?.providers??[]],platformProviders:oB}}function nB(){mf.makeCurrent()}function rB(){return new vr}function iB(){return ES(document),document}var oB=[{provide:Vi,useValue:L_},{provide:Qv,useValue:nB,multi:!0},{provide:yt,useFactory:iB}];var sB=[{provide:Rh,useValue:"root"},{provide:vr,useFactory:rB},{provide:gf,useClass:oM,multi:!0,deps:[yt]},{provide:gf,useClass:sM,multi:!0,deps:[yt]},q_,H_,$_,{provide:ia,useExisting:q_},{provide:Ko,useClass:ZU},[]];var ga=class{},_l=class{},Qt=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var vf=class{encodeKey(e){return aM(e)}encodeValue(e){return aM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function aB(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var cB=/%(\d[a-f0-9])/gi,lB={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function aM(n){return encodeURIComponent(n).replace(cB,(e,t)=>lB[t]??e)}function yf(n){return`${n}`}var oi=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new vf,e.fromString){if(e.fromObject)throw new q(2805,!1);this.map=aB(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(yf):[yf(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(yf(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(yf(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var _f=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function uB(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function cM(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function lM(n){return typeof Blob<"u"&&n instanceof Blob}function uM(n){return typeof FormData<"u"&&n instanceof FormData}function dB(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var dM="Content-Type",hM="Accept",fM="X-Request-URL",pM="text/plain",gM="application/json",hB=`${gM}, ${pM}, */*`,pa=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(uB(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Qt,this.context??=new _f,!this.params)this.params=new oi,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||cM(this.body)||lM(this.body)||uM(this.body)||dB(this.body)?this.body:this.body instanceof oi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||uM(this.body)?null:lM(this.body)?this.body.type||null:cM(this.body)?null:typeof this.body=="string"?pM:this.body instanceof oi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?gM:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,u=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((v,_)=>v.set(_,e.setHeaders[_]),u)),e.setParams&&(h=Object.keys(e.setParams).reduce((v,_)=>v.set(_,e.setParams[_]),h)),new n(t,r,s,{params:h,headers:u,context:p,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},Qo=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Qo||{}),ma=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Qt,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},wf=class n extends ma{constructor(e={}){super(e)}type=Qo.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},wl=class n extends ma{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Qo.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},El=class extends ma{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},fB=200,pB=204;function W_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var $n=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof pa)o=t;else{let l;i.headers instanceof Qt?l=i.headers:l=new Qt(i.headers);let u;i.params&&(i.params instanceof oi?u=i.params:u=new oi({fromObject:i.params})),o=new pa(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=Z(o).pipe(hr(l=>this.handler.handle(l)));if(t instanceof pa||i.observe==="events")return s;let a=s.pipe(kt(l=>l instanceof wl));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ue(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new q(2806,!1);return l.body}));case"blob":return a.pipe(ue(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new q(2807,!1);return l.body}));case"text":return a.pipe(ue(l=>{if(l.body!==null&&typeof l.body!="string")throw new q(2808,!1);return l.body}));case"json":default:return a.pipe(ue(l=>l.body))}case"response":return a;default:throw new q(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new oi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,W_(i,r))}post(t,r,i={}){return this.request("POST",t,W_(i,r))}put(t,r,i={}){return this.request("PUT",t,W_(i,r))}static \u0275fac=function(r){return new(r||n)(W(ga))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();var gB=new G("");function mB(n,e){return e(n)}function yB(n,e,t){return(r,i)=>Mt(t,()=>e(r,o=>n(o,i)))}var Q_=new G(""),mM=new G(""),yM=new G("",{providedIn:"root",factory:()=>!0});var Ef=(()=>{class n extends ga{backend;injector;chain=null;pendingTasks=F(ni);contributeToStability=F(yM);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Q_),...this.injector.get(mM,[])]));this.chain=r.reduceRight((i,o)=>yB(i,o,this.injector),mB)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(bo(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(W(_l),W(St))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();var vB=/^\)\]\}',?\n/,_B=RegExp(`^${fM}:`,"m");function wB(n){return"responseURL"in n&&n.responseURL?n.responseURL:_B.test(n.getAllResponseHeaders())?n.getResponseHeader(fM):null}var K_=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new q(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?qe(r.\u0275loadImpl()):Z(null)).pipe(Wt(()=>new we(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((N,O)=>s.setRequestHeader(N,O.join(","))),t.headers.has(hM)||s.setRequestHeader(hM,hB),!t.headers.has(dM)){let N=t.detectContentTypeHeader();N!==null&&s.setRequestHeader(dM,N)}if(t.responseType){let N=t.responseType.toLowerCase();s.responseType=N!=="json"?N:"text"}let a=t.serializeBody(),l=null,u=()=>{if(l!==null)return l;let N=s.statusText||"OK",O=new Qt(s.getAllResponseHeaders()),H=wB(s)||t.url;return l=new wf({headers:O,status:s.status,statusText:N,url:H}),l},h=()=>{let{headers:N,status:O,statusText:H,url:ee}=u(),J=null;O!==pB&&(J=typeof s.response>"u"?s.responseText:s.response),O===0&&(O=J?fB:0);let Te=O>=200&&O<300;if(t.responseType==="json"&&typeof J=="string"){let dt=J;J=J.replace(vB,"");try{J=J!==""?JSON.parse(J):null}catch(Re){J=dt,Te&&(Te=!1,J={error:Re,text:J})}}Te?(o.next(new wl({body:J,headers:N,status:O,statusText:H,url:ee||void 0})),o.complete()):o.error(new El({error:J,headers:N,status:O,statusText:H,url:ee||void 0}))},p=N=>{let{url:O}=u(),H=new El({error:N,status:s.status||0,statusText:s.statusText||"Unknown Error",url:O||void 0});o.error(H)},v=!1,_=N=>{v||(o.next(u()),v=!0);let O={type:Qo.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(O.total=N.total),t.responseType==="text"&&s.responseText&&(O.partialText=s.responseText),o.next(O)},S=N=>{let O={type:Qo.UploadProgress,loaded:N.loaded};N.lengthComputable&&(O.total=N.total),o.next(O)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",_),a!==null&&s.upload&&s.upload.addEventListener("progress",S)),s.send(a),o.next({type:Qo.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",_),a!==null&&s.upload&&s.upload.removeEventListener("progress",S)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(W(Ko))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),vM=new G(""),EB="XSRF-TOKEN",IB=new G("",{providedIn:"root",factory:()=>EB}),bB="X-XSRF-TOKEN",CB=new G("",{providedIn:"root",factory:()=>bB}),Il=class{},TB=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=pl(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(W(yt),W(IB))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();function DB(n,e){let t=n.url.toLowerCase();if(!F(vM)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=F(Il).getToken(),i=F(CB);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Y_=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Y_||{});function SB(n,e){return{\u0275kind:n,\u0275providers:e}}function J_(...n){let e=[$n,K_,Ef,{provide:ga,useExisting:Ef},{provide:_l,useFactory:()=>F(gB,{optional:!0})??F(K_)},{provide:Q_,useValue:DB,multi:!0},{provide:vM,useValue:!0},{provide:Il,useClass:TB}];for(let t of n)e.push(...t.\u0275providers);return Xr(e)}function Z_(n){return SB(Y_.Interceptors,n.map(e=>({provide:Q_,useValue:e,multi:!0})))}var _M=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(W(yt))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ge="primary",Fl=Symbol("RouteTitle"),r0=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Zo(n){return new r0(n)}function SM(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function MB(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Tr(n[t],e[t]))return!1;return!0}function Tr(n,e){let t=n?i0(n):void 0,r=e?i0(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!AM(n[i],e[i]))return!1;return!0}function i0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function AM(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function MM(n){return n.length>0?n[n.length-1]:null}function Yi(n){return Ey(n)?n:Ui(n)?qe(Promise.resolve(n)):Z(n)}var PB={exact:xM,subset:RM},PM={exact:xB,subset:RB,ignored:()=>!0};function wM(n,e,t){return PB[t.paths](n.root,e.root,t.matrixParams)&&PM[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function xB(n,e){return Tr(n,e)}function xM(n,e,t){if(!Yo(n.segments,e.segments)||!Cf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!xM(n.children[r],e.children[r],t))return!1;return!0}function RB(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>AM(n[t],e[t]))}function RM(n,e,t){return OM(n,e,e.segments,t)}function OM(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Yo(i,t)||e.hasChildren()||!Cf(i,t,r))}else if(n.segments.length===t.length){if(!Yo(n.segments,t)||!Cf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!RM(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Yo(n.segments,i)||!Cf(n.segments,i,r)||!n.children[ge]?!1:OM(n.children[ge],e,o,r)}}function Cf(n,e,t){return e.every((r,i)=>PM[t](n[i].parameters,r.parameters))}var Sr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ne([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Zo(this.queryParams),this._queryParamMap}toString(){return kB.serialize(this)}},Ne=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tf(this)}},Gi=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Zo(this.parameters),this._parameterMap}toString(){return kM(this)}};function OB(n,e){return Yo(n,e)&&n.every((t,r)=>Tr(t.parameters,e[r].parameters))}function Yo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function NB(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ge&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ge&&(t=t.concat(e(i,r)))}),t}var Xo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>new Wi,providedIn:"root"})}return n})(),Wi=class{parse(e){let t=new s0(e);return new Sr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Cl(e.root,!0)}`,r=VB(e.queryParams),i=typeof e.fragment=="string"?`#${FB(e.fragment)}`:"";return`${t}${r}${i}`}},kB=new Wi;function Tf(n){return n.segments.map(e=>kM(e)).join("/")}function Cl(n,e){if(!n.hasChildren())return Tf(n);if(e){let t=n.children[ge]?Cl(n.children[ge],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ge&&r.push(`${i}:${Cl(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=NB(n,(r,i)=>i===ge?[Cl(n.children[ge],!1)]:[`${i}:${Cl(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ge]!=null?`${Tf(n)}/${t[0]}`:`${Tf(n)}/(${t.join("//")})`}}function NM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function If(n){return NM(n).replace(/%3B/gi,";")}function FB(n){return encodeURI(n)}function o0(n){return NM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Df(n){return decodeURIComponent(n)}function EM(n){return Df(n.replace(/\+/g,"%20"))}function kM(n){return`${o0(n.path)}${LB(n.parameters)}`}function LB(n){return Object.entries(n).map(([e,t])=>`;${o0(e)}=${o0(t)}`).join("")}function VB(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${If(t)}=${If(i)}`).join("&"):`${If(t)}=${If(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var jB=/^[^\/()?;#]+/;function X_(n){let e=n.match(jB);return e?e[0]:""}var UB=/^[^\/()?;=#]+/;function BB(n){let e=n.match(UB);return e?e[0]:""}var $B=/^[^=?&#]+/;function HB(n){let e=n.match($B);return e?e[0]:""}var zB=/^[^&#]+/;function qB(n){let e=n.match(zB);return e?e[0]:""}var s0=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ne([],{}):new Ne([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ge]=new Ne(e,t)),r}parseSegment(){let e=X_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(e),new Gi(Df(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=BB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=X_(this.remaining);i&&(r=i,this.capture(r))}e[Df(t)]=Df(r)}parseQueryParam(e){let t=HB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=qB(this.remaining);s&&(r=s,this.capture(r))}let i=EM(t),o=EM(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=X_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ge);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ge]:new Ne([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new q(4011,!1)}};function FM(n){return n.segments.length>0?new Ne([],{[ge]:n}):n}function LM(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=LM(i);if(r===ge&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ne(n.segments,e);return GB(t)}function GB(n){if(n.numberOfChildren===1&&n.children[ge]){let e=n.children[ge];return new Ne(n.segments.concat(e.segments),e.children)}return n}function Ki(n){return n instanceof Sr}function VM(n,e,t=null,r=null){let i=jM(n);return UM(i,e,t,r)}function jM(n){let e;function t(o){let s={};for(let l of o.children){let u=t(l);s[l.outlet]=u}let a=new Ne(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=FM(r);return e??i}function UM(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return e0(i,i,i,t,r);let o=WB(e);if(o.toRoot())return e0(i,i,new Ne([],{}),t,r);let s=KB(o,i,n),a=s.processChildren?Dl(s.segmentGroup,s.index,o.commands):$M(s.segmentGroup,s.index,o.commands);return e0(i,s.segmentGroup,a,t,r)}function Af(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Al(n){return typeof n=="object"&&n!=null&&n.outlets}function e0(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`});let s;n===e?s=t:s=BM(n,e,t);let a=FM(LM(s));return new Sr(a,o,i)}function BM(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=BM(o,e,t)}),new Ne(n.segments,r)}var Mf=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Af(r[0]))throw new q(4003,!1);let i=r.find(Al);if(i&&i!==MM(r))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function WB(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Mf(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Mf(t,e,r)}var _a=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function KB(n,e,t){if(n.isAbsolute)return new _a(e,!0,0);if(!t)return new _a(e,!1,NaN);if(t.parent===null)return new _a(t,!0,0);let r=Af(n.commands[0])?0:1,i=t.segments.length-1+r;return QB(t,i,n.numberOfDoubleDots)}function QB(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new q(4005,!1);i=r.segments.length}return new _a(r,!1,i-o)}function YB(n){return Al(n[0])?n[0].outlets:{[ge]:n}}function $M(n,e,t){if(n??=new Ne([],{}),n.segments.length===0&&n.hasChildren())return Dl(n,e,t);let r=JB(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ne(n.segments.slice(0,r.pathIndex),{});return o.children[ge]=new Ne(n.segments.slice(r.pathIndex),n.children),Dl(o,0,i)}else return r.match&&i.length===0?new Ne(n.segments,{}):r.match&&!n.hasChildren()?a0(n,e,t):r.match?Dl(n,0,i):a0(n,e,t)}function Dl(n,e,t){if(t.length===0)return new Ne(n.segments,{});{let r=YB(t),i={};if(Object.keys(r).some(o=>o!==ge)&&n.children[ge]&&n.numberOfChildren===1&&n.children[ge].segments.length===0){let o=Dl(n.children[ge],e,t);return new Ne(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=$M(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ne(n.segments,i)}}function JB(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Al(a))break;let l=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!bM(l,u,s))return o;r+=2}else{if(!bM(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function a0(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Al(o)){let l=ZB(o.outlets);return new Ne(r,l)}if(i===0&&Af(t[0])){let l=n.segments[e];r.push(new Gi(l.path,IM(t[0]))),i++;continue}let s=Al(o)?o.outlets[ge]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Af(a)?(r.push(new Gi(s,IM(a))),i+=2):(r.push(new Gi(s,{})),i++)}return new Ne(r,{})}function ZB(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=a0(new Ne([],{}),0,r))}),e}function IM(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function bM(n,e,t){return n==t.path&&Tr(e,t.parameters)}var Sf="imperative",Ct=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ct||{}),An=class{id;url;constructor(e,t){this.id=e,this.url=t}},Qi=class extends An{type=Ct.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Hn=class extends An{urlAfterRedirects;type=Ct.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},vn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(vn||{}),Ea=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Ea||{}),Dr=class extends An{reason;code;type=Ct.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ar=class extends An{reason;code;type=Ct.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Ia=class extends An{error;target;type=Ct.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ml=class extends An{urlAfterRedirects;state;type=Ct.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pf=class extends An{urlAfterRedirects;state;type=Ct.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xf=class extends An{urlAfterRedirects;state;shouldActivate;type=Ct.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Rf=class extends An{urlAfterRedirects;state;type=Ct.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Of=class extends An{urlAfterRedirects;state;type=Ct.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nf=class{route;type=Ct.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},kf=class{route;type=Ct.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ff=class{snapshot;type=Ct.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lf=class{snapshot;type=Ct.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vf=class{snapshot;type=Ct.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jf=class{snapshot;type=Ct.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ba=class{routerEvent;position;anchor;type=Ct.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Pl=class{},Ca=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function XB(n,e){return n.providers&&!n._injector&&(n._injector=sl(n.providers,e,`Route: ${n.path}`)),n._injector??e}function ir(n){return n.outlet||ge}function e3(n,e){let t=n.filter(r=>ir(r)===e);return t.push(...n.filter(r=>ir(r)!==e)),t}function Ll(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Uf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ll(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new es(this.rootInjector)}},es=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Uf(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(W(St))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Bf=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=c0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=c0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=l0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return l0(e,this._root).map(t=>t.value)}};function c0(n,e){if(n===e.value)return e;for(let t of e.children){let r=c0(n,t);if(r)return r}return null}function l0(n,e){if(n===e.value)return[e];for(let t of e.children){let r=l0(n,t);if(r.length)return r.unshift(e),r}return[]}var Sn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function va(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var xl=class extends Bf{snapshot;constructor(e,t){super(e),this.snapshot=t,y0(this,e)}toString(){return this.snapshot.toString()}};function HM(n){let e=t3(n),t=new Ye([new Gi("",{})]),r=new Ye({}),i=new Ye({}),o=new Ye({}),s=new Ye(""),a=new Yt(t,r,o,s,i,ge,n,e.root);return a.snapshot=e.root,new xl(new Sn(a,[]),e)}function t3(n){let e={},t={},r={},i="",o=new Jo([],e,r,i,t,ge,n,null,{});return new Rl("",new Sn(o,[]))}var Yt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ue(u=>u[Fl]))??Z(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ue(e=>Zo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ue(e=>Zo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function $f(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),n.params),data:V(V({},e.data),n.data),resolve:V(V(V(V({},n.data),e.data),i?.data),n._resolvedData)}:r={params:V({},n.params),data:V({},n.data),resolve:V(V({},n.data),n._resolvedData??{})},i&&qM(i)&&(r.resolve[Fl]=i.title),r}var Jo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Fl]}constructor(e,t,r,i,o,s,a,l,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Zo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Zo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Rl=class extends Bf{url;constructor(e,t){super(t),this.url=e,y0(this,t)}toString(){return zM(this._root)}};function y0(n,e){e.value._routerState=n,e.children.forEach(t=>y0(n,t))}function zM(n){let e=n.children.length>0?` { ${n.children.map(zM).join(", ")} } `:"";return`${n.value}${e}`}function t0(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Tr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Tr(e.params,t.params)||n.paramsSubject.next(t.params),MB(e.url,t.url)||n.urlSubject.next(t.url),Tr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function u0(n,e){let t=Tr(n.params,e.params)&&OB(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||u0(n.parent,e.parent))}function qM(n){return typeof n.title=="string"||n.title===null}var GM=new G(""),Vl=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ge;activateEvents=new st;deactivateEvents=new st;attachEvents=new st;detachEvents=new st;routerOutletData=fS(void 0);parentContexts=F(es);location=F(fa);changeDetector=F($i);inputBinder=F(jl,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new q(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new d0(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Oe({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[wr]})}return n})(),d0=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Yt?this.route:e===es?this.childContexts:e===GM?this.outletData:this.parent.get(e,t)}},jl=new G(""),v0=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Gc([r.queryParams,r.params,r.data]).pipe(Wt(([o,s,a],l)=>(a=V(V(V({},o),s),a),l===0?Z(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=SA(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),_0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=tt({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ie(0,"router-outlet")},dependencies:[Vl],encapsulation:2})}return n})();function w0(n){let e=n.children&&n.children.map(w0),t=e?X(V({},n),{children:e}):V({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ge&&(t.component=_0),t}function n3(n,e,t){let r=Ol(n,e._root,t?t._root:void 0);return new xl(r,e)}function Ol(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=r3(n,e,t);return new Sn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ol(n,a)),s}}let r=i3(e.value),i=e.children.map(o=>Ol(n,o));return new Sn(r,i)}}function r3(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ol(n,r,i);return Ol(n,r)})}function i3(n){return new Yt(new Ye(n.url),new Ye(n.params),new Ye(n.queryParams),new Ye(n.fragment),new Ye(n.data),n.outlet,n.component,n)}var Ta=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},WM="ngNavigationCancelingError";function Hf(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Ki(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=KM(!1,vn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function KM(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[WM]=!0,t.cancellationCode=e,t}function o3(n){return QM(n)&&Ki(n.url)}function QM(n){return!!n&&n[WM]}var s3=(n,e,t,r)=>ue(i=>(new h0(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),h0=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),t0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=va(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=va(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=va(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=va(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new jf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Lf(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(t0(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),t0(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},zf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},wa=class{component;route;constructor(e,t){this.component=e,this.route=t}};function a3(n,e,t){let r=n._root,i=e?e._root:null;return Tl(r,i,t,[r.value])}function c3(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Sa(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!cD(n)?n:e.get(n):r}function Tl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=va(e);return n.children.forEach(s=>{l3(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Sl(a,t.getContext(s),i)),i}function l3(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=u3(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new zf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Tl(n,e,a?a.children:null,r,i):Tl(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new wa(a.outlet.component,s))}else s&&Sl(e,a,i),i.canActivateChecks.push(new zf(r)),o.component?Tl(n,null,a?a.children:null,r,i):Tl(n,null,t,r,i);return i}function u3(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Yo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Yo(n.url,e.url)||!Tr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!u0(n,e)||!Tr(n.queryParams,e.queryParams);case"paramsChange":default:return!u0(n,e)}}function Sl(n,e,t){let r=va(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Sl(s,e.children.getContext(o),t):Sl(s,null,t):Sl(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new wa(e.outlet.component,i)):t.canDeactivateChecks.push(new wa(null,i)):t.canDeactivateChecks.push(new wa(null,i))}function Ul(n){return typeof n=="function"}function d3(n){return typeof n=="boolean"}function h3(n){return n&&Ul(n.canLoad)}function f3(n){return n&&Ul(n.canActivate)}function p3(n){return n&&Ul(n.canActivateChild)}function g3(n){return n&&Ul(n.canDeactivate)}function m3(n){return n&&Ul(n.canMatch)}function YM(n){return n instanceof Qn||n?.name==="EmptyError"}var bf=Symbol("INITIAL_VALUE");function Da(){return Wt(n=>Gc(n.map(e=>e.pipe(Dt(1),Ty(bf)))).pipe(ue(e=>{for(let t of e)if(t!==!0){if(t===bf)return bf;if(t===!1||y3(t))return t}return!0}),kt(e=>e!==bf),Dt(1)))}function y3(n){return Ki(n)||n instanceof Ta}function v3(n,e){return ot(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Z(X(V({},t),{guardsResult:!0})):_3(s,r,i,n).pipe(ot(a=>a&&d3(a)?w3(r,o,n,e):Z(a)),ue(a=>X(V({},t),{guardsResult:a})))})}function _3(n,e,t,r){return qe(n).pipe(ot(i=>T3(i.component,i.route,t,e,r)),Kr(i=>i!==!0,!0))}function w3(n,e,t,r){return qe(e).pipe(hr(i=>zs(I3(i.route.parent,r),E3(i.route,r),C3(n,i.path,t),b3(n,i.route,t))),Kr(i=>i!==!0,!0))}function E3(n,e){return n!==null&&e&&e(new Vf(n)),Z(!0)}function I3(n,e){return n!==null&&e&&e(new Ff(n)),Z(!0)}function b3(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(o=>Kd(()=>{let s=Ll(e)??t,a=Sa(o,s),l=f3(a)?a.canActivate(e,n):Mt(s,()=>a(e,n));return Yi(l).pipe(Kr())}));return Z(i).pipe(Da())}function C3(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>c3(s)).filter(s=>s!==null).map(s=>Kd(()=>{let a=s.guards.map(l=>{let u=Ll(s.node)??t,h=Sa(l,u),p=p3(h)?h.canActivateChild(r,n):Mt(u,()=>h(r,n));return Yi(p).pipe(Kr())});return Z(a).pipe(Da())}));return Z(o).pipe(Da())}function T3(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Z(!0);let s=o.map(a=>{let l=Ll(e)??i,u=Sa(a,l),h=g3(u)?u.canDeactivate(n,e,t,r):Mt(l,()=>u(n,e,t,r));return Yi(h).pipe(Kr())});return Z(s).pipe(Da())}function D3(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Z(!0);let o=i.map(s=>{let a=Sa(s,n),l=h3(a)?a.canLoad(e,t):Mt(n,()=>a(e,t));return Yi(l)});return Z(o).pipe(Da(),JM(r))}function JM(n){return fy(Ft(e=>{if(typeof e!="boolean")throw Hf(n,e)}),ue(e=>e===!0))}function S3(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Z(!0);let o=i.map(s=>{let a=Sa(s,n),l=m3(a)?a.canMatch(e,t):Mt(n,()=>a(e,t));return Yi(l)});return Z(o).pipe(Da(),JM(r))}var Nl=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},kl=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ya(n){return dn(new Nl(n))}function A3(n){return dn(new q(4e3,!1))}function M3(n){return dn(KM(!1,vn.GuardRejected))}var f0=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Z(r);if(i.numberOfChildren>1||!i.children[ge])return A3(`${e.redirectTo}`);i=i.children[ge]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:u,routeConfig:h,url:p,outlet:v,params:_,data:S,title:N}=i,O=Mt(o,()=>a({params:_,data:S,queryParams:l,fragment:u,routeConfig:h,url:p,outlet:v,title:N}));if(O instanceof Sr)throw new kl(O);t=O}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new kl(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Sr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new Ne(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new q(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},p0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function P3(n,e,t,r,i){let o=ZM(n,e,t);return o.matched?(r=XB(e,r),S3(r,e,t,i).pipe(ue(s=>s===!0?o:V({},p0)))):Z(o)}function ZM(n,e,t){if(e.path==="**")return x3(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?V({},p0):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||SM)(t,n,e);if(!i)return V({},p0);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?V(V({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function x3(n){return{matched:!0,parameters:n.length>0?MM(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function CM(n,e,t,r){return t.length>0&&N3(n,t,r)?{segmentGroup:new Ne(e,O3(r,new Ne(t,n.children))),slicedSegments:[]}:t.length===0&&k3(n,t,r)?{segmentGroup:new Ne(n.segments,R3(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ne(n.segments,n.children),slicedSegments:t}}function R3(n,e,t,r){let i={};for(let o of t)if(Gf(n,e,o)&&!r[ir(o)]){let s=new Ne([],{});i[ir(o)]=s}return V(V({},r),i)}function O3(n,e){let t={};t[ge]=e;for(let r of n)if(r.path===""&&ir(r)!==ge){let i=new Ne([],{});t[ir(r)]=i}return t}function N3(n,e,t){return t.some(r=>Gf(n,e,r)&&ir(r)!==ge)}function k3(n,e,t){return t.some(r=>Gf(n,e,r))}function Gf(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function F3(n,e,t){return e.length===0&&!n.children[t]}var g0=class{};function L3(n,e,t,r,i,o,s="emptyOnly"){return new m0(n,e,t,r,i,s,o).recognize()}var V3=31,m0=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new f0(this.urlSerializer,this.urlTree)}noMatchError(e){return new q(4002,`'${e.segmentGroup}'`)}recognize(){let e=CM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ue(({children:t,rootSnapshot:r})=>{let i=new Sn(r,t),o=new Rl("",i),s=VM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Jo([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ge,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ge,t).pipe(ue(r=>({children:r,rootSnapshot:t})),Qe(r=>{if(r instanceof kl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Nl?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ue(s=>s instanceof Sn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return qe(o).pipe(hr(s=>{let a=r.children[s],l=e3(t,s);return this.processSegmentGroup(e,l,a,s,i)}),Cy((s,a)=>(s.push(...a),s)),Oi(null),by(),ot(s=>{if(s===null)return ya(r);let a=XM(s);return j3(a),Z(a)}))}processSegment(e,t,r,i,o,s,a){return qe(t).pipe(hr(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a).pipe(Qe(u=>{if(u instanceof Nl)return Z(null);throw u}))),Kr(l=>!!l),Qe(l=>{if(YM(l))return F3(r,i,o)?Z(new g0):ya(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,l){return ir(r)!==s&&(s===ge||!Gf(i,o,r))?ya(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l):ya(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:l,parameters:u,consumedSegments:h,positionalParamSegments:p,remainingSegments:v}=ZM(t,i,o);if(!l)return ya(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>V3&&(this.allowRedirects=!1));let _=new Jo(o,u,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,TM(i),ir(i),i.component??i._loadedComponent??null,i,DM(i)),S=$f(_,a,this.paramsInheritanceStrategy);_.params=Object.freeze(S.params),_.data=Object.freeze(S.data);let N=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,_,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(ot(O=>this.processSegment(e,r,t,O.concat(v),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=P3(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Wt(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Wt(({routes:u})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:v,remainingSegments:_}=l,S=new Jo(v,p,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,TM(r),ir(r),r.component??r._loadedComponent??null,r,DM(r)),N=$f(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(N.params),S.data=Object.freeze(N.data);let{segmentGroup:O,slicedSegments:H}=CM(t,v,_,u);if(H.length===0&&O.hasChildren())return this.processChildren(h,u,O,S).pipe(ue(J=>new Sn(S,J)));if(u.length===0&&H.length===0)return Z(new Sn(S,[]));let ee=ir(r)===o;return this.processSegment(h,u,O,H,ee?ge:o,!0,S).pipe(ue(J=>new Sn(S,J instanceof Sn?[J]:[])))}))):ya(t)))}getChildConfig(e,t,r){return t.children?Z({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Z({routes:t._loadedRoutes,injector:t._loadedInjector}):D3(e,t,r,this.urlSerializer).pipe(ot(i=>i?this.configLoader.loadChildren(e,t).pipe(Ft(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):M3(t))):Z({routes:[],injector:e})}};function j3(n){n.sort((e,t)=>e.value.outlet===ge?-1:t.value.outlet===ge?1:e.value.outlet.localeCompare(t.value.outlet))}function U3(n){let e=n.value.routeConfig;return e&&e.path===""}function XM(n){let e=[],t=new Set;for(let r of n){if(!U3(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=XM(r.children);e.push(new Sn(r.value,i))}return e.filter(r=>!t.has(r))}function TM(n){return n.data||{}}function DM(n){return n.resolve||{}}function B3(n,e,t,r,i,o){return ot(s=>L3(n,e,t,r,s.extractedUrl,i,o).pipe(ue(({state:a,tree:l})=>X(V({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function $3(n,e){return ot(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Z(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of eP(l))s.add(u);let a=0;return qe(s).pipe(hr(l=>o.has(l)?H3(l,r,n,e):(l.data=$f(l,l.parent,n).resolve,Z(void 0))),Ft(()=>a++),qs(1),ot(l=>a===s.size?Z(t):ln))})}function eP(n){let e=n.children.map(t=>eP(t)).flat();return[n,...e]}function H3(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!qM(i)&&(o[Fl]=i.title),z3(o,n,e,r).pipe(ue(s=>(n._resolvedData=s,n.data=$f(n,n.parent,t).resolve,null)))}function z3(n,e,t,r){let i=i0(n);if(i.length===0)return Z({});let o={};return qe(i).pipe(ot(s=>q3(n[s],e,t,r).pipe(Kr(),Ft(a=>{if(a instanceof Ta)throw Hf(new Wi,a);o[s]=a}))),qs(1),ue(()=>o),Qe(s=>YM(s)?ln:dn(s)))}function q3(n,e,t,r){let i=Ll(e)??r,o=Sa(n,i),s=o.resolve?o.resolve(e,t):Mt(i,()=>o(e,t));return Yi(s)}function n0(n){return Wt(e=>{let t=n(e);return t?qe(t).pipe(ue(()=>e)):Z(e)})}var E0=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ge);return r}getResolvedTitleForRoute(t){return t.data[Fl]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>F(tP),providedIn:"root"})}return n})(),tP=(()=>{class n extends E0{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(W(_M))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ts=new G("",{providedIn:"root",factory:()=>({})}),ns=new G(""),Wf=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=F(TA);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Z(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Yi(t.loadComponent()).pipe(ue(rP),Ft(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),bo(()=>{this.componentLoaders.delete(t)})),i=new js(r,()=>new ht).pipe(Vs());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=nP(r,this.compiler,t,this.onLoadEndListener).pipe(bo(()=>{this.childrenLoaders.delete(r)})),s=new js(o,()=>new ht).pipe(Vs());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nP(n,e,t,r){return Yi(n.loadChildren()).pipe(ue(rP),ot(i=>i instanceof g_||Array.isArray(i)?Z(i):qe(e.compileModuleAsync(i))),ue(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(ns,[],{optional:!0,self:!0}).flat()),{routes:s.map(w0),injector:o}}))}function G3(n){return n&&typeof n=="object"&&"default"in n}function rP(n){return G3(n)?n.default:n}var Kf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>F(W3),providedIn:"root"})}return n})(),W3=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),I0=new G(""),b0=new G("");function iP(n,e,t){let r=n.get(b0),i=n.get(yt);return n.get(Ve).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),K3(n))),{onViewTransitionCreated:l}=r;return l&&Mt(n,()=>l({transition:a,from:e,to:t})),s})}function K3(n){return new Promise(e=>{Zv({read:()=>setTimeout(e)},{injector:n})})}var C0=new G(""),Qf=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ht;transitionAbortSubject=new ht;configLoader=F(Wf);environmentInjector=F(St);destroyRef=F(Uo);urlSerializer=F(Xo);rootContexts=F(es);location=F(zi);inputBindingEnabled=F(jl,{optional:!0})!==null;titleStrategy=F(E0);options=F(ts,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=F(Kf);createViewTransition=F(I0,{optional:!0});navigationErrorHandler=F(C0,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Z(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Nf(i)),r=i=>this.events.next(new kf(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(X(V({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new Ye(null),this.transitions.pipe(kt(r=>r!==null),Wt(r=>{let i=!1,o=!1;return Z(r).pipe(Wt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",vn.SupersededByNewNavigation),ln;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?X(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&l!=="reload"){let u="";return this.events.next(new Ar(s.id,this.urlSerializer.serialize(s.rawUrl),u,Ea.IgnoredSameUrlNavigation)),s.resolve(!1),ln}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Z(s).pipe(Wt(u=>(this.events.next(new Qi(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?ln:Promise.resolve(u))),B3(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ft(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=X(V({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let h=new Ml(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:h,source:p,restoredState:v,extras:_}=s,S=new Qi(u,this.urlSerializer.serialize(h),p,v);this.events.next(S);let N=HM(this.rootComponentType).snapshot;return this.currentTransition=r=X(V({},s),{targetSnapshot:N,urlAfterRedirects:h,extras:X(V({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,Z(r)}else{let u="";return this.events.next(new Ar(s.id,this.urlSerializer.serialize(s.extractedUrl),u,Ea.IgnoredByUrlHandlingStrategy)),s.resolve(!1),ln}}),Ft(s=>{let a=new Pf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ue(s=>(this.currentTransition=r=X(V({},s),{guards:a3(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),v3(this.environmentInjector,s=>this.events.next(s)),Ft(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Hf(this.urlSerializer,s.guardsResult);let a=new xf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),kt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",vn.GuardRejected),!1)),n0(s=>{if(s.guards.canActivateChecks.length!==0)return Z(s).pipe(Ft(a=>{let l=new Rf(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Wt(a=>{let l=!1;return Z(a).pipe($3(this.paramsInheritanceStrategy,this.environmentInjector),Ft({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",vn.NoDataFromResolver)}}))}),Ft(a=>{let l=new Of(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),n0(s=>{let a=l=>{let u=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(l.routeConfig).pipe(Ft(h=>{l.component=h}),ue(()=>{})));for(let h of l.children)u.push(...a(h));return u};return Gc(a(s.targetSnapshot.root)).pipe(Oi(null),Dt(1))}),n0(()=>this.afterPreactivation()),Wt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?qe(l).pipe(ue(()=>r)):Z(r)}),ue(s=>{let a=n3(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=X(V({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Ft(()=>{this.events.next(new Pl)}),s3(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Dt(1),Ft({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Hn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Dy(this.transitionAbortSubject.pipe(Ft(s=>{throw s}))),bo(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",vn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Qe(s=>{if(this.destroyed)return r.resolve(!1),ln;if(o=!0,QM(s))this.events.next(new Dr(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),o3(s)?this.events.next(new Ca(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Ia(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=Mt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof Ta){let{message:u,cancellationCode:h}=Hf(this.urlSerializer,l);this.events.next(new Dr(r.id,this.urlSerializer.serialize(r.extractedUrl),u,h)),this.events.next(new Ca(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return ln}))}))}cancelNavigationTransition(t,r,i){let o=new Dr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Q3(n){return n!==Sf}var oP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>F(Y3),providedIn:"root"})}return n})(),qf=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},Y3=(()=>{class n extends qf{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Cn(n)))(i||n)}})();static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sP=(()=>{class n{urlSerializer=F(Xo);options=F(ts,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=F(zi);urlHandlingStrategy=F(Kf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Sr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Sr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=HM(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>F(J3),providedIn:"root"})}return n})(),J3=(()=>{class n extends sP{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Qi?this.updateStateMemento():t instanceof Ar?this.commitTransition(r):t instanceof Ml?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Pl?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Dr&&(t.code===vn.GuardRejected||t.code===vn.NoDataFromResolver)?this.restoreHistory(r):t instanceof Ia?this.restoreHistory(r,!0):t instanceof Hn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=V(V({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=V(V({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Cn(n)))(i||n)}})();static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Yf(n,e){n.events.pipe(kt(t=>t instanceof Hn||t instanceof Dr||t instanceof Ia||t instanceof Ar),ue(t=>t instanceof Hn||t instanceof Ar?0:(t instanceof Dr?t.code===vn.Redirect||t.code===vn.SupersededByNewNavigation:!1)?2:1),kt(t=>t!==2),Dt(1)).subscribe(()=>{e()})}var Z3={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},X3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ve=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=F(uA);stateManager=F(sP);options=F(ts,{optional:!0})||{};pendingTasks=F(ni);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=F(Qf);urlSerializer=F(Xo);location=F(zi);urlHandlingStrategy=F(Kf);_events=new ht;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=F(oP);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=F(ns,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!F(jl,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new et;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Dr&&r.code!==vn.Redirect&&r.code!==vn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Hn)this.navigated=!0;else if(r instanceof Ca){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=V({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Q3(i.source)},s);this.scheduleNavigation(a,Sf,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}t4(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Sf,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=V({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(w0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let v=i?i.snapshot:this.routerState.snapshot.root;p=jM(v)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return UM(p,t,h,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ki(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Sf,null,r)}navigate(t,r={skipLocationChange:!1}){return e4(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=V({},Z3):r===!1?i=V({},X3):i=r,Ki(t))return wM(this.currentUrlTree,t,i);let o=this.parseUrl(t);return wM(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((p,v)=>{a=p,l=v});let h=this.pendingTasks.add();return Yf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function e4(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new q(4008,!1)}function t4(n){return!(n instanceof Pl)&&!(n instanceof Ca)}var Jf=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ht;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof Hn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ki(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:AS(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Ki(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(L(ve),L(Yt),qv("tabindex"),L(ri),L(Ir),L(Un))};static \u0275dir=Oe({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&K("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ho("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Hi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Hi],replaceUrl:[2,"replaceUrl","replaceUrl",Hi],routerLink:"routerLink"},features:[wr]})}return n})();var Bl=class{};var aP=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(kt(t=>t instanceof Hn),hr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=sl(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return qe(i).pipe(Hs())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=Z(null);let o=i.pipe(ot(s=>s===null?Z(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return qe([o,s]).pipe(Hs())}else return o})}static \u0275fac=function(r){return new(r||n)(W(ve),W(St),W(Bl),W(Wf))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cP=new G(""),n4=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Qi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Hn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Ar&&t.code===Ea.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ba&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ba(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){tA()};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();function D0(n,...e){return Xr([{provide:ns,multi:!0,useValue:n},[],{provide:Yt,useFactory:lP,deps:[ve]},{provide:Yh,multi:!0,useFactory:uP},e.map(t=>t.\u0275providers)])}function lP(n){return n.routerState.root}function Aa(n,e){return{\u0275kind:n,\u0275providers:e}}function uP(){let n=F(At);return e=>{let t=n.get(Fo);if(e!==t.components[0])return;let r=n.get(ve),i=n.get(dP);n.get(S0)===1&&r.initialNavigation(),n.get(pP,null,me.Optional)?.setUpPreloading(),n.get(cP,null,me.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var dP=new G("",{factory:()=>new ht}),S0=new G("",{providedIn:"root",factory:()=>1});function hP(){let n=[{provide:S0,useValue:0},v_(()=>{let e=F(At);return e.get(S_,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(ve),o=e.get(dP);Yf(i,()=>{r(!0)}),e.get(Qf).afterPreactivation=()=>(r(!0),o.closed?Z(void 0):o),i.initialNavigation()}))})];return Aa(2,n)}function fP(){let n=[v_(()=>{F(ve).setUpLocationChangeListener()}),{provide:S0,useValue:2}];return Aa(3,n)}var pP=new G("");function gP(n){return Aa(0,[{provide:pP,useExisting:aP},{provide:Bl,useExisting:n}])}function A0(){return Aa(6,[{provide:Un,useClass:uf}])}function Zf(){return Aa(8,[v0,{provide:jl,useExisting:v0}])}function mP(n){ol("NgRouterViewTransitions");let e=[{provide:I0,useValue:iP},{provide:b0,useValue:V({skipNextTransition:!!n?.skipInitialTransition},n)}];return Aa(9,e)}var yP=[zi,{provide:Xo,useClass:Wi},ve,es,{provide:Yt,useFactory:lP,deps:[ve]},Wf,[]],rs=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[yP,[],{provide:ns,multi:!0,useValue:t},[],r?.errorHandler?{provide:C0,useValue:r.errorHandler}:[],{provide:ts,useValue:r||{}},r?.useHash?i4():o4(),r4(),r?.preloadingStrategy?gP(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?s4(r):[],r?.bindToComponentInputs?Zf().\u0275providers:[],r?.enableViewTransitions?mP().\u0275providers:[],a4()]}}static forChild(t){return{ngModule:n,providers:[{provide:ns,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=er({type:n});static \u0275inj=Zn({})}return n})();function r4(){return{provide:cP,useFactory:()=>{let n=F(ZA),e=F(Ve),t=F(ts),r=F(Qf),i=F(Xo);return t.scrollOffset&&n.setOffset(t.scrollOffset),new n4(i,r,n,e,t)}}}function i4(){return{provide:Un,useClass:uf}}function o4(){return{provide:Un,useClass:Xh}}function s4(n){return[n.initialNavigation==="disabled"?fP().\u0275providers:[],n.initialNavigation==="enabledBlocking"?hP().\u0275providers:[]]}var T0=new G("");function a4(){return[{provide:T0,useFactory:uP},{provide:Yh,multi:!0,useExisting:T0}]}var SP=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(L(ri),L(Ir))};static \u0275dir=Oe({type:n})}return n})(),Kl=(()=>{class n extends SP{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Cn(n)))(i||n)}})();static \u0275dir=Oe({type:n,features:[pt]})}return n})(),os=new G(""),c4={provide:os,useExisting:Lt(()=>R0),multi:!0},R0=(()=>{class n extends Kl{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Cn(n)))(i||n)}})();static \u0275dir=Oe({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&K("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[jt([c4]),pt]})}return n})(),l4={provide:os,useExisting:Lt(()=>Jt),multi:!0};function u4(){let n=jn()?jn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var d4=new G(""),Jt=(()=>{class n extends SP{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!u4())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(L(ri),L(Ir),L(d4,8))};static \u0275dir=Oe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&K("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[jt([l4]),pt]})}return n})();function O0(n){return n==null||N0(n)===0}function N0(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var si=new G(""),Oa=new G(""),h4=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ke=class{static min(e){return AP(e)}static max(e){return MP(e)}static required(e){return PP(e)}static requiredTrue(e){return f4(e)}static email(e){return p4(e)}static minLength(e){return g4(e)}static maxLength(e){return m4(e)}static pattern(e){return y4(e)}static nullValidator(e){return ep()}static compose(e){return FP(e)}static composeAsync(e){return LP(e)}};function AP(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function MP(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function PP(n){return O0(n.value)?{required:!0}:null}function f4(n){return n.value===!0?null:{required:!0}}function p4(n){return O0(n.value)||h4.test(n.value)?null:{email:!0}}function g4(n){return e=>{let t=e.value?.length??N0(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function m4(n){return e=>{let t=e.value?.length??N0(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function y4(n){if(!n)return ep;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(O0(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function ep(n){return null}function xP(n){return n!=null}function RP(n){return Ui(n)?qe(n):n}function OP(n){let e={};return n.forEach(t=>{e=t!=null?V(V({},e),t):e}),Object.keys(e).length===0?null:e}function NP(n,e){return e.map(t=>t(n))}function v4(n){return!n.validate}function kP(n){return n.map(e=>v4(e)?e:t=>e.validate(t))}function FP(n){if(!n)return null;let e=n.filter(xP);return e.length==0?null:function(t){return OP(NP(t,e))}}function k0(n){return n!=null?FP(kP(n)):null}function LP(n){if(!n)return null;let e=n.filter(xP);return e.length==0?null:function(t){let r=NP(t,e).map(RP);return Iy(r).pipe(ue(OP))}}function F0(n){return n!=null?LP(kP(n)):null}function vP(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function VP(n){return n._rawValidators}function jP(n){return n._rawAsyncValidators}function M0(n){return n?Array.isArray(n)?n:[n]:[]}function tp(n,e){return Array.isArray(n)?n.includes(e):n===e}function _P(n,e){let t=M0(e);return M0(n).forEach(i=>{tp(t,i)||t.push(i)}),t}function wP(n,e){return M0(e).filter(t=>!tp(n,t))}var np=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=k0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=F0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},sn=class extends np{name;get formDirective(){return null}get path(){return null}},is=class extends np{_parent=null;name=null;valueAccessor=null},rp=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},_4={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Wte=X(V({},_4),{"[class.ng-submitted]":"isSubmitted"}),_n=(()=>{class n extends rp{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(L(is,2))};static \u0275dir=Oe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&gt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[pt]})}return n})(),Zi=(()=>{class n extends rp{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(L(sn,10))};static \u0275dir=Oe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&gt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[pt]})}return n})();var $l="VALID",Xf="INVALID",Ma="PENDING",Hl="DISABLED",Ji=class{},ip=class extends Ji{value;source;constructor(e,t){super(),this.value=e,this.source=t}},ql=class extends Ji{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Gl=class extends Ji{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Pa=class extends Ji{status;source;constructor(e,t){super(),this.status=e,this.source=t}},op=class extends Ji{source;constructor(e){super(),this.source=e}},sp=class extends Ji{source;constructor(e){super(),this.source=e}};function L0(n){return(up(n)?n.validators:n)||null}function w4(n){return Array.isArray(n)?k0(n):n||null}function V0(n,e){return(up(e)?e.asyncValidators:n)||null}function E4(n){return Array.isArray(n)?F0(n):n||null}function up(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function UP(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new q(1e3,"");if(!r[t])throw new q(1001,"")}function BP(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new q(1002,"")})}var xa=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Dn(this.statusReactive)}set status(e){Dn(()=>this.statusReactive.set(e))}_status=Go(()=>this.statusReactive());statusReactive=Bo(void 0);get valid(){return this.status===$l}get invalid(){return this.status===Xf}get pending(){return this.status==Ma}get disabled(){return this.status===Hl}get enabled(){return this.status!==Hl}errors;get pristine(){return Dn(this.pristineReactive)}set pristine(e){Dn(()=>this.pristineReactive.set(e))}_pristine=Go(()=>this.pristineReactive());pristineReactive=Bo(!0);get dirty(){return!this.pristine}get touched(){return Dn(this.touchedReactive)}set touched(e){Dn(()=>this.touchedReactive.set(e))}_touched=Go(()=>this.touchedReactive());touchedReactive=Bo(!1);get untouched(){return!this.touched}_events=new ht;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(_P(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_P(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(wP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(wP(e,this._rawAsyncValidators))}hasValidator(e){return tp(this._rawValidators,e)}hasAsyncValidator(e){return tp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(X(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Gl(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Gl(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(X(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ql(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new ql(!0,r))}markAsPending(e={}){this.status=Ma;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Pa(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(X(V({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Hl,this.errors=null,this._forEachChild(i=>{i.disable(X(V({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ip(this.value,r)),this._events.next(new Pa(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(X(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=$l,this._forEachChild(r=>{r.enable(X(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(X(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$l||this.status===Ma)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ip(this.value,t)),this._events.next(new Pa(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(X(V({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hl:$l}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ma,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=RP(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Pa(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new st,this.statusChanges=new st}_calculateStatus(){return this._allControlsDisabled()?Hl:this.errors?Xf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ma)?Ma:this._anyControlsHaveStatus(Xf)?Xf:$l}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new ql(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Gl(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){up(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=w4(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=E4(this._rawAsyncValidators)}},Ra=class extends xa{constructor(e,t,r){super(L0(t),V0(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){BP(this,!0,e),Object.keys(e).forEach(r=>{UP(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var P0=class extends Ra{};var Ql=new G("",{providedIn:"root",factory:()=>dp}),dp="always";function hp(n,e){return[...e.path,n]}function ap(n,e,t=dp){j0(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),b4(n,e),T4(n,e),C4(n,e),I4(n,e)}function EP(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),lp(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function cp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function I4(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function j0(n,e){let t=VP(n);e.validator!==null?n.setValidators(vP(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=jP(n);e.asyncValidator!==null?n.setAsyncValidators(vP(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();cp(e._rawValidators,i),cp(e._rawAsyncValidators,i)}function lp(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=VP(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=jP(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return cp(e._rawValidators,r),cp(e._rawAsyncValidators,r),t}function b4(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&$P(n,e)})}function C4(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&$P(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function $P(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function T4(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function HP(n,e){n==null,j0(n,e)}function D4(n,e){return lp(n,e)}function zP(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function S4(n){return Object.getPrototypeOf(n.constructor)===Kl}function qP(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function GP(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Jt?t=o:S4(o)?r=o:i=o}),i||r||t||null}function A4(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var M4={provide:sn,useExisting:Lt(()=>Yl)},zl=Promise.resolve(),Yl=(()=>{class n extends sn{callSetDisabledState;get submitted(){return Dn(this.submittedReactive)}_submitted=Go(()=>this.submittedReactive());submittedReactive=Bo(!1);_directives=new Set;form;ngSubmit=new st;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Ra({},k0(t),F0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){zl.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),ap(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){zl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){zl.then(()=>{let r=this._findContainer(t.path),i=new Ra({});HP(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){zl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){zl.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),qP(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new op(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new sp(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(L(si,10),L(Oa,10),L(Ql,8))};static \u0275dir=Oe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&K("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[jt([M4]),pt]})}return n})();function IP(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function bP(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Wl=class extends xa{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(L0(t),V0(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),up(t)&&(t.nonNullable||t.initialValueIsDefault)&&(bP(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){IP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){IP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){bP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var P4=n=>n instanceof Wl,x4=(()=>{class n extends sn{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return hp(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Cn(n)))(i||n)}})();static \u0275dir=Oe({type:n,standalone:!1,features:[pt]})}return n})();var R4={provide:is,useExisting:Lt(()=>or)},CP=Promise.resolve(),or=(()=>{class n extends is{_changeDetectorRef;callSetDisabledState;control=new Wl;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new st;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=GP(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),zP(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ap(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){CP.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Hi(r);CP.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?hp(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(L(sn,9),L(si,10),L(Oa,10),L(os,10),L($i,8),L(Ql,8))};static \u0275dir=Oe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[jt([R4]),pt,wr]})}return n})();var Xi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Oe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),O4={provide:os,useExisting:Lt(()=>Jl),multi:!0},Jl=(()=>{class n extends Kl{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Cn(n)))(i||n)}})();static \u0275dir=Oe({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&K("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[jt([O4]),pt]})}return n})();var WP=new G("");var N4={provide:sn,useExisting:Lt(()=>Na)},Na=(()=>{class n extends sn{callSetDisabledState;get submitted(){return Dn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Go(()=>this._submittedReactive());_submittedReactive=Bo(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new st;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(lp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return ap(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){EP(t.control||null,t,!1),A4(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),qP(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new op(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new sp(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(EP(r||null,t),P4(i)&&(ap(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);HP(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&D4(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){j0(this.form,this),this._oldForm&&lp(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(L(si,10),L(Oa,10),L(Ql,8))};static \u0275dir=Oe({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&K("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[jt([N4]),pt,wr]})}return n})(),k4={provide:sn,useExisting:Lt(()=>fp)},fp=(()=>{class n extends x4{name=null;constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){KP(this._parent)}static \u0275fac=function(r){return new(r||n)(L(sn,13),L(si,10),L(Oa,10))};static \u0275dir=Oe({type:n,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[jt([k4]),pt]})}return n})(),F4={provide:sn,useExisting:Lt(()=>pp)},pp=(()=>{class n extends sn{_parent;name=null;constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){KP(this._parent),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective?.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return hp(this.name==null?this.name:this.name.toString(),this._parent)}static \u0275fac=function(r){return new(r||n)(L(sn,13),L(si,10),L(Oa,10))};static \u0275dir=Oe({type:n,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[jt([F4]),pt]})}return n})();function KP(n){return!(n instanceof fp)&&!(n instanceof Na)&&!(n instanceof pp)}var L4={provide:is,useExisting:Lt(()=>Zl)},Zl=(()=>{class n extends is{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new st;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=GP(this,o)}ngOnChanges(t){this._added||this._setUpControl(),zP(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return hp(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(L(sn,13),L(si,10),L(Oa,10),L(os,10),L(WP,8))};static \u0275dir=Oe({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[jt([L4]),pt,wr]})}return n})();var V4={provide:os,useExisting:Lt(()=>Mr),multi:!0};function QP(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function j4(n){return n.split(":")[0]}var Mr=(()=>{class n extends Kl{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=QP(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=j4(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Cn(n)))(i||n)}})();static \u0275dir=Oe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&K("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[jt([V4]),pt]})}return n})(),eo=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(QP(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(L(Ir),L(ri),L(Mr,9))};static \u0275dir=Oe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),U4={provide:os,useExisting:Lt(()=>YP),multi:!0};function TP(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function B4(n){return n.split(":")[0]}var YP=(()=>{class n extends Kl{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],u=this._getOptionValue(l.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=B4(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Cn(n)))(i||n)}})();static \u0275dir=Oe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&K("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[jt([U4]),pt]})}return n})(),to=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(TP(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(TP(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(L(Ir),L(ri),L(YP,9))};static \u0275dir=Oe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function JP(n){return typeof n=="number"?n:parseFloat(n)}var U0=(()=>{class n{_validator=ep;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ep,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Oe({type:n,features:[wr]})}return n})(),$4={provide:si,useExisting:Lt(()=>B0),multi:!0},B0=(()=>{class n extends U0{max;inputName="max";normalizeInput=t=>JP(t);createValidator=t=>MP(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Cn(n)))(i||n)}})();static \u0275dir=Oe({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ho("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[jt([$4]),pt]})}return n})(),H4={provide:si,useExisting:Lt(()=>Xl),multi:!0},Xl=(()=>{class n extends U0{min;inputName="min";normalizeInput=t=>JP(t);createValidator=t=>AP(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Cn(n)))(i||n)}})();static \u0275dir=Oe({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ho("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[jt([H4]),pt]})}return n})(),z4={provide:si,useExisting:Lt(()=>eu),multi:!0};var eu=(()=>{class n extends U0{required;inputName="required";normalizeInput=Hi;createValidator=t=>PP;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Cn(n)))(i||n)}})();static \u0275dir=Oe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ho("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[jt([z4]),pt]})}return n})();var ZP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=er({type:n});static \u0275inj=Zn({})}return n})(),x0=class extends xa{constructor(e,t,r){super(L0(t),V0(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){BP(this,!1,e),e.forEach((r,i)=>{UP(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function DP(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var gp=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return DP(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Ra(i,o)}record(t,r=null){let i=this._reduceControls(t);return new P0(i,r)}control(t,r,i){let o={};return this.useNonNullable?(DP(r)?o=r:(o.validators=r,o.asyncValidators=i),new Wl(t,X(V({},o),{nonNullable:!0}))):new Wl(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new x0(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Wl)return t;if(t instanceof xa)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var zn=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ql,useValue:t.callSetDisabledState??dp}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=er({type:n});static \u0275inj=Zn({imports:[ZP]})}return n})(),ka=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:WP,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Ql,useValue:t.callSetDisabledState??dp}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=er({type:n});static \u0275inj=Zn({imports:[ZP]})}return n})();var XP=()=>{};var nx=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},q4=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},mp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,l=i+2<n.length,u=l?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,v=(a&15)<<2|u>>6,_=u&63;l||(_=64,s||(v=64)),r.push(t[h],t[p],t[v],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(nx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):q4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||p==null)throw new H0;let v=o<<2|a>>4;if(r.push(v),u!==64){let _=a<<4&240|u>>2;if(r.push(_),p!==64){let S=u<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},H0=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},G4=function(n){let e=nx(n);return mp.encodeByteArray(e,!0)},nu=function(n){return G4(n).replace(/\./g,"")},yp=function(n){try{return mp.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function q0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var W4=()=>q0().__FIREBASE_DEFAULTS__,K4=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Q4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&yp(n[1]);return e&&JSON.parse(e)},vp=()=>{try{return XP()||W4()||K4()||Q4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},G0=n=>{var e,t;return(t=(e=vp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},rx=n=>{let e=G0(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},W0=()=>{var n;return(n=vp())===null||n===void 0?void 0:n.config},K0=n=>{var e;return(e=vp())===null||e===void 0?void 0:e[`_${n}`]};var as=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function cs(n){return n.endsWith(".cloudworkstations.dev")}function _p(n){return E(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function ix(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[nu(JSON.stringify(t)),nu(JSON.stringify(s)),""].join(".")}var tu={};function Y4(){let n={prod:[],emulator:[]};for(let e of Object.keys(tu))tu[e]?n.emulator.push(e):n.prod.push(e);return n}function J4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var ex=!1;function wp(n,e){if(typeof window>"u"||typeof document>"u"||!cs(window.location.host)||tu[n]===e||tu[n]||ex)return;tu[n]=e;function t(v){return`__firebase__banner__${v}`}let r="__firebase__banner",o=Y4().prod.length>0;function s(){let v=document.getElementById(r);v&&v.remove()}function a(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function l(v,_){v.setAttribute("width","24"),v.setAttribute("id",_),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function u(){let v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{ex=!0,s()},v}function h(v,_){v.setAttribute("id",_),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){let v=J4(r),_=t("text"),S=document.getElementById(_)||document.createElement("span"),N=t("learnmore"),O=document.getElementById(N)||document.createElement("a"),H=t("preprendIcon"),ee=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){let J=v.element;a(J),h(O,N);let Te=u();l(ee,H),J.append(ee,S,O,Te),document.body.appendChild(J)}o?(S.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ox(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function Z4(){var n;let e=(n=vp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ax(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function cx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lx(){let n=xt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ux(){return!Z4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ru(){try{return typeof indexedDB=="object"}catch{return!1}}function dx(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var X4="FirebaseError",Pn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=X4,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sr.prototype.create)}},sr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?e$(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Pn(i,a,r)}};function e$(n,e){return n.replace(t$,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var t$=/\{\$([^}]+)}/g;function hx(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Pr(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(tx(o)&&tx(s)){if(!Pr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function tx(n){return n!==null&&typeof n=="object"}function iu(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fa(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function La(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function fx(n,e){let t=new z0(n,e);return t.subscribe.bind(t)}var z0=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");n$(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=$0),i.error===void 0&&(i.error=$0),i.complete===void 0&&(i.complete=$0);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function n$(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function $0(){}var Zte=4*60*60*1e3;function Bt(n){return n&&n._delegate?n._delegate:n}var an=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ls="[DEFAULT]";var Q0=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new as;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(i$(e))try{this.getOrInitializeService({instanceIdentifier:ls})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ls){return this.instances.has(e)}getOptions(e=ls){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:r$(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ls){return this.component?this.component.multipleInstances?e:ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function r$(n){return n===ls?void 0:n}function i$(n){return n.instantiationMode==="EAGER"}var Ep=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Q0(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var o$=[],Ee=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ee||{}),s$={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},a$=Ee.INFO,c$={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},l$=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=c$[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},xr=class{constructor(e){this.name=e,this._logLevel=a$,this._logHandler=l$,this._userLogHandler=null,o$.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?s$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}};var u$=(n,e)=>e.some(t=>n instanceof t),px,gx;function d$(){return px||(px=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function h$(){return gx||(gx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var mx=new WeakMap,J0=new WeakMap,yx=new WeakMap,Y0=new WeakMap,X0=new WeakMap;function f$(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Rr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&mx.set(t,n)}).catch(()=>{}),X0.set(e,n),e}function p$(n){if(J0.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});J0.set(n,e)}var Z0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return J0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||yx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Rr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function vx(n){Z0=n(Z0)}function g$(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Ip(this),e,...t);return yx.set(r,e.sort?e.sort():[e]),Rr(r)}:h$().includes(n)?function(...e){return n.apply(Ip(this),e),Rr(mx.get(this))}:function(...e){return Rr(n.apply(Ip(this),e))}}function m$(n){return typeof n=="function"?g$(n):(n instanceof IDBTransaction&&p$(n),u$(n,d$())?new Proxy(n,Z0):n)}function Rr(n){if(n instanceof IDBRequest)return f$(n);if(Y0.has(n))return Y0.get(n);let e=m$(n);return e!==n&&(Y0.set(n,e),X0.set(e,n)),e}var Ip=n=>X0.get(n);function wx(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Rr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Rr(s.result),l.oldVersion,l.newVersion,Rr(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var y$=["get","getKey","getAll","getAllKeys","count"],v$=["put","add","delete","clear"],ew=new Map;function _x(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ew.get(e))return ew.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=v$.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||y$.includes(t)))return;let o=function(s,...a){return E(this,null,function*(){let l=this.transaction(s,i?"readwrite":"readonly"),u=l.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&l.done]))[0]})};return ew.set(e,o),o}vx(n=>X(V({},n),{get:(e,t,r)=>_x(e,t)||n.get(e,t,r),has:(e,t)=>!!_x(e,t)||n.has(e,t)}));var nw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(_$(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function _$(n){let e=n.getComponent();return e?.type==="VERSION"}var rw="@firebase/app",Ex="0.13.0";var ai=new xr("@firebase/app"),w$="@firebase/app-compat",E$="@firebase/analytics-compat",I$="@firebase/analytics",b$="@firebase/app-check-compat",C$="@firebase/app-check",T$="@firebase/auth",D$="@firebase/auth-compat",S$="@firebase/database",A$="@firebase/data-connect",M$="@firebase/database-compat",P$="@firebase/functions",x$="@firebase/functions-compat",R$="@firebase/installations",O$="@firebase/installations-compat",N$="@firebase/messaging",k$="@firebase/messaging-compat",F$="@firebase/performance",L$="@firebase/performance-compat",V$="@firebase/remote-config",j$="@firebase/remote-config-compat",U$="@firebase/storage",B$="@firebase/storage-compat",$$="@firebase/firestore",H$="@firebase/ai",z$="@firebase/firestore-compat",q$="firebase",G$="11.8.0";var iw="[DEFAULT]",W$={[rw]:"fire-core",[w$]:"fire-core-compat",[I$]:"fire-analytics",[E$]:"fire-analytics-compat",[C$]:"fire-app-check",[b$]:"fire-app-check-compat",[T$]:"fire-auth",[D$]:"fire-auth-compat",[S$]:"fire-rtdb",[A$]:"fire-data-connect",[M$]:"fire-rtdb-compat",[P$]:"fire-fn",[x$]:"fire-fn-compat",[R$]:"fire-iid",[O$]:"fire-iid-compat",[N$]:"fire-fcm",[k$]:"fire-fcm-compat",[F$]:"fire-perf",[L$]:"fire-perf-compat",[V$]:"fire-rc",[j$]:"fire-rc-compat",[U$]:"fire-gcs",[B$]:"fire-gcs-compat",[$$]:"fire-fst",[z$]:"fire-fst-compat",[H$]:"fire-vertex","fire-js":"fire-js",[q$]:"fire-js-all"};var ou=new Map,K$=new Map,ow=new Map;function Ix(n,e){try{n.container.addComponent(e)}catch(t){ai.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ar(n){let e=n.name;if(ow.has(e))return ai.debug(`There were multiple attempts to register component ${e}.`),!1;ow.set(e,n);for(let t of ou.values())Ix(t,n);for(let t of K$.values())Ix(t,n);return!0}function Va(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function wn(n){return n==null?!1:n.settings!==void 0}var Q$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},no=new sr("app","Firebase",Q$);var sw=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new an("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw no.create("app-deleted",{appName:this._name})}};var ro=G$;function au(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:iw,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw no.create("bad-app-name",{appName:String(i)});if(t||(t=W0()),!t)throw no.create("no-options");let o=ou.get(i);if(o){if(Pr(t,o.options)&&Pr(r,o.config))return o;throw no.create("duplicate-app",{appName:i})}let s=new Ep(i);for(let l of ow.values())s.addComponent(l);let a=new sw(t,r,s);return ou.set(i,a),a}function us(n=iw){let e=ou.get(n);if(!e&&n===iw&&W0())return au();if(!e)throw no.create("no-app",{appName:n});return e}function bp(){return Array.from(ou.values())}function _t(n,e,t){var r;let i=(r=W$[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ai.warn(a.join(" "));return}ar(new an(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Y$="firebase-heartbeat-database",J$=1,su="firebase-heartbeat-store",tw=null;function Dx(){return tw||(tw=wx(Y$,J$,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(su)}catch(t){console.warn(t)}}}}).catch(n=>{throw no.create("idb-open",{originalErrorMessage:n.message})})),tw}function Z$(n){return E(this,null,function*(){try{let t=(yield Dx()).transaction(su),r=yield t.objectStore(su).get(Sx(n));return yield t.done,r}catch(e){if(e instanceof Pn)ai.warn(e.message);else{let t=no.create("idb-get",{originalErrorMessage:e?.message});ai.warn(t.message)}}})}function bx(n,e){return E(this,null,function*(){try{let r=(yield Dx()).transaction(su,"readwrite");yield r.objectStore(su).put(e,Sx(n)),yield r.done}catch(t){if(t instanceof Pn)ai.warn(t.message);else{let r=no.create("idb-set",{originalErrorMessage:t?.message});ai.warn(r.message)}}})}function Sx(n){return`${n.name}!${n.options.appId}`}var X$=1024,e5=30,aw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new cw(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return E(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Cx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>e5){let s=n5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ai.warn(r)}})}getHeartbeatsHeader(){return E(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Cx(),{heartbeatsToSend:r,unsentEntries:i}=t5(this._heartbeatsCache.heartbeats),o=nu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ai.warn(t),""}})}};function Cx(){return new Date().toISOString().substring(0,10)}function t5(n,e=X$){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Tx(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Tx(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var cw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return ru()?dx().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Z$(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return bx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return bx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Tx(n){return nu(JSON.stringify({version:2,heartbeats:n})).length}function n5(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function r5(n){ar(new an("platform-logger",e=>new nw(e),"PRIVATE")),ar(new an("heartbeat",e=>new aw(e),"PRIVATE")),_t(rw,Ex,n),_t(rw,Ex,"esm2017"),_t("fire-js","")}r5("");function Hx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var zx=Hx,qx=new sr("auth","Firebase",Hx());var Mp=new xr("@firebase/auth");function i5(n,...e){Mp.logLevel<=Ee.WARN&&Mp.warn(`Auth (${ro}): ${n}`,...e)}function Tp(n,...e){Mp.logLevel<=Ee.ERROR&&Mp.error(`Auth (${ro}): ${n}`,...e)}function Nr(n,...e){throw Ow(n,...e)}function ds(n,...e){return Ow(n,...e)}function Gx(n,e,t){let r=Object.assign(Object.assign({},zx()),{[e]:t});return new sr("auth","Firebase",r).create(e,{appName:n.name})}function ui(n){return Gx(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ow(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return qx.create(n,...e)}function ne(n,e,...t){if(!n)throw Ow(e,...t)}function ci(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Tp(e),new Error(e)}function so(n,e){n||ci(e)}function hw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function o5(){return Ax()==="http:"||Ax()==="https:"}function Ax(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function s5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(o5()||ax()||"connection"in navigator)?navigator.onLine:!0}function a5(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var hs=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,so(t>e,"Short delay should be less than long delay!"),this.isMobile=ox()||cx()}get(){return s5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Nw(n,e){so(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Pp=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var c5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var l5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],u5=new hs(3e4,6e4);function di(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function kr(o,s,a,l){return E(this,arguments,function*(n,e,t,r,i={}){return Wx(n,i,()=>E(null,null,function*(){let u={},h={};r&&(e==="GET"?h=r:u={body:JSON.stringify(r)});let p=iu(Object.assign({key:n.config.apiKey},h)).slice(1),v=yield n._getAdditionalHeaders();v["Content-Type"]="application/json",n.languageCode&&(v["X-Firebase-Locale"]=n.languageCode);let _=Object.assign({method:e,headers:v},u);return sx()||(_.referrerPolicy="no-referrer"),n.emulatorConfig&&cs(n.emulatorConfig.host)&&(_.credentials="include"),Pp.fetch()(yield Kx(n,n.config.apiHost,t,p),_)}))})}function Wx(n,e,t){return E(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},c5),e);try{let i=new fw(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Cp(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cp(n,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Cp(n,"email-already-in-use",s);if(l==="USER_DISABLED")throw Cp(n,"user-disabled",s);let h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Gx(n,h,u);Nr(n,h)}}catch(i){if(i instanceof Pn)throw i;Nr(n,"network-request-failed",{message:String(i)})}})}function gu(o,s,a,l){return E(this,arguments,function*(n,e,t,r,i={}){let u=yield kr(n,e,t,r,i);return"mfaPendingCredential"in u&&Nr(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function Kx(n,e,t,r){return E(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?Nw(n.config,i):`${n.config.apiScheme}://${i}`;return l5.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function d5(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var fw=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ds(this.auth,"network-request-failed")),u5.get())})}};function Cp(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=ds(n,e,r);return i.customData._tokenResponse=t,i}function Mx(n){return n!==void 0&&n.enterprise!==void 0}var pw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return d5(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function h5(n,e){return E(this,null,function*(){return kr(n,"GET","/v2/recaptchaConfig",di(n,e))})}function f5(n,e){return E(this,null,function*(){return kr(n,"POST","/v1/accounts:delete",e)})}function xp(n,e){return E(this,null,function*(){return kr(n,"POST","/v1/accounts:lookup",e)})}function lu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function kw(n,e=!1){return E(this,null,function*(){let t=Bt(n),r=yield t.getIdToken(e),i=Fw(r);ne(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:lu(lw(i.auth_time)),issuedAtTime:lu(lw(i.iat)),expirationTime:lu(lw(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function lw(n){return Number(n)*1e3}function Fw(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Tp("JWT malformed, contained fewer than 3 sections"),null;try{let i=yp(t);return i?JSON.parse(i):(Tp("Failed to decode base64 JWT payload"),null)}catch(i){return Tp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Px(n){let e=Fw(n);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ja(n,e,t=!1){return E(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Pn&&p5(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function p5({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var gw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),t)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var du=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=lu(this.lastLoginAt),this.creationTime=lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Rp(n){return E(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield ja(n,xp(t,{idToken:r}));ne(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Qx(o.providerUserInfo):[],a=g5(n.providerData,s),l=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,h=l?u:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new du(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function Lw(n){return E(this,null,function*(){let e=Bt(n);yield Rp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function g5(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Qx(n){return n.map(e=>{var{providerId:t}=e,r=wy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function m5(n,e){return E(this,null,function*(){let t=yield Wx(n,{},()=>E(null,null,function*(){let r=iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield Kx(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Pp.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function y5(n,e){return E(this,null,function*(){return kr(n,"POST","/v2/accounts:revokeToken",di(n,e))})}var uu=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Px(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ne(e.length!==0,"internal-error");let t=Px(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return E(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return E(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield m5(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(ne(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ne(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ne(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ci("not implemented")}};function io(n,e){ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var oo=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=wy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new du(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let t=yield ja(this,this.stsTokenManager.getToken(this.auth,e));return ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return kw(this,e)}reload(){return Lw(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return E(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Rp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){if(wn(this.auth.app))return Promise.reject(ui(this.auth));let e=yield this.getIdToken();return yield ja(this,f5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,l,u,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,_=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=t.photoURL)!==null&&s!==void 0?s:void 0,N=(a=t.tenantId)!==null&&a!==void 0?a:void 0,O=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,H=(u=t.createdAt)!==null&&u!==void 0?u:void 0,ee=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:J,emailVerified:Te,isAnonymous:dt,providerData:Re,stsTokenManager:A}=t;ne(J&&A,e,"internal-error");let I=uu.fromJSON(this.name,A);ne(typeof J=="string",e,"internal-error"),io(p,e.name),io(v,e.name),ne(typeof Te=="boolean",e,"internal-error"),ne(typeof dt=="boolean",e,"internal-error"),io(_,e.name),io(S,e.name),io(N,e.name),io(O,e.name),io(H,e.name),io(ee,e.name);let T=new n({uid:J,auth:e,email:v,emailVerified:Te,displayName:p,isAnonymous:dt,photoURL:S,phoneNumber:_,tenantId:N,stsTokenManager:I,createdAt:H,lastLoginAt:ee});return Re&&Array.isArray(Re)&&(T.providerData=Re.map(D=>Object.assign({},D))),O&&(T._redirectEventId=O),T}static _fromIdTokenResponse(e,t,r=!1){return E(this,null,function*(){let i=new uu;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Rp(o),o})}static _fromGetAccountInfoResponse(e,t,r){return E(this,null,function*(){let i=t.users[0];ne(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?Qx(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new uu;a.updateFromIdToken(r);let l=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new du(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,u),l})}};var xx=new Map;function li(n){so(n instanceof Function,"Expected a class definition");let e=xx.get(n);return e?(so(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,xx.set(n,e),e)}var v5=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(t,r){return E(this,null,function*(){this.storage[t]=r})}_get(t){return E(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return E(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),mw=v5;function Dp(n,e,t){return`firebase:${n}:${e}:${t}`}var Op=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Dp(this.userKey,i.apiKey,o),this.fullPersistenceKey=Dp("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield xp(this.auth,{idToken:e}).catch(()=>{});return t?oo._fromGetAccountInfoResponse(this.auth,t,e):null}return oo._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return E(this,null,function*(){if(!t.length)return new n(li(mw),e,r);let i=(yield Promise.all(t.map(u=>E(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||li(mw),s=Dp(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let h=yield u._get(s);if(h){let p;if(typeof h=="string"){let v=yield xp(e,{idToken:h}).catch(()=>{});if(!v)break;p=yield oo._fromGetAccountInfoResponse(e,v,h)}else p=oo._fromJSON(e,h);u!==o&&(a=p),o=u;break}}catch{}let l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new n(o,e,r):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>E(null,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function Rx(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Xx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Yx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tR(e))return"Blackberry";if(nR(e))return"Webos";if(Jx(e))return"Safari";if((e.includes("chrome/")||Zx(e))&&!e.includes("edge/"))return"Chrome";if(eR(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Yx(n=xt()){return/firefox\//i.test(n)}function Jx(n=xt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Zx(n=xt()){return/crios\//i.test(n)}function Xx(n=xt()){return/iemobile/i.test(n)}function eR(n=xt()){return/android/i.test(n)}function tR(n=xt()){return/blackberry/i.test(n)}function nR(n=xt()){return/webos/i.test(n)}function Vw(n=xt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function _5(n=xt()){var e;return Vw(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function w5(){return lx()&&document.documentMode===10}function rR(n=xt()){return Vw(n)||eR(n)||nR(n)||tR(n)||/windows phone/i.test(n)||Xx(n)}function iR(n,e=[]){let t;switch(n){case"Browser":t=Rx(xt());break;case"Worker":t=`${Rx(xt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ro}/${r}`}var yw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let l=e(o);s(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function E5(t){return E(this,arguments,function*(n,e={}){return kr(n,"GET","/v2/passwordPolicy",di(n,e))})}var I5=6,vw=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:I5,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var _w=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Np(this),this.idTokenSubscription=new Np(this),this.beforeStateQueue=new yw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=li(t)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Op.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return E(this,null,function*(){try{let t=yield xp(this,{idToken:e}),r=yield oo._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return E(this,null,function*(){var t;if(wn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return E(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield Rp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=a5()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){if(wn(this.app))return Promise.reject(ui(this));let t=e?Bt(e):null;return t&&ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return E(this,null,function*(){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return wn(this.app)?Promise.reject(ui(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return wn(this.app)?Promise.reject(ui(this)):this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(li(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield E5(this),t=new vw(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield y5(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return E(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&li(e)||this._popupRedirectResolver;ne(t,this,"argument-error"),this.redirectPersistenceManager=yield Op.create(this,[li(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,r,i);return()=>{s=!0,l()}}else{let l=e.addObserver(t);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return E(this,null,function*(){var e;if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&i5(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function ps(n){return Bt(n)}var Np=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=fx(t=>this.observer=t)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Bp={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b5(n){Bp=n}function oR(n){return Bp.loadJS(n)}function C5(){return Bp.recaptchaEnterpriseScript}function T5(){return Bp.gapiScript}function sR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var ww=class{constructor(){this.enterprise=new Ew}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},Ew=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var D5="recaptcha-enterprise",aR="NO_RECAPTCHA",Iw=class{constructor(e){this.type=D5,this.auth=ps(e)}verify(e="verify",t=!1){return E(this,null,function*(){function r(o){return E(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>E(null,null,function*(){h5(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new pw(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})}))})}function i(o,s,a){let l=window.grecaptcha;Mx(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(aR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ww().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&Mx(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=C5();l.length!==0&&(l+=a),oR(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function cu(n,e,t,r=!1,i=!1){return E(this,null,function*(){let o=new Iw(n),s;if(i)s=aR;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function bw(n,e,t,r,i){return E(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield cu(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>E(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let l=yield cu(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield cu(n,e,t);return r(n,a).catch(l=>E(null,null,function*(){var u;if(((u=n._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield cu(n,e,t,!1,!0);return r(n,h)}return Promise.reject(l)}))}else{let a=yield cu(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function jw(n,e){let t=Va(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Pr(o,e??{}))return i;Nr(i,"already-initialized")}return t.initialize({options:e})}function S5(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(li);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Uw(n,e,t){let r=ps(n);ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=cR(e),{host:s,port:a}=A5(e),l=a===null?"":`:${a}`,u={url:`${o}//${s}${l}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ne(Pr(u,r.config.emulator)&&Pr(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,cs(s)?(_p(`${o}//${s}${l}`),wp("Auth",!0)):i||M5()}function cR(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function A5(n){let e=cR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:Ox(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:Ox(s)}}}function Ox(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function M5(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var hu=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ci("not implemented")}_getIdTokenResponse(e){return ci("not implemented")}_linkToIdToken(e,t){return ci("not implemented")}_getReauthenticationResolver(e){return ci("not implemented")}};function P5(n,e){return E(this,null,function*(){return kr(n,"POST","/v1/accounts:signUp",e)})}function x5(n,e){return E(this,null,function*(){return gu(n,"POST","/v1/accounts:signInWithPassword",di(n,e))})}function R5(n,e){return E(this,null,function*(){return kr(n,"POST","/v1/accounts:sendOobCode",di(n,e))})}function O5(n,e){return E(this,null,function*(){return R5(n,e)})}function N5(n,e){return E(this,null,function*(){return gu(n,"POST","/v1/accounts:signInWithEmailLink",di(n,e))})}function k5(n,e){return E(this,null,function*(){return gu(n,"POST","/v1/accounts:signInWithEmailLink",di(n,e))})}var fu=class n extends hu{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return E(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bw(e,t,"signInWithPassword",x5,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return N5(e,{email:this._email,oobCode:this._password});default:Nr(e,"internal-error")}})}_linkToIdToken(e,t){return E(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bw(e,r,"signUpPassword",P5,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return k5(e,{idToken:t,email:this._email,oobCode:this._password});default:Nr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function uw(n,e){return E(this,null,function*(){return gu(n,"POST","/v1/accounts:signInWithIdp",di(n,e))})}function F5(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function L5(n){let e=Fa(La(n)).link,t=e?Fa(La(e)).deep_link_id:null,r=Fa(La(n)).deep_link_id;return(r?Fa(La(r)).link:null)||r||t||e||n}var kp=class n{constructor(e){var t,r,i,o,s,a;let l=Fa(La(e)),u=(t=l.apiKey)!==null&&t!==void 0?t:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,p=F5((i=l.mode)!==null&&i!==void 0?i:null);ne(u&&h&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=h,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=L5(e);try{return new n(t)}catch{return null}}};var lR=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return fu._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=kp.parseLink(r);return ne(i,"argument-error"),fu._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Fp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Cw=class extends Fp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function V5(n,e){return E(this,null,function*(){return gu(n,"POST","/v1/accounts:signUp",di(n,e))})}var Ua=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return E(this,null,function*(){let o=yield oo._fromIdTokenResponse(e,r,i),s=Nx(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return E(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Nx(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function Nx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Tw=class n extends Pn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function uR(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Tw._fromErrorAndOperation(n,o,e,r):o})}function j5(n,e,t=!1){return E(this,null,function*(){let r=yield ja(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Ua._forOperation(n,"link",r)})}function U5(n,e,t=!1){return E(this,null,function*(){let{auth:r}=n;if(wn(r.app))return Promise.reject(ui(r));let i="reauthenticate";try{let o=yield ja(n,uR(r,i,e,n),t);ne(o.idToken,r,"internal-error");let s=Fw(o.idToken);ne(s,r,"internal-error");let{sub:a}=s;return ne(n.uid===a,r,"user-mismatch"),Ua._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Nr(r,"user-mismatch"),o}})}function dR(n,e,t=!1){return E(this,null,function*(){if(wn(n.app))return Promise.reject(ui(n));let r="signIn",i=yield uR(n,r,e),o=yield Ua._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function Bw(n,e){return E(this,null,function*(){return dR(ps(n),e)})}function B5(n,e,t){var r;ne(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),ne(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),ne(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ne(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ne(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function hR(n){return E(this,null,function*(){let e=ps(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function $p(n,e,t){return E(this,null,function*(){if(wn(n.app))return Promise.reject(ui(n));let r=ps(n),s=yield bw(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",V5,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&hR(n),l}),a=yield Ua._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function Hp(n,e,t){return wn(n.app)?Promise.reject(ui(n)):Bw(Bt(n),lR.credential(e,t)).catch(r=>E(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&hR(n),r}))}function zp(n,e){return E(this,null,function*(){let t=Bt(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&B5(t.auth,i,e);let{email:o}=yield O5(t.auth,i);o!==n.email&&(yield n.reload())})}function $5(n,e){return E(this,null,function*(){return kr(n,"POST","/v1/accounts:update",e)})}function qp(r,i){return E(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let o=Bt(n),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=yield ja(o,$5(o.auth,a));o.displayName=l.displayName||null,o.photoURL=l.photoUrl||null;let u=o.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=o.displayName,u.photoURL=o.photoURL),yield o._updateTokensIfNecessary(l)})}function $w(n,e,t,r){return Bt(n).onIdTokenChanged(e,t,r)}function Hw(n,e,t){return Bt(n).beforeAuthStateChanged(e,t)}function Gp(n,e,t,r){return Bt(n).onAuthStateChanged(e,t,r)}var Lp="__sak";var Vp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Lp,"1"),this.storage.removeItem(Lp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var H5=1e3,z5=10,q5=(()=>{class n extends Vp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);w5()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,z5):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},H5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return E(this,null,function*(){yield Mi(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return E(this,null,function*(){let r=yield Mi(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return E(this,null,function*(){yield Mi(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),fR=q5;var G5=(()=>{class n extends Vp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),zw=G5;function W5(n){return Promise.all(n.map(e=>E(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var K5=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return E(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let l=Array.from(a).map(h=>E(this,null,function*(){return h(r.origin,s)})),u=yield W5(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function pR(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Dw=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return E(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{let u=pR("",20);i.port1.start();let h=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let v=p;if(v.data.eventId===u)switch(v.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(v.data.response);break;default:clearTimeout(h),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Or(){return window}function Q5(n){Or().location.href=n}function gR(){return typeof Or().WorkerGlobalScope<"u"&&typeof Or().importScripts=="function"}function Y5(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function J5(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Z5(){return gR()?self:null}var mR="firebaseLocalStorageDb",X5=1,jp="firebaseLocalStorage",yR="fbase_key",fs=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Wp(n,e){return n.transaction([jp],e?"readwrite":"readonly").objectStore(jp)}function eH(){let n=indexedDB.deleteDatabase(mR);return new fs(n).toPromise()}function Sw(){let n=indexedDB.open(mR,X5);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(jp,{keyPath:yR})}catch(i){t(i)}}),n.addEventListener("success",()=>E(null,null,function*(){let r=n.result;r.objectStoreNames.contains(jp)?e(r):(r.close(),yield eH(),e(yield Sw()))}))})}function kx(n,e,t){return E(this,null,function*(){let r=Wp(n,!0).put({[yR]:e,value:t});return new fs(r).toPromise()})}function tH(n,e){return E(this,null,function*(){let t=Wp(n,!1).get(e),r=yield new fs(t).toPromise();return r===void 0?null:r.value})}function Fx(n,e){let t=Wp(n,!0).delete(e);return new fs(t).toPromise()}var nH=800,rH=3,iH=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield Sw(),this.db)})}_withRetries(t){return E(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>rH)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return gR()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=K5._getInstance(Z5()),this.receiver._subscribe("keyChanged",(t,r)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var t,r;if(this.activeServiceWorker=yield Y5(),!this.activeServiceWorker)return;this.sender=new Dw(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||J5()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Sw();return yield kx(t,Lp,"1"),yield Fx(t,Lp),!0}catch{}return!1})}_withPendingWrite(t){return E(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>kx(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return E(this,null,function*(){let r=yield this._withRetries(i=>tH(i,t));return this.localCache[t]=r,r})}_remove(t){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>Fx(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return E(this,null,function*(){let t=yield this._withRetries(o=>{let s=Wp(o,!1).getAll();return new fs(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),nH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),vR=iH;var Dne=sR("rcb"),Sne=new hs(3e4,6e4);function oH(n,e){return e?li(e):(ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var pu=class extends hu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uw(e,this._buildIdpRequest())}_linkToIdToken(e,t){return uw(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return uw(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function sH(n){return dR(n.auth,new pu(n),n.bypassAuthState)}function aH(n){let{auth:e,user:t}=n;return ne(t,e,"internal-error"),U5(t,new pu(n),n.bypassAuthState)}function cH(n){return E(this,null,function*(){let{auth:e,user:t}=n;return ne(t,e,"internal-error"),j5(t,new pu(n),n.bypassAuthState)})}var Aw=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sH;case"linkViaPopup":case"linkViaRedirect":return cH;case"reauthViaPopup":case"reauthViaRedirect":return aH;default:Nr(this.auth,"internal-error")}}resolve(e){so(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){so(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Ane=new hs(2e3,1e4);var lH="pendingRedirect",Sp=new Map,Mw=class n extends Aw{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return E(this,null,function*(){let e=Sp.get(this.auth._key());if(!e){try{let r=(yield uH(this.resolver,this.auth))?yield Mi(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Sp.set(this.auth._key(),e)}return this.bypassAuthState||Sp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return Mi(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Mi(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function uH(n,e){return E(this,null,function*(){let t=fH(e),r=hH(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function dH(n,e){Sp.set(n._key(),e)}function hH(n){return li(n._redirectPersistence)}function fH(n){return Dp(lH,n.config.apiKey,n.name)}function pH(n,e,t=!1){return E(this,null,function*(){if(wn(n.app))return Promise.reject(ui(n));let r=ps(n),i=oH(r,e),s=yield new Mw(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var gH=10*60*1e3,Pw=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mH(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!_R(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ds(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gH&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lx(e))}saveEventToCache(e){this.cachedEventUids.add(Lx(e)),this.lastProcessedEventTime=Date.now()}};function Lx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function _R({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function mH(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _R(n);default:return!1}}function yH(t){return E(this,arguments,function*(n,e={}){return kr(n,"GET","/v1/projects",e)})}var vH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_H=/^https?/;function wH(n){return E(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield yH(n);for(let t of e)try{if(EH(t))return}catch{}Nr(n,"unauthorized-domain")})}function EH(n){let e=hw(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!_H.test(t))return!1;if(vH.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var IH=new hs(3e4,6e4);function Vx(){let n=Or().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function bH(n){return new Promise((e,t)=>{var r,i,o;function s(){Vx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Vx(),t(ds(n,"network-request-failed"))},timeout:IH.get()})}if(!((i=(r=Or().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Or().gapi)===null||o===void 0)&&o.load)s();else{let a=sR("iframefcb");return Or()[a]=()=>{gapi.load?s():t(ds(n,"network-request-failed"))},oR(`${T5()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw Ap=null,e})}var Ap=null;function CH(n){return Ap=Ap||bH(n),Ap}var TH=new hs(5e3,15e3),DH="__/auth/iframe",SH="emulator/auth/iframe",AH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PH(n){let e=n.config;ne(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Nw(e,SH):`https://${n.config.authDomain}/${DH}`,r={apiKey:e.apiKey,appName:n.name,v:ro},i=MH.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${iu(r).slice(1)}`}function xH(n){return E(this,null,function*(){let e=yield CH(n),t=Or().gapi;return ne(t,n,"internal-error"),e.open({where:document.body,url:PH(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AH,dontclear:!0},r=>new Promise((i,o)=>E(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=ds(n,"network-request-failed"),a=Or().setTimeout(()=>{o(s)},TH.get());function l(){Or().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})})))})}var RH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OH=500,NH=600,kH="_blank",FH="http://localhost",Up=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function LH(n,e,t,r=OH,i=NH){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},RH),{width:r.toString(),height:i.toString(),top:o,left:s}),u=xt().toLowerCase();t&&(a=Zx(u)?kH:t),Yx(u)&&(e=e||FH,l.scrollbars="yes");let h=Object.entries(l).reduce((v,[_,S])=>`${v}${_}=${S},`,"");if(_5(u)&&a!=="_self")return VH(e||"",a),new Up(null);let p=window.open(e||"",a,h);ne(p,n,"popup-blocked");try{p.focus()}catch{}return new Up(p)}function VH(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var jH="__/auth/handler",UH="emulator/auth/handler",BH=encodeURIComponent("fac");function jx(n,e,t,r,i,o){return E(this,null,function*(){ne(n.config.authDomain,n,"auth-domain-config-required"),ne(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ro,eventId:i};if(e instanceof Fp){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",hx(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Cw){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let l=yield n._getAppCheckToken(),u=l?`#${BH}=${encodeURIComponent(l)}`:"";return`${$H(n)}?${iu(a).slice(1)}${u}`})}function $H({config:n}){return n.emulator?Nw(n,UH):`https://${n.authDomain}/${jH}`}var dw="webStorageSupport",xw=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zw,this._completeRedirectFn=pH,this._overrideRedirectResult=dH}_openPopup(e,t,r,i){return E(this,null,function*(){var o;so((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield jx(e,t,r,hw(),i);return LH(e,s,pR())})}_openRedirect(e,t,r,i){return E(this,null,function*(){yield this._originValidation(e);let o=yield jx(e,t,r,hw(),i);return Q5(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(so(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return E(this,null,function*(){let t=yield xH(e),r=new Pw(e);return t.register("authEvent",i=>(ne(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(dw,{type:dw},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[dw];s!==void 0&&t(!!s),Nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=wH(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return rR()||Jx()||Vw()}},wR=xw;var Ux="@firebase/auth",Bx="1.10.6";var Rw=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function HH(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zH(n){ar(new an("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ne(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iR(n)},u=new _w(r,i,o,l);return S5(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ar(new an("auth-internal",e=>{let t=ps(e.getProvider("auth").getImmediate());return(r=>new Rw(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),_t(Ux,Bx,HH(n)),_t(Ux,Bx,"esm2017")}var qH=5*60,GH=K0("authIdTokenMaxAge")||qH,$x=null,WH=n=>e=>E(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>GH)return;let i=t?.token;$x!==i&&($x=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function hi(n=us()){let e=Va(n,"auth");if(e.isInitialized())return e.getImmediate();let t=jw(n,{popupRedirectResolver:wR,persistence:[vR,fR,zw]}),r=K0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=WH(o.toString());Hw(t,s,()=>s(t.currentUser)),$w(t,a=>s(a))}}let i=G0("auth");return i&&Uw(t,`http://${i}`),t}function KH(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}b5({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=ds("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",KH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zH("Browser");var k6="firebase",F6="11.8.1";_t(k6,F6,"app");var L6={apiKey:"AIzaSyDnCfzF5psHLcnmbeJGrBuWpxOkUp01Lfo",authDomain:"cocreando-2dbd1.firebaseapp.com",projectId:"cocreando-2dbd1",storageBucket:"cocreando-2dbd1.appspot.com",messagingSenderId:"862709485856",appId:"1:123456789:web:abcd1234"},V6=au(L6),ER=hi(V6);var IR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bR={};var fi,qw;(function(){var n;function e(A,I){function T(){}T.prototype=I.prototype,A.D=I.prototype,A.prototype=new T,A.prototype.constructor=A,A.C=function(D,M,x){for(var C=Array(arguments.length-2),zr=2;zr<arguments.length;zr++)C[zr-2]=arguments[zr];return I.prototype[M].apply(D,C)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,I,T){T||(T=0);var D=Array(16);if(typeof I=="string")for(var M=0;16>M;++M)D[M]=I.charCodeAt(T++)|I.charCodeAt(T++)<<8|I.charCodeAt(T++)<<16|I.charCodeAt(T++)<<24;else for(M=0;16>M;++M)D[M]=I[T++]|I[T++]<<8|I[T++]<<16|I[T++]<<24;I=A.g[0],T=A.g[1],M=A.g[2];var x=A.g[3],C=I+(x^T&(M^x))+D[0]+3614090360&4294967295;I=T+(C<<7&4294967295|C>>>25),C=x+(M^I&(T^M))+D[1]+3905402710&4294967295,x=I+(C<<12&4294967295|C>>>20),C=M+(T^x&(I^T))+D[2]+606105819&4294967295,M=x+(C<<17&4294967295|C>>>15),C=T+(I^M&(x^I))+D[3]+3250441966&4294967295,T=M+(C<<22&4294967295|C>>>10),C=I+(x^T&(M^x))+D[4]+4118548399&4294967295,I=T+(C<<7&4294967295|C>>>25),C=x+(M^I&(T^M))+D[5]+1200080426&4294967295,x=I+(C<<12&4294967295|C>>>20),C=M+(T^x&(I^T))+D[6]+2821735955&4294967295,M=x+(C<<17&4294967295|C>>>15),C=T+(I^M&(x^I))+D[7]+4249261313&4294967295,T=M+(C<<22&4294967295|C>>>10),C=I+(x^T&(M^x))+D[8]+1770035416&4294967295,I=T+(C<<7&4294967295|C>>>25),C=x+(M^I&(T^M))+D[9]+2336552879&4294967295,x=I+(C<<12&4294967295|C>>>20),C=M+(T^x&(I^T))+D[10]+4294925233&4294967295,M=x+(C<<17&4294967295|C>>>15),C=T+(I^M&(x^I))+D[11]+2304563134&4294967295,T=M+(C<<22&4294967295|C>>>10),C=I+(x^T&(M^x))+D[12]+1804603682&4294967295,I=T+(C<<7&4294967295|C>>>25),C=x+(M^I&(T^M))+D[13]+4254626195&4294967295,x=I+(C<<12&4294967295|C>>>20),C=M+(T^x&(I^T))+D[14]+2792965006&4294967295,M=x+(C<<17&4294967295|C>>>15),C=T+(I^M&(x^I))+D[15]+1236535329&4294967295,T=M+(C<<22&4294967295|C>>>10),C=I+(M^x&(T^M))+D[1]+4129170786&4294967295,I=T+(C<<5&4294967295|C>>>27),C=x+(T^M&(I^T))+D[6]+3225465664&4294967295,x=I+(C<<9&4294967295|C>>>23),C=M+(I^T&(x^I))+D[11]+643717713&4294967295,M=x+(C<<14&4294967295|C>>>18),C=T+(x^I&(M^x))+D[0]+3921069994&4294967295,T=M+(C<<20&4294967295|C>>>12),C=I+(M^x&(T^M))+D[5]+3593408605&4294967295,I=T+(C<<5&4294967295|C>>>27),C=x+(T^M&(I^T))+D[10]+38016083&4294967295,x=I+(C<<9&4294967295|C>>>23),C=M+(I^T&(x^I))+D[15]+3634488961&4294967295,M=x+(C<<14&4294967295|C>>>18),C=T+(x^I&(M^x))+D[4]+3889429448&4294967295,T=M+(C<<20&4294967295|C>>>12),C=I+(M^x&(T^M))+D[9]+568446438&4294967295,I=T+(C<<5&4294967295|C>>>27),C=x+(T^M&(I^T))+D[14]+3275163606&4294967295,x=I+(C<<9&4294967295|C>>>23),C=M+(I^T&(x^I))+D[3]+4107603335&4294967295,M=x+(C<<14&4294967295|C>>>18),C=T+(x^I&(M^x))+D[8]+1163531501&4294967295,T=M+(C<<20&4294967295|C>>>12),C=I+(M^x&(T^M))+D[13]+2850285829&4294967295,I=T+(C<<5&4294967295|C>>>27),C=x+(T^M&(I^T))+D[2]+4243563512&4294967295,x=I+(C<<9&4294967295|C>>>23),C=M+(I^T&(x^I))+D[7]+1735328473&4294967295,M=x+(C<<14&4294967295|C>>>18),C=T+(x^I&(M^x))+D[12]+2368359562&4294967295,T=M+(C<<20&4294967295|C>>>12),C=I+(T^M^x)+D[5]+4294588738&4294967295,I=T+(C<<4&4294967295|C>>>28),C=x+(I^T^M)+D[8]+2272392833&4294967295,x=I+(C<<11&4294967295|C>>>21),C=M+(x^I^T)+D[11]+1839030562&4294967295,M=x+(C<<16&4294967295|C>>>16),C=T+(M^x^I)+D[14]+4259657740&4294967295,T=M+(C<<23&4294967295|C>>>9),C=I+(T^M^x)+D[1]+2763975236&4294967295,I=T+(C<<4&4294967295|C>>>28),C=x+(I^T^M)+D[4]+1272893353&4294967295,x=I+(C<<11&4294967295|C>>>21),C=M+(x^I^T)+D[7]+4139469664&4294967295,M=x+(C<<16&4294967295|C>>>16),C=T+(M^x^I)+D[10]+3200236656&4294967295,T=M+(C<<23&4294967295|C>>>9),C=I+(T^M^x)+D[13]+681279174&4294967295,I=T+(C<<4&4294967295|C>>>28),C=x+(I^T^M)+D[0]+3936430074&4294967295,x=I+(C<<11&4294967295|C>>>21),C=M+(x^I^T)+D[3]+3572445317&4294967295,M=x+(C<<16&4294967295|C>>>16),C=T+(M^x^I)+D[6]+76029189&4294967295,T=M+(C<<23&4294967295|C>>>9),C=I+(T^M^x)+D[9]+3654602809&4294967295,I=T+(C<<4&4294967295|C>>>28),C=x+(I^T^M)+D[12]+3873151461&4294967295,x=I+(C<<11&4294967295|C>>>21),C=M+(x^I^T)+D[15]+530742520&4294967295,M=x+(C<<16&4294967295|C>>>16),C=T+(M^x^I)+D[2]+3299628645&4294967295,T=M+(C<<23&4294967295|C>>>9),C=I+(M^(T|~x))+D[0]+4096336452&4294967295,I=T+(C<<6&4294967295|C>>>26),C=x+(T^(I|~M))+D[7]+1126891415&4294967295,x=I+(C<<10&4294967295|C>>>22),C=M+(I^(x|~T))+D[14]+2878612391&4294967295,M=x+(C<<15&4294967295|C>>>17),C=T+(x^(M|~I))+D[5]+4237533241&4294967295,T=M+(C<<21&4294967295|C>>>11),C=I+(M^(T|~x))+D[12]+1700485571&4294967295,I=T+(C<<6&4294967295|C>>>26),C=x+(T^(I|~M))+D[3]+2399980690&4294967295,x=I+(C<<10&4294967295|C>>>22),C=M+(I^(x|~T))+D[10]+4293915773&4294967295,M=x+(C<<15&4294967295|C>>>17),C=T+(x^(M|~I))+D[1]+2240044497&4294967295,T=M+(C<<21&4294967295|C>>>11),C=I+(M^(T|~x))+D[8]+1873313359&4294967295,I=T+(C<<6&4294967295|C>>>26),C=x+(T^(I|~M))+D[15]+4264355552&4294967295,x=I+(C<<10&4294967295|C>>>22),C=M+(I^(x|~T))+D[6]+2734768916&4294967295,M=x+(C<<15&4294967295|C>>>17),C=T+(x^(M|~I))+D[13]+1309151649&4294967295,T=M+(C<<21&4294967295|C>>>11),C=I+(M^(T|~x))+D[4]+4149444226&4294967295,I=T+(C<<6&4294967295|C>>>26),C=x+(T^(I|~M))+D[11]+3174756917&4294967295,x=I+(C<<10&4294967295|C>>>22),C=M+(I^(x|~T))+D[2]+718787259&4294967295,M=x+(C<<15&4294967295|C>>>17),C=T+(x^(M|~I))+D[9]+3951481745&4294967295,A.g[0]=A.g[0]+I&4294967295,A.g[1]=A.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,A.g[2]=A.g[2]+M&4294967295,A.g[3]=A.g[3]+x&4294967295}r.prototype.u=function(A,I){I===void 0&&(I=A.length);for(var T=I-this.blockSize,D=this.B,M=this.h,x=0;x<I;){if(M==0)for(;x<=T;)i(this,A,x),x+=this.blockSize;if(typeof A=="string"){for(;x<I;)if(D[M++]=A.charCodeAt(x++),M==this.blockSize){i(this,D),M=0;break}}else for(;x<I;)if(D[M++]=A[x++],M==this.blockSize){i(this,D),M=0;break}}this.h=M,this.o+=I},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var I=1;I<A.length-8;++I)A[I]=0;var T=8*this.o;for(I=A.length-8;I<A.length;++I)A[I]=T&255,T/=256;for(this.u(A),A=Array(16),I=T=0;4>I;++I)for(var D=0;32>D;D+=8)A[T++]=this.g[I]>>>D&255;return A};function o(A,I){var T=a;return Object.prototype.hasOwnProperty.call(T,A)?T[A]:T[A]=I(A)}function s(A,I){this.h=I;for(var T=[],D=!0,M=A.length-1;0<=M;M--){var x=A[M]|0;D&&x==I||(T[M]=x,D=!1)}this.g=T}var a={};function l(A){return-128<=A&&128>A?o(A,function(I){return new s([I|0],0>I?-1:0)}):new s([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return p;if(0>A)return O(u(-A));for(var I=[],T=1,D=0;A>=T;D++)I[D]=A/T|0,T*=4294967296;return new s(I,0)}function h(A,I){if(A.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(A.charAt(0)=="-")return O(h(A.substring(1),I));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(I,8)),D=p,M=0;M<A.length;M+=8){var x=Math.min(8,A.length-M),C=parseInt(A.substring(M,M+x),I);8>x?(x=u(Math.pow(I,x)),D=D.j(x).add(u(C))):(D=D.j(T),D=D.add(u(C)))}return D}var p=l(0),v=l(1),_=l(16777216);n=s.prototype,n.m=function(){if(N(this))return-O(this).m();for(var A=0,I=1,T=0;T<this.g.length;T++){var D=this.i(T);A+=(0<=D?D:4294967296+D)*I,I*=4294967296}return A},n.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(S(this))return"0";if(N(this))return"-"+O(this).toString(A);for(var I=u(Math.pow(A,6)),T=this,D="";;){var M=Te(T,I).g;T=H(T,M.j(I));var x=((0<T.g.length?T.g[0]:T.h)>>>0).toString(A);if(T=M,S(T))return x+D;for(;6>x.length;)x="0"+x;D=x+D}},n.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function S(A){if(A.h!=0)return!1;for(var I=0;I<A.g.length;I++)if(A.g[I]!=0)return!1;return!0}function N(A){return A.h==-1}n.l=function(A){return A=H(this,A),N(A)?-1:S(A)?0:1};function O(A){for(var I=A.g.length,T=[],D=0;D<I;D++)T[D]=~A.g[D];return new s(T,~A.h).add(v)}n.abs=function(){return N(this)?O(this):this},n.add=function(A){for(var I=Math.max(this.g.length,A.g.length),T=[],D=0,M=0;M<=I;M++){var x=D+(this.i(M)&65535)+(A.i(M)&65535),C=(x>>>16)+(this.i(M)>>>16)+(A.i(M)>>>16);D=C>>>16,x&=65535,C&=65535,T[M]=C<<16|x}return new s(T,T[T.length-1]&-2147483648?-1:0)};function H(A,I){return A.add(O(I))}n.j=function(A){if(S(this)||S(A))return p;if(N(this))return N(A)?O(this).j(O(A)):O(O(this).j(A));if(N(A))return O(this.j(O(A)));if(0>this.l(_)&&0>A.l(_))return u(this.m()*A.m());for(var I=this.g.length+A.g.length,T=[],D=0;D<2*I;D++)T[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<A.g.length;M++){var x=this.i(D)>>>16,C=this.i(D)&65535,zr=A.i(M)>>>16,wc=A.i(M)&65535;T[2*D+2*M]+=C*wc,ee(T,2*D+2*M),T[2*D+2*M+1]+=x*wc,ee(T,2*D+2*M+1),T[2*D+2*M+1]+=C*zr,ee(T,2*D+2*M+1),T[2*D+2*M+2]+=x*zr,ee(T,2*D+2*M+2)}for(D=0;D<I;D++)T[D]=T[2*D+1]<<16|T[2*D];for(D=I;D<2*I;D++)T[D]=0;return new s(T,0)};function ee(A,I){for(;(A[I]&65535)!=A[I];)A[I+1]+=A[I]>>>16,A[I]&=65535,I++}function J(A,I){this.g=A,this.h=I}function Te(A,I){if(S(I))throw Error("division by zero");if(S(A))return new J(p,p);if(N(A))return I=Te(O(A),I),new J(O(I.g),O(I.h));if(N(I))return I=Te(A,O(I)),new J(O(I.g),I.h);if(30<A.g.length){if(N(A)||N(I))throw Error("slowDivide_ only works with positive integers.");for(var T=v,D=I;0>=D.l(A);)T=dt(T),D=dt(D);var M=Re(T,1),x=Re(D,1);for(D=Re(D,2),T=Re(T,2);!S(D);){var C=x.add(D);0>=C.l(A)&&(M=M.add(T),x=C),D=Re(D,1),T=Re(T,1)}return I=H(A,M.j(I)),new J(M,I)}for(M=p;0<=A.l(I);){for(T=Math.max(1,Math.floor(A.m()/I.m())),D=Math.ceil(Math.log(T)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),x=u(T),C=x.j(I);N(C)||0<C.l(A);)T-=D,x=u(T),C=x.j(I);S(x)&&(x=v),M=M.add(x),A=H(A,C)}return new J(M,A)}n.A=function(A){return Te(this,A).h},n.and=function(A){for(var I=Math.max(this.g.length,A.g.length),T=[],D=0;D<I;D++)T[D]=this.i(D)&A.i(D);return new s(T,this.h&A.h)},n.or=function(A){for(var I=Math.max(this.g.length,A.g.length),T=[],D=0;D<I;D++)T[D]=this.i(D)|A.i(D);return new s(T,this.h|A.h)},n.xor=function(A){for(var I=Math.max(this.g.length,A.g.length),T=[],D=0;D<I;D++)T[D]=this.i(D)^A.i(D);return new s(T,this.h^A.h)};function dt(A){for(var I=A.g.length+1,T=[],D=0;D<I;D++)T[D]=A.i(D)<<1|A.i(D-1)>>>31;return new s(T,A.h)}function Re(A,I){var T=I>>5;I%=32;for(var D=A.g.length-T,M=[],x=0;x<D;x++)M[x]=0<I?A.i(x+T)>>>I|A.i(x+T+1)<<32-I:A.i(x+T);return new s(M,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,qw=bR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=h,fi=bR.Integer=s}).apply(typeof IR<"u"?IR:typeof self<"u"?self:typeof window<"u"?window:{});var Kp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pi={};var Gw,j6,Ba,Ww,mu,Qp,Kw,Qw,Yw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kp=="object"&&Kp];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var P=c[m];if(!(P in f))break e;f=f[P]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,P={next:function(){if(!m&&f<c.length){var R=f++;return{value:d(R,c[R]),done:!1}}return m=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function l(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function u(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,m),c.apply(d,P)}}return function(){return c.apply(d,arguments)}}function v(c,d,f){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,v.apply(null,arguments)}function _(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,P,R){for(var B=Array(arguments.length-2),He=2;He<arguments.length;He++)B[He-2]=arguments[He];return d.prototype[P].apply(m,B)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function O(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(l(m)){let P=c.length||0,R=m.length||0;c.length=P+R;for(let B=0;B<R;B++)c[P+B]=m[B]}else c.push(m)}}class H{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function ee(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Te(c){return Te[" "](c),c}Te[" "]=function(){};var dt=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function Re(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function A(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function I(c){let d={};for(let f in c)d[f]=c[f];return d}let T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,d){let f,m;for(let P=1;P<arguments.length;P++){m=arguments[P];for(f in m)c[f]=m[f];for(let R=0;R<T.length;R++)f=T[R],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function M(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function x(c){a.setTimeout(()=>{throw c},0)}function C(){var c=_m;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class zr{constructor(){this.h=this.g=null}add(d,f){let m=wc.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var wc=new H(()=>new xN,c=>c.reset());class xN{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ec,Ic=!1,_m=new zr,Nb=()=>{let c=a.Promise.resolve(void 0);Ec=()=>{c.then(RN)}};var RN=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(f){x(f)}var d=wc;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ic=!1};function Ti(){this.s=this.s,this.C=this.C}Ti.prototype.s=!1,Ti.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ti.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ht(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Ht.prototype.h=function(){this.defaultPrevented=!0};var ON=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function bc(c,d){if(Ht.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(dt){e:{try{Te(d.nodeName);var P=!0;break e}catch{}P=!1}P||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:NN[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&bc.aa.h.call(this)}}S(bc,Ht);var NN={2:"touch",3:"pen",4:"mouse"};bc.prototype.h=function(){bc.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Cc="closure_listenable_"+(1e6*Math.random()|0),kN=0;function FN(c,d,f,m,P){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=P,this.key=++kN,this.da=this.fa=!1}function td(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function nd(c){this.src=c,this.g={},this.h=0}nd.prototype.add=function(c,d,f,m,P){var R=c.toString();c=this.g[R],c||(c=this.g[R]=[],this.h++);var B=Em(c,d,m,P);return-1<B?(d=c[B],f||(d.fa=!1)):(d=new FN(d,this.src,R,!!m,P),d.fa=f,c.push(d)),d};function wm(c,d){var f=d.type;if(f in c.g){var m=c.g[f],P=Array.prototype.indexOf.call(m,d,void 0),R;(R=0<=P)&&Array.prototype.splice.call(m,P,1),R&&(td(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Em(c,d,f,m){for(var P=0;P<c.length;++P){var R=c[P];if(!R.da&&R.listener==d&&R.capture==!!f&&R.ha==m)return P}return-1}var Im="closure_lm_"+(1e6*Math.random()|0),bm={};function kb(c,d,f,m,P){if(m&&m.once)return Lb(c,d,f,m,P);if(Array.isArray(d)){for(var R=0;R<d.length;R++)kb(c,d[R],f,m,P);return null}return f=Sm(f),c&&c[Cc]?c.K(d,f,u(m)?!!m.capture:!!m,P):Fb(c,d,f,!1,m,P)}function Fb(c,d,f,m,P,R){if(!d)throw Error("Invalid event type");var B=u(P)?!!P.capture:!!P,He=Tm(c);if(He||(c[Im]=He=new nd(c)),f=He.add(d,f,m,B,R),f.proxy)return f;if(m=LN(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)ON||(P=B),P===void 0&&(P=!1),c.addEventListener(d.toString(),m,P);else if(c.attachEvent)c.attachEvent(jb(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function LN(){function c(f){return d.call(c.src,c.listener,f)}let d=VN;return c}function Lb(c,d,f,m,P){if(Array.isArray(d)){for(var R=0;R<d.length;R++)Lb(c,d[R],f,m,P);return null}return f=Sm(f),c&&c[Cc]?c.L(d,f,u(m)?!!m.capture:!!m,P):Fb(c,d,f,!0,m,P)}function Vb(c,d,f,m,P){if(Array.isArray(d))for(var R=0;R<d.length;R++)Vb(c,d[R],f,m,P);else m=u(m)?!!m.capture:!!m,f=Sm(f),c&&c[Cc]?(c=c.i,d=String(d).toString(),d in c.g&&(R=c.g[d],f=Em(R,f,m,P),-1<f&&(td(R[f]),Array.prototype.splice.call(R,f,1),R.length==0&&(delete c.g[d],c.h--)))):c&&(c=Tm(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Em(d,f,m,P)),(f=-1<c?d[c]:null)&&Cm(f))}function Cm(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Cc])wm(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(jb(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=Tm(d))?(wm(f,c),f.h==0&&(f.src=null,d[Im]=null)):td(c)}}}function jb(c){return c in bm?bm[c]:bm[c]="on"+c}function VN(c,d){if(c.da)c=!0;else{d=new bc(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&Cm(c),c=f.call(m,d)}return c}function Tm(c){return c=c[Im],c instanceof nd?c:null}var Dm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sm(c){return typeof c=="function"?c:(c[Dm]||(c[Dm]=function(d){return c.handleEvent(d)}),c[Dm])}function zt(){Ti.call(this),this.i=new nd(this),this.M=this,this.F=null}S(zt,Ti),zt.prototype[Cc]=!0,zt.prototype.removeEventListener=function(c,d,f,m){Vb(this,c,d,f,m)};function en(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new Ht(d,c);else if(d instanceof Ht)d.target=d.target||c;else{var P=d;d=new Ht(m,c),D(d,P)}if(P=!0,f)for(var R=f.length-1;0<=R;R--){var B=d.g=f[R];P=rd(B,m,!0,d)&&P}if(B=d.g=c,P=rd(B,m,!0,d)&&P,P=rd(B,m,!1,d)&&P,f)for(R=0;R<f.length;R++)B=d.g=f[R],P=rd(B,m,!1,d)&&P}zt.prototype.N=function(){if(zt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)td(f[m]);delete c.g[d],c.h--}}this.F=null},zt.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},zt.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function rd(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var P=!0,R=0;R<d.length;++R){var B=d[R];if(B&&!B.da&&B.capture==f){var He=B.listener,Nt=B.ha||B.src;B.fa&&wm(c.i,B),P=He.call(Nt,m)!==!1&&P}}return P&&!m.defaultPrevented}function Ub(c,d,f){if(typeof c=="function")f&&(c=v(c,f));else if(c&&typeof c.handleEvent=="function")c=v(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Bb(c){c.g=Ub(()=>{c.g=null,c.i&&(c.i=!1,Bb(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class jN extends Ti{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Bb(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tc(c){Ti.call(this),this.h=c,this.g={}}S(Tc,Ti);var $b=[];function Hb(c){Re(c.g,function(d,f){this.g.hasOwnProperty(f)&&Cm(d)},c),c.g={}}Tc.prototype.N=function(){Tc.aa.N.call(this),Hb(this)},Tc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Am=a.JSON.stringify,UN=a.JSON.parse,BN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Mm(){}Mm.prototype.h=null;function zb(c){return c.h||(c.h=c.i())}function qb(){}var Dc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pm(){Ht.call(this,"d")}S(Pm,Ht);function xm(){Ht.call(this,"c")}S(xm,Ht);var go={},Gb=null;function id(){return Gb=Gb||new zt}go.La="serverreachability";function Wb(c){Ht.call(this,go.La,c)}S(Wb,Ht);function Sc(c){let d=id();en(d,new Wb(d))}go.STAT_EVENT="statevent";function Kb(c,d){Ht.call(this,go.STAT_EVENT,c),this.stat=d}S(Kb,Ht);function tn(c){let d=id();en(d,new Kb(d,c))}go.Ma="timingevent";function Qb(c,d){Ht.call(this,go.Ma,c),this.size=d}S(Qb,Ht);function Ac(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Mc(){this.g=!0}Mc.prototype.xa=function(){this.g=!1};function $N(c,d,f,m,P,R){c.info(function(){if(c.g)if(R)for(var B="",He=R.split("&"),Nt=0;Nt<He.length;Nt++){var xe=He[Nt].split("=");if(1<xe.length){var qt=xe[0];xe=xe[1];var Gt=qt.split("_");B=2<=Gt.length&&Gt[1]=="type"?B+(qt+"="+xe+"&"):B+(qt+"=redacted&")}}else B=null;else B=R;return"XMLHTTP REQ ("+m+") [attempt "+P+"]: "+d+`
`+f+`
`+B})}function HN(c,d,f,m,P,R,B){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+P+"]: "+d+`
`+f+`
`+R+" "+B})}function Ms(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+qN(c,f)+(m?" "+m:"")})}function zN(c,d){c.info(function(){return"TIMEOUT: "+d})}Mc.prototype.info=function(){};function qN(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var P=m[1];if(Array.isArray(P)&&!(1>P.length)){var R=P[0];if(R!="noop"&&R!="stop"&&R!="close")for(var B=1;B<P.length;B++)P[B]=""}}}}return Am(f)}catch{return d}}var od={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rm;function sd(){}S(sd,Mm),sd.prototype.g=function(){return new XMLHttpRequest},sd.prototype.i=function(){return{}},Rm=new sd;function Di(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new Tc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jb}function Jb(){this.i=null,this.g="",this.h=!1}var Zb={},Om={};function Nm(c,d,f){c.L=1,c.v=ud(qr(d)),c.m=f,c.P=!0,Xb(c,null)}function Xb(c,d){c.F=Date.now(),ad(c),c.A=qr(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),fC(f.i,"t",m),c.C=0,f=c.j.J,c.h=new Jb,c.g=xC(c.j,f?d:null,!c.m),0<c.O&&(c.M=new jN(v(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var P="readystatechange";Array.isArray(P)||(P&&($b[0]=P.toString()),P=$b);for(var R=0;R<P.length;R++){var B=kb(f,P[R],m||d.handleEvent,!1,d.h||d);if(!B)break;d.g[B.key]=B}d=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Sc(),$N(c.i,c.u,c.A,c.l,c.R,c.m)}Di.prototype.ca=function(c){c=c.target;let d=this.M;d&&Gr(c)==3?d.j():this.Y(c)},Di.prototype.Y=function(c){try{if(c==this.g)e:{let Gt=Gr(this.g);var d=this.g.Ba();let Rs=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||wC(this.g)))){this.J||Gt!=4||d==7||(d==8||0>=Rs?Sc(3):Sc(2)),km(this);var f=this.g.Z();this.X=f;t:if(eC(this)){var m=wC(this.g);c="";var P=m.length,R=Gr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mo(this),Pc(this);var B="";break t}this.h.i=new a.TextDecoder}for(d=0;d<P;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(R&&d==P-1)});m.length=0,this.h.g+=c,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=f==200,HN(this.i,this.u,this.A,this.l,this.R,Gt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Nt=this.g;if((He=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(He)){var xe=He;break t}}xe=null}if(f=xe)Ms(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fm(this,f);else{this.o=!1,this.s=3,tn(12),mo(this),Pc(this);break e}}if(this.P){f=!0;let Wn;for(;!this.J&&this.C<B.length;)if(Wn=GN(this,B),Wn==Om){Gt==4&&(this.s=4,tn(14),f=!1),Ms(this.i,this.l,null,"[Incomplete Response]");break}else if(Wn==Zb){this.s=4,tn(15),Ms(this.i,this.l,B,"[Invalid Chunk]"),f=!1;break}else Ms(this.i,this.l,Wn,null),Fm(this,Wn);if(eC(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||B.length!=0||this.h.h||(this.s=1,tn(16),f=!1),this.o=this.o&&f,!f)Ms(this.i,this.l,B,"[Invalid Chunked Response]"),mo(this),Pc(this);else if(0<B.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),$m(qt),qt.M=!0,tn(11))}}else Ms(this.i,this.l,B,null),Fm(this,B);Gt==4&&mo(this),this.o&&!this.J&&(Gt==4?SC(this.j,this):(this.o=!1,ad(this)))}else lk(this.g),f==400&&0<B.indexOf("Unknown SID")?(this.s=3,tn(12)):(this.s=0,tn(13)),mo(this),Pc(this)}}}catch{}finally{}};function eC(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function GN(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?Om:(f=Number(d.substring(f,m)),isNaN(f)?Zb:(m+=1,m+f>d.length?Om:(d=d.slice(m,m+f),c.C=m+f,d)))}Di.prototype.cancel=function(){this.J=!0,mo(this)};function ad(c){c.S=Date.now()+c.I,tC(c,c.I)}function tC(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ac(v(c.ba,c),d)}function km(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Di.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(zN(this.i,this.A),this.L!=2&&(Sc(),tn(17)),mo(this),this.s=2,Pc(this)):tC(this,this.S-c)};function Pc(c){c.j.G==0||c.J||SC(c.j,c)}function mo(c){km(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Hb(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Fm(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Lm(f.h,c))){if(!c.K&&Lm(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var P=m;if(P[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)gd(f),fd(f);else break e;Bm(f),tn(18)}}else f.za=P[1],0<f.za-f.T&&37500>P[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ac(v(f.Za,f),6e3));if(1>=iC(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else vo(f,11)}else if((c.K||f.g==c)&&gd(f),!ee(d))for(P=f.Da.g.parse(d),d=0;d<P.length;d++){let xe=P[d];if(f.T=xe[0],xe=xe[1],f.G==2)if(xe[0]=="c"){f.K=xe[1],f.ia=xe[2];let qt=xe[3];qt!=null&&(f.la=qt,f.j.info("VER="+f.la));let Gt=xe[4];Gt!=null&&(f.Aa=Gt,f.j.info("SVER="+f.Aa));let Rs=xe[5];Rs!=null&&typeof Rs=="number"&&0<Rs&&(m=1.5*Rs,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let Wn=c.g;if(Wn){let yd=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yd){var R=m.h;R.g||yd.indexOf("spdy")==-1&&yd.indexOf("quic")==-1&&yd.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(Vm(R,R.h),R.h=null))}if(m.D){let Hm=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Hm&&(m.ya=Hm,Ke(m.I,m.D,Hm))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var B=c;if(m.qa=PC(m,m.J?m.ia:null,m.W),B.K){oC(m.h,B);var He=B,Nt=m.L;Nt&&(He.I=Nt),He.B&&(km(He),ad(He)),m.g=B}else TC(m);0<f.i.length&&pd(f)}else xe[0]!="stop"&&xe[0]!="close"||vo(f,7);else f.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?vo(f,7):Um(f):xe[0]!="noop"&&f.l&&f.l.ta(xe),f.v=0)}}Sc(4)}catch{}}var WN=class{constructor(c,d){this.g=c,this.map=d}};function nC(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rC(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function iC(c){return c.h?1:c.g?c.g.size:0}function Lm(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Vm(c,d){c.g?c.g.add(d):c.h=d}function oC(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}nC.prototype.cancel=function(){if(this.i=sC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function sC(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function KN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function QN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function aC(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=QN(c),m=KN(c),P=m.length,R=0;R<P;R++)d.call(void 0,m[R],f&&f[R],c)}var cC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function YN(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),P=null;if(0<=m){var R=c[f].substring(0,m);P=c[f].substring(m+1)}else R=c[f];d(R,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function yo(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof yo){this.h=c.h,cd(this,c.j),this.o=c.o,this.g=c.g,ld(this,c.s),this.l=c.l;var d=c.i,f=new Oc;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),lC(this,f),this.m=c.m}else c&&(d=String(c).match(cC))?(this.h=!1,cd(this,d[1]||"",!0),this.o=xc(d[2]||""),this.g=xc(d[3]||"",!0),ld(this,d[4]),this.l=xc(d[5]||"",!0),lC(this,d[6]||"",!0),this.m=xc(d[7]||"")):(this.h=!1,this.i=new Oc(null,this.h))}yo.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Rc(d,uC,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Rc(d,uC,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Rc(f,f.charAt(0)=="/"?XN:ZN,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Rc(f,tk)),c.join("")};function qr(c){return new yo(c)}function cd(c,d,f){c.j=f?xc(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function ld(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function lC(c,d,f){d instanceof Oc?(c.i=d,nk(c.i,c.h)):(f||(d=Rc(d,ek)),c.i=new Oc(d,c.h))}function Ke(c,d,f){c.i.set(d,f)}function ud(c){return Ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function xc(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Rc(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,JN),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function JN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var uC=/[#\/\?@]/g,ZN=/[#\?:]/g,XN=/[#\?]/g,ek=/[#\?@]/g,tk=/#/g;function Oc(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Si(c){c.g||(c.g=new Map,c.h=0,c.i&&YN(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Oc.prototype,n.add=function(c,d){Si(this),this.i=null,c=Ps(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function dC(c,d){Si(c),d=Ps(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function hC(c,d){return Si(c),d=Ps(c,d),c.g.has(d)}n.forEach=function(c,d){Si(this),this.g.forEach(function(f,m){f.forEach(function(P){c.call(d,P,m,this)},this)},this)},n.na=function(){Si(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let P=c[m];for(let R=0;R<P.length;R++)f.push(d[m])}return f},n.V=function(c){Si(this);let d=[];if(typeof c=="string")hC(this,c)&&(d=d.concat(this.g.get(Ps(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return Si(this),this.i=null,c=Ps(this,c),hC(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function fC(c,d,f){dC(c,d),0<f.length&&(c.i=null,c.g.set(Ps(c,d),N(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let R=encodeURIComponent(String(m)),B=this.V(m);for(m=0;m<B.length;m++){var P=R;B[m]!==""&&(P+="="+encodeURIComponent(String(B[m]))),c.push(P)}}return this.i=c.join("&")};function Ps(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function nk(c,d){d&&!c.j&&(Si(c),c.i=null,c.g.forEach(function(f,m){var P=m.toLowerCase();m!=P&&(dC(this,m),fC(this,P,f))},c)),c.j=d}function rk(c,d){let f=new Mc;if(a.Image){let m=new Image;m.onload=_(Ai,f,"TestLoadImage: loaded",!0,d,m),m.onerror=_(Ai,f,"TestLoadImage: error",!1,d,m),m.onabort=_(Ai,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=_(Ai,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function ik(c,d){let f=new Mc,m=new AbortController,P=setTimeout(()=>{m.abort(),Ai(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(R=>{clearTimeout(P),R.ok?Ai(f,"TestPingServer: ok",!0,d):Ai(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(P),Ai(f,"TestPingServer: error",!1,d)})}function Ai(c,d,f,m,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),m(f)}catch{}}function ok(){this.g=new BN}function sk(c,d,f){let m=f||"";try{aC(c,function(P,R){let B=P;u(P)&&(B=Am(P)),d.push(m+R+"="+encodeURIComponent(B))})}catch(P){throw d.push(m+"type="+encodeURIComponent("_badmap")),P}}function Nc(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Nc,Mm),Nc.prototype.g=function(){return new dd(this.l,this.j)},Nc.prototype.i=function(c){return function(){return c}}({});function dd(c,d){zt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(dd,zt),n=dd.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Fc(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kc(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fc(this)),this.g&&(this.readyState=3,Fc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pC(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function pC(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?kc(this):Fc(this),this.readyState==3&&pC(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,kc(this))},n.Qa=function(c){this.g&&(this.response=c,kc(this))},n.ga=function(){this.g&&kc(this)};function kc(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Fc(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Fc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(dd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function gC(c){let d="";return Re(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function jm(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=gC(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ke(c,d,f))}function Xe(c){zt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Xe,zt);var ak=/^https?$/i,ck=["POST","PUT"];n=Xe.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rm.g(),this.v=this.o?zb(this.o):zb(Rm),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(R){mC(this,R);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var P in m)f.set(P,m[P]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let R of m.keys())f.set(R,m.get(R));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(R=>R.toLowerCase()=="content-type"),P=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ck,d,void 0))||m||P||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,B]of f)this.g.setRequestHeader(R,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_C(this),this.u=!0,this.g.send(c),this.u=!1}catch(R){mC(this,R)}};function mC(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,yC(c),hd(c)}function yC(c){c.A||(c.A=!0,en(c,"complete"),en(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,en(this,"complete"),en(this,"abort"),hd(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hd(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?vC(this):this.bb())},n.bb=function(){vC(this)};function vC(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Gr(c)!=4||c.Z()!=2)){if(c.u&&Gr(c)==4)Ub(c.Ea,0,c);else if(en(c,"readystatechange"),Gr(c)==4){c.h=!1;try{let B=c.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=B===0){var P=String(c.D).match(cC)[1]||null;!P&&a.self&&a.self.location&&(P=a.self.location.protocol.slice(0,-1)),m=!ak.test(P?P.toLowerCase():"")}f=m}if(f)en(c,"complete"),en(c,"success");else{c.m=6;try{var R=2<Gr(c)?c.g.statusText:""}catch{R=""}c.l=R+" ["+c.Z()+"]",yC(c)}}finally{hd(c)}}}}function hd(c,d){if(c.g){_C(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||en(c,"ready");try{f.onreadystatechange=m}catch{}}}function _C(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Gr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Gr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),UN(d)}};function wC(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function lk(c){let d={};c=(c.g&&2<=Gr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(ee(c[m]))continue;var f=M(c[m]);let P=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let R=d[P]||[];d[P]=R,R.push(f)}A(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lc(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function EC(c){this.Aa=0,this.i=[],this.j=new Mc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Lc("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Lc("baseRetryDelayMs",5e3,c),this.cb=Lc("retryDelaySeedMs",1e4,c),this.Wa=Lc("forwardChannelMaxRetries",2,c),this.wa=Lc("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new nC(c&&c.concurrentRequestLimit),this.Da=new ok,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=EC.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,m){tn(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=PC(this,null,this.W),pd(this)};function Um(c){if(IC(c),c.G==3){var d=c.U++,f=qr(c.I);if(Ke(f,"SID",c.K),Ke(f,"RID",d),Ke(f,"TYPE","terminate"),Vc(c,f),d=new Di(c,c.j,d),d.L=2,d.v=ud(qr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=xC(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ad(d)}MC(c)}function fd(c){c.g&&($m(c),c.g.cancel(),c.g=null)}function IC(c){fd(c),c.u&&(a.clearTimeout(c.u),c.u=null),gd(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function pd(c){if(!rC(c.h)&&!c.s){c.s=!0;var d=c.Ga;Ec||Nb(),Ic||(Ec(),Ic=!0),_m.add(d,c),c.B=0}}function uk(c,d){return iC(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ac(v(c.Ga,c,d),AC(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let P=new Di(this,this.j,c),R=this.o;if(this.S&&(R?(R=I(R),D(R,this.S)):R=this.S),this.m!==null||this.O||(P.H=R,R=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=CC(this,P,d),f=qr(this.I),Ke(f,"RID",c),Ke(f,"CVER",22),this.D&&Ke(f,"X-HTTP-Session-Id",this.D),Vc(this,f),R&&(this.O?d="headers="+encodeURIComponent(String(gC(R)))+"&"+d:this.m&&jm(f,this.m,R)),Vm(this.h,P),this.Ua&&Ke(f,"TYPE","init"),this.P?(Ke(f,"$req",d),Ke(f,"SID","null"),P.T=!0,Nm(P,f,null)):Nm(P,f,d),this.G=2}}else this.G==3&&(c?bC(this,c):this.i.length==0||rC(this.h)||bC(this))};function bC(c,d){var f;d?f=d.l:f=c.U++;let m=qr(c.I);Ke(m,"SID",c.K),Ke(m,"RID",f),Ke(m,"AID",c.T),Vc(c,m),c.m&&c.o&&jm(m,c.m,c.o),f=new Di(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=CC(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Vm(c.h,f),Nm(f,m,d)}function Vc(c,d){c.H&&Re(c.H,function(f,m){Ke(d,m,f)}),c.l&&aC({},function(f,m){Ke(d,m,f)})}function CC(c,d,f){f=Math.min(c.i.length,f);var m=c.l?v(c.l.Na,c.l,c):null;e:{var P=c.i;let R=-1;for(;;){let B=["count="+f];R==-1?0<f?(R=P[0].g,B.push("ofs="+R)):R=0:B.push("ofs="+R);let He=!0;for(let Nt=0;Nt<f;Nt++){let xe=P[Nt].g,qt=P[Nt].map;if(xe-=R,0>xe)R=Math.max(0,P[Nt].g-100),He=!1;else try{sk(qt,B,"req"+xe+"_")}catch{m&&m(qt)}}if(He){m=B.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function TC(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Ec||Nb(),Ic||(Ec(),Ic=!0),_m.add(d,c),c.v=0}}function Bm(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ac(v(c.Fa,c),AC(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,DC(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ac(v(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tn(10),fd(this),DC(this))};function $m(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function DC(c){c.g=new Di(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=qr(c.qa);Ke(d,"RID","rpc"),Ke(d,"SID",c.K),Ke(d,"AID",c.T),Ke(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ke(d,"TO",c.ja),Ke(d,"TYPE","xmlhttp"),Vc(c,d),c.m&&c.o&&jm(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=ud(qr(d)),f.m=null,f.P=!0,Xb(f,c)}n.Za=function(){this.C!=null&&(this.C=null,fd(this),Bm(this),tn(19))};function gd(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function SC(c,d){var f=null;if(c.g==d){gd(c),$m(c),c.g=null;var m=2}else if(Lm(c.h,d))f=d.D,oC(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var P=c.B;m=id(),en(m,new Qb(m,f)),pd(c)}else TC(c);else if(P=d.s,P==3||P==0&&0<d.X||!(m==1&&uk(c,d)||m==2&&Bm(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),P){case 1:vo(c,5);break;case 4:vo(c,10);break;case 3:vo(c,6);break;default:vo(c,2)}}}function AC(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function vo(c,d){if(c.j.info("Error code "+d),d==2){var f=v(c.fb,c),m=c.Xa;let P=!m;m=new yo(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||cd(m,"https"),ud(m),P?rk(m.toString(),f):ik(m.toString(),f)}else tn(2);c.G=0,c.l&&c.l.sa(d),MC(c),IC(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),tn(2)):(this.j.info("Failed to ping google.com"),tn(1))};function MC(c){if(c.G=0,c.ka=[],c.l){let d=sC(c.h);(d.length!=0||c.i.length!=0)&&(O(c.ka,d),O(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function PC(c,d,f){var m=f instanceof yo?qr(f):new yo(f);if(m.g!="")d&&(m.g=d+"."+m.g),ld(m,m.s);else{var P=a.location;m=P.protocol,d=d?d+"."+P.hostname:P.hostname,P=+P.port;var R=new yo(null);m&&cd(R,m),d&&(R.g=d),P&&ld(R,P),f&&(R.l=f),m=R}return f=c.D,d=c.ya,f&&d&&Ke(m,f,d),Ke(m,"VER",c.la),Vc(c,m),m}function xC(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Xe(new Nc({eb:f})):new Xe(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function RC(){}n=RC.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function md(){}md.prototype.g=function(c,d){return new In(c,d)};function In(c,d){zt.call(this),this.g=new EC(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!ee(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!ee(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new xs(this)}S(In,zt),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){Um(this.g)},In.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Am(c),c=f);d.i.push(new WN(d.Ya++,c)),d.G==3&&pd(d)},In.prototype.N=function(){this.g.l=null,delete this.j,Um(this.g),delete this.g,In.aa.N.call(this)};function OC(c){Pm.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(OC,Pm);function NC(){xm.call(this),this.status=1}S(NC,xm);function xs(c){this.g=c}S(xs,RC),xs.prototype.ua=function(){en(this.g,"a")},xs.prototype.ta=function(c){en(this.g,new OC(c))},xs.prototype.sa=function(c){en(this.g,new NC)},xs.prototype.ra=function(){en(this.g,"b")},md.prototype.createWebChannel=md.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,Yw=pi.createWebChannelTransport=function(){return new md},Qw=pi.getStatEventTarget=function(){return id()},Kw=pi.Event=go,Qp=pi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},od.NO_ERROR=0,od.TIMEOUT=8,od.HTTP_ERROR=6,mu=pi.ErrorCode=od,Yb.COMPLETE="complete",Ww=pi.EventType=Yb,qb.EventType=Dc,Dc.OPEN="a",Dc.CLOSE="b",Dc.ERROR="c",Dc.MESSAGE="d",zt.prototype.listen=zt.prototype.K,Ba=pi.WebChannel=qb,j6=pi.FetchXmlHttpFactory=Nc,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,Gw=pi.XhrIo=Xe}).apply(typeof Kp<"u"?Kp:typeof self<"u"?self:typeof window<"u"?window:{});var CR="@firebase/firestore",TR="4.7.16";var Rt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");var ac="11.8.1";var vs=new xr("@firebase/firestore");function $a(){return vs.logLevel}function Y(n,...e){if(vs.logLevel<=Ee.DEBUG){let t=e.map(UI);vs.debug(`Firestore (${ac}): ${n}`,...t)}}function gi(n,...e){if(vs.logLevel<=Ee.ERROR){let t=e.map(UI);vs.error(`Firestore (${ac}): ${n}`,...t)}}function Ka(n,...e){if(vs.logLevel<=Ee.WARN){let t=e.map(UI);vs.warn(`Firestore (${ac}): ${n}`,...t)}}function UI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function oe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,h1(n,r,t)}function h1(n,e,t){let r=`FIRESTORE (${ac}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw gi(r),new Error(r)}function Fe(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||h1(e,i,r)}function de(n,e){return n}var U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},re=class extends Pn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Lr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var ng=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},tE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Rt.UNAUTHENTICATED))}shutdown(){}},nE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},rE=class{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fe(this.o===void 0,42304);let r=this.i,i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve(),o=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Lr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>E(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Lr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string",31837,{l:r}),new ng(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Rt(e)}},iE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},oE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new iE(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},rg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},sE=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Fe(this.o===void 0,3512);let r=o=>{o.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,Y("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rg(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Fe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new rg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function U6(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function f1(){return new TextEncoder}var ig=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=U6(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function _e(n,e){return n<e?-1:n>e?1:0}function aE(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return _e(r,i);{let o=f1(),s=B6(o.encode(DR(n,t)),o.encode(DR(e,t)));return s!==0?s:_e(r,i)}}t+=r>65535?2:1}return _e(n.length,e.length)}function DR(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function B6(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return _e(n[t],e[t]);return _e(n.length,e.length)}function Qa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var SR=-62135596800,AR=1e6,$t=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*AR);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new re(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new re(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<SR)throw new re(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/AR}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-SR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var pe=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new $t(0,0))}static max(){return new n(new $t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var MR="__name__",og=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&oe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&oe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return _e(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):aE(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fi.fromString(e.substring(4,e.length-2))}},It=class n extends og{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new re(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},$6=/^[_a-zA-Z][_a-zA-Z0-9]*$/,xn=class n extends og{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return $6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===MR}static keyField(){return new n([MR])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new re(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new re(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new re(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new re(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var se=class n{constructor(e){this.path=e}static fromPath(e){return new n(It.fromString(e))}static fromName(e){return new n(It.fromString(e).popFirst(5))}static empty(){return new n(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return It.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new It(e.slice()))}};var Iu=-1,cE=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};cE.UNKNOWN_ID=-1;function H6(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=pe.fromTimestamp(r===1e9?new $t(t+1,0):new $t(t,r));return new _s(i,se.empty(),e)}function z6(n){return new _s(n.readTime,n.key,Iu)}var _s=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(pe.min(),se.empty(),Iu)}static max(){return new n(pe.max(),se.empty(),Iu)}};function q6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=se.comparator(n.documentKey,e.documentKey),t!==0?t:_e(n.largestBatchId,e.largestBatchId))}var G6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",lE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function cc(n){return E(this,null,function*(){if(n.code!==U.FAILED_PRECONDITION||n.message!==G6)throw n;Y("LocalStore","Unexpectedly lost primary lease")})}var j=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},l=>r(l))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let u=l;t(e[u]).next(h=>{s[u]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function W6(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function lc(n){return n.name==="IndexedDbTransactionError"}var BI=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),$I=-1;function kg(n){return n==null}function bu(n){return n===0&&1/n==-1/0}function K6(n){return typeof n=="number"&&Number.isInteger(n)&&!bu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var p1="";function Q6(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=PR(e)),e=Y6(n.get(t),e);return PR(e)}function Y6(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case p1:t+="";break;default:t+=o}}return t}function PR(n){return n+p1+""}var J6="remoteDocuments",g1="owner";var m1="mutationQueues";var y1="mutations";var v1="documentMutations",Z6="remoteDocumentsV14";var _1="remoteDocumentGlobal";var w1="targets";var E1="targetDocuments";var I1="targetGlobal",b1="collectionParents";var C1="clientMetadata";var T1="bundles";var D1="namedQueries";var X6="indexConfiguration";var e8="indexState";var t8="indexEntries";var S1="documentOverlays";var n8="globals";var r8=[m1,y1,v1,J6,w1,g1,I1,E1,C1,_1,b1,T1,D1],Tre=[...r8,S1],i8=[m1,y1,v1,Z6,w1,g1,I1,E1,C1,_1,b1,T1,D1,S1],o8=i8,s8=[...o8,X6,e8,t8];var Dre=[...s8,n8];function xR(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Cs(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function A1(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var it=class n{constructor(e,t){this.comparator=e,this.root=t||Vr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ga(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ga(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ga(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ga(this.root,e,this.comparator,!0)}},Ga=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Vr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw oe(27949);return e+(this.isRed()?0:1)}};Vr.EMPTY=null,Vr.RED=!0,Vr.BLACK=!1;Vr.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Vr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ot=class n{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sg(this.data.getIterator())}getIteratorFrom(e){return new sg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},sg=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Fr=class n{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Ot(xn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qa(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var ag=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Xt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ag("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Xt.EMPTY_BYTE_STRING=new Xt("");var a8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mi(n){if(Fe(!!n,39018),typeof n=="string"){let e=0,t=a8.exec(n);if(Fe(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(n.seconds),nanos:Ze(n.nanos)}}function Ze(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function yi(n){return typeof n=="string"?Xt.fromBase64String(n):Xt.fromUint8Array(n)}var M1="server_timestamp",P1="__type__",x1="__previous_value__",R1="__local_write_time__";function HI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[P1])===null||t===void 0?void 0:t.stringValue)===M1}function Fg(n){let e=n.mapValue.fields[x1];return HI(e)?Fg(e):e}function Cu(n){let e=mi(n.mapValue.fields[R1].timestampValue);return new $t(e.seconds,e.nanos)}var uE=class{constructor(e,t,r,i,o,s,a,l,u,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}},cg="(default)",lg=class n{constructor(e,t){this.projectId=e,this.database=t||cg}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===cg}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var zI="__type__",O1="__max__",Yp={mapValue:{fields:{__type__:{stringValue:O1}}}},qI="__vector__",Ya="value";function ao(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?HI(n)?4:k1(n)?9007199254740991:N1(n)?10:11:oe(28295,{value:n})}function Br(n,e){if(n===e)return!0;let t=ao(n);if(t!==ao(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Cu(n).isEqual(Cu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=mi(i.timestampValue),a=mi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return yi(i.bytesValue).isEqual(yi(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Ze(i.geoPointValue.latitude)===Ze(o.geoPointValue.latitude)&&Ze(i.geoPointValue.longitude)===Ze(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ze(i.integerValue)===Ze(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ze(i.doubleValue),a=Ze(o.doubleValue);return s===a?bu(s)===bu(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Qa(n.arrayValue.values||[],e.arrayValue.values||[],Br);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(xR(s)!==xR(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Br(s[l],a[l])))return!1;return!0}(n,e);default:return oe(52216,{left:n})}}function Tu(n,e){return(n.values||[]).find(t=>Br(t,e))!==void 0}function Ja(n,e){if(n===e)return 0;let t=ao(n),r=ao(e);if(t!==r)return _e(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return _e(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ze(o.integerValue||o.doubleValue),l=Ze(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return RR(n.timestampValue,e.timestampValue);case 4:return RR(Cu(n),Cu(e));case 5:return aE(n.stringValue,e.stringValue);case 6:return function(o,s){let a=yi(o),l=yi(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){let h=_e(a[u],l[u]);if(h!==0)return h}return _e(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=_e(Ze(o.latitude),Ze(s.latitude));return a!==0?a:_e(Ze(o.longitude),Ze(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return OR(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,h;let p=o.fields||{},v=s.fields||{},_=(a=p[Ya])===null||a===void 0?void 0:a.arrayValue,S=(l=v[Ya])===null||l===void 0?void 0:l.arrayValue,N=_e(((u=_?.values)===null||u===void 0?void 0:u.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:OR(_,S)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Yp.mapValue&&s===Yp.mapValue)return 0;if(o===Yp.mapValue)return 1;if(s===Yp.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),u=s.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){let v=aE(l[p],h[p]);if(v!==0)return v;let _=Ja(a[l[p]],u[h[p]]);if(_!==0)return _}return _e(l.length,h.length)}(n.mapValue,e.mapValue);default:throw oe(23264,{Pe:t})}}function RR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return _e(n,e);let t=mi(n),r=mi(e),i=_e(t.seconds,r.seconds);return i!==0?i:_e(t.nanos,r.nanos)}function OR(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Ja(t[i],r[i]);if(o)return o}return _e(t.length,r.length)}function Za(n){return dE(n)}function dE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=mi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return yi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return se.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=dE(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${dE(t.fields[s])}`;return i+"}"}(n.mapValue):oe(61005,{value:n})}function Xp(n){switch(ao(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Fg(n);return e?16+Xp(e):16;case 5:return 2*n.stringValue.length;case 6:return yi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Xp(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Cs(r.fields,(o,s)=>{i+=o.length+Xp(s)}),i}(n.mapValue);default:throw oe(13486,{value:n})}}function hE(n){return!!n&&"integerValue"in n}function GI(n){return!!n&&"arrayValue"in n}function NR(n){return!!n&&"nullValue"in n}function kR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function eg(n){return!!n&&"mapValue"in n}function N1(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[zI])===null||t===void 0?void 0:t.stringValue)===qI}function vu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Cs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=vu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function k1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===O1}var Are={mapValue:{fields:{[zI]:{stringValue:qI},[Ya]:{arrayValue:{}}}}};var cr=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!eg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vu(t)}setAll(e){let t=xn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=vu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());eg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Br(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];eg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Cs(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(vu(this.value))}};function F1(n){let e=[];return Cs(n.fields,(t,r)=>{let i=new xn([t]);if(eg(r)){let o=F1(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Fr(e)}var lr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,pe.min(),pe.min(),pe.min(),cr.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,pe.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,pe.min(),pe.min(),cr.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,pe.min(),pe.min(),cr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Xa=class{constructor(e,t){this.position=e,this.inclusive=t}};function FR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=se.comparator(se.fromName(s.referenceValue),t.key):r=Ja(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function LR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Br(n.position[t],e.position[t]))return!1;return!0}var ec=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function c8(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var ug=class{},Tt=class n extends ug{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new pE(e,t,r):t==="array-contains"?new yE(e,r):t==="in"?new vE(e,r):t==="not-in"?new _E(e,r):t==="array-contains-any"?new wE(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new gE(e,r):new mE(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ja(t,this.value)):t!==null&&ao(this.value)===ao(t)&&this.matchesComparison(Ja(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},$r=class n extends ug{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return L1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function L1(n){return n.op==="and"}function V1(n){return l8(n)&&L1(n)}function l8(n){for(let e of n.filters)if(e instanceof $r)return!1;return!0}function fE(n){if(n instanceof Tt)return n.field.canonicalString()+n.op.toString()+Za(n.value);if(V1(n))return n.filters.map(e=>fE(e)).join(",");{let e=n.filters.map(t=>fE(t)).join(",");return`${n.op}(${e})`}}function j1(n,e){return n instanceof Tt?function(r,i){return i instanceof Tt&&r.op===i.op&&r.field.isEqual(i.field)&&Br(r.value,i.value)}(n,e):n instanceof $r?function(r,i){return i instanceof $r&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&j1(s,i.filters[a]),!0):!1}(n,e):void oe(19439)}function U1(n){return n instanceof Tt?function(t){return`${t.field.canonicalString()} ${t.op} ${Za(t.value)}`}(n):n instanceof $r?function(t){return t.op.toString()+" {"+t.getFilters().map(U1).join(" ,")+"}"}(n):"Filter"}var pE=class extends Tt{constructor(e,t,r){super(e,t,r),this.key=se.fromName(r.referenceValue)}matches(e){let t=se.comparator(e.key,this.key);return this.matchesComparison(t)}},gE=class extends Tt{constructor(e,t){super(e,"in",t),this.keys=B1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},mE=class extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=B1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function B1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>se.fromName(r.referenceValue))}var yE=class extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return GI(t)&&Tu(t.arrayValue,this.value)}},vE=class extends Tt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Tu(this.value.arrayValue,t)}},_E=class extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Tu(this.value.arrayValue,t)}},wE=class extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!GI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Tu(this.value.arrayValue,r))}};var EE=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function VR(n,e=null,t=[],r=[],i=null,o=null,s=null){return new EE(n,e,t,r,i,o,s)}function WI(n){let e=de(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>fE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),kg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Za(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Za(r)).join(",")),e.Ie=t}return e.Ie}function KI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!c8(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!j1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!LR(n.startAt,e.startAt)&&LR(n.endAt,e.endAt)}function IE(n){return se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var tc=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function u8(n,e,t,r,i,o,s,a){return new tc(n,e,t,r,i,o,s,a)}function QI(n){return new tc(n)}function jR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function d8(n){return n.collectionGroup!==null}function _u(n){let e=de(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ot(xn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new ec(o,r))}),t.has(xn.keyField().canonicalString())||e.Ee.push(new ec(xn.keyField(),r))}return e.Ee}function jr(n){let e=de(n);return e.de||(e.de=h8(e,_u(n))),e.de}function h8(n,e){if(n.limitType==="F")return VR(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ec(i.field,o)});let t=n.endAt?new Xa(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Xa(n.startAt.position,n.startAt.inclusive):null;return VR(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function bE(n,e,t){return new tc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Lg(n,e){return KI(jr(n),jr(e))&&n.limitType===e.limitType}function $1(n){return`${WI(jr(n))}|lt:${n.limitType}`}function Ha(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>U1(i)).join(", ")}]`),kg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Za(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Za(i)).join(",")),`Target(${r})`}(jr(n))}; limitType=${n.limitType})`}function Vg(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):se.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of _u(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){let u=FR(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,_u(r),i)||r.endAt&&!function(s,a,l){let u=FR(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,_u(r),i))}(n,e)}function f8(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function H1(n){return(e,t)=>{let r=!1;for(let i of _u(n)){let o=p8(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function p8(n,e,t){let r=n.field.isKeyField()?se.comparator(e.key,t.key):function(o,s,a){let l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Ja(l,u):oe(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return oe(19790,{direction:n.dir})}}var vi=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return A1(this.inner)}size(){return this.innerSize}};var g8=new it(se.comparator);function _i(){return g8}var z1=new it(se.comparator);function yu(...n){let e=z1;for(let t of n)e=e.insert(t.key,t);return e}function q1(n){let e=z1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function gs(){return wu()}function G1(){return wu()}function wu(){return new vi(n=>n.toString(),(n,e)=>n.isEqual(e))}var m8=new it(se.comparator),y8=new Ot(se.comparator);function Ce(...n){let e=y8;for(let t of n)e=e.add(t);return e}var v8=new Ot(_e);function _8(){return v8}function YI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bu(e)?"-0":e}}function W1(n){return{integerValue:""+n}}function w8(n,e){return K6(e)?W1(e):YI(n,e)}var nc=class{constructor(){this._=void 0}};function E8(n,e,t){return n instanceof rc?function(i,o){let s={fields:{[P1]:{stringValue:M1},[R1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&HI(o)&&(o=Fg(o)),o&&(s.fields[x1]=o),{mapValue:s}}(t,e):n instanceof ws?Q1(n,e):n instanceof Es?Y1(n,e):function(i,o){let s=K1(i,o),a=UR(s)+UR(i.Re);return hE(s)&&hE(i.Re)?W1(a):YI(i.serializer,a)}(n,e)}function I8(n,e,t){return n instanceof ws?Q1(n,e):n instanceof Es?Y1(n,e):t}function K1(n,e){return n instanceof ic?function(r){return hE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var rc=class extends nc{},ws=class extends nc{constructor(e){super(),this.elements=e}};function Q1(n,e){let t=J1(e);for(let r of n.elements)t.some(i=>Br(i,r))||t.push(r);return{arrayValue:{values:t}}}var Es=class extends nc{constructor(e){super(),this.elements=e}};function Y1(n,e){let t=J1(e);for(let r of n.elements)t=t.filter(i=>!Br(i,r));return{arrayValue:{values:t}}}var ic=class extends nc{constructor(e,t){super(),this.serializer=e,this.Re=t}};function UR(n){return Ze(n.integerValue||n.doubleValue)}function J1(n){return GI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function b8(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ws&&i instanceof ws||r instanceof Es&&i instanceof Es?Qa(r.elements,i.elements,Br):r instanceof ic&&i instanceof ic?Br(r.Re,i.Re):r instanceof rc&&i instanceof rc}(n.transform,e.transform)}var CE=class{constructor(e,t){this.version=e,this.transformResults=t}},ys=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function tg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var oc=class{};function Z1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new dg(n.key,ys.none()):new Is(n.key,n.data,ys.none());{let t=n.data,r=cr.empty(),i=new Ot(xn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new wi(n.key,r,new Fr(i.toArray()),ys.none())}}function C8(n,e,t){n instanceof Is?function(i,o,s){let a=i.value.clone(),l=$R(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof wi?function(i,o,s){if(!tg(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=$R(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(X1(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Eu(n,e,t,r){return n instanceof Is?function(o,s,a,l){if(!tg(o.precondition,s))return a;let u=o.value.clone(),h=HR(o.fieldTransforms,l,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof wi?function(o,s,a,l){if(!tg(o.precondition,s))return a;let u=HR(o.fieldTransforms,l,s),h=s.data;return h.setAll(X1(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return tg(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function T8(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=K1(r.transform,i||null);o!=null&&(t===null&&(t=cr.empty()),t.set(r.field,o))}return t||null}function BR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qa(r,i,(o,s)=>b8(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Is=class extends oc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},wi=class extends oc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function X1(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function $R(n,e,t){let r=new Map;Fe(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,I8(s,a,t[i]))}return r}function HR(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,E8(o,s,e))}return r}var dg=class extends oc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},TE=class extends oc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var DE=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&C8(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Eu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Eu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=G1();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let l=Z1(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ce())}isEqual(e){return this.batchId===e.batchId&&Qa(this.mutations,e.mutations,(t,r)=>BR(t,r))&&Qa(this.baseMutations,e.baseMutations,(t,r)=>BR(t,r))}},SE=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Fe(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return m8}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var AE=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ME=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var wt,Me;function D8(n){switch(n){case U.OK:return oe(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return oe(15467,{code:n})}}function eO(n){if(n===void 0)return gi("GRPC error has no .code"),U.UNKNOWN;switch(n){case wt.OK:return U.OK;case wt.CANCELLED:return U.CANCELLED;case wt.UNKNOWN:return U.UNKNOWN;case wt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case wt.INTERNAL:return U.INTERNAL;case wt.UNAVAILABLE:return U.UNAVAILABLE;case wt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case wt.NOT_FOUND:return U.NOT_FOUND;case wt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case wt.ABORTED:return U.ABORTED;case wt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case wt.DATA_LOSS:return U.DATA_LOSS;default:return oe(39323,{code:n})}}(Me=wt||(wt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";var zR=null;var S8=new fi([4294967295,4294967295],0);function qR(n){let e=f1().encode(n),t=new qw;return t.update(e),new Uint8Array(t.digest())}function GR(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new fi([t,r],0),new fi([i,o],0)]}var PE=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ms(`Invalid padding: ${t}`);if(r<0)throw new ms(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ms(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ms(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=fi.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(fi.fromNumber(r)));return i.compare(S8)===1&&(i=new fi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=qR(e),[r,i]=GR(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.Se(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let t=qR(e),[r,i]=GR(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.be(s)}}be(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},ms=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var hg=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(pe.min(),i,new it(_e),_i(),Ce())}},Du=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Ce(),Ce(),Ce())}};var Wa=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},fg=class{constructor(e,t){this.targetId=e,this.Ce=t}},pg=class{constructor(e,t,r=Xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},gg=class{constructor(){this.Fe=0,this.Me=WR(),this.xe=Xt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ce(),t=Ce(),r=Ce();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:oe(38017,{changeType:o})}}),new Du(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=WR()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Fe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},xE=class{constructor(e){this.ze=e,this.je=new Map,this.He=_i(),this.Je=Jp(),this.Ye=Jp(),this.Ze=new it(_e)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:oe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let o=i.target;if(IE(o))if(r===0){let s=new se(o.path);this.tt(t,s,lr.newNoDocument(s,pe.min()))}else Fe(r===1,20013,{expectedCount:r});else{let s=this.ut(t);if(s!==r){let a=this.ct(e),l=a?this.lt(a,e,s):1;if(l!==0){this.st(t);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,u)}zR?.ht(function(h,p,v,_,S){var N,O,H,ee,J,Te;let dt={localCacheCount:h,existenceFilterCount:p.count,databaseId:v.database,projectId:v.projectId},Re=p.unchangedNames;return Re&&(dt.bloomFilter={applied:S===0,hashCount:(N=Re?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(ee=(H=(O=Re?.bits)===null||O===void 0?void 0:O.bitmap)===null||H===void 0?void 0:H.length)!==null&&ee!==void 0?ee:0,padding:(Te=(J=Re?.bits)===null||J===void 0?void 0:J.padding)!==null&&Te!==void 0?Te:0,mightContain:A=>{var I;return(I=_?.mightContain(A))!==null&&I!==void 0&&I}}),dt}(s,e.Ce,this.ze.Pt(),a,l))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=yi(r).toUint8Array()}catch(l){if(l instanceof ag)return Ka("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new PE(s,i,o)}catch(l){return Ka(l instanceof ms?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,o,null),i++)}),i}It(e){let t=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&IE(a.target)){let l=new se(a.target.path);this.Et(l).has(s)||this.dt(s,l)||this.tt(s,l,lr.newNoDocument(l,e))}o.Le&&(t.set(s,o.qe()),o.Qe())}});let r=Ce();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new hg(e,t,this.Ze,this.He,r);return this.He=_i(),this.Je=Jp(),this.Ye=Jp(),this.Ze=new it(_e),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new gg,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Ot(_e),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Ot(_e),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||Y("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new gg),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function Jp(){return new it(se.comparator)}function WR(){return new it(se.comparator)}var A8={asc:"ASCENDING",desc:"DESCENDING"},M8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},P8={and:"AND",or:"OR"},RE=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function OE(n,e){return n.useProto3Json||kg(e)?e:{value:e}}function mg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tO(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function x8(n,e){return mg(n,e.toTimestamp())}function Ur(n){return Fe(!!n,49232),pe.fromTimestamp(function(t){let r=mi(t);return new $t(r.seconds,r.nanos)}(n))}function JI(n,e){return NE(n,e).canonicalString()}function NE(n,e){let t=function(i){return new It(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function nO(n){let e=It.fromString(n);return Fe(aO(e),10190,{key:e.toString()}),e}function kE(n,e){return JI(n.databaseId,e.path)}function Jw(n,e){let t=nO(e);if(t.get(1)!==n.databaseId.projectId)throw new re(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new re(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new se(iO(t))}function rO(n,e){return JI(n.databaseId,e)}function R8(n){let e=nO(n);return e.length===4?It.emptyPath():iO(e)}function FE(n){return new It(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function iO(n){return Fe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function KR(n,e,t){return{name:kE(n,e),fields:t.value.mapValue.fields}}function O8(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:oe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(Fe(h===void 0||typeof h=="string",58123),Xt.fromBase64String(h||"")):(Fe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Xt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let h=u.code===void 0?U.UNKNOWN:eO(u.code);return new re(h,u.message||"")}(s);t=new pg(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Jw(n,r.document.name),o=Ur(r.document.updateTime),s=r.document.createTime?Ur(r.document.createTime):pe.min(),a=new cr({mapValue:{fields:r.document.fields}}),l=lr.newFoundDocument(i,o,s,a),u=r.targetIds||[],h=r.removedTargetIds||[];t=new Wa(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Jw(n,r.document),o=r.readTime?Ur(r.readTime):pe.min(),s=lr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Wa([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Jw(n,r.document),o=r.removedTargetIds||[];t=new Wa([],o,i,null)}else{if(!("filter"in e))return oe(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new ME(i,o),a=r.targetId;t=new fg(a,s)}}return t}function N8(n,e){let t;if(e instanceof Is)t={update:KR(n,e.key,e.value)};else if(e instanceof dg)t={delete:kE(n,e.key)};else if(e instanceof wi)t={update:KR(n,e.key,e.data),updateMask:H8(e.fieldMask)};else{if(!(e instanceof TE))return oe(16599,{ft:e.type});t={verify:kE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof rc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ws)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Es)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ic)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw oe(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:x8(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:oe(27497)}(n,e.precondition)),t}function k8(n,e){return n&&n.length>0?(Fe(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?Ur(i.updateTime):Ur(o);return s.isEqual(pe.min())&&(s=Ur(o)),new CE(s,i.transformResults||[])}(t,e))):[]}function F8(n,e){return{documents:[rO(n,e.path)]}}function L8(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=rO(n,i);let o=function(u){if(u.length!==0)return sO($r.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(h=>function(v){return{field:za(v.field),direction:U8(v.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=OE(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:t,parent:i}}function V8(n){let e=R8(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Fe(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let v=oO(p);return v instanceof $r&&V1(v)?v.getFilters():[v]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(v=>function(S){return new ec(qa(S.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(v))}(t.orderBy));let a=null;t.limit&&(a=function(p){let v;return v=typeof p=="object"?p.value:p,kg(v)?null:v}(t.limit));let l=null;t.startAt&&(l=function(p){let v=!!p.before,_=p.values||[];return new Xa(_,v)}(t.startAt));let u=null;return t.endAt&&(u=function(p){let v=!p.before,_=p.values||[];return new Xa(_,v)}(t.endAt)),u8(e,i,s,o,a,"F",l,u)}function j8(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function oO(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=qa(t.unaryFilter.field);return Tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=qa(t.unaryFilter.field);return Tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=qa(t.unaryFilter.field);return Tt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=qa(t.unaryFilter.field);return Tt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}}(n):n.fieldFilter!==void 0?function(t){return Tt.create(qa(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return $r.create(t.compositeFilter.filters.map(r=>oO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe(1026)}}(t.compositeFilter.op))}(n):oe(30097,{filter:n})}function U8(n){return A8[n]}function B8(n){return M8[n]}function $8(n){return P8[n]}function za(n){return{fieldPath:n.canonicalString()}}function qa(n){return xn.fromServerFormat(n.fieldPath)}function sO(n){return n instanceof Tt?function(t){if(t.op==="=="){if(kR(t.value))return{unaryFilter:{field:za(t.field),op:"IS_NAN"}};if(NR(t.value))return{unaryFilter:{field:za(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(kR(t.value))return{unaryFilter:{field:za(t.field),op:"IS_NOT_NAN"}};if(NR(t.value))return{unaryFilter:{field:za(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(t.field),op:B8(t.op),value:t.value}}}(n):n instanceof $r?function(t){let r=t.getFilters().map(i=>sO(i));return r.length===1?r[0]:{compositeFilter:{op:$8(t.op),filters:r}}}(n):oe(54877,{filter:n})}function H8(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function aO(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Su=class n{constructor(e,t,r,i,o=pe.min(),s=pe.min(),a=Xt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var LE=class{constructor(e){this.wt=e}};function z8(n){let e=V8({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?bE(e,e.limit,"L"):e}var yg=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Ze(e.integerValue));else if("doubleValue"in e){let r=Ze(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),bu(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=mi(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(yi(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?k1(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):N1(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):oe(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let o=e.fields||{};this.Mt(t,53);let s=Ya,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(Ze(a)),this.Nt(s,t),this.Ct(o[s],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),se.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};yg.Wt=new yg;var VE=class{constructor(){this.Cn=new jE}addToCollectionParentIndex(e,t){return this.Cn.add(t),j.resolve()}getCollectionParents(e,t){return j.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return j.resolve()}deleteFieldIndex(e,t){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,t){return j.resolve()}getDocumentsMatchingTarget(e,t){return j.resolve(null)}getIndexType(e,t){return j.resolve(0)}getFieldIndexes(e,t){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,t){return j.resolve(_s.min())}getMinOffsetFromCollectionGroup(e,t){return j.resolve(_s.min())}updateCollectionGroup(e,t,r){return j.resolve()}updateIndexEntries(e,t){return j.resolve()}},jE=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ot(It.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ot(It.comparator)).toArray()}};var Mre=new Uint8Array(0);var QR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cO=41943040,qn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(cO,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);var Au=class n{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new n(0)}static lr(){return new n(-1)}};var YR="LruGarbageCollector",q8=1048576;function JR([n,e],[t,r]){let i=_e(n,t);return i===0?_e(e,r):i}var UE=class{constructor(e){this.Er=e,this.buffer=new Ot(JR),this.dr=0}Ar(){return++this.dr}Rr(e){let t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();JR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},BE=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Y(YR,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>E(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){lc(t)?Y(YR,"Ignoring IndexedDB error during garbage collection: ",t):yield cc(t)}yield this.mr(3e5)}))}},$E=class{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return j.resolve(BI.le);let r=new UE(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(QR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QR):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,s,a,l,u,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),$a()<=Ee.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${p} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function G8(n,e){return new $E(n,e)}var HE=class{constructor(){this.changes=new vi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,lr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?j.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var zE=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var qE=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Eu(r.mutation,i,Fr.empty(),$t.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ce()){let i=gs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=yu();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=gs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ce()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=_i(),s=wu(),a=function(){return wu()}();return t.forEach((l,u)=>{let h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof wi)?o=o.insert(u.key,u):h!==void 0?(s.set(u.key,h.mutation.getFieldMask()),Eu(h.mutation,u,h.mutation.getFieldMask(),$t.now())):s.set(u.key,Fr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,h)=>s.set(u,h)),t.forEach((u,h)=>{var p;return a.set(u,new zE(h,(p=s.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=wu(),i=new it((s,a)=>s-a),o=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(l=>{let u=t.get(l);if(u===null)return;let h=r.get(l)||Fr.empty();h=a.applyToLocalView(u,h),r.set(l,h);let p=(i.get(a.batchId)||Ce()).add(l);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),u=l.key,h=l.value,p=G1();h.forEach(v=>{if(!o.has(v)){let _=Z1(t.get(v),r.get(v));_!==null&&p.set(v,_),o=o.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,p))}return j.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return se.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):d8(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):j.resolve(gs()),a=Iu,l=o;return s.next(u=>j.forEach(u,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?j.resolve():this.remoteDocumentCache.getEntry(e,h).next(v=>{l=l.insert(h,v)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ce())).next(h=>({batchId:a,changes:q1(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new se(t)).next(r=>{let i=yu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=yu();return this.indexManager.getCollectionParents(e,o).next(a=>j.forEach(a,l=>{let u=function(p,v){return new tc(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((p,v)=>{s=s.insert(p,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((l,u)=>{let h=u.getKey();s.get(h)===null&&(s=s.insert(h,lr.newInvalidDocument(h)))});let a=yu();return s.forEach((l,u)=>{let h=o.get(l);h!==void 0&&Eu(h.mutation,u,Fr.empty(),$t.now()),Vg(t,u)&&(a=a.insert(l,u))}),a})}};var GE=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return j.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Ur(i.createTime)}}(t)),j.resolve()}getNamedQuery(e,t){return j.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:z8(i.bundledQuery),readTime:Ur(i.readTime)}}(t)),j.resolve()}};var WE=class{constructor(){this.overlays=new it(se.comparator),this.Qr=new Map}getOverlay(e,t){return j.resolve(this.overlays.get(t))}getOverlays(e,t){let r=gs();return j.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.bt(e,t,o)}),j.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),j.resolve()}getOverlaysForCollection(e,t,r){let i=gs(),o=t.length+1,s=new se(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return j.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new it((u,h)=>u-h),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let h=o.get(u.largestBatchId);h===null&&(h=gs(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}let a=gs(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return j.resolve(a)}bt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new AE(t,r));let o=this.Qr.get(t);o===void 0&&(o=Ce(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}};var KE=class{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,j.resolve()}};var Mu=class{constructor(){this.$r=new Ot(Et.Ur),this.Kr=new Ot(Et.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){let r=new Et(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new Et(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){let t=new se(new It([])),r=new Et(t,e),i=new Et(t,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let t=new se(new It([])),r=new Et(t,e),i=new Et(t,e+1),o=Ce();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Et(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Et=class{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return se.comparator(e.key,t.key)||_e(e.Zr,t.Zr)}static Wr(e,t){return _e(e.Zr,t.Zr)||se.comparator(e.key,t.key)}};var QE=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Ot(Et.Ur)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new DE(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new Et(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(s)}lookupMutationBatch(e,t){return j.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ti(r),o=i<0?0:i;return j.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?$I:this.nr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Et(t,0),i=new Et(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),j.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ot(_e);return t.forEach(i=>{let o=new Et(i,0),s=new Et(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),j.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;se.isDocumentKey(o)||(o=o.child(""));let s=new Et(new se(o),0),a=new Ot(_e);return this.Xr.forEachWhile(l=>{let u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Zr)),!0)},s),j.resolve(this.ni(a))}ni(e){let t=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Fe(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return j.forEach(t.mutations,i=>{let o=new Et(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){let r=new Et(t,0),i=this.Xr.firstAfterOrEqual(r);return j.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var YE=class{constructor(e){this.ii=e,this.docs=function(){return new it(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return j.resolve(r?r.document.mutableCopy():lr.newInvalidDocument(t))}getEntries(e,t){let r=_i();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():lr.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=_i(),s=t.path,a=new se(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:u,value:{document:h}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||q6(z6(h),r)<=0||(i.has(h.key)||Vg(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return j.resolve(o)}getAllFromCollectionGroup(e,t,r,i){oe(9500)}si(e,t){return j.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new JE(this)}getSize(e){return j.resolve(this.size)}},JE=class extends HE{constructor(e){super(),this.Br=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),j.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}};var ZE=class{constructor(e){this.persistence=e,this.oi=new vi(t=>WI(t),KI),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this._i=0,this.ai=new Mu,this.targetCount=0,this.ui=Au.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),j.resolve()}Tr(e){this.oi.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ui=new Au(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,j.resolve()}updateTargetData(e,t){return this.Tr(t),j.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(o).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,t){let r=this.oi.get(t)||null;return j.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),j.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),j.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),j.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ai.Yr(t);return j.resolve(r)}containsKey(e,t){return j.resolve(this.ai.containsKey(t))}};var vg=class{constructor(e,t){this.ci={},this.overlays={},this.li=new BI(0),this.hi=!1,this.hi=!0,this.Pi=new KE,this.referenceDelegate=e(this),this.Ti=new ZE(this),this.indexManager=new VE,this.remoteDocumentCache=function(i){return new YE(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new LE(t),this.Ei=new GE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new WE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new QE(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){Y("MemoryPersistence","Starting transaction:",e);let i=new XE(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return j.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}},XE=class extends lE{constructor(e){super(),this.currentSequenceNumber=e}},eI=class n{constructor(e){this.persistence=e,this.Vi=new Mu,this.mi=null}static fi(e){return new n(e)}get gi(){if(this.mi)return this.mi;throw oe(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),j.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),j.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.gi,r=>{let i=se.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,pe.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return j.or([()=>j.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}},_g=class n{constructor(e,t){this.persistence=e,this.yi=new vi(r=>Q6(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=G8(this,t)}static fi(e,t){return new n(e,t)}di(){}Ai(e){return j.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){let t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return j.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?j.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,pe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),j.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),j.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Xp(e.data.value)),t}Dr(e,t,r){return j.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.yi.get(t);return j.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var tI=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=Ce(),i=Ce();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var nI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var rI=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return ux()?8:W6(xt())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ws(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Ss(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new nI;return this.bs(e,t,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,t,s,a.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?($a()<=Ee.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Ha(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),j.resolve()):($a()<=Ee.DEBUG&&Y("QueryEngine","Query:",Ha(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?($a()<=Ee.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Ha(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jr(t))):j.resolve())}ws(e,t){if(jR(t))return j.resolve(null);let r=jr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=bE(t,null,"F"),r=jr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Ce(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let u=this.vs(t,a);return this.Cs(t,u,s,l.readTime)?this.ws(e,bE(t,null,"F")):this.Fs(e,u,t,l)}))})))}Ss(e,t,r,i){return jR(t)||i.isEqual(pe.min())?j.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(t,o);return this.Cs(t,s,r,i)?j.resolve(null):($a()<=Ee.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ha(t)),this.Fs(e,s,t,H6(i,Iu)).next(a=>a))})}vs(e,t){let r=new Ot(H1(e));return t.forEach((i,o)=>{Vg(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}bs(e,t,r){return $a()<=Ee.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Ha(t)),this.ys.getDocumentsMatchingQuery(e,t,_s.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var ZI="LocalStore",W8=3e8,iI=class{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new it(_e),this.Os=new vi(o=>WI(o),KI),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qE(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}};function K8(n,e,t,r){return new iI(n,e,t,r)}function lO(n,e){return E(this,null,function*(){let t=de(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],l=Ce();for(let u of i){s.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}for(let u of o){a.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(r,l).next(u=>({ks:u,removedBatchIds:s,addedBatchIds:a}))})})})}function Q8(n,e){let t=de(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){let p=u.batch,v=p.keys(),_=j.resolve();return v.forEach(S=>{_=_.next(()=>h.getEntry(l,S)).next(N=>{let O=u.docVersions.get(S);Fe(O!==null,48541),N.version.compareTo(O)<0&&(p.applyToRemoteDocument(N,u),N.isValidDocument()&&(N.setReadTime(u.commitVersion),h.addEntry(N)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ce();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function uO(n){let e=de(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function Y8(n,e){let t=de(n),r=e.snapshotVersion,i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;let a=[];e.targetChanges.forEach((h,p)=>{let v=i.get(p);if(!v)return;a.push(t.Ti.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ti.addMatchingKeys(o,h.addedDocuments,p)));let _=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(Xt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,r)),i=i.insert(p,_),function(N,O,H){return N.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=W8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(v,_,h)&&a.push(t.Ti.updateTargetData(o,_))});let l=_i(),u=Ce();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(J8(o,s,e.documentUpdates).next(h=>{l=h.qs,u=h.Qs})),!r.isEqual(pe.min())){let h=t.Ti.getLastRemoteSnapshotVersion(o).next(p=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return j.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(t.xs=i,o))}function J8(n,e,t){let r=Ce(),i=Ce();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=_i();return t.forEach((a,l)=>{let u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(pe.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Y(ZI,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{qs:s,Qs:i}})}function Z8(n,e){let t=de(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=$I),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function X8(n,e){let t=de(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,j.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new Su(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}function oI(n,e,t){return E(this,null,function*(){let r=de(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!lc(s))throw s;Y(ZI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function ZR(n,e,t){let r=de(n),i=pe.min(),o=Ce();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,h){let p=de(l),v=p.Os.get(h);return v!==void 0?j.resolve(p.xs.get(v)):p.Ti.getTargetData(u,h)}(r,s,jr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:pe.min(),t?o:Ce())).next(a=>(ez(r,f8(e),a),{documents:a,$s:o})))}function ez(n,e,t){let r=n.Ns.get(e)||pe.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}var wg=class{constructor(){this.activeTargetIds=_8()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var sI=class{constructor(){this.xo=new wg,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new wg,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var aI=class{No(e){}shutdown(){}};var XR="ConnectivityMonitor",Eg=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Y(XR,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){Y(XR,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Zp=null;function cI(){return Zp===null?Zp=function(){return 268435456+Math.round(2147483648*Math.random())}():Zp++,"0x"+Zp.toString(16)}var Zw="RestConnection",tz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},lI=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===cg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){let s=cI(),a=this.jo(e,t.toUriEncodedString());Y(Zw,`Sending RPC '${e}' ${s}:`,a,r);let l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,i,o);let{host:u}=new URL(a),h=cs(u);return this.Jo(e,a,l,r,h).then(p=>(Y(Zw,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Ka(Zw,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,t,r,i,o,s){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ac}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){let r=tz[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}};var uI=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var Zt="WebChannelConnection",dI=class extends lI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=cI();return new Promise((a,l)=>{let u=new Gw;u.setWithCredentials(!0),u.listenOnce(Ww.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case mu.NO_ERROR:let p=u.getResponseJson();Y(Zt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case mu.TIMEOUT:Y(Zt,`RPC '${e}' ${s} timed out`),l(new re(U.DEADLINE_EXCEEDED,"Request time out"));break;case mu.HTTP_ERROR:let v=u.getStatus();if(Y(Zt,`RPC '${e}' ${s} failed with status:`,v,"response text:",u.getResponseText()),v>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let S=_?.error;if(S&&S.status&&S.message){let N=function(H){let ee=H.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(ee)>=0?ee:U.UNKNOWN}(S.status);l(new re(N,S.message))}else l(new re(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new re(U.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Y(Zt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);Y(Zt,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",h,r,15)})}T_(e,t,r){let i=cI(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Yw(),a=Qw(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;let h=o.join("");Y(Zt,`Creating RPC '${e}' stream ${i}: ${h}`,l);let p=s.createWebChannel(h,l),v=!1,_=!1,S=new uI({Zo:O=>{_?Y(Zt,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(v||(Y(Zt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),Y(Zt,`RPC '${e}' stream ${i} sending:`,O),p.send(O))},Xo:()=>p.close()}),N=(O,H,ee)=>{O.listen(H,J=>{try{ee(J)}catch(Te){setTimeout(()=>{throw Te},0)}})};return N(p,Ba.EventType.OPEN,()=>{_||(Y(Zt,`RPC '${e}' stream ${i} transport opened.`),S.__())}),N(p,Ba.EventType.CLOSE,()=>{_||(_=!0,Y(Zt,`RPC '${e}' stream ${i} transport closed`),S.u_())}),N(p,Ba.EventType.ERROR,O=>{_||(_=!0,Ka(Zt,`RPC '${e}' stream ${i} transport errored. Name:`,O.name,"Message:",O.message),S.u_(new re(U.UNAVAILABLE,"The operation could not be completed")))}),N(p,Ba.EventType.MESSAGE,O=>{var H;if(!_){let ee=O.data[0];Fe(!!ee,16349);let J=ee,Te=J?.error||((H=J[0])===null||H===void 0?void 0:H.error);if(Te){Y(Zt,`RPC '${e}' stream ${i} received error:`,Te);let dt=Te.status,Re=function(T){let D=wt[T];if(D!==void 0)return eO(D)}(dt),A=Te.message;Re===void 0&&(Re=U.INTERNAL,A="Unknown error status: "+dt+" with message "+Te.message),_=!0,S.u_(new re(Re,A)),p.close()}else Y(Zt,`RPC '${e}' stream ${i} received:`,ee),S.c_(ee)}}),N(a,Kw.STAT_EVENT,O=>{O.stat===Qp.PROXY?Y(Zt,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===Qp.NOPROXY&&Y(Zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.a_()},0),S}};function Xw(){return typeof document<"u"?document:null}function jg(n){return new RE(n,!0)}var Ig=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=i,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();let t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,t-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}};var e1="PersistentStream",bg=class{constructor(e,t,r,i,o,s,a,l){this.xi=e,this.y_=r,this.w_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Ig(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}stop(){return E(this,null,function*(){this.F_()&&(yield this.close(0))})}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}B_(){return E(this,null,function*(){if(this.M_())return this.close(0)})}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}close(e,t){return E(this,null,function*(){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===U.RESOURCE_EXHAUSTED?(gi(t.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(t)})}Q_(){}auth(){this.state=1;let e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===t&&this.K_(r,i)},r=>{e(()=>{let i=new re(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,t){let r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(()=>E(this,null,function*(){this.state=0,this.start()}))}W_(e){return Y(e1,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(Y(e1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},hI=class extends bg{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();let t=O8(this.serializer,e),r=function(o){if(!("targetChange"in o))return pe.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?pe.min():s.readTime?Ur(s.readTime):pe.min()}(e);return this.listener.j_(t,r)}H_(e){let t={};t.database=FE(this.serializer),t.addTarget=function(o,s){let a,l=s.target;if(a=IE(l)?{documents:F8(o,l)}:{query:L8(o,l).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=tO(o,s.resumeToken);let u=OE(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(pe.min())>0){a.readTime=mg(o,s.snapshotVersion.toTimestamp());let u=OE(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=j8(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){let t={};t.database=FE(this.serializer),t.removeTarget=e,this.L_(t)}},fI=class extends bg{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();let t=k8(e.writeResults,e.commitTime),r=Ur(e.commitTime);return this.listener.ea(r,t)}ta(){let e={};e.database=FE(this.serializer),this.L_(e)}Z_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>N8(this.serializer,r))};this.L_(t)}};var pI=class{},gI=class extends pI{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new re(U.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,NE(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(U.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,NE(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new re(U.UNKNOWN,s.toString())})}terminate(){this.na=!0,this.connection.terminate()}},mI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(gi(t),this.oa=!1):Y("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}};var bs="RemoteStore",yI=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(s=>{r.enqueueAndForget(()=>E(this,null,function*(){Ts(this)&&(Y(bs,"Restarting streams for network reachability change."),yield function(l){return E(this,null,function*(){let u=de(l);u.Ta.add(4),yield Vu(u),u.da.set("Unknown"),u.Ta.delete(4),yield Ug(u)})}(this))}))}),this.da=new mI(r,i)}};function Ug(n){return E(this,null,function*(){if(Ts(n))for(let e of n.Ia)yield e(!0)})}function Vu(n){return E(this,null,function*(){for(let e of n.Ia)yield e(!1)})}function dO(n,e){let t=de(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),nb(t)?tb(t):uc(t).M_()&&eb(t,e))}function XI(n,e){let t=de(n),r=uc(t);t.Pa.delete(e),r.M_()&&hO(t,e),t.Pa.size===0&&(r.M_()?r.N_():Ts(t)&&t.da.set("Unknown"))}function eb(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}uc(n).H_(e)}function hO(n,e){n.Aa.Ke(e),uc(n).J_(e)}function tb(n){n.Aa=new xE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),uc(n).start(),n.da._a()}function nb(n){return Ts(n)&&!uc(n).F_()&&n.Pa.size>0}function Ts(n){return de(n).Ta.size===0}function fO(n){n.Aa=void 0}function nz(n){return E(this,null,function*(){n.da.set("Online")})}function rz(n){return E(this,null,function*(){n.Pa.forEach((e,t)=>{eb(n,e)})})}function iz(n,e){return E(this,null,function*(){fO(n),nb(n)?(n.da.ca(e),tb(n)):n.da.set("Unknown")})}function oz(n,e,t){return E(this,null,function*(){if(n.da.set("Online"),e instanceof pg&&e.state===2&&e.cause)try{yield function(i,o){return E(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Pa.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Pa.delete(a),i.Aa.removeTarget(a))})}(n,e)}catch(r){Y(bs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Cg(n,r)}else if(e instanceof Wa?n.Aa.Xe(e):e instanceof fg?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(pe.min()))try{let r=yield uO(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Aa.It(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let h=o.Pa.get(u);h&&o.Pa.set(u,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{let h=o.Pa.get(l);if(!h)return;o.Pa.set(l,h.withResumeToken(Xt.EMPTY_BYTE_STRING,h.snapshotVersion)),hO(o,l);let p=new Su(h.target,l,u,h.sequenceNumber);eb(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){Y(bs,"Failed to raise snapshot:",r),yield Cg(n,r)}})}function Cg(n,e,t){return E(this,null,function*(){if(!lc(e))throw e;n.Ta.add(1),yield Vu(n),n.da.set("Offline"),t||(t=()=>uO(n.localStore)),n.asyncQueue.enqueueRetryable(()=>E(null,null,function*(){Y(bs,"Retrying IndexedDB access"),yield t(),n.Ta.delete(1),yield Ug(n)}))})}function pO(n,e){return e().catch(t=>Cg(n,t,e))}function Bg(n){return E(this,null,function*(){let e=de(n),t=co(e),r=e.ha.length>0?e.ha[e.ha.length-1].batchId:$I;for(;sz(e);)try{let i=yield Z8(e.localStore,r);if(i===null){e.ha.length===0&&t.N_();break}r=i.batchId,az(e,i)}catch(i){yield Cg(e,i)}gO(e)&&mO(e)})}function sz(n){return Ts(n)&&n.ha.length<10}function az(n,e){n.ha.push(e);let t=co(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function gO(n){return Ts(n)&&!co(n).F_()&&n.ha.length>0}function mO(n){co(n).start()}function cz(n){return E(this,null,function*(){co(n).ta()})}function lz(n){return E(this,null,function*(){let e=co(n);for(let t of n.ha)e.Z_(t.mutations)})}function uz(n,e,t){return E(this,null,function*(){let r=n.ha.shift(),i=SE.from(r,e,t);yield pO(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Bg(n)})}function dz(n,e){return E(this,null,function*(){e&&co(n).Y_&&(yield function(r,i){return E(this,null,function*(){if(function(s){return D8(s)&&s!==U.ABORTED}(i.code)){let o=r.ha.shift();co(r).O_(),yield pO(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Bg(r)}})}(n,e)),gO(n)&&mO(n)})}function t1(n,e){return E(this,null,function*(){let t=de(n);t.asyncQueue.verifyOperationInProgress(),Y(bs,"RemoteStore received new credentials");let r=Ts(t);t.Ta.add(3),yield Vu(t),r&&t.da.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),yield Ug(t)})}function hz(n,e){return E(this,null,function*(){let t=de(n);e?(t.Ta.delete(2),yield Ug(t)):e||(t.Ta.add(2),yield Vu(t),t.da.set("Unknown"))})}function uc(n){return n.Ra||(n.Ra=function(t,r,i){let o=de(t);return o.ra(),new hI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:nz.bind(null,n),n_:rz.bind(null,n),i_:iz.bind(null,n),j_:oz.bind(null,n)}),n.Ia.push(e=>E(null,null,function*(){e?(n.Ra.O_(),nb(n)?tb(n):n.da.set("Unknown")):(yield n.Ra.stop(),fO(n))}))),n.Ra}function co(n){return n.Va||(n.Va=function(t,r,i){let o=de(t);return o.ra(),new fI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:cz.bind(null,n),i_:dz.bind(null,n),X_:lz.bind(null,n),ea:uz.bind(null,n)}),n.Ia.push(e=>E(null,null,function*(){e?(n.Va.O_(),yield Bg(n)):(yield n.Va.stop(),n.ha.length>0&&(Y(bs,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))}))),n.Va}var vI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function rb(n,e){if(gi("AsyncQueue",`${e}: ${n}`),lc(n))return new re(U.UNAVAILABLE,`${e}: ${n}`);throw n}var Tg=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||se.comparator(t.key,r.key):(t,r)=>se.comparator(t.key,r.key),this.keyedMap=yu(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Dg=class{constructor(){this.ma=new it(se.comparator)}track(e){let t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):oe(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){let e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}},sc=class n{constructor(e,t,r,i,o,s,a,l,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Tg.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var _I=class{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}},wI=class{constructor(){this.queries=n1(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){let i=de(t),o=i.queries;i.queries=n1(),o.forEach((s,a)=>{for(let l of a.ya)l.onError(r)})})(this,new re(U.ABORTED,"Firestore shutting down"))}};function n1(){return new vi(n=>$1(n),Lg)}function fz(n,e){return E(this,null,function*(){let t=de(n),r=3,i=e.query,o=t.queries.get(i);o?!o.wa()&&e.Sa()&&(r=2):(o=new _I,r=e.Sa()?0:1);try{switch(r){case 0:o.pa=yield t.onListen(i,!0);break;case 1:o.pa=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=rb(s,`Initialization of query '${Ha(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.ya.push(e),e.Da(t.onlineState),o.pa&&e.va(o.pa)&&ib(t)})}function pz(n,e){return E(this,null,function*(){let t=de(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.ya.indexOf(e);s>=0&&(o.ya.splice(s,1),o.ya.length===0?i=e.Sa()?0:1:!o.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function gz(n,e){let t=de(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.ya)a.va(i)&&(r=!0);s.pa=i}}r&&ib(t)}function mz(n,e,t){let r=de(n),i=r.queries.get(e);if(i)for(let o of i.ya)o.onError(t);r.queries.delete(e)}function ib(n){n.ba.forEach(e=>{e.next()})}var EI,r1;(r1=EI||(EI={})).Ca="default",r1.Cache="cache";var II=class{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new sc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;let r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;let t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==EI.Cache}};var Sg=class{constructor(e){this.key=e}},Ag=class{constructor(e){this.key=e}},bI=class{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ce(),this.mutatedKeys=Ce(),this.Ha=H1(e),this.Ja=new Tg(this.Ha)}get Ya(){return this.Ga}Za(e,t){let r=t?t.Xa:new Dg,i=t?t.Ja:this.Ja,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let v=i.get(h),_=Vg(this.query,p)?p:null,S=!!v&&this.mutatedKeys.has(v.key),N=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),O=!1;v&&_?v.data.isEqual(_.data)?S!==N&&(r.track({type:3,doc:_}),O=!0):this.eu(v,_)||(r.track({type:2,doc:_}),O=!0,(l&&this.Ha(_,l)>0||u&&this.Ha(_,u)<0)&&(a=!0)):!v&&_?(r.track({type:0,doc:_}),O=!0):v&&!_&&(r.track({type:1,doc:v}),O=!0,(l||u)&&(a=!0)),O&&(_?(s=s.add(_),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ja:s,Xa:r,Cs:a,mutatedKeys:o}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;let s=e.Xa.ga();s.sort((h,p)=>function(_,S){let N=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe(20277,{Vt:O})}};return N(_)-N(S)}(h.type,p.type)||this.Ha(h.doc,p.doc)),this.tu(r),i=i!=null&&i;let a=t&&!i?this.nu():[],l=this.ja.size===0&&this.current&&!i?1:0,u=l!==this.za;return this.za=l,s.length!==0||u?{snapshot:new sc(this.query,e.Ja,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Dg,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];let e=this.ja;this.ja=Ce(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});let t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new Ag(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new Sg(r))}),t}su(e){this.Ga=e.$s,this.ja=Ce();let t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return sc.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}},ob="SyncEngine",CI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},TI=class{constructor(e){this.key=e,this._u=!1}},DI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.au={},this.uu=new vi(a=>$1(a),Lg),this.cu=new Map,this.lu=new Set,this.hu=new it(se.comparator),this.Pu=new Map,this.Tu=new Mu,this.Iu={},this.Eu=new Map,this.du=Au.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}};function yz(n,e,t=!0){return E(this,null,function*(){let r=IO(n),i,o=r.uu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ou()):i=yield yO(r,e,t,!0),i})}function vz(n,e){return E(this,null,function*(){let t=IO(n);yield yO(t,e,!0,!1)})}function yO(n,e,t,r){return E(this,null,function*(){let i=yield X8(n.localStore,jr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield _z(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&dO(n.remoteStore,i),a})}function _z(n,e,t,r,i){return E(this,null,function*(){n.Ru=(p,v,_)=>function(N,O,H,ee){return E(this,null,function*(){let J=O.view.Za(H);J.Cs&&(J=yield ZR(N.localStore,O.query,!1).then(({documents:A})=>O.view.Za(A,J)));let Te=ee&&ee.targetChanges.get(O.targetId),dt=ee&&ee.targetMismatches.get(O.targetId)!=null,Re=O.view.applyChanges(J,N.isPrimaryClient,Te,dt);return o1(N,O.targetId,Re.ru),Re.snapshot})}(n,p,v,_);let o=yield ZR(n.localStore,e,!0),s=new bI(e,o.$s),a=s.Za(o.documents),l=Du.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,l);o1(n,t,u.ru);let h=new CI(e,t,s);return n.uu.set(e,h),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),u.snapshot})}function wz(n,e,t){return E(this,null,function*(){let r=de(n),i=r.uu.get(e),o=r.cu.get(i.targetId);if(o.length>1)return r.cu.set(i.targetId,o.filter(s=>!Lg(s,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield oI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&XI(r.remoteStore,i.targetId),SI(r,i.targetId)}).catch(cc))):(SI(r,i.targetId),yield oI(r.localStore,i.targetId,!0))})}function Ez(n,e){return E(this,null,function*(){let t=de(n),r=t.uu.get(e),i=t.cu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),XI(t.remoteStore,r.targetId))})}function Iz(n,e,t){return E(this,null,function*(){let r=Mz(n);try{let i=yield function(s,a){let l=de(s),u=$t.now(),h=a.reduce((_,S)=>_.add(S.key),Ce()),p,v;return l.persistence.runTransaction("Locally write mutations","readwrite",_=>{let S=_i(),N=Ce();return l.Bs.getEntries(_,h).next(O=>{S=O,S.forEach((H,ee)=>{ee.isValidDocument()||(N=N.add(H))})}).next(()=>l.localDocuments.getOverlayedDocuments(_,S)).next(O=>{p=O;let H=[];for(let ee of a){let J=T8(ee,p.get(ee.key).overlayedDocument);J!=null&&H.push(new wi(ee.key,J,F1(J.value.mapValue),ys.exists(!0)))}return l.mutationQueue.addMutationBatch(_,u,H,a)}).next(O=>{v=O;let H=O.applyToLocalDocumentSet(p,N);return l.documentOverlayCache.saveOverlays(_,O.batchId,H)})}).then(()=>({batchId:v.batchId,changes:q1(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Iu[s.currentUser.toKey()];u||(u=new it(_e)),u=u.insert(a,l),s.Iu[s.currentUser.toKey()]=u}(r,i.batchId,t),yield ju(r,i.changes),yield Bg(r.remoteStore)}catch(i){let o=rb(i,"Failed to persist write");t.reject(o)}})}function vO(n,e){return E(this,null,function*(){let t=de(n);try{let r=yield Y8(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Pu.get(o);s&&(Fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s._u=!0:i.modifiedDocuments.size>0?Fe(s._u,14607):i.removedDocuments.size>0&&(Fe(s._u,42227),s._u=!1))}),yield ju(t,r,e)}catch(r){yield cc(r)}})}function i1(n,e,t){let r=de(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.uu.forEach((o,s)=>{let a=s.view.Da(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let l=de(s);l.onlineState=a;let u=!1;l.queries.forEach((h,p)=>{for(let v of p.ya)v.Da(a)&&(u=!0)}),u&&ib(l)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function bz(n,e,t){return E(this,null,function*(){let r=de(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Pu.get(e),o=i&&i.key;if(o){let s=new it(se.comparator);s=s.insert(o,lr.newNoDocument(o,pe.min()));let a=Ce().add(o),l=new hg(pe.min(),new Map,new it(_e),s,a);yield vO(r,l),r.hu=r.hu.remove(o),r.Pu.delete(e),sb(r)}else yield oI(r.localStore,e,!1).then(()=>SI(r,e,t)).catch(cc)})}function Cz(n,e){return E(this,null,function*(){let t=de(n),r=e.batch.batchId;try{let i=yield Q8(t.localStore,e);wO(t,r,null),_O(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ju(t,i)}catch(i){yield cc(i)}})}function Tz(n,e,t){return E(this,null,function*(){let r=de(n);try{let i=yield function(s,a){let l=de(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(p=>(Fe(p!==null,37113),h=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);wO(r,e,t),_O(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ju(r,i)}catch(i){yield cc(i)}})}function _O(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function wO(n,e,t){let r=de(n),i=r.Iu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function SI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||EO(n,r)})}function EO(n,e){n.lu.delete(e.path.canonicalString());let t=n.hu.get(e);t!==null&&(XI(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),sb(n))}function o1(n,e,t){for(let r of t)r instanceof Sg?(n.Tu.addReference(r.key,e),Dz(n,r)):r instanceof Ag?(Y(ob,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||EO(n,r.key)):oe(19791,{mu:r})}function Dz(n,e){let t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(Y(ob,"New document in limbo: "+t),n.lu.add(r),sb(n))}function sb(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){let e=n.lu.values().next().value;n.lu.delete(e);let t=new se(It.fromString(e)),r=n.du.next();n.Pu.set(r,new TI(t)),n.hu=n.hu.insert(t,r),dO(n.remoteStore,new Su(jr(QI(t.path)),r,"TargetPurposeLimboResolution",BI.le))}}function ju(n,e,t){return E(this,null,function*(){let r=de(n),i=[],o=[],s=[];r.uu.isEmpty()||(r.uu.forEach((a,l)=>{s.push(r.Ru(l,e,t).then(u=>{var h;if((u||t)&&r.isPrimaryClient){let p=u?!u.fromCache:(h=t?.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){i.push(u);let p=tI.Rs(l.targetId,u);o.push(p)}}))}),yield Promise.all(s),r.au.j_(i),yield function(l,u){return E(this,null,function*(){let h=de(l);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>j.forEach(u,v=>j.forEach(v.ds,_=>h.persistence.referenceDelegate.addReference(p,v.targetId,_)).next(()=>j.forEach(v.As,_=>h.persistence.referenceDelegate.removeReference(p,v.targetId,_)))))}catch(p){if(!lc(p))throw p;Y(ZI,"Failed to update sequence numbers: "+p)}for(let p of u){let v=p.targetId;if(!p.fromCache){let _=h.xs.get(v),S=_.snapshotVersion,N=_.withLastLimboFreeSnapshotVersion(S);h.xs=h.xs.insert(v,N)}}})}(r.localStore,o))})}function Sz(n,e){return E(this,null,function*(){let t=de(n);if(!t.currentUser.isEqual(e)){Y(ob,"User change. New user:",e.toKey());let r=yield lO(t.localStore,e);t.currentUser=e,function(o,s){o.Eu.forEach(a=>{a.forEach(l=>{l.reject(new re(U.CANCELLED,s))})}),o.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ju(t,r.ks)}})}function Az(n,e){let t=de(n),r=t.Pu.get(e);if(r&&r._u)return Ce().add(r.key);{let i=Ce(),o=t.cu.get(e);if(!o)return i;for(let s of o){let a=t.uu.get(s);i=i.unionWith(a.view.Ya)}return i}}function IO(n){let e=de(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Az.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bz.bind(null,e),e.au.j_=gz.bind(null,e.eventManager),e.au.Vu=mz.bind(null,e.eventManager),e}function Mz(n){let e=de(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Tz.bind(null,e),e}var bO=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return E(this,null,function*(){this.serializer=jg(t.databaseInfo.databaseId),this.sharedClientState=this.pu(t),this.persistence=this.yu(t),yield this.persistence.start(),this.localStore=this.wu(t),this.gcScheduler=this.Su(t,this.localStore),this.indexBackfillerScheduler=this.bu(t,this.localStore)})}Su(t,r){return null}bu(t,r){return null}wu(t){return K8(this.persistence,new rI,t.initialUser,this.serializer)}yu(t){return new vg(eI.fi,this.serializer)}pu(t){return new sI}terminate(){return E(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),AI=class extends bO{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){Fe(this.persistence.referenceDelegate instanceof _g,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new BE(r,e.asyncQueue,t)}yu(e){let t=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new vg(r=>_g.fi(r,t),this.serializer)}};var Pz=(()=>{class n{initialize(t,r){return E(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>i1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sz.bind(null,this.syncEngine),yield hz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new wI}()}createDatastore(t){let r=jg(t.databaseInfo.databaseId),i=function(s){return new dI(s)}(t.databaseInfo);return function(s,a,l,u){return new gI(s,a,l,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,l){return new yI(i,o,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,r=>i1(this.syncEngine,r,0),function(){return Eg.C()?new Eg:new aI}())}createSyncEngine(t,r){return function(o,s,a,l,u,h,p){let v=new DI(o,s,a,l,u,h);return p&&(v.Au=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return E(this,null,function*(){var t,r;yield function(o){return E(this,null,function*(){let s=de(o);Y(bs,"RemoteStore shutting down."),s.Ta.add(5),yield Vu(s),s.Ea.shutdown(),s.da.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var MI=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):gi("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var lo="FirestoreClient",PI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Rt.UNAUTHENTICATED,this.clientId=ig.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>E(this,null,function*(){Y(lo,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(Y(lo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=rb(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function eE(n,e){return E(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),Y(lo,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>E(null,null,function*(){r.isEqual(i)||(yield lO(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function s1(n,e){return E(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield xz(n);Y(lo,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>t1(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>t1(e.remoteStore,i)),n._onlineComponents=e})}function xz(n){return E(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Y(lo,"Using user provided OfflineComponentProvider");try{yield eE(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ka("Error using user provided cache. Falling back to memory cache: "+t),yield eE(n,new bO)}}else Y(lo,"Using default OfflineComponentProvider"),yield eE(n,new AI(void 0));return n._offlineComponents})}function CO(n){return E(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(Y(lo,"Using user provided OnlineComponentProvider"),yield s1(n,n._uninitializedComponentsProvider._online)):(Y(lo,"Using default OnlineComponentProvider"),yield s1(n,new Pz))),n._onlineComponents})}function Rz(n){return CO(n).then(e=>e.syncEngine)}function Oz(n){return E(this,null,function*(){let e=yield CO(n),t=e.eventManager;return t.onListen=yz.bind(null,e.syncEngine),t.onUnlisten=wz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=vz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Ez.bind(null,e.syncEngine),t})}function Nz(n,e,t={}){let r=new Lr;return n.asyncQueue.enqueueAndForget(()=>E(null,null,function*(){return function(o,s,a,l,u){let h=new MI({next:v=>{h.Cu(),s.enqueueAndForget(()=>pz(o,p));let _=v.docs.has(a);!_&&v.fromCache?u.reject(new re(U.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&v.fromCache&&l&&l.source==="server"?u.reject(new re(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(v)},error:v=>u.reject(v)}),p=new II(QI(a.path),h,{includeMetadataChanges:!0,La:!0});return fz(o,p)}(yield Oz(n),n.asyncQueue,e,t,r)})),r.promise}function TO(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var a1=new Map;function kz(n,e,t){if(!t)throw new re(U.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Fz(n,e,t,r){if(e===!0&&r===!0)throw new re(U.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function c1(n){if(!se.isDocumentKey(n))throw new re(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ab(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":oe(12329,{type:typeof n})}function Pu(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new re(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=ab(n);throw new re(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var DO="firestore.googleapis.com",l1=!0,Mg=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new re(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DO,this.ssl=l1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:l1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<q8)throw new re(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Fz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new re(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new re(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new re(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},xu=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tE;switch(r.type){case"firstParty":return new oE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return E(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=a1.get(t);r&&(Y("ComponentProvider","Removing Datastore"),a1.delete(t),r.terminate())}(this),Promise.resolve()}};function Lz(n,e,t,r={}){var i;n=Pu(n,xu);let o=cs(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),l=`${e}:${t}`;o&&(_p(`https://${l}`),wp("Firestore",!0)),s.host!==DO&&s.host!==l&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:l,ssl:o,emulatorOptions:r});if(!Pr(u,a)&&(n._setSettings(u),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Rt.MOCK_USER;else{h=ix(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new re(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Rt(v)}n._authCredentials=new nE(new ng(h,p))}}var xI=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Gn=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ru(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Ru=class n extends xI{constructor(e,t,r){super(e,t,QI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Gn(this.firestore,null,new se(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function $g(n,e,...t){if(n=Bt(n),arguments.length===1&&(e=ig.newId()),kz("doc","path",e),n instanceof xu){let r=It.fromString(e,...t);return c1(r),new Gn(n,null,new se(r))}{if(!(n instanceof Gn||n instanceof Ru))throw new re(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(It.fromString(e,...t));return c1(r),new Gn(n.firestore,n instanceof Ru?n.converter:null,new se(r))}}var u1="AsyncQueue",Pg=class{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Ig(this,"async_queue_retry"),this.ec=()=>{let r=Xw();r&&Y(u1,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;let t=Xw();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;let t=Xw();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});let t=new Lr;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}sc(){return E(this,null,function*(){if(this.zu.length!==0){try{yield this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!lc(e))throw e;Y(u1,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}})}rc(e){let t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,gi("INTERNAL UNHANDLED ERROR: ",d1(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);let i=vI.createAndSchedule(this,e,t,r,o=>this.oc(o));return this.Hu.push(i),i}nc(){this.Ju&&oe(47125,{_c:d1(this.Ju)})}verifyOperationInProgress(){}ac(){return E(this,null,function*(){let e;do e=this.tc,yield e;while(e!==this.tc)})}uc(e){for(let t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){let t=this.Hu.indexOf(e);this.Hu.splice(t,1)}};function d1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var Ou=class extends xu{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Pg,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return E(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Pg(e),this._firestoreClient=void 0,yield e}})}};function Hg(n,e){let t=typeof n=="object"?n:us(),r=typeof n=="string"?n:e||cg,i=Va(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=rx("firestore");o&&Lz(i,...o)}return i}function SO(n){if(n._terminated)throw new re(U.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Vz(n),n._firestoreClient}function Vz(n){var e,t,r;let i=n._freezeSettings(),o=function(a,l,u,h){return new uE(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,TO(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new PI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}var Nu=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Xt.fromBase64String(e))}catch(t){throw new re(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ku=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new re(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var xg=class{constructor(e){this._methodName=e}};var Fu=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new re(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new re(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}};var Lu=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var jz=/^__.*__$/,RI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new wi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Is(e,this.data,t,this.fieldTransforms)}};function AO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{hc:n})}}var OI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Rg(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(AO(this.hc)&&jz.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}},NI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||jg(e)}gc(e,t,r,i=!1){return new OI({hc:e,methodName:t,fc:r,path:xn.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Uz(n){let e=n._freezeSettings(),t=jg(n._databaseId);return new NI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Bz(n,e,t,r,i,o={}){let s=n.gc(o.merge||o.mergeFields?2:0,e,t,i);RO("Data must be an object, but it was:",s,r);let a=PO(r,s),l,u;if(o.merge)l=new Fr(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let v=$z(e,p,t);if(!s.contains(v))throw new re(U.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);zz(h,v)||h.push(v)}l=new Fr(h),u=s.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=s.fieldTransforms;return new RI(new cr(a),l,u)}function MO(n,e){if(xO(n=Bt(n)))return RO("Unsupported field value:",e,n),PO(n,e);if(n instanceof xg)return function(r,i){if(!AO(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let l=MO(a,i.Rc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return w8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=$t.fromDate(r);return{timestampValue:mg(i.serializer,o)}}if(r instanceof $t){let o=new $t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mg(i.serializer,o)}}if(r instanceof Fu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Nu)return{bytesValue:tO(i.serializer,r._byteString)};if(r instanceof Gn){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Vc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:JI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Lu)return function(s,a){return{mapValue:{fields:{[zI]:{stringValue:qI},[Ya]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Vc("VectorValues must only contain numeric values.");return YI(a.serializer,u)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${ab(r)}`)}(n,e)}function PO(n,e){let t={};return A1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(n,(r,i)=>{let o=MO(i,e.Ic(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function xO(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof $t||n instanceof Fu||n instanceof Nu||n instanceof Gn||n instanceof xg||n instanceof Lu)}function RO(n,e,t){if(!xO(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=ab(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}function $z(n,e,t){if((e=Bt(e))instanceof ku)return e._internalPath;if(typeof e=="string")return OO(n,e);throw Rg("Field path arguments must be of type string or ",n,!1,void 0,t)}var Hz=new RegExp("[~\\*/\\[\\]]");function OO(n,e,t){if(e.search(Hz)>=0)throw Rg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ku(...e.split("."))._internalPath}catch{throw Rg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rg(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new re(U.INVALID_ARGUMENT,a+n+l)}function zz(n,e){return n.some(t=>t.isEqual(e))}var Og=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new kI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(NO("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},kI=class extends Og{data(){return super.data()}};function NO(n,e){return typeof e=="string"?OO(n,e):e instanceof ku?e._internalPath:e._delegate._internalPath}var FI=class{convertValue(e,t="none"){switch(ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw oe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Cs(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Ya].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ze(s.doubleValue));return new Lu(o)}convertGeoPoint(e){return new Fu(Ze(e.latitude),Ze(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Fg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Cu(e));default:return null}}convertTimestamp(e){let t=mi(e);return new $t(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=It.fromString(e);Fe(aO(r),9688,{name:e});let i=new lg(r.get(1),r.get(3)),o=new se(r.popFirst(5));return i.isEqual(t)||gi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function qz(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var LI=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ng=class extends Og{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new VI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(NO("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},VI=class extends Ng{data(e={}){return super.data(e)}};function cb(n){n=Pu(n,Gn);let e=Pu(n.firestore,Ou);return Nz(SO(e),n._key).then(t=>Wz(e,n,t))}var jI=class extends FI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nu(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gn(this.firestore,null,t)}};function kO(n,e,t){n=Pu(n,Gn);let r=Pu(n.firestore,Ou),i=qz(n.converter,e,t);return Gz(r,[Bz(Uz(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,ys.none())])}function Gz(n,e){return function(r,i){let o=new Lr;return r.asyncQueue.enqueueAndForget(()=>E(null,null,function*(){return Iz(yield Rz(r),i,o)})),o.promise}(SO(n),e)}function Wz(n,e,t){let r=t.docs.get(e._key),i=new jI(n);return new Ng(n,i,e._key,r,new LI(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){ac=i})(ro),ar(new an("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Ou(new rE(r.getProvider("auth-internal")),new sE(s,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new re(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lg(u.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),_t(CR,TR,e),_t(CR,TR,"esm2017")})();var Le=class n{constructor(e,t){this.http=e;this.router=t;this.initializeAuthState()}loggedIn=new Ye(!1);currentUser=new Ye(null);initialized=!1;initializeAuthState(){if(this.initialized)return;this.initialized=!0;let e=hi();Gp(e,t=>E(this,null,function*(){t?(yield t.reload(),t.emailVerified?yield this.loadUserData(t):this.handleUnverifiedUser()):this.handleNoUser()}))}loadUserData(e){return E(this,null,function*(){try{let t=Hg(),r=$g(t,"users",e.uid),i=yield cb(r),o=i.exists()?i.data():{},s={email:e.email,name:e.displayName||e.email?.split("@")[0],id:e.uid,uid:e.uid,token:yield e.getIdToken(),role:o.role||o.rol||"usuario",status:o.status||"active"};this.loggedIn.next(!0),this.currentUser.next(s),localStorage.setItem("custom_user",JSON.stringify(s)),localStorage.setItem("token",s.token)}catch(t){console.error("Error loading user data:",t),this.handleNoUser()}})}handleUnverifiedUser(){this.loggedIn.next(!1),this.currentUser.next(null),localStorage.removeItem("custom_user"),localStorage.removeItem("token"),this.router.navigate(["/login"],{queryParams:{message:"Por favor verifica tu correo electr\xF3nico"}})}handleNoUser(){this.loggedIn.next(!1),this.currentUser.next(null)}firebaseLogin(e,t){return E(this,null,function*(){try{let r=yield this.http.post("https://cocreandoback.onrender.com/login",{email:e,password:t}).toPromise();if(!r?.success)throw{code:r?.code||"backend_error",message:r?.message||"Error en la validaci\xF3n del backend"};let i=hi(),o=yield Hp(i,e,t);if(yield o.user.reload(),!o.user.emailVerified)throw{code:"email_not_verified",message:"Por favor verifica tu correo electr\xF3nico antes de iniciar sesi\xF3n"};let s=Hg(),a=$g(s,"users",o.user.uid),l=yield cb(a),u=l.exists()?l.data():{},h={email:o.user.email,name:o.user.displayName||o.user.email?.split("@")[0],id:o.user.uid,uid:o.user.uid,token:yield o.user.getIdToken(),role:u.role||u.rol||"usuario",status:u.status||"active"};return this.loggedIn.next(!0),this.currentUser.next(h),localStorage.setItem("custom_user",JSON.stringify(h)),localStorage.setItem("token",h.token),!0}catch(r){if(console.error("Login error:",r),r.code?.startsWith("auth/"))switch(r.code){case"auth/user-not-found":throw{code:"user_not_found",message:"Usuario no encontrado"};case"auth/wrong-password":throw{code:"wrong_credentials",message:"Contrase\xF1a incorrecta"};case"auth/too-many-requests":throw{code:"too_many_attempts",message:"Demasiados intentos. Intenta m\xE1s tarde"};default:throw{code:"firebase_error",message:r.message||"Error de autenticaci\xF3n"}}throw r}})}firebaseRegister(e,t,r){return E(this,null,function*(){let i=yield $p(ER,t,r),o=i.user;yield qp(i.user,{displayName:e}),yield zp(i.user);let s=Hg(),a=$g(s,"users",o.uid);return yield kO(a,{uid:o.uid,name:e,email:t,createdAt:new Date().toISOString(),role:"usuario",status:"active"}),!0})}isEmailVerified(){return E(this,null,function*(){let e=hi();return e.currentUser?(yield e.currentUser.reload(),e.currentUser.emailVerified):!1})}isAdmin(){return this.getCurrentUserValue()?.role?.toLowerCase()==="admin"}fetchUserProfile(){return E(this,null,function*(){try{let e=yield this.http.get("https://cocreandoback.onrender.com/api/users/me").toPromise();return this.currentUser.next(e),localStorage.setItem("custom_user",JSON.stringify(e)),e}catch(e){throw console.error("Error fetching user profile:",e),e}})}register(e,t,r){return E(this,null,function*(){try{let i=yield this.http.post("https://cocreandoback.onrender.com/registro",{name:e,email:t,password:r}).toPromise();if(i.success)return yield this.firebaseRegister(e,t,r),!0;throw{message:i.message||"Error en validaci\xF3n del backend"}}catch(i){throw console.error("Register error:",i),i}})}logout(){localStorage.removeItem("custom_user"),sessionStorage.removeItem("custom_user"),this.loggedIn.next(!1),this.currentUser.next(null),this.router.navigate(["/login"])}get isAuthenticated(){return this.loggedIn.value}get isAuthenticated$(){return this.loggedIn.asObservable()}get currentUser$(){return this.currentUser.asObservable()}getToken(){return localStorage.getItem("token")}getCurrentUserValue(){return this.currentUser.value}static \u0275fac=function(t){return new(t||n)(W($n),W(ve))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};function Kz(n,e){n&1&&(y(0,"span"),w(1,"Iniciar Sesi\xF3n"),g())}function Qz(n,e){n&1&&ie(0,"span",33)}function Yz(n,e){if(n&1&&(y(0,"div",34)(1,"i",35),w(2,"\u26A0\uFE0F"),g(),w(3),g()),n&2){let t=z();b(3),le(" ",t.errorMessage," ")}}var zg=class n{constructor(e,t){this.router=e;this.authService=t}email="";password="";rememberMe=!1;errorMessage="";loading=!1;activeField="";showPassword=!1;navigateTo(e){this.router.navigate([e])}togglePasswordVisibility(){this.showPassword=!this.showPassword;let e=document.getElementById("password");e&&(e.type=this.showPassword?"text":"password")}onSubmit(){return E(this,null,function*(){if(!this.email||!this.password){this.errorMessage="Por favor completa todos los campos";return}this.loading=!0,this.errorMessage="";try{(yield this.authService.firebaseLogin(this.email,this.password))&&(this.rememberMe?localStorage.setItem("rememberedEmail",this.email):localStorage.removeItem("rememberedEmail"),this.authService.isAdmin()?this.router.navigate(["/admin"]):this.router.navigate(["/dashboard"]))}catch(e){this.errorMessage=e.error?.message||e.message||"Error al iniciar sesi\xF3n",e.error?.code==="email_not_verified"&&(this.errorMessage="Por favor verifica tu email antes de iniciar sesi\xF3n"),e.error?.code==="account_banned"&&(this.errorMessage="Cuenta suspendida. Contacta al soporte."),e.error?.code}finally{this.loading=!1}})}getFirebaseErrorMessage(e){switch(e){case"auth/user-not-found":return"Usuario no encontrado";case"auth/wrong-password":return"Contrase\xF1a incorrecta";case"auth/too-many-requests":return"Demasiados intentos. Intenta m\xE1s tarde";default:return"Error al iniciar sesi\xF3n"}}getErrorMessage(e){return e.error?.message?e.error.message:"Ocurri\xF3 un error durante el inicio de sesi\xF3n. Por favor int\xE9ntalo m\xE1s tarde."}validateEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}ngOnInit(){let e=localStorage.getItem("rememberedEmail");e&&(this.email=e,this.rememberMe=!0)}static \u0275fac=function(t){return new(t||n)(L(ve),L(Le))};static \u0275cmp=tt({type:n,selectors:[["app-login"]],decls:54,vars:11,consts:[[1,"login-wrapper"],[1,"login-container"],[1,"login-header"],["src","https://res.cloudinary.com/dtg8i6j9f/image/upload/v1748278760/CoCreando__2_-removebg-preview_fzjn1g.png","alt","CoCreando Logo",1,"logo"],[1,"login-form",3,"ngSubmit"],[1,"form-group","floating"],["type","email","id","email","name","email","required","","placeholder"," ",3,"ngModelChange","focus","blur","ngModel"],["for","email"],[1,"icon"],["type","password","id","password","name","password","required","","placeholder"," ",3,"ngModelChange","focus","blur","ngModel"],["for","password"],["type","button",1,"toggle-password",3,"click"],[1,"form-options"],[1,"remember-me"],["type","checkbox","name","rememberMe",3,"ngModelChange","ngModel"],[1,"checkmark"],["href","#",1,"forgot-password"],["type","submit",1,"login-button",3,"disabled"],[4,"ngIf"],["class","spinner",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"social-login"],[1,"social-buttons"],["type","button",1,"social-button","google"],["src","https://w7.pngwing.com/pngs/326/85/png-transparent-google-logo-google-text-trademark-logo-thumbnail.png","alt","Google"],["type","button",1,"social-button","github"],["src","https://w7.pngwing.com/pngs/646/324/png-transparent-github-computer-icons-github-logo-monochrome-head-thumbnail.png","alt","GitHub"],[1,"register-link"],[3,"click"],[1,"login-background"],[1,"shape","shape-1"],[1,"shape","shape-2"],[1,"shape","shape-3"],[1,"spinner"],[1,"error-message"],[1,"error-icon"]],template:function(t,r){t&1&&(y(0,"div",0)(1,"div",1)(2,"div",2),ie(3,"img",3),y(4,"h1"),w(5,"Bienvenido a "),y(6,"span"),w(7,"CoCreando"),g()(),y(8,"p"),w(9,"Colabora, crea y comparte tus proyectos"),g()(),y(10,"form",4),K("ngSubmit",function(){return r.onSubmit()}),y(11,"div",5)(12,"input",6),lt("ngModelChange",function(o){return mt(r.email,o)||(r.email=o),o}),K("focus",function(){return r.activeField="email"})("blur",function(){return r.activeField=""}),g(),y(13,"label",7),w(14,"Correo electr\xF3nico"),g(),y(15,"i",8),w(16,"\u2709\uFE0F"),g()(),y(17,"div",5)(18,"input",9),lt("ngModelChange",function(o){return mt(r.password,o)||(r.password=o),o}),K("focus",function(){return r.activeField="password"})("blur",function(){return r.activeField=""}),g(),y(19,"label",10),w(20,"Contrase\xF1a"),g(),y(21,"i",8),w(22,"\u{1F512}"),g(),y(23,"button",11),K("click",function(){return r.togglePasswordVisibility()}),w(24," \u{1F441}\uFE0F "),g()(),y(25,"div",12)(26,"label",13)(27,"input",14),lt("ngModelChange",function(o){return mt(r.rememberMe,o)||(r.rememberMe=o),o}),g(),ie(28,"span",15),w(29," Recordarme "),g(),y(30,"a",16),w(31,"\xBFOlvidaste tu contrase\xF1a?"),g()(),y(32,"button",17),Q(33,Kz,2,0,"span",18)(34,Qz,1,0,"span",19),g(),Q(35,Yz,4,1,"div",20),y(36,"div",21)(37,"p"),w(38,"O inicia sesi\xF3n con"),g(),y(39,"div",22)(40,"button",23),ie(41,"img",24),w(42," Google "),g(),y(43,"button",25),ie(44,"img",26),w(45," GitHub "),g()()(),y(46,"div",27),w(47," \xBFNo tienes una cuenta? "),y(48,"a",28),K("click",function(){return r.navigateTo("/register")}),w(49,"Reg\xEDstrate"),g()()()(),y(50,"div",29),ie(51,"div",30)(52,"div",31)(53,"div",32),g()()),t&2&&(b(12),ct("ngModel",r.email),b(),gt("active",r.activeField==="email"||r.email),b(5),ct("ngModel",r.password),b(),gt("active",r.activeField==="password"||r.password),b(8),ct("ngModel",r.rememberMe),b(5),k("disabled",r.loading),b(),k("ngIf",!r.loading),b(),k("ngIf",r.loading),b(),k("ngIf",r.errorMessage))},dependencies:[zn,Xi,Jt,R0,_n,Zi,eu,or,Yl,rt,ut],styles:['.login-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f8f9fa;position:relative;overflow:hidden;padding:2rem}.login-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 25px -5px #0000001a;width:100%;max-width:450px;z-index:2;overflow:hidden;transition:all .3s ease-in-out}.login-container[_ngcontent-%COMP%]:hover{box-shadow:0 15px 30px -5px #00000026}.login-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#426e28,#146b08);color:#fff;padding:2.5rem 2rem;text-align:center}.login-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:50px;margin-bottom:1rem}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.8rem;font-weight:600}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#88c9a1}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0 0;opacity:.9;font-size:.95rem}.login-form[_ngcontent-%COMP%]{padding:2rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:1.5rem}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;left:3rem;top:1rem;color:#718096;pointer-events:none;transition:all .3s ease-in-out}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   label.active[_ngcontent-%COMP%]{top:-.6rem;left:2.8rem;font-size:.75rem;background:#fff;padding:0 .3rem;color:#426e28}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:3rem;height:3rem}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#426e28;box-shadow:0 0 0 2px #426e2833}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:1rem;font-size:1rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:1px solid #e2e8f0;border-radius:8px;font-size:1rem;transition:all .3s ease-in-out}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem;background:none;border:none;cursor:pointer;opacity:.5;transition:all .3s ease-in-out}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover{opacity:1}.form-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:1.5rem 0}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;color:#718096;font-size:.9rem}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{display:inline-block;width:18px;height:18px;margin-right:8px;border:1px solid #cbd5e0;border-radius:4px;position:relative;transition:all .3s ease-in-out}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none;left:6px;top:2px;width:5px;height:10px;border:solid white;border-width:0 2px 2px 0;transform:rotate(45deg)}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#426e28;border-color:#426e28}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.form-options[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{color:#426e28;text-decoration:none;font-size:.9rem;transition:all .3s ease-in-out}.form-options[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-button[_ngcontent-%COMP%]{width:100%;padding:1rem;background:linear-gradient(135deg,#426e28,#146b08);color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease-in-out}.login-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#375b21,#105306);transform:translateY(-2px)}.login-button[_ngcontent-%COMP%]:disabled{background:#cbd5e0;cursor:not-allowed;transform:none}.login-button[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;border:3px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.error-message[_ngcontent-%COMP%]{color:#e53e3e;background:#e53e3e1a;padding:.8rem;border-radius:8px;margin:1rem 0;display:flex;align-items:center;font-size:.9rem}.error-message[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-right:.5rem}.social-login[_ngcontent-%COMP%]{margin:2rem 0 1rem;text-align:center}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;font-size:.9rem;position:relative;margin:1rem 0}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before, .social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:after{content:"";display:inline-block;width:30%;height:1px;background:#e2e8f0;position:absolute;top:50%}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before{left:0}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:after{right:0}.social-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem}.social-buttons[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]{flex:1;padding:.7rem;border:1px solid #e2e8f0;border-radius:8px;background:#fff;display:flex;align-items:center;justify-content:center;gap:.5rem;font-size:.9rem;cursor:pointer;transition:all .3s ease-in-out}.social-buttons[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:hover{background:#f8fafc;transform:translateY(-2px)}.social-buttons[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:18px;height:18px}.social-buttons[_ngcontent-%COMP%]   .social-button.google[_ngcontent-%COMP%]{color:#db4437}.social-buttons[_ngcontent-%COMP%]   .social-button.github[_ngcontent-%COMP%]{color:#333}.register-link[_ngcontent-%COMP%]{text-align:center;color:#718096;font-size:.9rem;margin-top:1.5rem}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#426e28;text-decoration:none;font-weight:500;transition:all .3s ease-in-out}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}.login-background[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{position:absolute;border-radius:50%;background:#88c9a11a;transition:all 15s linear}.login-background[_ngcontent-%COMP%]   .shape.shape-1[_ngcontent-%COMP%]{width:300px;height:300px;top:-100px;left:-100px;animation:_ngcontent-%COMP%_float 12s ease-in-out infinite}.login-background[_ngcontent-%COMP%]   .shape.shape-2[_ngcontent-%COMP%]{width:200px;height:200px;bottom:-50px;right:-50px;animation:_ngcontent-%COMP%_float 8s ease-in-out infinite reverse}.login-background[_ngcontent-%COMP%]   .shape.shape-3[_ngcontent-%COMP%]{width:150px;height:150px;top:30%;right:20%;animation:_ngcontent-%COMP%_float 10s ease-in-out infinite 2s}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-20px) rotate(5deg)}}@media (max-width: 576px){.login-wrapper[_ngcontent-%COMP%]{padding:1rem}.login-header[_ngcontent-%COMP%]{padding:1.5rem 1rem}.login-form[_ngcontent-%COMP%]{padding:1.5rem}.social-buttons[_ngcontent-%COMP%]{flex-direction:column}}']})};var Hr={production:!1,apiUrl:"https://cocreandoback.onrender.com",payuSandbox:!0,firebaseConfig:{apiKey:"AIzaSyDnCfzF5psHLcnmbeJGrBuWpxOkUp01Lfo",authDomain:"cocreando-2dbd1.firebaseapp.com",projectId:"cocreando-2dbd1",storageBucket:"cocreando-2dbd1.firebasestorage.app",messagingSenderId:"862709485856",appId:"1:862709485856:web:e0994b08e2a748679b0745",measurementId:"G-EXLRNLVN1B"}};var En=class n{constructor(e,t){this.http=e;this.authService=t}apiUrl=Hr.apiUrl||"https://cocreandoback.onrender.com";getProjects(){return this.http.get(`${this.apiUrl}/proyecto/listarProyectos`,{withCredentials:!0}).pipe(Qe(e=>(console.error("Error fetching projects from API:",e),Z([]))))}getProjectAnalytics(e){return this.http.get(`${this.apiUrl}/analytics/${e}`)}getProjectById(e){return this.http.get(`${this.apiUrl}/proyecto/obtenerProyecto/${e}`,{withCredentials:!0}).pipe(Qe(t=>(console.error(`Error fetching project ${e}:`,t),Z(null))))}createProject(e){e.id||(e.id=this.generateProjectId()),e.deadline&&(e.deadline=new Date(e.deadline).toISOString()),e.rewards=e.rewards||[],e.updates=e.updates||[],e.supporters=[];let t=this.authService.getCurrentUserValue();t&&(e.ownerId=t.uid,e.ownerName=t.name,e.ownerEmail=t.email);let r=this.authService.getToken(),i=new Qt({"Content-Type":"application/json",Authorization:`Bearer ${r}`});return this.http.post(`${this.apiUrl}/proyecto/crearProyecto`,e,{headers:i,withCredentials:!0}).pipe(Qe(o=>{throw console.error("Error creating project:",o),o}))}generateProjectId(){return"proj-"+Math.random().toString(36).substr(2,9)}updateProject(e,t){let r=this.authService.getToken(),i=new Qt({"Content-Type":"application/json",Authorization:`Bearer ${r}`});return this.http.put(`${this.apiUrl}/proyecto/actualizarProyecto/${e}`,t,{headers:i,withCredentials:!0}).pipe(Qe(o=>{throw console.error(`Error updating project ${e}:`,o),o}))}deleteProject(e){return this.http.delete(`${this.apiUrl}/eliminarProyecto/${e}`).pipe(Qe(t=>{throw console.error(`Error deleting project ${e}:`,t),t}))}static \u0275fac=function(t){return new(t||n)(W($n),W(Le))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};function Jz(n,e){if(n&1&&(y(0,"option",13),w(1),g()),n&2){let t=e.$implicit;k("value",t),b(),te(t)}}function Zz(n,e){n&1&&(y(0,"div",14)(1,"p"),w(2,"Cargando proyectos..."),g()())}function Xz(n,e){if(n&1){let t=Ue();y(0,"div",15)(1,"p"),w(2),g(),y(3,"button",16),K("click",function(){ae(t);let i=z();return ce(i.loadProjects())}),w(4,"Reintentar"),g()()}if(n&2){let t=z();b(2),te(t.error)}}function eq(n,e){n&1&&(y(0,"div",20)(1,"p"),w(2,"No se encontraron proyectos con los filtros aplicados."),g()())}function tq(n,e){if(n&1){let t=Ue();y(0,"div",21),K("click",function(){let i=ae(t).$implicit,o=z(2);return ce(o.viewDetails(i.id))}),y(1,"div",22),ie(2,"img",23),g(),y(3,"div",24)(4,"h3"),w(5),g(),y(6,"p",25),w(7),g(),y(8,"div",26),w(9),g(),y(10,"div",26),w(11),Je(12,"uppercase"),g(),y(13,"div",27)(14,"div",28),ie(15,"div",29),g(),y(16,"div",30)(17,"span",31),w(18),g(),y(19,"span",32),w(20),g()()(),y(21,"div",33)(22,"div",34)(23,"span",35),w(24,"Recaudado:"),g(),y(25,"span",36),w(26),Je(27,"number"),g()(),y(28,"div",34)(29,"span",35),w(30,"Meta:"),g(),y(31,"span",36),w(32),Je(33,"number"),g()()(),y(34,"button",37),K("click",function(i){let o=ae(t).$implicit;return z(2).viewDetails(o.id),ce(i.stopPropagation())}),w(35," Ver Detalles "),g()()()}if(n&2){let t=e.$implicit,r=z(2);b(2),k("src",(t.creator==null?null:t.creator.avatar)||"assets/default-project.jpg",ji),b(3),te(t.title),b(2),te(t.description),b(2),te(t.category),b(),gt("pending",t.status==="pending")("approved",t.status==="approved")("rejected",t.status==="rejected"),b(),le(" ",Ut(12,17,t.status)," "),b(4),Bi("width",r.getProgressPercentage(t)+"%"),b(3),le("",r.getProgressPercentage(t).toFixed(0),"%"),b(2),le("",r.getDaysRemaining(t.deadline)," d\xEDas restantes"),b(6),le("$",Ut(27,19,t.collected),""),b(6),le("$",Ut(33,21,t.goal),"")}}function nq(n,e){if(n&1&&(y(0,"div"),Q(1,eq,3,0,"div",17),y(2,"div",18),Q(3,tq,36,23,"div",19),g()()),n&2){let t=z();b(),k("ngIf",t.filteredProjects.length===0),b(2),k("ngForOf",t.filteredProjects)("ngForTrackBy",t.trackByProjectId)}}var qg=class n{constructor(e,t){this.router=e;this.projectService=t}projects=[];filteredProjects=[];categories=["Todos","Tecnolog\xEDa","Social","Medio Ambiente","Educaci\xF3n"];selectedCategory="Todos";isLoading=!0;error=null;searchTerm="";ngOnInit(){this.loadProjects()}loadProjects(){this.isLoading=!0,this.error=null,this.projectService.getProjects().subscribe({next:e=>{e.length===0&&(this.error="No se encontraron proyectos."),this.projects=this.parseProjects(e),this.applyFilters(),this.isLoading=!1},error:e=>{console.error("Error loading projects",e),this.error="No se pudieron cargar los proyectos. Por favor intenta m\xE1s tarde.",this.isLoading=!1,this.projects=[],this.filteredProjects=[]}})}parseProjects(e){return e.map(t=>X(V({},t),{deadline:new Date(t.deadline),updates:t.updates?.map(r=>X(V({},r),{date:new Date(r.date)}))||[],supporters:t.supporters?.map(r=>X(V({},r),{date:new Date(r.date)}))||[]}))}handleError(e){console.error("Error:",e),this.error="Error al cargar proyectos. Verifica la consola para m\xE1s detalles.",this.isLoading=!1,this.projects=[],this.filteredProjects=[]}applyFilters(){if(this.filteredProjects=this.selectedCategory==="Todos"?[...this.projects]:this.projects.filter(e=>e.category===this.selectedCategory),this.searchTerm.trim()){let e=this.searchTerm.toLowerCase().trim();this.filteredProjects=this.filteredProjects.filter(t=>t.title.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)||t.category.toLowerCase().includes(e))}}onCategoryChange(){this.applyFilters()}onSearch(){this.applyFilters()}getDaysRemaining(e){if(!e)return 0;let r=(typeof e=="string"?new Date(e):e).getTime()-new Date().getTime();return Math.max(0,Math.ceil(r/(1e3*60*60*24)))}getProgressPercentage(e){return!e.goal||e.goal<=0?0:Math.min(100,e.collected/e.goal*100)}viewDetails(e){this.router.navigate(["/project",e])}refreshProjects(){this.searchTerm="",this.selectedCategory="Todos",this.loadProjects()}trackByProjectId(e,t){return t.id}static \u0275fac=function(t){return new(t||n)(L(ve),L(En))};static \u0275cmp=tt({type:n,selectors:[["app-dashboard"]],decls:17,vars:6,consts:[[1,"dashboard-container"],[1,"header"],[1,"refresh-button",3,"click"],[1,"refresh-icon"],[1,"filters"],[1,"search-filter"],["type","text","placeholder","Buscar proyectos...",3,"ngModelChange","input","ngModel"],[1,"category-filter"],[3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","loading-spinner",4,"ngIf"],["class","error-message",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"loading-spinner"],[1,"error-message"],[3,"click"],["class","no-projects",4,"ngIf"],[1,"projects-grid"],["class","project-card",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"no-projects"],[1,"project-card",3,"click"],[1,"project-image"],["alt","Imagen del proyecto",3,"src"],[1,"project-content"],[1,"description"],[1,"category-tag"],[1,"progress-container"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-info"],[1,"percentage"],[1,"days-left"],[1,"stats"],[1,"stat"],[1,"label"],[1,"value"],[1,"button-primary",3,"click"]],template:function(t,r){t&1&&(y(0,"div",0)(1,"div",1)(2,"h1"),w(3,"Proyectos Destacados"),g(),y(4,"button",2),K("click",function(){return r.refreshProjects()}),y(5,"i",3),w(6,"\u21BB"),g(),w(7," Actualizar "),g()(),y(8,"div",4)(9,"div",5)(10,"input",6),lt("ngModelChange",function(o){return mt(r.searchTerm,o)||(r.searchTerm=o),o}),K("input",function(){return r.onSearch()}),g()(),y(11,"div",7)(12,"select",8),lt("ngModelChange",function(o){return mt(r.selectedCategory,o)||(r.selectedCategory=o),o}),K("change",function(){return r.onCategoryChange()}),Q(13,Jz,2,2,"option",9),g()()(),Q(14,Zz,3,0,"div",10)(15,Xz,5,1,"div",11)(16,nq,4,3,"div",12),g()),t&2&&(b(10),ct("ngModel",r.searchTerm),b(2),ct("ngModel",r.selectedCategory),b(),k("ngForOf",r.categories),b(),k("ngIf",r.isLoading),b(),k("ngIf",r.error),b(),k("ngIf",!r.isLoading&&!r.error))},dependencies:[rt,Pt,ut,Wo,Cr,zn,eo,to,Jt,Mr,_n,or,rs],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#2c3e50}.filters[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:2rem}.filters[_ngcontent-%COMP%]   .search-filter[_ngcontent-%COMP%]{flex:1}.filters[_ngcontent-%COMP%]   .search-filter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #ddd;border-radius:4px}.filters[_ngcontent-%COMP%]   .category-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #ddd;border-radius:4px;background-color:#fff}.projects-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:2rem}.project-card[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:8px;overflow:hidden;transition:transform .2s,box-shadow .2s;cursor:pointer}.project-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 15px #0000001a}.project-card[_ngcontent-%COMP%]   .project-image[_ngcontent-%COMP%]{height:160px;overflow:hidden}.project-card[_ngcontent-%COMP%]   .project-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.project-card[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]{padding:1.5rem}.project-card[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#2c3e50}.project-card[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#666;margin-bottom:1rem}.project-card[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .category-tag[_ngcontent-%COMP%]{display:inline-block;background-color:#f0f0f0;padding:.25rem .5rem;border-radius:4px;font-size:.8rem;margin-bottom:1rem}.progress-container[_ngcontent-%COMP%]{margin:1rem 0}.progress-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:8px;background-color:#f0f0f0;border-radius:4px;overflow:hidden}.progress-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background-color:#42b983;transition:width .3s}.progress-container[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:.5rem;font-size:.9rem}.progress-container[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]{font-weight:700;color:#42b983}.progress-container[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]   .days-left[_ngcontent-%COMP%]{color:#666}.stats[_ngcontent-%COMP%]{display:flex;gap:1rem;margin:1rem 0}.stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{flex:1}.stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;font-size:.8rem;color:#666}.stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700}.button-primary[_ngcontent-%COMP%]{width:100%;padding:.75rem;background-color:#42b983;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .2s}.button-primary[_ngcontent-%COMP%]:hover{background-color:#369f73}.loading-spinner[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%], .no-projects[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#666}.error-message[_ngcontent-%COMP%]{color:#e74c3c}.error-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1rem;padding:.5rem 1rem;background-color:#e74c3c;color:#fff;border:none;border-radius:4px;cursor:pointer}.refresh-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;display:flex;align-items:center;gap:.5rem;color:#666}.refresh-button[_ngcontent-%COMP%]:hover{color:#42b983}.refresh-button[_ngcontent-%COMP%]   .refresh-icon[_ngcontent-%COMP%]{font-size:1.2rem}"]})};var Gg=class n{constructor(e,t){this.http=e;this.authService=t}apiUrl=`${Hr.apiUrl}`;getHeaders(){let e=this.authService.getToken();if(!e)return console.error("No se encontr\xF3 token JWT"),new Qt;let t=e.startsWith("Bearer ")?e:`Bearer ${e}`;return new Qt({Authorization:t,"Content-Type":"application/json"})}getUsers(){return this.http.get(`${this.apiUrl}/usuario/listarUsuarios`,{headers:this.getHeaders(),withCredentials:!0})}updateUserRole(e,t){return this.http.put(`${this.apiUrl}/usuario/actualizarUsuario/${e}`,{role:t},{headers:this.getHeaders(),withCredentials:!0})}banUser(e){return this.http.put(`${this.apiUrl}/usuario/actualizarUsuario/${e}`,{status:"banned"},{headers:this.getHeaders(),withCredentials:!0})}unbanUser(e){return this.http.put(`${this.apiUrl}/usuario/actualizarUsuario/${e}`,{status:"active"},{headers:this.getHeaders(),withCredentials:!0})}approveProject(e){return this.http.put(`${this.apiUrl}/proyecto/aprobarProyecto/${e}`,{},{headers:this.getHeaders(),withCredentials:!0})}rejectProject(e){return this.http.put(`${this.apiUrl}/proyecto/rechazarProyecto/${e}`,{},{headers:this.getHeaders(),withCredentials:!0})}getPendingProjects(){return this.http.get(`${this.apiUrl}/proyecto/listarProyectosStatus/pending`,{headers:this.getHeaders(),withCredentials:!0})}getAllProjects(){return this.http.get(`${this.apiUrl}/proyecto/listarProyectos`,{headers:this.getHeaders(),withCredentials:!0})}static \u0275fac=function(t){return new(t||n)(W($n),W(Le))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};var iq=n=>["/project",n];function oq(n,e){n&1&&(y(0,"div",4)(1,"p"),w(2,"Cargando datos..."),g()())}function sq(n,e){if(n&1){let t=Ue();y(0,"div",5)(1,"p"),w(2),g(),y(3,"button",6),K("click",function(){ae(t);let i=z();return ce(i.refreshData())}),w(4,"Reintentar"),g()()}if(n&2){let t=z();b(2),te(t.error)}}function aq(n,e){n&1&&(y(0,"span",26),w(1,"Baneado"),g())}function cq(n,e){n&1&&(y(0,"span",27),w(1,"Activo"),g())}function lq(n,e){if(n&1){let t=Ue();y(0,"button",28),K("click",function(){ae(t);let i=z().$implicit,o=z(2);return ce(o.banUser(i.id))}),w(1," Banear "),g()}}function uq(n,e){if(n&1){let t=Ue();y(0,"button",29),K("click",function(){ae(t);let i=z().$implicit,o=z(2);return ce(o.unbanUser(i.id))}),w(1," Desbanear "),g()}}function dq(n,e){if(n&1){let t=Ue();y(0,"tr")(1,"td"),w(2),g(),y(3,"td"),w(4),g(),y(5,"td")(6,"select",11),lt("ngModelChange",function(i){let o=ae(t).$implicit;return mt(o.role,i)||(o.role=i),ce(i)}),K("change",function(){let i=ae(t).$implicit,o=z(2);return ce(o.updateUserRole(i.id,i.role))}),y(7,"option",13),w(8,"Usuario"),g(),y(9,"option",14),w(10,"Administrador"),g()()(),y(11,"td"),Q(12,aq,2,0,"span",22)(13,cq,2,0,"span",23),g(),y(14,"td"),Q(15,lq,2,0,"button",24)(16,uq,2,0,"button",25),g()()}if(n&2){let t=e.$implicit;b(2),te(t.name),b(2),te(t.email),b(2),ct("ngModel",t.role),b(6),k("ngIf",t.status==="banned"),b(),k("ngIf",t.status!=="banned"),b(2),k("ngIf",t.status!=="banned"),b(),k("ngIf",t.status==="banned")}}function hq(n,e){n&1&&(y(0,"div",30),w(1," No se encontraron usuarios con los filtros aplicados. "),g())}function fq(n,e){if(n&1){let t=Ue();y(0,"tr")(1,"td"),w(2),g(),y(3,"td"),w(4),g(),y(5,"td"),w(6),g(),y(7,"td")(8,"span"),w(9),Je(10,"uppercase"),g()(),y(11,"td")(12,"div",31)(13,"button",29),K("click",function(){let i=ae(t).$implicit,o=z(2);return ce(o.approveProject(i.id))}),w(14,"Aprobar"),g(),y(15,"button",28),K("click",function(){let i=ae(t).$implicit,o=z(2);return ce(o.rejectProject(i.id))}),w(16,"Rechazar"),g(),y(17,"a",32),w(18,"Ver"),g()()()()}if(n&2){let t=e.$implicit;b(2),te(t.title),b(2),te((t.creator==null?null:t.creator.name)||t.creator),b(2),te(t.category),b(2),gt("pending",t.status==="pending")("approved",t.status==="approved")("rejected",t.status==="rejected"),b(),le(" ",Ut(10,11,t.status)," "),b(8),k("routerLink",_A(13,iq,t.id))}}function pq(n,e){n&1&&(y(0,"div",30),w(1," No se encontraron proyectos con los filtros aplicados o para ser aprobados o rechazados. "),g())}function gq(n,e){if(n&1){let t=Ue();y(0,"div",7)(1,"div",8)(2,"h2"),w(3,"Gesti\xF3n de Usuarios"),g(),y(4,"div",9)(5,"input",10),lt("ngModelChange",function(i){ae(t);let o=z();return mt(o.searchUserTerm,i)||(o.searchUserTerm=i),ce(i)}),K("input",function(){ae(t);let i=z();return ce(i.filterUsers())}),g(),y(6,"select",11),lt("ngModelChange",function(i){ae(t);let o=z();return mt(o.selectedUserRole,i)||(o.selectedUserRole=i),ce(i)}),K("change",function(){ae(t);let i=z();return ce(i.filterUsers())}),y(7,"option",12),w(8,"Todos los roles"),g(),y(9,"option",13),w(10,"Usuario"),g(),y(11,"option",14),w(12,"Administrador"),g()()(),y(13,"div",15)(14,"table")(15,"thead")(16,"tr")(17,"th"),w(18,"Nombre"),g(),y(19,"th"),w(20,"Email"),g(),y(21,"th"),w(22,"Rol"),g(),y(23,"th"),w(24,"Estado"),g(),y(25,"th"),w(26,"Acciones"),g()()(),y(27,"tbody"),Q(28,dq,17,7,"tr",16),g()(),Q(29,hq,2,0,"div",17),g()(),y(30,"div",8)(31,"h2"),w(32,"Gesti\xF3n de Proyectos"),g(),y(33,"div",9)(34,"input",18),lt("ngModelChange",function(i){ae(t);let o=z();return mt(o.searchProjectTerm,i)||(o.searchProjectTerm=i),ce(i)}),K("input",function(){ae(t);let i=z();return ce(i.filterProjects())}),g(),y(35,"select",11),lt("ngModelChange",function(i){ae(t);let o=z();return mt(o.selectedProjectStatus,i)||(o.selectedProjectStatus=i),ce(i)}),K("change",function(){ae(t);let i=z();return ce(i.filterProjects())}),y(36,"option",19),w(37,"Pendientes"),g(),y(38,"option",20),w(39,"Aprobados"),g(),y(40,"option",21),w(41,"Rechazados"),g(),y(42,"option",12),w(43,"Todos"),g()()(),y(44,"div",15)(45,"table")(46,"thead")(47,"tr")(48,"th"),w(49,"T\xEDtulo"),g(),y(50,"th"),w(51,"Creador"),g(),y(52,"th"),w(53,"Categor\xEDa"),g(),y(54,"th"),w(55,"Estado"),g(),y(56,"th"),w(57,"Acciones"),g()()(),y(58,"tbody"),Q(59,fq,19,15,"tr",16),g()(),Q(60,pq,2,0,"div",17),g()()()}if(n&2){let t=z();b(5),ct("ngModel",t.searchUserTerm),b(),ct("ngModel",t.selectedUserRole),b(22),k("ngForOf",t.filteredUsers),b(),k("ngIf",t.filteredUsers.length===0),b(5),ct("ngModel",t.searchProjectTerm),b(),ct("ngModel",t.selectedProjectStatus),b(24),k("ngForOf",t.filteredProjects),b(),k("ngIf",t.filteredProjects.length===0)}}var Wg=class n{constructor(e,t,r){this.adminService=e;this.authService=t;this.router=r}users=[];pendingProjects=[];allProjects=[];filteredUsers=[];filteredProjects=[];searchUserTerm="";searchProjectTerm="";selectedUserRole="all";selectedProjectStatus="pending";isLoading=!0;error=null;ngOnInit(){if(!this.authService.isAdmin()){this.router.navigate(["/dashboard"]);return}this.loadData()}loadData(){this.isLoading=!0,this.error=null,this.adminService.getUsers().subscribe({next:e=>{this.users=e,this.filteredUsers=[...e],this.adminService.getAllProjects().subscribe({next:t=>{this.allProjects=t,this.filteredProjects=[...t],this.isLoading=!1},error:t=>{console.error("Error loading projects:",t),this.error="Error al cargar proyectos: "+this.getErrorMessage(t),this.isLoading=!1}})},error:e=>{console.error("Error loading users:",e),this.error="Error al cargar usuarios",this.isLoading=!1}})}getErrorMessage(e){return e.status===403?"Acceso denegado. No tienes permisos de administrador.":e.status===401?"Sesi\xF3n expirada. Por favor inicia sesi\xF3n nuevamente.":"Error en el servidor. Intenta nuevamente m\xE1s tarde."}filterUsers(){this.filteredUsers=this.users.filter(e=>{let t=e.name.toLowerCase().includes(this.searchUserTerm.toLowerCase())||e.email.toLowerCase().includes(this.searchUserTerm.toLowerCase()),r=this.selectedUserRole==="all"||e.role===this.selectedUserRole;return t&&r})}filterProjects(){this.filteredProjects=this.allProjects.filter(e=>{let t=e.title.toLowerCase().includes(this.searchProjectTerm.toLowerCase())||e.description.toLowerCase().includes(this.searchProjectTerm.toLowerCase()),r=this.selectedProjectStatus==="all"||e.status===this.selectedProjectStatus;return t&&r})}updateUserRole(e,t){this.adminService.updateUserRole(e,t).subscribe({next:()=>{let r=this.users.find(i=>i.id===e);r&&(r.role=t),this.filterUsers()},error:r=>{console.error("Error updating user role:",r),this.error="Error al actualizar rol del usuario: "+this.getErrorMessage(r)}})}banUser(e){confirm("\xBFEst\xE1s seguro de que quieres banear a este usuario?")&&this.adminService.banUser(e).subscribe({next:()=>{let t=this.users.find(r=>r.id===e);t&&(t.status="banned"),this.filterUsers()},error:t=>{console.error("Error banning user:",t),this.error="Error al banear usuario: "+this.getErrorMessage(t)}})}unbanUser(e){this.adminService.unbanUser(e).subscribe({next:()=>{let t=this.users.find(r=>r.id===e);t&&(t.status="active"),this.filterUsers()},error:t=>{console.error("Error unbanning user:",t),this.error="Error al desbanear usuario: "+this.getErrorMessage(t)}})}approveProject(e){this.adminService.approveProject(e).subscribe({next:()=>{let t=this.allProjects.findIndex(r=>r.id===e);t!==-1&&(this.allProjects[t].status="approved"),this.filterProjects()},error:t=>{console.error("Error approving project:",t),this.error="Error al aprobar proyecto"}})}rejectProject(e){this.adminService.rejectProject(e).subscribe({next:()=>{let t=this.allProjects.findIndex(r=>r.id===e);t!==-1&&(this.allProjects[t].status="rejected"),this.filterProjects()},error:t=>{console.error("Error rejecting project:",t),this.error="Error al rechazar proyecto: "+this.getErrorMessage(t)}})}refreshData(){this.loadData()}static \u0275fac=function(t){return new(t||n)(L(Gg),L(Le),L(ve))};static \u0275cmp=tt({type:n,selectors:[["app-admin"]],decls:6,vars:3,consts:[[1,"admin-container"],["class","loading-spinner",4,"ngIf"],["class","error-message",4,"ngIf"],["class","admin-content",4,"ngIf"],[1,"loading-spinner"],[1,"error-message"],[3,"click"],[1,"admin-content"],[1,"admin-section"],[1,"filters"],["type","text","placeholder","Buscar usuarios...",3,"ngModelChange","input","ngModel"],[3,"ngModelChange","change","ngModel"],["value","all"],["value","usuario"],["value","admin"],[1,"table-container"],[4,"ngFor","ngForOf"],["class","no-results",4,"ngIf"],["type","text","placeholder","Buscar proyectos...",3,"ngModelChange","input","ngModel"],["value","pending"],["value","approved"],["value","rejected"],["class","banned-status",4,"ngIf"],["class","active-status",4,"ngIf"],["class","danger",3,"click",4,"ngIf"],["class","success",3,"click",4,"ngIf"],[1,"banned-status"],[1,"active-status"],[1,"danger",3,"click"],[1,"success",3,"click"],[1,"no-results"],[1,"action-buttons"],[1,"button",3,"routerLink"]],template:function(t,r){t&1&&(y(0,"div",0)(1,"h1"),w(2,"Panel de Administraci\xF3n"),g(),Q(3,oq,3,0,"div",1)(4,sq,5,1,"div",2)(5,gq,61,8,"div",3),g()),t&2&&(b(3),k("ngIf",r.isLoading),b(),k("ngIf",r.error),b(),k("ngIf",!r.isLoading&&!r.error))},dependencies:[rt,Pt,ut,Wo,zn,eo,to,Jt,Mr,_n,or,rs,Jf],styles:[".admin-container[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:1rem}.admin-section[_ngcontent-%COMP%]{margin-bottom:3rem;background:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 10px #0000001a}h2[_ngcontent-%COMP%]{color:#333;margin-bottom:1.5rem;padding-bottom:.5rem;border-bottom:1px solid #eee}.filters[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1.5rem}.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #ddd;border-radius:4px;font-size:1rem}.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;max-width:400px}.table-container[_ngcontent-%COMP%]{overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;text-align:left;border-bottom:1px solid #eee}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f5f5f5;font-weight:600}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}table[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.25rem;border:1px solid #ddd;border-radius:4px}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.35rem .75rem;border:none;border-radius:4px;cursor:pointer;font-size:.9rem;text-decoration:none;display:inline-flex;align-items:center;justify-content:center}.action-buttons[_ngcontent-%COMP%]   button.success[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   a.success[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.action-buttons[_ngcontent-%COMP%]   button.danger[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   a.danger[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.action-buttons[_ngcontent-%COMP%]   button.button[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   a.button[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.no-results[_ngcontent-%COMP%]{padding:1.5rem;text-align:center;color:#666;background-color:#f9f9f9;border-radius:4px;margin-top:1rem}.loading-spinner[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%]{text-align:center;padding:2rem}.error-message[_ngcontent-%COMP%]{color:#d32f2f}.banned-status[_ngcontent-%COMP%]{color:#f44336;font-weight:700}.active-status[_ngcontent-%COMP%]{color:#4caf50;font-weight:700}.pending[_ngcontent-%COMP%]{color:#ff9800;font-weight:700}.approved[_ngcontent-%COMP%]{color:#4caf50;font-weight:700}.rejected[_ngcontent-%COMP%]{color:#f44336;font-weight:700}"]})};var Kg=class n{constructor(e){this.http=e}apiUrl=`${Hr.apiUrl}`;getCurrentUser(e){let t=localStorage.getItem("custom_user");if(!t)return dn(()=>new Error("No user data available"));let r=JSON.parse(t),i=r?.token;if(!i)return dn(()=>new Error("No authentication token available"));let o=new Qt({Authorization:`Bearer ${i}`,"Content-Type":"application/json"});return this.http.get(`${this.apiUrl}/usuario/obtenerUsuario/${e}`,{headers:o,withCredentials:!0}).pipe(Qe(s=>{if(console.error("Error fetching user:",s),s.status===404){let a={uid:e,email:r.email,name:r.name||r.email.split("@")[0],role:"usuario",status:"active"};return Z(a)}return dn(()=>s)}))}updateUser(e,t){return this.http.put(`${this.apiUrl}/${e}`,t)}promoteToAdmin(e){return this.http.put(`${this.apiUrl}/usuario/actualizarUsuario/${e}`,{rol:"admin"},{withCredentials:!0})}banUser(e){return this.http.put(`${this.apiUrl}/usuario/actualizarUsuario/${e}`,{status:"banned"},{withCredentials:!0})}static \u0275fac=function(t){return new(t||n)(W($n))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};function yq(n,e){n&1&&(y(0,"div",4)(1,"p"),w(2,"Cargando perfil..."),g()())}function vq(n,e){if(n&1){let t=Ue();y(0,"div",5)(1,"p"),w(2),g(),y(3,"button",6),K("click",function(){ae(t);let i=z();return ce(i.loadUserProfile())}),w(4,"Reintentar"),g()()}if(n&2){let t=z();b(2),te(t.error)}}function _q(n,e){if(n&1){let t=Ue();y(0,"button",21),K("click",function(){ae(t);let i=z(2);return ce(i.navigateToProjectCreation())}),w(1," Crear Nuevo Proyecto "),g()}}function wq(n,e){if(n&1){let t=Ue();y(0,"div",25)(1,"h3"),w(2),g(),y(3,"p",26),w(4),g(),y(5,"p"),w(6),g(),y(7,"div",27)(8,"span"),w(9),Je(10,"number"),Je(11,"number"),g(),y(12,"span"),w(13),g()(),y(14,"div",28)(15,"button",29),K("click",function(){let i=ae(t).$implicit,o=z(3);return ce(o.navigateToProjectAnalytics(i.id))}),w(16," Ver An\xE1lisis "),g()()()}if(n&2){let t=e.$implicit;b(2),te(t.title),b(2),te(t.category),b(2),te(t.description),b(3),zo("Recaudado: $",Ut(10,6,t.collected)," / $",Ut(11,8,t.goal),""),b(4),le("",(t.collected/t.goal*100).toFixed(0),"%")}}function Eq(n,e){if(n&1&&(y(0,"div",22)(1,"h2"),w(2),g(),y(3,"div",23),Q(4,wq,17,10,"div",24),g()()),n&2){let t=z(2);b(2),le("Mis Proyectos (",t.userProjects.length,")"),b(2),k("ngForOf",t.userProjects)}}function Iq(n,e){if(n&1){let t=Ue();y(0,"div",30)(1,"p"),w(2,"A\xFAn no has creado ning\xFAn proyecto."),g(),y(3,"button",21),K("click",function(){ae(t);let i=z(2);return ce(i.navigateToProjectCreation())}),w(4," Crear mi primer proyecto "),g()()}}function bq(n,e){if(n&1&&(y(0,"div",7)(1,"div",8)(2,"div",9),ie(3,"img",10),g(),y(4,"div",11)(5,"h1"),w(6),g(),y(7,"p",12),w(8),g(),y(9,"p",13),w(10),g(),y(11,"p",14),w(12),g(),y(13,"p",15),w(14),g(),y(15,"p",16),w(16),g()()(),y(17,"div",17),Q(18,_q,2,0,"button",18),g(),Q(19,Eq,5,2,"div",19)(20,Iq,5,0,"div",20),g()),n&2){let t=z();b(3),k("src",t.user.avatar||"assets/default-avatar.png",ji),b(3),te(t.user.name),b(2),te(t.user.email),b(2),le("Estado: ",t.user.status||"active",""),b(2),le("Rol: ",t.user.role||"usuario",""),b(2),le("Verificacion: ",t.user.email_verified||"Falsee",""),b(2),le("Visitas: ",t.user.login_count||0,""),b(2),k("ngIf",t.isCurrentUser),b(),k("ngIf",t.userProjects.length>0),b(),k("ngIf",t.userProjects.length===0&&t.isCurrentUser)}}var Qg=class n{constructor(e,t,r,i){this.userService=e;this.projectService=t;this.authService=r;this.router=i}user=null;userProjects=[];isLoading=!0;error=null;isCurrentUser=!1;ngOnInit(){this.loadUserProfile()}loadUserProfile(){return E(this,null,function*(){this.isLoading=!0,this.error=null;try{let e=localStorage.getItem("custom_user");if(!e){this.router.navigate(["/login"]);return}let t=JSON.parse(e),r=t.id||t.uid;if(!r)throw new Error("ID de usuario no disponible");let i=this.userService.getCurrentUser(r).pipe(Qe(a=>(console.error("Error loading user:",a),t?Z(X(V({},t),{role:t.role||"usuario",status:t.status||"active",email_verified:t.email_verified||"False"})):dn(()=>a))));this.user=yield zd(i),this.isCurrentUser=t.email===this.user.email;let o=this.projectService.getProjects().pipe(Qe(a=>(console.error("Error loading projects:",a),Z([])))),s=yield zd(o);this.userProjects=(s||[]).filter(a=>a.creator&&a.creator.email===this.user.email)}catch(e){console.error("Error loading profile:",e),this.error="Error al cargar el perfil. Por favor intenta nuevamente.",e.status===401&&(this.authService.logout(),this.router.navigate(["/login"]))}finally{this.isLoading=!1}})}navigateToProjectCreation(){this.router.navigate(["/project-creation"])}navigateToProjectAnalytics(e){this.router.navigate(["/project-analytics",e])}static \u0275fac=function(t){return new(t||n)(L(Kg),L(En),L(Le),L(ve))};static \u0275cmp=tt({type:n,selectors:[["app-user-profile"]],decls:4,vars:3,consts:[[1,"profile-container"],["class","loading-spinner",4,"ngIf"],["class","error-message",4,"ngIf"],["class","profile-content",4,"ngIf"],[1,"loading-spinner"],[1,"error-message"],[3,"click"],[1,"profile-content"],[1,"profile-header"],[1,"avatar-container"],["alt","Avatar",1,"profile-avatar",3,"src"],[1,"profile-info"],[1,"email"],[1,"status"],[1,"role"],[1,"verificacion"],[1,"login-count"],[1,"profile-actions"],["class","button-primary",3,"click",4,"ngIf"],["class","projects-section",4,"ngIf"],["class","no-projects",4,"ngIf"],[1,"button-primary",3,"click"],[1,"projects-section"],[1,"projects-grid"],["class","project-card",4,"ngFor","ngForOf"],[1,"project-card"],[1,"category"],[1,"project-stats"],[1,"project-actions"],[1,"button-secondary",3,"click"],[1,"no-projects"]],template:function(t,r){t&1&&(y(0,"div",0),Q(1,yq,3,0,"div",1)(2,vq,5,1,"div",2)(3,bq,21,10,"div",3),g()),t&2&&(b(),k("ngIf",r.isLoading),b(),k("ngIf",r.error),b(),k("ngIf",!r.isLoading&&!r.error&&r.user))},dependencies:[rt,Pt,ut,Cr,zn,ka],styles:[".profile-container[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:1rem}.profile-container[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]{display:flex;gap:2rem;align-items:center;margin-bottom:2rem}.profile-container[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .avatar-container[_ngcontent-%COMP%]   .profile-avatar[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;object-fit:cover;border:3px solid #4caf50}.profile-container[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2e7d32;margin:0}.profile-container[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{color:#52bf57;margin:.5rem 0}.profile-container[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .bio[_ngcontent-%COMP%]{color:#2e7d32;max-width:600px}.profile-container[_ngcontent-%COMP%]   .profile-actions[_ngcontent-%COMP%]{margin:2rem 0}.profile-container[_ngcontent-%COMP%]   .projects-section[_ngcontent-%COMP%]{margin-top:3rem}.profile-container[_ngcontent-%COMP%]   .projects-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2e7d32;border-bottom:2px solid #c8e6c9;padding-bottom:.5rem}.profile-container[_ngcontent-%COMP%]   .projects-section[_ngcontent-%COMP%]   .projects-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.5rem;margin-top:1.5rem}.profile-container[_ngcontent-%COMP%]   .projects-section[_ngcontent-%COMP%]   .projects-grid[_ngcontent-%COMP%]   .project-card[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:8px;box-shadow:0 2px 8px #0000001a}.profile-container[_ngcontent-%COMP%]   .projects-section[_ngcontent-%COMP%]   .projects-grid[_ngcontent-%COMP%]   .project-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#4caf50;margin-top:0}.profile-container[_ngcontent-%COMP%]   .projects-section[_ngcontent-%COMP%]   .projects-grid[_ngcontent-%COMP%]   .project-card[_ngcontent-%COMP%]   .project-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:1rem 0;color:#2e7d32}.profile-container[_ngcontent-%COMP%]   .no-projects[_ngcontent-%COMP%]{text-align:center;margin:3rem 0;color:#2e7d32}.profile-container[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{background:#4caf50;color:#fff;border:none;padding:.8rem 1.5rem;border-radius:5px;cursor:pointer;font-weight:700;transition:background .3s}.profile-container[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]:hover{background:#3d8b40}.profile-container[_ngcontent-%COMP%]   .button-secondary[_ngcontent-%COMP%]{background:#fff;color:#4caf50;border:2px solid #4caf50;padding:.6rem 1.2rem;border-radius:5px;cursor:pointer;font-weight:700;transition:all .3s}.profile-container[_ngcontent-%COMP%]   .button-secondary[_ngcontent-%COMP%]:hover{background:#4caf50;color:#fff}@media (max-width: 768px){.profile-header[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}"]})};var uo=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.isAuthenticated$.pipe(Dt(1),ue(e=>e?!0:(this.router.navigate(["/login"]),!1)))}static \u0275fac=function(t){return new(t||n)(W(Le),W(ve))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})},Yg=class n{constructor(e){this.router=e}canActivate(){return localStorage.getItem("projectCreationData")?(this.router.navigate(["/user-profile"]),!1):!0}static \u0275fac=function(t){return new(t||n)(W(ve))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};var Jg=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.isAuthenticated$.pipe(kt(e=>e!==null),Dt(1),Wt(()=>this.authService.currentUser$),ue(e=>e&&e.role?.toLowerCase()==="admin"?!0:(this.router.navigate(["/dashboard"],{queryParams:{message:"No tienes permisos de administrador"}}),!1)),Qe(()=>(this.router.navigate(["/dashboard"]),Z(!1))))}static \u0275fac=function(t){return new(t||n)(W(Le),W(ve))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};function Cq(n,e){n&1&&(y(0,"span"),w(1,"Registrarse"),g())}function Tq(n,e){n&1&&ie(0,"span",32)}function Dq(n,e){if(n&1&&(y(0,"div",33)(1,"i",34),w(2,"\u26A0\uFE0F"),g(),w(3),g()),n&2){let t=z();b(3),le(" ",t.errorMessage," ")}}var Zg=class n{constructor(e,t){this.authService=e;this.router=t}name="";email="";password="";confirmPassword="";errorMessage="";loading=!1;activeField="";showPassword=!1;showConfirmPassword=!1;togglePasswordVisibility(e){e==="password"?this.showPassword=!this.showPassword:this.showConfirmPassword=!this.showConfirmPassword}onSubmit(){return E(this,null,function*(){if(!this.name||!this.email||!this.password||!this.confirmPassword){this.errorMessage="Por favor completa todos los campos";return}if(!this.validateEmail(this.email)){this.errorMessage="Por favor ingresa un correo electr\xF3nico v\xE1lido";return}if(this.password!==this.confirmPassword){this.errorMessage="Las contrase\xF1as no coinciden";return}if(this.password.length<6){this.errorMessage="La contrase\xF1a debe tener al menos 6 caracteres";return}this.loading=!0,this.errorMessage="";try{(yield this.authService.register(this.name,this.email,this.password))?(alert("Se ha enviado un Correo Electr\xF3nico de Verificaci\xF3n."),this.router.navigate(["/dashboard"])):this.errorMessage="Error al registrar el usuario"}catch(e){console.error("Registration error:",e),this.errorMessage=this.getErrorMessage(e)}finally{this.loading=!1}})}getErrorMessage(e){return e.error?.message?e.error.message:e.status===0?"No se pudo conectar al servidor":"Ocurri\xF3 un error durante el registro. Por favor int\xE9ntalo m\xE1s tarde."}navigateTo(e){this.router.navigate([e])}validateEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}static \u0275fac=function(t){return new(t||n)(L(Le),L(ve))};static \u0275cmp=tt({type:n,selectors:[["app-register"]],decls:61,vars:20,consts:[[1,"login-wrapper"],[1,"login-container"],[1,"login-header"],["src","https://w7.pngwing.com/pngs/95/245/png-transparent-green-leaf-computer-icons-green-leaf-green-leaf-icon-leaf-plant-stem-grass-thumbnail.png","alt","CoCreando Logo",1,"logo"],[1,"login-form",3,"ngSubmit"],[1,"form-group","floating"],["type","text","id","name","name","name","required","","placeholder"," ",3,"ngModelChange","focus","blur","ngModel"],["for","name"],[1,"icon"],["type","email","id","email","name","email","required","","placeholder"," ",3,"ngModelChange","focus","blur","ngModel"],["for","email"],["id","password","name","password","required","","placeholder"," ",3,"ngModelChange","focus","blur","type","ngModel"],["for","password"],["type","button",1,"toggle-password",3,"click"],["id","confirmPassword","name","confirmPassword","required","","placeholder"," ",3,"ngModelChange","focus","blur","type","ngModel"],["for","confirmPassword"],["type","submit",1,"login-button",3,"disabled"],[4,"ngIf"],["class","spinner",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"social-login"],[1,"social-buttons"],["type","button",1,"social-button","google"],["src","https://w7.pngwing.com/pngs/326/85/png-transparent-google-logo-google-text-trademark-logo-thumbnail.png","alt","Google"],["type","button",1,"social-button","github"],["src","https://w7.pngwing.com/pngs/646/324/png-transparent-github-computer-icons-github-logo-monochrome-head-thumbnail.png","alt","GitHub"],[1,"register-link"],["routerLink","/login"],[1,"login-background"],[1,"shape","shape-1"],[1,"shape","shape-2"],[1,"shape","shape-3"],[1,"spinner"],[1,"error-message"],[1,"error-icon"]],template:function(t,r){t&1&&(y(0,"div",0)(1,"div",1)(2,"div",2),ie(3,"img",3),y(4,"h1"),w(5,"Reg\xEDstrate en "),y(6,"span"),w(7,"CoCreando"),g()(),y(8,"p"),w(9,"Crea tu cuenta para empezar a colaborar"),g()(),y(10,"form",4),K("ngSubmit",function(){return r.onSubmit()}),y(11,"div",5)(12,"input",6),lt("ngModelChange",function(o){return mt(r.name,o)||(r.name=o),o}),K("focus",function(){return r.activeField="name"})("blur",function(){return r.activeField=""}),g(),y(13,"label",7),w(14,"Nombre completo"),g(),y(15,"i",8),w(16,"\u{1F464}"),g()(),y(17,"div",5)(18,"input",9),lt("ngModelChange",function(o){return mt(r.email,o)||(r.email=o),o}),K("focus",function(){return r.activeField="email"})("blur",function(){return r.activeField=""}),g(),y(19,"label",10),w(20,"Correo electr\xF3nico"),g(),y(21,"i",8),w(22,"\u2709\uFE0F"),g()(),y(23,"div",5)(24,"input",11),lt("ngModelChange",function(o){return mt(r.password,o)||(r.password=o),o}),K("focus",function(){return r.activeField="password"})("blur",function(){return r.activeField=""}),g(),y(25,"label",12),w(26,"Contrase\xF1a"),g(),y(27,"i",8),w(28,"\u{1F512}"),g(),y(29,"button",13),K("click",function(){return r.togglePasswordVisibility("password")}),w(30),g()(),y(31,"div",5)(32,"input",14),lt("ngModelChange",function(o){return mt(r.confirmPassword,o)||(r.confirmPassword=o),o}),K("focus",function(){return r.activeField="confirmPassword"})("blur",function(){return r.activeField=""}),g(),y(33,"label",15),w(34,"Confirmar contrase\xF1a"),g(),y(35,"i",8),w(36,"\u{1F512}"),g(),y(37,"button",13),K("click",function(){return r.togglePasswordVisibility("confirmPassword")}),w(38),g()(),y(39,"button",16),Q(40,Cq,2,0,"span",17)(41,Tq,1,0,"span",18),g(),Q(42,Dq,4,1,"div",19),y(43,"div",20)(44,"p"),w(45,"O reg\xEDstrate con"),g(),y(46,"div",21)(47,"button",22),ie(48,"img",23),w(49," Google "),g(),y(50,"button",24),ie(51,"img",25),w(52," GitHub "),g()()(),y(53,"div",26),w(54," \xBFYa tienes una cuenta? "),y(55,"a",27),w(56,"Inicia sesi\xF3n"),g()()()(),y(57,"div",28),ie(58,"div",29)(59,"div",30)(60,"div",31),g()()),t&2&&(b(12),ct("ngModel",r.name),b(),gt("active",r.activeField==="name"||r.name),b(5),ct("ngModel",r.email),b(),gt("active",r.activeField==="email"||r.email),b(5),k("type",r.showPassword?"text":"password"),ct("ngModel",r.password),b(),gt("active",r.activeField==="password"||r.password),b(5),le(" ",r.showPassword?"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F":"\u{1F441}\uFE0F"," "),b(2),k("type",r.showConfirmPassword?"text":"password"),ct("ngModel",r.confirmPassword),b(),gt("active",r.activeField==="confirmPassword"||r.confirmPassword),b(5),le(" ",r.showConfirmPassword?"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F":"\u{1F441}\uFE0F"," "),b(),k("disabled",r.loading),b(),k("ngIf",!r.loading),b(),k("ngIf",r.loading),b(),k("ngIf",r.errorMessage))},dependencies:[zn,Xi,Jt,_n,Zi,eu,or,Yl,rt,ut],styles:['.login-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f8f9fa;position:relative;overflow:hidden;padding:2rem}.login-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 25px -5px #0000001a;width:100%;max-width:450px;z-index:2;overflow:hidden;transition:all .3s ease-in-out}.login-container[_ngcontent-%COMP%]:hover{box-shadow:0 15px 30px -5px #00000026}.login-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#426e28,#146b08);color:#fff;padding:2.5rem 2rem;text-align:center}.login-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:50px;margin-bottom:1rem}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.8rem;font-weight:600}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#88c9a1}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0 0;opacity:.9;font-size:.95rem}.login-form[_ngcontent-%COMP%]{padding:2rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:1.5rem}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;left:3rem;top:1rem;color:#718096;pointer-events:none;transition:all .3s ease-in-out}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   label.active[_ngcontent-%COMP%]{top:-.6rem;left:2.8rem;font-size:.75rem;background:#fff;padding:0 .3rem;color:#426e28}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:3rem;height:3rem}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#426e28;box-shadow:0 0 0 2px #426e2833}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:1rem;font-size:1rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:1px solid #e2e8f0;border-radius:8px;font-size:1rem;transition:all .3s ease-in-out}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem;background:none;border:none;cursor:pointer;opacity:.5;transition:all .3s ease-in-out}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover{opacity:1}.form-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:1.5rem 0}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;color:#718096;font-size:.9rem}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{display:inline-block;width:18px;height:18px;margin-right:8px;border:1px solid #cbd5e0;border-radius:4px;position:relative;transition:all .3s ease-in-out}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none;left:6px;top:2px;width:5px;height:10px;border:solid white;border-width:0 2px 2px 0;transform:rotate(45deg)}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#426e28;border-color:#426e28}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.form-options[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{color:#426e28;text-decoration:none;font-size:.9rem;transition:all .3s ease-in-out}.form-options[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-button[_ngcontent-%COMP%]{width:100%;padding:1rem;background:linear-gradient(135deg,#426e28,#146b08);color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease-in-out}.login-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#375b21,#105306);transform:translateY(-2px)}.login-button[_ngcontent-%COMP%]:disabled{background:#cbd5e0;cursor:not-allowed;transform:none}.login-button[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;border:3px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.error-message[_ngcontent-%COMP%]{color:#e53e3e;background:#e53e3e1a;padding:.8rem;border-radius:8px;margin:1rem 0;display:flex;align-items:center;font-size:.9rem}.error-message[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-right:.5rem}.social-login[_ngcontent-%COMP%]{margin:2rem 0 1rem;text-align:center}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;font-size:.9rem;position:relative;margin:1rem 0}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before, .social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:after{content:"";display:inline-block;width:30%;height:1px;background:#e2e8f0;position:absolute;top:50%}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before{left:0}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:after{right:0}.social-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem}.social-buttons[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]{flex:1;padding:.7rem;border:1px solid #e2e8f0;border-radius:8px;background:#fff;display:flex;align-items:center;justify-content:center;gap:.5rem;font-size:.9rem;cursor:pointer;transition:all .3s ease-in-out}.social-buttons[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:hover{background:#f8fafc;transform:translateY(-2px)}.social-buttons[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:18px;height:18px}.social-buttons[_ngcontent-%COMP%]   .social-button.google[_ngcontent-%COMP%]{color:#db4437}.social-buttons[_ngcontent-%COMP%]   .social-button.github[_ngcontent-%COMP%]{color:#333}.register-link[_ngcontent-%COMP%]{text-align:center;color:#718096;font-size:.9rem;margin-top:1.5rem}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#426e28;text-decoration:none;font-weight:500;transition:all .3s ease-in-out}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}.login-background[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{position:absolute;border-radius:50%;background:#88c9a11a;transition:all 15s linear}.login-background[_ngcontent-%COMP%]   .shape.shape-1[_ngcontent-%COMP%]{width:300px;height:300px;top:-100px;left:-100px;animation:_ngcontent-%COMP%_float 12s ease-in-out infinite}.login-background[_ngcontent-%COMP%]   .shape.shape-2[_ngcontent-%COMP%]{width:200px;height:200px;bottom:-50px;right:-50px;animation:_ngcontent-%COMP%_float 8s ease-in-out infinite reverse}.login-background[_ngcontent-%COMP%]   .shape.shape-3[_ngcontent-%COMP%]{width:150px;height:150px;top:30%;right:20%;animation:_ngcontent-%COMP%_float 10s ease-in-out infinite 2s}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-20px) rotate(5deg)}}@media (max-width: 576px){.login-wrapper[_ngcontent-%COMP%]{padding:1rem}.login-header[_ngcontent-%COMP%]{padding:1.5rem 1rem}.login-form[_ngcontent-%COMP%]{padding:1.5rem}.social-buttons[_ngcontent-%COMP%]{flex-direction:column}}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.7rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.3rem}']})};function Sq(n,e){if(n&1&&(y(0,"div",37)(1,"h3"),w(2),y(3,"span",38),w(4),Je(5,"date"),g()(),y(6,"p"),w(7),g()()),n&2){let t=e.$implicit;b(2),le("",t.title," "),b(2),te(Ut(5,3,t.date)),b(3),te(t.content)}}function Aq(n,e){n&1&&(y(0,"span"),w(1,"Invertir ahora"),g())}function Mq(n,e){n&1&&(y(0,"span"),w(1,"Procesando pago..."),g())}function Pq(n,e){if(n&1&&(y(0,"div",39)(1,"h4"),w(2),g(),y(3,"h5"),w(4),g(),y(5,"p"),w(6),g()()),n&2){let t=e.$implicit;b(2),le("$",t.minimumAmount," o m\xE1s"),b(2),te(t.title),b(2),te(t.description)}}function xq(n,e){if(n&1&&(y(0,"div",40)(1,"span",41),w(2),g(),y(3,"span",42),w(4),g()()),n&2){let t=e.$implicit;b(2),te(t.name),b(2),le("$",t.amount,"")}}function Rq(n,e){if(n&1){let t=Ue();y(0,"div",1)(1,"div",2)(2,"h1"),w(3),g(),y(4,"p",3),w(5),g(),y(6,"p",4),w(7),g()(),y(8,"div",5)(9,"div",6)(10,"div",7)(11,"h2"),w(12,"Acerca de este proyecto"),g(),y(13,"p"),w(14),g()(),y(15,"div",8)(16,"h2"),w(17,"Retos y desaf\xEDos"),g(),y(18,"p"),w(19),g()(),y(20,"div",9)(21,"h2"),w(22,"Actualizaciones"),g(),Q(23,Sq,8,5,"div",10),g(),y(24,"button",11),K("click",function(){ae(t);let i=z();return ce(i.navigateAnalisis())}),w(25,"Analisis de Proyecto"),g()(),y(26,"div",12)(27,"div",13)(28,"h3"),w(29),Je(30,"uppercase"),g()(),y(31,"div",14)(32,"div",15),ie(33,"div",16),g(),y(34,"div",17)(35,"span",18),w(36),g(),y(37,"span",19),w(38),g()(),y(39,"div",20)(40,"span"),w(41),g()()(),y(42,"div",21)(43,"h3"),w(44,"Invertir en este proyecto"),g(),y(45,"div",22)(46,"label",23),w(47,"Monto a invertir ($)"),g(),y(48,"input",24),lt("ngModelChange",function(i){ae(t);let o=z();return mt(o.investmentAmount,i)||(o.investmentAmount=i),ce(i)}),g()(),y(49,"button",25),K("click",function(){ae(t);let i=z();return ce(i.invest())}),Q(50,Aq,2,0,"span",26)(51,Mq,2,0,"span",26),g(),y(52,"p",27),w(53,"Ser\xE1s redirigido a PayU para completar el pago de forma segura"),g()(),y(54,"div",28)(55,"h3"),w(56,"Recompensas"),g(),Q(57,Pq,7,3,"div",29),g(),y(58,"div",30)(59,"h3"),w(60,"Creador del proyecto"),g(),y(61,"div",31),ie(62,"img",32),y(63,"div",33)(64,"h4"),w(65),g(),y(66,"p"),w(67),g(),y(68,"a",34),w(69,"Contactar"),g()()()(),y(70,"div",35)(71,"h3"),w(72,"Principales aportantes"),g(),Q(73,xq,5,2,"div",36),g()()()()}if(n&2){let t=z();b(3),te(t.project.title),b(2),le("\u{1F4CD} ",t.project.location,""),b(2),te(t.project.category),b(7),te(t.project.longDescription),b(5),te(t.project.risksAndChallenges),b(4),k("ngForOf",t.project.updates),b(4),gt("pending",t.project.status==="pending")("approved",t.project.status==="approved")("rejected",t.project.status==="rejected"),b(2),le("Estado: ",Ut(30,32,t.project.status),""),b(4),Bi("width",t.project.collected/t.project.goal*100+"%"),b(3),le("",(t.project.collected/t.project.goal*100).toFixed(0),"%"),b(2),zo("$",t.project.collected," recaudados de $",t.project.goal,""),b(3),le("",t.getDaysRemaining(t.project.deadline)," d\xEDas restantes"),b(7),ct("ngModel",t.investmentAmount),k("max",t.project.goal-t.project.collected)("disabled",t.isProcessingPayment),b(),k("disabled",t.isProcessingPayment),b(),k("ngIf",!t.isProcessingPayment),b(),k("ngIf",t.isProcessingPayment),b(6),k("ngForOf",t.project.rewards),b(5),k("src",t.project.creator.avatar,ji),b(3),te(t.project.creator.name),b(2),te(t.project.creator.bio),b(),E_("href","mailto:",t.project.creator.email,"",ji),b(5),k("ngForOf",t.getTopSupporters())}}var Xg=class n{constructor(e,t,r,i,o){this.route=e;this.router=t;this.projectService=r;this.authService=i;this.http=o}projectId="";project=null;investmentAmount=0;currentUser;isLoading=!0;error=null;isProcessingPayment=!1;ngOnInit(){this.route.paramMap.subscribe(e=>{this.projectId=e.get("id")||"",this.authService.currentUser$.subscribe(t=>{this.currentUser=t}),this.projectId?this.loadProject(this.projectId):this.router.navigate(["/dashboard"],{replaceUrl:!0})})}loadProject(e){this.isLoading=!0,this.error=null,this.projectService.getProjectById(e).subscribe({next:t=>{if(!t){this.router.navigate(["/dashboard"],{replaceUrl:!0});return}this.project=X(V({},t),{deadline:new Date(t.deadline),longDescription:t.longDescription||`Este proyecto busca ${t.description.toLowerCase()} a trav\xE9s de un enfoque innovador y colaborativo.`,location:t.location||"Ubicaci\xF3n no especificada",creator:t.creator||this.getDefaultCreator(),risksAndChallenges:t.risksAndChallenges||"No se han especificado los retos y desaf\xEDos de este proyecto.",rewards:t.rewards||this.getDefaultRewards(),updates:(t.updates||[]).map(r=>X(V({},r),{date:new Date(r.date)})),supporters:(t.supporters||[]).map(r=>X(V({},r),{date:new Date(r.date)}))}),this.isLoading=!1},error:t=>{console.error("Error loading project",t),this.error="No se pudo cargar el proyecto. Por favor intenta m\xE1s tarde.",this.isLoading=!1}})}invest(){if(this.investmentAmount<=0){alert("Por favor ingresa un monto v\xE1lido");return}if(!this.currentUser){alert("Debes iniciar sesi\xF3n para invertir"),this.router.navigate(["/login"]);return}if(this.investmentAmount>this.project.goal-this.project.collected){alert("El monto ingresado supera lo que falta para alcanzar la meta del proyecto");return}this.isProcessingPayment=!0;let e={id_proyecto:this.projectId,descripcion:`Inversi\xF3n en ${this.project.title}`,valor:this.investmentAmount,email:this.currentUser.email};this.http.post(`${Hr.apiUrl}/pasarela/crear-pago`,e,{responseType:"text"}).subscribe({next:t=>{let r=window.open("","PayU","width=800,height=600");if(r)r.document.write(t);else{let i=document.createElement("div");i.innerHTML=t,document.body.appendChild(i);let o=i.querySelector("form");o&&o.submit()}},error:t=>{console.error("Error al procesar el pago",t),alert("Ocurri\xF3 un error al procesar tu pago. Por favor intenta nuevamente."),this.isProcessingPayment=!1},complete:()=>{this.isProcessingPayment=!1}})}navigateAnalisis(){this.router.navigate(["/project-analytics",this.projectId])}getDefaultCreator(){return{name:"Creador An\xF3nimo",email:"contacto@proyecto.com",bio:"Informaci\xF3n no disponible sobre el creador de este proyecto.",avatar:"https://randomuser.me/api/portraits/lego/0.jpg"}}getDefaultRewards(){return[{title:"Agradecimiento p\xFAblico",description:"Menci\xF3n en nuestras redes sociales y p\xE1gina web.",minimumAmount:10},{title:"Kit del proyecto",description:"Recibir\xE1s un kit con productos relacionados al proyecto.",minimumAmount:50}]}getDaysRemaining(e){return Math.floor((e.getTime()-new Date().getTime())/(1e3*60*60*24))}getTopSupporters(){return[...this.project.supporters].sort((e,t)=>t.amount-e.amount).slice(0,3)}static \u0275fac=function(t){return new(t||n)(L(Yt),L(ve),L(En),L(Le),L($n))};static \u0275cmp=tt({type:n,selectors:[["app-project-details"]],decls:1,vars:1,consts:[["class","project-details-container",4,"ngIf"],[1,"project-details-container"],[1,"project-header"],[1,"location"],[1,"category"],[1,"project-content"],[1,"main-content"],[1,"project-description"],[1,"project-risks"],[1,"project-updates"],["class","update",4,"ngFor","ngForOf"],[1,"analisisPro",3,"click"],[1,"sidebar"],[1,"project-status"],[1,"progress-container"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-stats"],[1,"percentage"],[1,"amount"],[1,"time-remaining"],[1,"investment-section"],[1,"form-group"],["for","amount"],["type","number","id","amount","min","1",3,"ngModelChange","ngModel","max","disabled"],[1,"invest-button",3,"click","disabled"],[4,"ngIf"],[1,"note"],[1,"rewards-section"],["class","reward",4,"ngFor","ngForOf"],[1,"creator-section"],[1,"creator-info"],["alt","Avatar del creador",1,"creator-avatar",3,"src"],[1,"creator-details"],[3,"href"],[1,"supporters-section"],["class","supporter",4,"ngFor","ngForOf"],[1,"update"],[1,"date"],[1,"reward"],[1,"supporter"],[1,"supporter-name"],[1,"supporter-amount"]],template:function(t,r){t&1&&Q(0,Rq,74,34,"div",0),t&2&&k("ngIf",r.project)},dependencies:[rt,Pt,ut,Wo,qi,zn,Jt,Jl,_n,Xl,B0,or],styles:[".project-details-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem}.project-details-container[_ngcontent-%COMP%]   .project-header[_ngcontent-%COMP%]{margin-bottom:2rem}.project-details-container[_ngcontent-%COMP%]   .project-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#4caf50;margin-bottom:.5rem}.project-details-container[_ngcontent-%COMP%]   .project-header[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{color:#52bf57;font-size:1.1rem;margin-bottom:.5rem}.project-details-container[_ngcontent-%COMP%]   .project-header[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{display:inline-block;background:#c8e6c9;color:#2e7d32;padding:.3rem .8rem;border-radius:20px;font-size:.9rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]{display:flex;gap:2rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{flex:2}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#4caf50;margin:1.5rem 0 1rem;border-bottom:2px solid #c8e6c9;padding-bottom:.5rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .project-updates[_ngcontent-%COMP%]   .update[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:8px;margin-bottom:1rem;box-shadow:0 2px 4px #0000001a}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .project-updates[_ngcontent-%COMP%]   .update[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#77cd7b;font-size:.9rem;margin-left:1rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{flex:1}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:8px;margin-bottom:1.5rem;box-shadow:0 2px 4px #0000001a}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#4caf50;margin-top:0;margin-bottom:1rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:10px;background:#c8e6c9;border-radius:5px;margin-bottom:.5rem;overflow:hidden}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:#88c9a1;transition:width .5s ease}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:.5rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]{font-weight:700;color:#4caf50}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .time-remaining[_ngcontent-%COMP%]{text-align:center;color:#52bf57;font-size:.9rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .investment-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .investment-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#2e7d32}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .investment-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:2px solid #c8e6c9;border-radius:5px}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .investment-section[_ngcontent-%COMP%]   .invest-button[_ngcontent-%COMP%]{width:100%;padding:.8rem;background:#4caf50;color:#fff;border:none;border-radius:5px;font-weight:700;cursor:pointer;transition:background .3s}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .investment-section[_ngcontent-%COMP%]   .invest-button[_ngcontent-%COMP%]:hover{background:#3d8b40}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .rewards-section[_ngcontent-%COMP%]   .reward[_ngcontent-%COMP%]{margin-bottom:1rem;padding-bottom:1rem;border-bottom:1px dashed #c8e6c9}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .rewards-section[_ngcontent-%COMP%]   .reward[_ngcontent-%COMP%]:last-child{border-bottom:none}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .rewards-section[_ngcontent-%COMP%]   .reward[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#4caf50;margin:.5rem 0}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .rewards-section[_ngcontent-%COMP%]   .reward[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:.5rem 0;color:#2e7d32}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .creator-section[_ngcontent-%COMP%]   .creator-info[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .creator-section[_ngcontent-%COMP%]   .creator-info[_ngcontent-%COMP%]   .creator-avatar[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;object-fit:cover}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .creator-section[_ngcontent-%COMP%]   .creator-info[_ngcontent-%COMP%]   .creator-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .3rem;color:#2e7d32}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .creator-section[_ngcontent-%COMP%]   .creator-info[_ngcontent-%COMP%]   .creator-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4caf50;text-decoration:none;font-size:.9rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .creator-section[_ngcontent-%COMP%]   .creator-info[_ngcontent-%COMP%]   .creator-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .supporters-section[_ngcontent-%COMP%]   .supporter[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.5rem 0;border-bottom:1px dashed #c8e6c9}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .supporters-section[_ngcontent-%COMP%]   .supporter[_ngcontent-%COMP%]:last-child{border-bottom:none}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .supporters-section[_ngcontent-%COMP%]   .supporter[_ngcontent-%COMP%]   .supporter-name[_ngcontent-%COMP%]{color:#2e7d32}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .supporters-section[_ngcontent-%COMP%]   .supporter[_ngcontent-%COMP%]   .supporter-amount[_ngcontent-%COMP%]{color:#4caf50;font-weight:700}@media (max-width: 768px){.project-content[_ngcontent-%COMP%]{flex-direction:column!important}}.analisisPro[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:4px;cursor:pointer;font-size:1rem}.analisisPro[_ngcontent-%COMP%]:hover{background-color:#3e8e41}"]})};function Oq(n,e){n&1&&(y(0,"div",31),w(1," El t\xEDtulo debe tener al menos 5 caracteres "),g())}function Nq(n,e){n&1&&(y(0,"div",31),w(1," La descripci\xF3n debe tener al menos 20 caracteres "),g())}function kq(n,e){n&1&&(y(0,"div",31),w(1," La descripci\xF3n detallada debe tener al menos 100 caracteres "),g())}function Fq(n,e){n&1&&(y(0,"div",31),w(1," La meta m\xEDnima es $100 "),g())}function Lq(n,e){if(n&1&&(y(0,"option",32),w(1),g()),n&2){let t=e.$implicit;k("value",t),b(),te(t)}}function Vq(n,e){n&1&&(y(0,"div",31),w(1," Debes seleccionar una categor\xEDa "),g())}function jq(n,e){n&1&&(y(0,"div",31),w(1," Debes establecer una fecha l\xEDmite "),g())}function Uq(n,e){n&1&&(y(0,"div",31),w(1," Debes especificar una ubicaci\xF3n "),g())}function Bq(n,e){if(n&1){let t=Ue();y(0,"button",39),K("click",function(){ae(t);let i=z().index,o=z();return ce(o.removeReward(i))}),w(1," Eliminar Recompensa "),g()}}function $q(n,e){if(n&1&&(y(0,"div",33)(1,"div",11)(2,"div",3)(3,"label",34),w(4,"T\xEDtulo de la Recompensa *"),g(),ie(5,"input",35),g(),y(6,"div",3)(7,"label",34),w(8,"Monto M\xEDnimo ($) *"),g(),ie(9,"input",36),g()(),y(10,"div",3)(11,"label",34),w(12,"Descripci\xF3n *"),g(),ie(13,"textarea",37),g(),Q(14,Bq,2,0,"button",38),g()),n&2){let t=e.index,r=z();k("formGroupName",t),b(3),k("for","reward-title-"+t),b(2),k("id","reward-title-"+t),b(2),k("for","reward-amount-"+t),b(2),k("id","reward-amount-"+t),b(2),k("for","reward-desc-"+t),b(2),k("id","reward-desc-"+t),b(),k("ngIf",r.rewards.length>1)}}function Hq(n,e){if(n&1){let t=Ue();y(0,"button",39),K("click",function(){ae(t);let i=z().index,o=z();return ce(o.removeUpdate(i))}),w(1," Eliminar Actualizaci\xF3n "),g()}}function zq(n,e){if(n&1&&(y(0,"div",40)(1,"div",11)(2,"div",3)(3,"label",34),w(4,"T\xEDtulo *"),g(),ie(5,"input",41),g(),y(6,"div",3)(7,"label",34),w(8,"Fecha *"),g(),ie(9,"input",42),g()(),y(10,"div",3)(11,"label",34),w(12,"Contenido *"),g(),ie(13,"textarea",43),g(),Q(14,Hq,2,0,"button",38),g()),n&2){let t=e.index,r=z();k("formGroupName",t),b(3),k("for","update-title-"+t),b(2),k("id","update-title-"+t),b(2),k("for","update-date-"+t),b(2),k("id","update-date-"+t),b(2),k("for","update-content-"+t),b(2),k("id","update-content-"+t),b(),k("ngIf",r.updates.length>1)}}function qq(n,e){n&1&&(y(0,"div",31),w(1," Debes describir los riesgos y desaf\xEDos de tu proyecto "),g())}function Gq(n,e){n&1&&(y(0,"span"),w(1,"Publicar Proyecto"),g())}function Wq(n,e){n&1&&(y(0,"span"),w(1,"Enviando..."),g())}function Kq(n,e){if(n&1&&(y(0,"div",31),w(1),g()),n&2){let t=z();b(),le(" ",t.error," ")}}var em=class n{constructor(e,t,r,i){this.fb=e;this.projectService=t;this.authService=r;this.router=i;this.projectForm=this.fb.group({title:["",[ke.required,ke.minLength(5)]],description:["",[ke.required,ke.minLength(20)]],longDescription:["",[ke.required,ke.minLength(100)]],goal:[0,[ke.required,ke.min(100)]],category:["",ke.required],deadline:["",ke.required],location:["",ke.required],risksAndChallenges:["",ke.required],rewards:this.fb.array([this.createReward()]),updates:this.fb.array([this.createUpdate()])})}projectForm;categories=["Tecnolog\xEDa","Social","Medio Ambiente","Educaci\xF3n","Arte"];isLoading=!1;error=null;get rewards(){return this.projectForm.get("rewards")}get updates(){return this.projectForm.get("updates")}createReward(){return this.fb.group({title:["",ke.required],description:["",ke.required],minimumAmount:[0,[ke.required,ke.min(1)]]})}createUpdate(){return this.fb.group({title:["",ke.required],content:["",ke.required],date:[new Date().toISOString().split("T")[0]]})}addReward(){this.rewards.push(this.createReward())}removeReward(e){this.rewards.removeAt(e)}addUpdate(){this.updates.push(this.createUpdate())}removeUpdate(e){this.updates.removeAt(e)}onSubmit(){this.projectForm.invalid||this.isLoading||(this.isLoading=!0,this.error=null,this.authService.currentUser$.pipe(Dt(1)).subscribe(e=>{if(!e){this.error="Debes iniciar sesi\xF3n para crear un proyecto",this.isLoading=!1;return}let t=this.projectForm.get("deadline")?.value;if(!t){this.error="La fecha l\xEDmite es requerida",this.isLoading=!1;return}let r=new Date(t).toISOString(),i=this.projectForm.get("updates")?.value,o=i?i.map(a=>X(V({},a),{date:a.date?new Date(a.date).toISOString():new Date().toISOString()})):[],s=X(V({},this.projectForm.value),{deadline:r,updates:o,creator:{name:e.name,email:e.email,bio:e.bio||"",avatar:e.avatar||"https://randomuser.me/api/portraits/lego/1.jpg"},collected:0,status:"pending",createdAt:new Date().toISOString(),supporters:[]});this.projectService.createProject(s).pipe(Dt(1)).subscribe({next:a=>{this.projectForm.reset();let l=a?.projectId||"";l?this.router.navigate(["/project",l],{replaceUrl:!0}):this.router.navigate(["/user-profile"])},error:a=>{console.error("Error creating project",a),this.error="Error al crear el proyecto. Por favor intenta nuevamente.",this.isLoading=!1}})}))}static \u0275fac=function(t){return new(t||n)(L(gp),L(En),L(Le),L(ve))};static \u0275cmp=tt({type:n,selectors:[["app-project-creation"]],decls:78,vars:16,consts:[[1,"creation-container"],[1,"project-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"form-group"],["for","title"],["type","text","id","title","formControlName","title","placeholder","Nombre de tu proyecto"],["class","error-message",4,"ngIf"],["for","description"],["id","description","formControlName","description","placeholder","Describe tu proyecto brevemente (m\xEDnimo 20 caracteres)"],["for","longDescription"],["id","longDescription","formControlName","longDescription","placeholder","Explica tu proyecto en detalle (m\xEDnimo 100 caracteres)"],[1,"form-row"],["for","goal"],["type","number","id","goal","formControlName","goal","min","100"],["for","category"],["id","category","formControlName","category"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","deadline"],["type","date","id","deadline","formControlName","deadline"],["for","location"],["type","text","id","location","formControlName","location","placeholder","Ciudad, Pa\xEDs"],["formArrayName","rewards"],["class","reward-item",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"button-add",3,"click"],["formArrayName","updates"],["class","update-item",3,"formGroupName",4,"ngFor","ngForOf"],["id","risks","formControlName","risksAndChallenges","placeholder","Describe los posibles retos de tu proyecto y c\xF3mo planeas superarlos"],[1,"form-actions"],["type","submit",1,"button-primary",3,"disabled"],[4,"ngIf"],[1,"error-message"],[3,"value"],[1,"reward-item",3,"formGroupName"],[3,"for"],["type","text","formControlName","title","placeholder","Ej: Certificado digital",3,"id"],["type","number","formControlName","minimumAmount","min","1",3,"id"],["formControlName","description","placeholder","Describe qu\xE9 recibir\xE1 el patrocinador",3,"id"],["type","button","class","button-remove",3,"click",4,"ngIf"],["type","button",1,"button-remove",3,"click"],[1,"update-item",3,"formGroupName"],["type","text","formControlName","title","placeholder","Ej: Campa\xF1a lanzada",3,"id"],["type","date","formControlName","date",3,"id"],["formControlName","content","placeholder","Detalles de la actualizaci\xF3n",3,"id"]],template:function(t,r){if(t&1&&(y(0,"div",0)(1,"h2"),w(2,"Crear Nuevo Proyecto"),g(),y(3,"form",1),K("ngSubmit",function(){return r.onSubmit()}),y(4,"div",2)(5,"h3"),w(6,"Informaci\xF3n B\xE1sica"),g(),y(7,"div",3)(8,"label",4),w(9,"T\xEDtulo del Proyecto *"),g(),ie(10,"input",5),Q(11,Oq,2,0,"div",6),g(),y(12,"div",3)(13,"label",7),w(14,"Descripci\xF3n Corta *"),g(),ie(15,"textarea",8),Q(16,Nq,2,0,"div",6),g(),y(17,"div",3)(18,"label",9),w(19,"Descripci\xF3n Detallada *"),g(),ie(20,"textarea",10),Q(21,kq,2,0,"div",6),g()(),y(22,"div",2)(23,"h3"),w(24,"Financiaci\xF3n y Categor\xEDa"),g(),y(25,"div",11)(26,"div",3)(27,"label",12),w(28,"Meta de financiaci\xF3n ($) *"),g(),ie(29,"input",13),Q(30,Fq,2,0,"div",6),g(),y(31,"div",3)(32,"label",14),w(33,"Categor\xEDa *"),g(),y(34,"select",15)(35,"option",16),w(36,"Selecciona una categor\xEDa"),g(),Q(37,Lq,2,2,"option",17),g(),Q(38,Vq,2,0,"div",6),g()()(),y(39,"div",2)(40,"h3"),w(41,"Fechas y Ubicaci\xF3n"),g(),y(42,"div",11)(43,"div",3)(44,"label",18),w(45,"Fecha L\xEDmite *"),g(),ie(46,"input",19),Q(47,jq,2,0,"div",6),g(),y(48,"div",3)(49,"label",20),w(50,"Ubicaci\xF3n *"),g(),ie(51,"input",21),Q(52,Uq,2,0,"div",6),g()()(),y(53,"div",2)(54,"h3"),w(55,"Recompensas para Patrocinadores"),g(),y(56,"div",22),Q(57,$q,15,8,"div",23),g(),y(58,"button",24),K("click",function(){return r.addReward()}),w(59," + A\xF1adir Otra Recompensa "),g()(),y(60,"div",2)(61,"h3"),w(62,"Actualizaciones Iniciales"),g(),y(63,"div",25),Q(64,zq,15,8,"div",26),g(),y(65,"button",24),K("click",function(){return r.addUpdate()}),w(66," + A\xF1adir Otra Actualizaci\xF3n "),g()(),y(67,"div",2)(68,"h3"),w(69,"Riesgos y Desaf\xEDos *"),g(),y(70,"div",3),ie(71,"textarea",27),Q(72,qq,2,0,"div",6),g()(),y(73,"div",28)(74,"button",29),Q(75,Gq,2,0,"span",30)(76,Wq,2,0,"span",30),g(),Q(77,Kq,2,1,"div",6),g()()()),t&2){let i,o,s,a,l,u,h,p;b(3),k("formGroup",r.projectForm),b(8),k("ngIf",((i=r.projectForm.get("title"))==null?null:i.invalid)&&((i=r.projectForm.get("title"))==null?null:i.touched)),b(5),k("ngIf",((o=r.projectForm.get("description"))==null?null:o.invalid)&&((o=r.projectForm.get("description"))==null?null:o.touched)),b(5),k("ngIf",((s=r.projectForm.get("longDescription"))==null?null:s.invalid)&&((s=r.projectForm.get("longDescription"))==null?null:s.touched)),b(9),k("ngIf",((a=r.projectForm.get("goal"))==null?null:a.invalid)&&((a=r.projectForm.get("goal"))==null?null:a.touched)),b(7),k("ngForOf",r.categories),b(),k("ngIf",((l=r.projectForm.get("category"))==null?null:l.invalid)&&((l=r.projectForm.get("category"))==null?null:l.touched)),b(9),k("ngIf",((u=r.projectForm.get("deadline"))==null?null:u.invalid)&&((u=r.projectForm.get("deadline"))==null?null:u.touched)),b(5),k("ngIf",((h=r.projectForm.get("location"))==null?null:h.invalid)&&((h=r.projectForm.get("location"))==null?null:h.touched)),b(5),k("ngForOf",r.rewards.controls),b(7),k("ngForOf",r.updates.controls),b(8),k("ngIf",((p=r.projectForm.get("risksAndChallenges"))==null?null:p.invalid)&&((p=r.projectForm.get("risksAndChallenges"))==null?null:p.touched)),b(2),k("disabled",r.projectForm.invalid||r.isLoading),b(),k("ngIf",!r.isLoading),b(),k("ngIf",r.isLoading),b(),k("ngIf",r.error)}},dependencies:[rt,Pt,ut,ka,Xi,eo,to,Jt,Jl,Mr,_n,Zi,Xl,Na,Zl,fp,pp],styles:[".creation-container[_ngcontent-%COMP%]{max-width:900px;margin:2rem auto;padding:2rem;background-color:#fff;border-radius:12px;box-shadow:0 4px 20px #00000014}.creation-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2e7d32;text-align:center;margin-bottom:2rem;font-size:2rem}.project-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.form-section[_ngcontent-%COMP%]{padding:1.5rem;border-radius:8px;background-color:#e4f3e5}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2e7d32;margin-top:0;margin-bottom:1.5rem;font-size:1.3rem;border-bottom:2px solid #88c9a1;padding-bottom:.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#205823}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:6px;font-size:1rem;transition:border-color .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#88c9a1;box-shadow:0 0 0 2px #88c9a133}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:100px;resize:vertical}.form-row[_ngcontent-%COMP%]{display:flex;gap:1.5rem}.form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1}@media (max-width: 600px){.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}}.reward-item[_ngcontent-%COMP%], .update-item[_ngcontent-%COMP%]{background-color:#fff;padding:1.5rem;border-radius:8px;margin-bottom:1.5rem;box-shadow:0 2px 8px #0000000d}.button-primary[_ngcontent-%COMP%]{background-color:#88c9a1;color:#fff;border:none;padding:1rem 2rem;font-size:1rem;border-radius:6px;cursor:pointer;transition:background-color .3s;font-weight:600}.button-primary[_ngcontent-%COMP%]:hover{background-color:#65b985}.button-primary[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.button-add[_ngcontent-%COMP%]{background-color:#c8e6c9;color:#2e7d32;border:1px dashed #88c9a1;padding:.75rem 1.5rem;font-size:.9rem;border-radius:6px;cursor:pointer;transition:all .3s;display:flex;align-items:center;gap:.5rem;margin:0 auto}.button-add[_ngcontent-%COMP%]:hover{background-color:#b6deb8}.button-remove[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828;border:1px solid #ef9a9a;padding:.5rem 1rem;font-size:.8rem;border-radius:4px;cursor:pointer;transition:all .3s}.button-remove[_ngcontent-%COMP%]:hover{background-color:#ffcdd2}.error-message[_ngcontent-%COMP%]{color:#d32f2f;font-size:.85rem;margin-top:.5rem}.form-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;margin-top:1rem}"]})};function Qq(n,e){if(n&1&&(y(0,"div",5),w(1),g()),n&2){let t=z(2);b(),le(" ",t.error," ")}}function Yq(n,e){if(n&1){let t=Ue();y(0,"button",26),K("click",function(){ae(t);let i=z(3);return ce(i.navigateToEdit())}),w(1,"Editar Proyecto"),g()}}function Jq(n,e){if(n&1&&(y(0,"p",34),w(1),g()),n&2){let t=z().$implicit;b(),te(t.reward)}}function Zq(n,e){if(n&1&&(y(0,"div",27)(1,"div",28),w(2),g(),y(3,"div",29)(4,"p",30),w(5),g(),y(6,"p",31),w(7),Je(8,"number"),g(),y(9,"p",32),w(10),g(),Q(11,Jq,2,1,"p",33),g()()),n&2){let t=e.$implicit;b(2),te(t.name.charAt(0)),b(3),te(t.name),b(2),le("$",qo(8,5,t.amount,"1.0-0"),""),b(3),te(t.date),b(),k("ngIf",t.reward)}}function Xq(n,e){if(n&1&&(y(0,"div",35)(1,"h4"),w(2),g(),y(3,"p"),w(4),g(),y(5,"p"),w(6),Je(7,"number"),g(),y(8,"div",36),ie(9,"div",37),g()()),n&2){let t=e.$implicit,r=z(3);b(2),te(t.reward),b(2),le("",t.count," personas"),b(2),le("Total: $",qo(7,5,t.totalAmount,"1.0-0"),""),b(3),Bi("width",t.count/r.analyticsData.basicStats.supportersCount*100,"%")}}function e9(n,e){if(n&1&&(y(0,"div",38)(1,"div",39),w(2),g(),y(3,"div",40)(4,"p",41),w(5),g(),y(6,"p",42),w(7),Je(8,"date"),g()()()),n&2){let t=e.$implicit;b(),gt("update",t.type==="update")("support",t.type==="support"),b(),le(" ",t.type==="update"?"\u{1F504}":"\u{1F49A}"," "),b(3),te(t.description),b(2),te(qo(8,7,t.date,"mediumDate"))}}function t9(n,e){if(n&1&&(y(0,"div")(1,"h2"),w(2,"An\xE1lisis del Proyecto"),g(),y(3,"p",6),w(4),g(),Q(5,Yq,2,0,"button",7),y(6,"div",8)(7,"div",9)(8,"h3"),w(9,"Recaudado"),g(),y(10,"p",10),w(11),Je(12,"number"),g(),y(13,"p",11),w(14),g()(),ie(15,"div",12),y(16,"div",9)(17,"h3"),w(18,"Apoyos"),g(),y(19,"p",10),w(20),g(),y(21,"p",11),w(22,"personas han apoyado"),g()(),y(23,"div",9)(24,"h3"),w(25,"Tiempo restante"),g(),y(26,"p",10),w(27),g(),y(28,"p",11),w(29,"d\xEDas para finalizar"),g()(),y(30,"div",9)(31,"h3"),w(32,"Recompensas"),g(),y(33,"p",10),w(34),g(),y(35,"p",11),w(36,"recompensas reclamadas"),g()()(),y(37,"div",13)(38,"h3"),w(39,"Progreso de financiaci\xF3n"),g(),y(40,"div",14),ie(41,"div",15),g(),y(42,"p",16),w(43),Je(44,"number"),Je(45,"number"),g()(),y(46,"div",17)(47,"h3"),w(48,"Apoyos recientes"),g(),y(49,"div",18),Q(50,Zq,12,8,"div",19),g()(),y(51,"div",20)(52,"h3"),w(53,"Distribuci\xF3n de recompensas"),g(),y(54,"div",21),Q(55,Xq,10,8,"div",22),g()(),y(56,"div",23)(57,"h3"),w(58,"Actividad reciente"),g(),y(59,"div",24),Q(60,e9,9,10,"div",25),g()()()),n&2){let t=z(2);b(4),te(t.project.title),b(),k("ngIf",t.isCreator),b(6),le("$",qo(12,15,t.analyticsData.basicStats.totalCollected,"1.0-0"),""),b(3),le("",t.analyticsData.basicStats.percentageFunded,"% de la meta"),b(6),te(t.analyticsData.basicStats.supportersCount),b(7),te(t.analyticsData.basicStats.daysRemaining),b(7),te(t.analyticsData.basicStats.rewardsClaimed),b(7),Bi("width",t.analyticsData.basicStats.percentageFunded,"%"),b(2),I_(" $",qo(44,18,t.analyticsData.basicStats.totalCollected,"1.0-0")," de $",qo(45,21,t.project.goal,"1.0-0")," (",t.analyticsData.basicStats.percentageFunded,"%) "),b(7),k("ngForOf",t.analyticsData.supporters.slice(0,5)),b(5),k("ngForOf",t.analyticsData.rewardsDistribution),b(5),k("ngForOf",t.analyticsData.recentActivity.slice(0,5))}}function n9(n,e){if(n&1&&(y(0,"div",2),Q(1,Qq,2,1,"div",3)(2,t9,61,24,"div",4),g()),n&2){let t=z();b(),k("ngIf",t.error),b(),k("ngIf",!t.error)}}function r9(n,e){n&1&&(y(0,"div",43)(1,"p"),w(2,"Cargando an\xE1lisis..."),g()())}var tm=class n{constructor(e,t,r,i,o,s){this.route=e;this.projectService=t;this.router=r;this.authService=i;this.decimalPipe=o;this.datePipe=s}projectId="";project=null;analyticsData=null;isLoading=!0;error=null;currentUserEmail="";isCreator=!1;ngOnInit(){this.projectId=this.route.snapshot.paramMap.get("id")||"",this.authService.currentUser$.subscribe(e=>{this.currentUserEmail=e?.email||"",this.loadProjectData()})}loadProjectData(){this.isLoading=!0,this.projectService.getProjectById(this.projectId).subscribe({next:e=>{if(!e){this.error="Proyecto no encontrado",this.isLoading=!1;return}this.project=e,this.isCreator=e.creator?.email===this.currentUserEmail,this.generateAnalytics(e)},error:e=>{console.error("Error loading project",e),this.error="Error al cargar el proyecto",this.isLoading=!1}})}generateAnalytics(e){let t=e.collected||0,r=Math.min(Math.round(t/e.goal*100),100),i=new Date(e.deadline),o=new Date,s=Math.max(0,Math.ceil((i.getTime()-o.getTime())/(1e3*60*60*24))),a=e.supporters?.map(p=>({name:p.name,amount:p.amount,date:new Date(p.date).toLocaleDateString(),reward:this.getRewardName(e.rewards,p.amount)}))||[],l=this.generateFundingProgress(e),u=this.calculateRewardsDistribution(e),h=this.generateRecentActivity(e);this.analyticsData={basicStats:{totalCollected:t,percentageFunded:r,daysRemaining:s,supportersCount:a.length,rewardsClaimed:u.reduce((p,v)=>p+v.count,0)},supporters:a,fundingProgress:l,rewardsDistribution:u,recentActivity:h},this.isLoading=!1}navigateToEdit(){this.router.navigate(["/project-edit",this.projectId])}getRewardName(e,t){return e&&e.filter(i=>t>=i.minimumAmount).sort((i,o)=>o.minimumAmount-i.minimumAmount)[0]?.title||"Sin recompensa"}generateFundingProgress(e){if(e.fundingProgress)return e.fundingProgress;let t=[],r=new Date(e.createdAt),o=Math.ceil((new Date().getTime()-r.getTime())/(1e3*60*60*24)),s=0;for(let a=0;a<=o;a++){let l=new Date(r);l.setDate(r.getDate()+a),s+=Math.random()*(e.goal/10),s>e.collected&&(s=e.collected),t.push({date:l.toISOString().split("T")[0],amount:Math.round(s)})}return t}calculateRewardsDistribution(e){return!e.rewards||!e.supporters?[]:e.rewards.map(t=>{let r=e.supporters.filter(i=>i.amount>=t.minimumAmount);return{reward:t.title,count:r.length,totalAmount:r.reduce((i,o)=>i+o.amount,0)}})}generateRecentActivity(e){let t=[];return e.updates&&e.updates.forEach(r=>{t.push({type:"update",description:r.title,date:r.date})}),e.supporters&&e.supporters.slice(-5).forEach(r=>{t.push({type:"support",description:`Nuevo apoyo de ${r.name} ($${r.amount})`,date:r.date})}),t.sort((r,i)=>new Date(i.date).getTime()-new Date(r.date).getTime())}static \u0275fac=function(t){return new(t||n)(L(Yt),L(En),L(ve),L(Le),L(Cr),L(qi))};static \u0275cmp=tt({type:n,selectors:[["app-project-analytics"]],features:[jt([Cr,qi])],decls:2,vars:2,consts:[["class","analytics-container",4,"ngIf"],["class","loading-container",4,"ngIf"],[1,"analytics-container"],["class","error-message",4,"ngIf"],[4,"ngIf"],[1,"error-message"],[1,"project-title"],["class","edit-button",3,"click",4,"ngIf"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-value"],[1,"stat-label"],[1,"action-buttons"],[1,"chart-container"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"],[1,"supporters-section"],[1,"supporters-grid"],["class","supporter-card",4,"ngFor","ngForOf"],[1,"rewards-section"],[1,"rewards-grid"],["class","reward-card",4,"ngFor","ngForOf"],[1,"activity-section"],[1,"activity-timeline"],["class","activity-item",4,"ngFor","ngForOf"],[1,"edit-button",3,"click"],[1,"supporter-card"],[1,"supporter-avatar"],[1,"supporter-info"],[1,"supporter-name"],[1,"supporter-amount"],[1,"supporter-date"],["class","supporter-reward",4,"ngIf"],[1,"supporter-reward"],[1,"reward-card"],[1,"reward-bar"],[1,"reward-fill"],[1,"activity-item"],[1,"activity-icon"],[1,"activity-content"],[1,"activity-description"],[1,"activity-date"],[1,"loading-container"]],template:function(t,r){t&1&&Q(0,n9,3,2,"div",0)(1,r9,3,0,"div",1),t&2&&(k("ngIf",!r.isLoading&&r.analyticsData&&r.project),b(),k("ngIf",r.isLoading))},dependencies:[rt,Pt,ut,Cr,qi],styles:[".analytics-container[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:1rem}.error-message[_ngcontent-%COMP%]{color:#d32f2f;background-color:#ffebee;padding:1rem;border-radius:4px;margin-bottom:1rem}.project-title[_ngcontent-%COMP%]{font-size:1.5rem;color:#2e7d32;margin-bottom:2rem;text-align:center}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 8px #0000001a;text-align:center}.stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#2e7d32;margin:.5rem 0}.stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:#666;margin:0}.chart-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.5rem;margin-bottom:2rem;box-shadow:0 2px 8px #0000001a}.chart-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.progress-bar[_ngcontent-%COMP%]{height:20px;background-color:#e0e0e0;border-radius:10px;margin:1rem 0;overflow:hidden}.progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background-color:#4caf50;transition:width .5s ease}.progress-text[_ngcontent-%COMP%]{text-align:center;color:#666}.supporters-section[_ngcontent-%COMP%], .rewards-section[_ngcontent-%COMP%], .activity-section[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.5rem;margin-bottom:2rem;box-shadow:0 2px 8px #0000001a}.supporters-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .rewards-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .activity-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.supporters-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1rem}.supporter-card[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1rem;border:1px solid #e0e0e0;border-radius:8px}.supporter-card[_ngcontent-%COMP%]   .supporter-avatar[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#4caf50;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-right:1rem;font-weight:700}.supporter-card[_ngcontent-%COMP%]   .supporter-name[_ngcontent-%COMP%]{font-weight:700;margin:0}.supporter-card[_ngcontent-%COMP%]   .supporter-amount[_ngcontent-%COMP%]{color:#2e7d32;font-weight:700;margin:.25rem 0}.supporter-card[_ngcontent-%COMP%]   .supporter-date[_ngcontent-%COMP%], .supporter-card[_ngcontent-%COMP%]   .supporter-reward[_ngcontent-%COMP%]{color:#666;font-size:.8rem;margin:.1rem 0}.rewards-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1rem}.reward-card[_ngcontent-%COMP%]{padding:1rem;border:1px solid #e0e0e0;border-radius:8px}.reward-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0;color:#2e7d32}.reward-card[_ngcontent-%COMP%]   .reward-bar[_ngcontent-%COMP%]{height:8px;background-color:#e0e0e0;border-radius:4px;margin-top:.5rem;overflow:hidden}.reward-card[_ngcontent-%COMP%]   .reward-bar[_ngcontent-%COMP%]   .reward-fill[_ngcontent-%COMP%]{height:100%;background-color:#4caf50}.activity-timeline[_ngcontent-%COMP%]{border-left:2px solid #e0e0e0;padding-left:1.5rem;margin-left:1rem}.activity-item[_ngcontent-%COMP%]{display:flex;margin-bottom:1.5rem;position:relative}.activity-item[_ngcontent-%COMP%]   .activity-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background-color:#e8f5e9;display:flex;align-items:center;justify-content:center;margin-right:1rem;position:absolute;left:-17px}.activity-item[_ngcontent-%COMP%]   .activity-icon.update[_ngcontent-%COMP%]{background-color:#e3f2fd}.activity-item[_ngcontent-%COMP%]   .activity-icon.support[_ngcontent-%COMP%]{background-color:#f1f8e9}.activity-item[_ngcontent-%COMP%]   .activity-content[_ngcontent-%COMP%]{margin-left:2rem}.activity-item[_ngcontent-%COMP%]   .activity-content[_ngcontent-%COMP%]   .activity-description[_ngcontent-%COMP%]{margin:0 0 .25rem}.activity-item[_ngcontent-%COMP%]   .activity-content[_ngcontent-%COMP%]   .activity-date[_ngcontent-%COMP%]{color:#666;font-size:.8rem;margin:0}.loading-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#666}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.supporters-grid[_ngcontent-%COMP%], .rewards-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.action-buttons[_ngcontent-%COMP%]{margin-bottom:2rem;text-align:right}.edit-button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:4px;cursor:pointer;font-size:1rem}.edit-button[_ngcontent-%COMP%]:hover{background-color:#3e8e41}"]})};function i9(n,e){n&1&&(y(0,"div",3)(1,"p"),w(2,"Cargando datos del proyecto..."),g()())}function o9(n,e){n&1&&(y(0,"div",24),w(1," El t\xEDtulo debe tener al menos 5 caracteres "),g())}function s9(n,e){n&1&&(y(0,"div",24),w(1," La descripci\xF3n debe tener al menos 20 caracteres "),g())}function a9(n,e){if(n&1&&(y(0,"option",25),w(1),g()),n&2){let t=e.$implicit,r=z(2);k("value",t)("selected",t===r.projectForm.value.category),b(),le(" ",t," ")}}function c9(n,e){if(n&1&&(y(0,"div",24),w(1),g()),n&2){let t=z(2);b(),le(" ",t.error," ")}}function l9(n,e){if(n&1){let t=Ue();y(0,"form",4),K("ngSubmit",function(){ae(t);let i=z();return ce(i.onSubmit())}),y(1,"div",5)(2,"label",6),w(3,"T\xEDtulo del Proyecto *"),g(),ie(4,"input",7),Q(5,o9,2,0,"div",8),g(),y(6,"div",5)(7,"label",9),w(8,"Descripci\xF3n Corta *"),g(),y(9,"textarea",10),w(10),g(),Q(11,s9,2,0,"div",8),g(),y(12,"div",5)(13,"label",11),w(14,"Descripci\xF3n Detallada *"),g(),y(15,"textarea",12),w(16),g()(),y(17,"div",5)(18,"label",13),w(19,"Categor\xEDa *"),g(),y(20,"select",14)(21,"option",15),w(22,"Selecciona una categor\xEDa"),g(),Q(23,a9,2,3,"option",16),g()(),y(24,"div",5)(25,"label",17),w(26,"Ubicaci\xF3n *"),g(),ie(27,"input",18),g(),y(28,"div",5)(29,"label",19),w(30,"Retos y desaf\xEDos *"),g(),y(31,"textarea",20),w(32),g()(),y(33,"div",21)(34,"button",22),w(35),g(),y(36,"button",23),K("click",function(){ae(t);let i=z();return ce(i.onCancel())}),w(37," Cancelar "),g()(),Q(38,c9,2,1,"div",8),g()}if(n&2){let t,r,i=z();k("formGroup",i.projectForm),b(4),k("value",i.projectForm.value.title),b(),k("ngIf",((t=i.projectForm.get("title"))==null?null:t.invalid)&&((t=i.projectForm.get("title"))==null?null:t.touched)),b(5),te(i.projectForm.value.description),b(),k("ngIf",((r=i.projectForm.get("description"))==null?null:r.invalid)&&((r=i.projectForm.get("description"))==null?null:r.touched)),b(5),te(i.projectForm.value.longDescription),b(7),k("ngForOf",i.categories),b(4),k("value",i.projectForm.value.location),b(5),te(i.projectForm.value.risksAndChallenges),b(2),k("disabled",i.projectForm.invalid||i.isLoading),b(),le(" ",i.isLoading?"Guardando...":"Guardar Cambios"," "),b(3),k("ngIf",i.error)}}var nm=class n{constructor(e,t,r,i,o){this.fb=e;this.route=t;this.router=r;this.projectService=i;this.authService=o;this.projectForm=this.fb.group({title:["",[ke.required,ke.minLength(5)]],description:["",[ke.required,ke.minLength(20)]],longDescription:["",[ke.required,ke.minLength(100)]],category:["",ke.required],location:["",ke.required],risksAndChallenges:["",ke.required]})}projectId="";projectForm;isLoading=!0;error=null;categories=["Tecnolog\xEDa","Social","Medio Ambiente","Educaci\xF3n","Arte"];ngOnInit(){this.projectId=this.route.snapshot.paramMap.get("id")||"",this.loadProjectData()}loadProjectData(){this.authService.currentUser$.pipe(Dt(1)).subscribe(e=>{this.projectService.getProjectById(this.projectId).subscribe({next:t=>{if(!t){this.error="Proyecto no encontrado",this.isLoading=!1;return}if(t.creator?.email!==e?.email){this.error="No tienes permiso para editar este proyecto",this.isLoading=!1;return}this.projectForm.patchValue({title:t.title,description:t.description,longDescription:t.longDescription||"",category:t.category,location:t.location||"",risksAndChallenges:t.risksAndChallenges||""}),this.isLoading=!1},error:t=>{console.error("Error loading project",t),this.error="Error al cargar el proyecto",this.isLoading=!1}})})}onSubmit(){if(this.projectForm.invalid||this.isLoading)return;this.isLoading=!0,this.error=null;let e=V({},this.projectForm.value);this.projectService.updateProject(this.projectId,e).subscribe({next:()=>{this.router.navigate(["/project-analytics",this.projectId])},error:t=>{console.error("Error updating project",t),this.error="Error al actualizar el proyecto",this.isLoading=!1}})}onCancel(){this.router.navigate(["/project-analytics",this.projectId])}static \u0275fac=function(t){return new(t||n)(L(gp),L(Yt),L(ve),L(En),L(Le))};static \u0275cmp=tt({type:n,selectors:[["app-project-edit"]],decls:5,vars:2,consts:[[1,"edit-container"],["class","loading-message",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"loading-message"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","title"],["type","text","id","title","formControlName","title",3,"value"],["class","error-message",4,"ngIf"],["for","description"],["id","description","formControlName","description"],["for","longDescription"],["id","longDescription","formControlName","longDescription"],["for","category"],["id","category","formControlName","category"],["value",""],[3,"value","selected",4,"ngFor","ngForOf"],["for","location"],["type","text","id","location","formControlName","location",3,"value"],["for","risks"],["id","risks","formControlName","risksAndChallenges"],[1,"form-actions"],["type","submit",3,"disabled"],["type","button",3,"click"],[1,"error-message"],[3,"value","selected"]],template:function(t,r){t&1&&(y(0,"div",0)(1,"h2"),w(2,"Editar Proyecto"),g(),Q(3,i9,3,0,"div",1)(4,l9,39,12,"form",2),g()),t&2&&(b(3),k("ngIf",r.isLoading),b(),k("ngIf",!r.isLoading))},dependencies:[ka,Xi,eo,to,Jt,Mr,_n,Zi,Na,Zl,rt,Pt,ut],styles:[`@charset "UTF-8";.edit-container[_ngcontent-%COMP%]{max-width:800px;margin:2rem auto;padding:2rem;background:#fff;border-radius:8px;box-shadow:0 2px 10px #0000001a}.edit-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2e7d32;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:4px;font-size:1rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#4caf50}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:120px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:2rem}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:4px;cursor:pointer;font-size:1rem}.form-actions[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none}.form-actions[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:disabled{background-color:#ccc}.form-actions[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd}.error-message[_ngcontent-%COMP%]{color:#d32f2f;margin-top:.5rem}.loading-message[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#666}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#333}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;transition:border-color .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#4caf50;box-shadow:0 0 0 2px #4caf5033}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:120px;resize:vertical}select[_ngcontent-%COMP%]{appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .5rem center;background-size:1em}`]})};var FO=[{path:"dashboard",component:qg},{path:"project/:id",component:Xg},{path:"admin",component:Wg,canActivate:[uo,Jg]},{path:"user-profile",component:Qg,canActivate:[uo]},{path:"login",component:zg},{path:"register",component:Zg},{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"project-creation",component:em,canActivate:[uo,Yg]},{path:"project-analytics/:id",component:tm,canActivate:[uo]},{path:"project-edit/:id",component:nm,canActivate:[uo]},{path:"**",redirectTo:"/dashboard"}];var LO=(n,e)=>{let t=F(Le),r=F(ve),i=t.getToken();return i&&(n=n.clone({setHeaders:{Authorization:`Bearer ${i}`}})),e(n).pipe(Qe(o=>(o.status===401&&(t.logout(),r.navigate(["/login"])),dn(()=>o))))};function lb(n){n===void 0&&(Ov(lb),n=F(At));let e=n.get(Uh);return t=>new we(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:l=>{r.next(l),s()},complete:()=>{r.complete(),s()},error:l=>{r.error(l),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var fc=new Vo("ANGULARFIRE2_VERSION");function ub(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var im=(n,e)=>{let t=e?[e]:bp(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},hc=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(hc||{}),VO=C_()&&typeof Zone<"u"?hc.WARN:hc.SILENT;var rm=class{zone;delegate;constructor(e,t=_y){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},pc=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=F(Ve);this.outsideAngular=t.runOutsideAngular(()=>new rm(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new rm(typeof Zone>"u"?void 0:Zone.current,vy))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jO=!1;function u9(n,e){!jO&&(VO>hc.SILENT||C_())&&(jO=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),VO>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function d9(n){let e=F(Ve,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Ds(n){let e=F(Ve,{optional:!0});return e?e.run(()=>n()):n()}var h9=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Mt(t,()=>Ds(()=>n.apply(void 0,r)))),Uu=(n,e,t)=>(t||=e?hc.WARN:hc.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=F(pc),s=F(Uh),a=F(St)}catch{return u9(n,t),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=Ds(()=>s.add())),i[u]=h9(i[u],r,a));let l=d9(()=>n.apply(this,i));return e?l instanceof we?l.pipe(Ri(o.outsideAngular),xi(o.insideAngular),lb(a)):l instanceof Promise?Ds(()=>new Promise((u,h)=>{s.run(()=>l).then(p=>Mt(a,()=>Ds(()=>u(p))),p=>Mt(a,()=>Ds(()=>h(p))))})):typeof l=="function"&&r?function(){return setTimeout(r,0),l.apply(this,arguments)}:Ds(()=>l):l instanceof we?l.pipe(Ri(o.outsideAngular),xi(o.insideAngular)):Ds(()=>l)});var Ss=class{constructor(e){return e}},Bu=class{constructor(){return bp()}};function f9(n){return n&&n.length===1?n[0]:new Ss(us())}var db=new G("angularfire2._apps"),p9={provide:Ss,useFactory:f9,deps:[[new Fi,db]]},g9={provide:Bu,deps:[[new Fi,db]]};function m9(n){return(e,t)=>{let r=t.get(Vi);_t("angularfire",fc.full,"core"),_t("angularfire",fc.full,"app"),_t("angular",CA.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Ss(i)}}function UO(n,...e){return Xr([p9,g9,{provide:db,useFactory:m9(n),multi:!0,deps:[Ve,At,pc,...e]}])}var BO=Uu(au,!0);var y9=new Map,v9={activated:!1,tokenObservers:[]},_9={initialized:!1,enabled:!1};function ur(n){return y9.get(n)||Object.assign({},v9)}function qO(){return _9}var w9="https://content-firebaseappcheck.googleapis.com/v1";var E9="exchangeDebugToken",$O={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},ese=24*60*60*1e3;var pb=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return E(this,null,function*(){this.stop();try{this.pending=new as,this.pending.promise.catch(t=>{}),yield I9(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new as,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function I9(n){return new Promise(e=>{setTimeout(e,n)})}var b9={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ho=new sr("appCheck","AppCheck",b9);function GO(n){if(!ur(n).activated)throw ho.create("use-before-activation",{appName:n.name})}function WO(r,i){return E(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let _=yield s.getHeartbeatsHeader();_&&(o["X-Firebase-Client"]=_)}let a={method:"POST",body:JSON.stringify(e),headers:o},l;try{l=yield fetch(n,a)}catch(_){throw ho.create("fetch-network-error",{originalErrorMessage:_?.message})}if(l.status!==200)throw ho.create("fetch-status-error",{httpStatus:l.status});let u;try{u=yield l.json()}catch(_){throw ho.create("fetch-parse-error",{originalErrorMessage:_?.message})}let h=u.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw ho.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let p=Number(h[1])*1e3,v=Date.now();return{token:u.token,expireTimeMillis:v+p,issuedAtTimeMillis:v}})}function KO(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${w9}/projects/${t}/apps/${r}:${E9}?key=${i}`,body:{debug_token:e}}}var C9="firebase-app-check-database",T9=1,gb="firebase-app-check-store";var om=null;function D9(){return om||(om=new Promise((n,e)=>{try{let t=indexedDB.open(C9,T9);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ho.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(gb,{keyPath:"compositeKey"})}}}catch(t){e(ho.create("storage-open",{originalErrorMessage:t?.message}))}}),om)}function S9(n,e){return A9(M9(n),e)}function A9(n,e){return E(this,null,function*(){let r=(yield D9()).transaction(gb,"readwrite"),o=r.objectStore(gb).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var u;a(ho.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})})}function M9(n){return`${n.options.appId}-${n.name}`}var $u=new xr("@firebase/app-check");function hb(n,e){return ru()?S9(n,e).catch(t=>{$u.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function QO(){return qO().enabled}function YO(){return E(this,null,function*(){let n=qO();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var P9={error:"UNKNOWN_ERROR"};function x9(n){return mp.encodeString(JSON.stringify(n),!1)}function mb(n,e=!1,t=!1){return E(this,null,function*(){let r=n.app;GO(r);let i=ur(r),o=i.token,s;if(o&&!Hu(o)&&(i.token=void 0,o=void 0),!o){let u=yield i.cachedTokenPromise;u&&(Hu(u)?o=u:yield hb(r,void 0))}if(!e&&o&&Hu(o))return{token:o.token};let a=!1;if(QO())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=WO(KO(r,yield YO()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield hb(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?$u.warn(u.message):t&&$u.error(u),fb(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield ur(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?$u.warn(u.message):t&&$u.error(u),s=u}let l;return o?s?Hu(o)?l={token:o.token,internalError:s}:l=fb(s):(l={token:o.token},i.token=o,yield hb(r,o)):l=fb(s),a&&k9(r,l),l})}function R9(n){return E(this,null,function*(){let e=n.app;GO(e);let{provider:t}=ur(e);if(QO()){let r=yield YO(),{token:i}=yield WO(KO(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function O9(n,e,t,r){let{app:i}=n,o=ur(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Hu(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),HO(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>HO(n))}function JO(n,e){let t=ur(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function HO(n){let{app:e}=n,t=ur(e),r=t.tokenRefresher;r||(r=N9(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function N9(n){let{app:e}=n;return new pb(()=>E(null,null,function*(){let t=ur(e),r;if(t.token?r=yield mb(n,!0):r=yield mb(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=ur(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},$O.RETRIAL_MIN_WAIT,$O.RETRIAL_MAX_WAIT)}function k9(n,e){let t=ur(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Hu(n){return n.expireTimeMillis-Date.now()>0}function fb(n){return{token:x9(P9),error:n}}var yb=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=ur(this.app);for(let t of e)JO(this.app,t.next);return Promise.resolve()}};function F9(n,e){return new yb(n,e)}function L9(n){return{getToken:e=>mb(n,e),getLimitedUseToken:()=>R9(n),addTokenListener:e=>O9(n,"INTERNAL",e),removeTokenListener:e=>JO(n.app,e)}}var V9="@firebase/app-check",j9="0.10.0";var U9="app-check",zO="app-check-internal";function B9(){ar(new an(U9,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return F9(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(zO).initialize()})),ar(new an(zO,n=>{let e=n.getProvider("app-check").getImmediate();return L9(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),_t(V9,j9)}B9();var $9="app-check";var sm=class{constructor(){return im($9)}};var H9=["localhost","0.0.0.0","127.0.0.1"],fse=typeof window<"u"&&H9.includes(window.location.hostname);var ZO="auth",zu=class{constructor(e){return e}},vb=class{constructor(){return im(ZO)}};var _b=new G("angularfire2.auth-instances");function z9(n,e){let t=ub(ZO,n,e);return t&&new zu(t)}function q9(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new zu(r)}}var G9={provide:vb,deps:[[new Fi,_b]]},W9={provide:zu,useFactory:z9,deps:[[new Fi,_b],Ss]};function XO(n,...e){return _t("angularfire",fc.full,"auth"),Xr([W9,G9,{provide:_b,useFactory:q9(n),multi:!0,deps:[Ve,At,pc,Bu,[new Fi,sm],...e]}])}var eN=Uu(hi,!0);var tN={providers:[D0(FO,Zf(),A0()),J_(Z_([LO])),UO(()=>BO(Hr.firebaseConfig)),XO(()=>eN())]};var am=class n{transform(e){return e&&(e?.name||e?.email?.split("@")[0])||"Usuario"}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=$o({name:"userDisplay",type:n,pure:!0})};var dr=Object.create(null);dr.open="0";dr.close="1";dr.ping="2";dr.pong="3";dr.message="4";dr.upgrade="5";dr.noop="6";var qu=Object.create(null);Object.keys(dr).forEach(n=>{qu[dr[n]]=n});var Gu={type:"error",data:"parser error"};var iN=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",oN=typeof ArrayBuffer=="function",sN=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,Wu=({type:n,data:e},t,r)=>iN&&e instanceof Blob?t?r(e):nN(e,r):oN&&(e instanceof ArrayBuffer||sN(e))?t?r(e):nN(new Blob([e]),r):r(dr[n]+(e||"")),nN=(n,e)=>{let t=new FileReader;return t.onload=function(){let r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)};function rN(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}var wb;function aN(n,e){if(iN&&n.data instanceof Blob)return n.data.arrayBuffer().then(rN).then(e);if(oN&&(n.data instanceof ArrayBuffer||sN(n.data)))return e(rN(n.data));Wu(n,!1,t=>{wb||(wb=new TextEncoder),e(wb.encode(t))})}var cN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ku=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<cN.length;n++)Ku[cN.charCodeAt(n)]=n;var lN=n=>{let e=n.length*.75,t=n.length,r,i=0,o,s,a,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);let u=new ArrayBuffer(e),h=new Uint8Array(u);for(r=0;r<t;r+=4)o=Ku[n.charCodeAt(r)],s=Ku[n.charCodeAt(r+1)],a=Ku[n.charCodeAt(r+2)],l=Ku[n.charCodeAt(r+3)],h[i++]=o<<2|s>>4,h[i++]=(s&15)<<4|a>>2,h[i++]=(a&3)<<6|l&63;return u};var K9=typeof ArrayBuffer=="function",Qu=(n,e)=>{if(typeof n!="string")return{type:"message",data:uN(n,e)};let t=n.charAt(0);return t==="b"?{type:"message",data:Q9(n.substring(1),e)}:qu[t]?n.length>1?{type:qu[t],data:n.substring(1)}:{type:qu[t]}:Gu},Q9=(n,e)=>{if(K9){let t=lN(n);return uN(t,e)}else return{base64:!0,data:n}},uN=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}};var dN="",hN=(n,e)=>{let t=n.length,r=new Array(t),i=0;n.forEach((o,s)=>{Wu(o,!1,a=>{r[s]=a,++i===t&&e(r.join(dN))})})},fN=(n,e)=>{let t=n.split(dN),r=[];for(let i=0;i<t.length;i++){let o=Qu(t[i],e);if(r.push(o),o.type==="error")break}return r};function pN(){return new TransformStream({transform(n,e){aN(n,t=>{let r=t.length,i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);let o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);let o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}n.data&&typeof n.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}var Eb;function cm(n){return n.reduce((e,t)=>e+t.length,0)}function lm(n,e){if(n[0].length===e)return n.shift();let t=new Uint8Array(e),r=0;for(let i=0;i<e;i++)t[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),t}function gN(n,e){Eb||(Eb=new TextDecoder);let t=[],r=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(t.push(s);;){if(r===0){if(cm(t)<1)break;let l=lm(t,1);o=(l[0]&128)===128,i=l[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(cm(t)<2)break;let l=lm(t,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(cm(t)<8)break;let l=lm(t,8),u=new DataView(l.buffer,l.byteOffset,l.length),h=u.getUint32(0);if(h>Math.pow(2,21)-1){a.enqueue(Gu);break}i=h*Math.pow(2,32)+u.getUint32(4),r=3}else{if(cm(t)<i)break;let l=lm(t,i);a.enqueue(Qu(o?l:Eb.decode(l),e)),r=0}if(i===0||i>n){a.enqueue(Gu);break}}}})}var Ib=4;function We(n){if(n)return Y9(n)}function Y9(n){for(var e in We.prototype)n[e]=We.prototype[e];return n}We.prototype.on=We.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};We.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};We.prototype.off=We.prototype.removeListener=We.prototype.removeAllListeners=We.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if(r=t[i],r===e||r.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+n],this};We.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,i=t.length;r<i;++r)t[r].apply(this,e)}return this};We.prototype.emitReserved=We.prototype.emit;We.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};We.prototype.hasListeners=function(n){return!!this.listeners(n).length};var Ii=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),cn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),mN="arraybuffer";function um(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}var J9=cn.setTimeout,Z9=cn.clearTimeout;function bi(n,e){e.useNativeTimers?(n.setTimeoutFn=J9.bind(cn),n.clearTimeoutFn=Z9.bind(cn)):(n.setTimeoutFn=cn.setTimeout.bind(cn),n.clearTimeoutFn=cn.clearTimeout.bind(cn))}var X9=1.33;function yN(n){return typeof n=="string"?eG(n):Math.ceil((n.byteLength||n.size)*X9)}function eG(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}function dm(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function vN(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function _N(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let o=t[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}var hm=class extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}},Ci=class extends We{constructor(e){super(),this.writable=!1,bi(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new hm(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=Qu(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let t=vN(e);return t.length?"?"+t:""}};var Yu=class extends Ci{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};fN(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,hN(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=dm()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}};var wN=!1;try{wN=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var EN=wN;function tG(){}var bb=class extends Yu{constructor(e){if(super(e),typeof location<"u"){let t=location.protocol==="https:",r=location.port;r||(r=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){let r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}},fm=(()=>{class n extends We{constructor(t,r,i){super(),this.createRequest=t,bi(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var t;let r=um(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;let i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=n.requestsCount++,n.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=tG,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this._index],this._xhr=null}}_onLoad(){let t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return n.requestsCount=0,n.requests={},n})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",IN);else if(typeof addEventListener=="function"){let n="onpagehide"in cn?"pagehide":"unload";addEventListener(n,IN,!1)}}function IN(){for(let n in fm.requests)fm.requests.hasOwnProperty(n)&&fm.requests[n].abort()}var nG=function(){let n=bN({xdomain:!1});return n&&n.responseType!==null}(),fo=class extends bb{constructor(e){super(e);let t=e&&e.forceBase64;this.supportsBinary=nG&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new fm(bN,this.uri(),e)}};function bN(n){let e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||EN))return new XMLHttpRequest}catch{}if(!e)try{return new cn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var CN=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",Tb=class extends Ci{get name(){return"websocket"}doOpen(){let e=this.uri(),t=this.opts.protocols,r=CN?{}:um(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;Wu(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}i&&Ii(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=dm()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}},Cb=cn.WebSocket||cn.MozWebSocket,po=class extends Tb{createSocket(e,t,r){return CN?new Cb(e,t,r):t?new Cb(e,t):new Cb(e)}doWrite(e,t){this.ws.send(t)}};var gc=class extends Ci{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let t=gN(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),i=pN();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();let o=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),o())}).catch(a=>{})};o();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;this._writer.write(r).then(()=>{i&&Ii(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}};var Db={websocket:po,webtransport:gc,polling:fo};var rG=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,iG=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function mc(n){if(n.length>8e3)throw"URI too long";let e=n,t=n.indexOf("["),r=n.indexOf("]");t!=-1&&r!=-1&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=rG.exec(n||""),o={},s=14;for(;s--;)o[iG[s]]=i[s]||"";return t!=-1&&r!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=oG(o,o.path),o.queryKey=sG(o,o.query),o}function oG(n,e){let t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function sG(n,e){let t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(t[i]=o)}),t}var Sb=typeof addEventListener=="function"&&typeof removeEventListener=="function",pm=[];Sb&&addEventListener("offline",()=>{pm.forEach(n=>n())},!1);var gm=(()=>{class n extends We{constructor(t,r){if(super(),this.binaryType=mN,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){let i=mc(t);r.hostname=i.host,r.secure=i.protocol==="https"||i.protocol==="wss",r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=mc(r.host).host);bi(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{let o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=_N(this.opts.query)),Sb&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},pm.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){let r=Object.assign({},this.opts.query);r.EIO=Ib,r.transport=t,this.id&&(r.sid=this.id);let i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let t=this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",n.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){let o=this.writeBuffer[i].data;if(o&&(r+=yN(o)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Ii(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,i){return this._sendPacket("message",t,r,i),this}send(t,r,i){return this._sendPacket("message",t,r,i),this}_sendPacket(t,r,i,o){if(typeof r=="function"&&(o=r,r=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;let s={type:t,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){let t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}_onError(t){if(n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Sb&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let i=pm.indexOf(this._offlineEventListener);i!==-1&&pm.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}return n.protocol=Ib,n})(),mm=class extends gm{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;gm.priorWebsocketSuccess=!1;let i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",p=>{if(!r)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;gm.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(h(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{let v=new Error("probe error");v.transport=t.name,this.emitReserved("upgradeError",v)}}))};function o(){r||(r=!0,h(),t.close(),t=null)}let s=p=>{let v=new Error("probe error: "+p);v.transport=t.name,o(),this.emitReserved("upgradeError",v)};function a(){s("transport closed")}function l(){s("socket closed")}function u(p){t&&p.name!==t.name&&o()}let h=()=>{t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",a),this.off("close",l),this.off("upgrading",u)};t.once("open",i),t.once("error",s),t.once("close",a),this.once("close",l),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}},yc=class extends mm{constructor(e,t={}){let r=typeof e=="object"?e:t;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>Db[i]).filter(i=>!!i)),super(e,r)}};var Vae=yc.protocol;function TN(n,e="",t){let r=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),r=mc(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(t&&t.port===r.port?"":":"+r.port),r}var Ob={};yk(Ob,{Decoder:()=>xb,Encoder:()=>Pb,PacketType:()=>Se,protocol:()=>PN});var cG=typeof ArrayBuffer=="function",lG=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,DN=Object.prototype.toString,uG=typeof Blob=="function"||typeof Blob<"u"&&DN.call(Blob)==="[object BlobConstructor]",dG=typeof File=="function"||typeof File<"u"&&DN.call(File)==="[object FileConstructor]";function Zu(n){return cG&&(n instanceof ArrayBuffer||lG(n))||uG&&n instanceof Blob||dG&&n instanceof File}function Ju(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(Ju(n[t]))return!0;return!1}if(Zu(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return Ju(n.toJSON(),!0);for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&Ju(n[t]))return!0;return!1}function SN(n){let e=[],t=n.data,r=n;return r.data=Ab(t,e),r.attachments=e.length,{packet:r,buffers:e}}function Ab(n,e){if(!n)return n;if(Zu(n)){let t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){let t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=Ab(n[r],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){let t={};for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=Ab(n[r],e));return t}return n}function AN(n,e){return n.data=Mb(n.data,e),delete n.attachments,n}function Mb(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=Mb(n[t],e);else if(typeof n=="object")for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=Mb(n[t],e));return n}var hG=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],PN=5,Se=function(n){return n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",n}(Se||{}),Pb=class{constructor(e){this.replacer=e}encode(e){return(e.type===Se.EVENT||e.type===Se.ACK)&&Ju(e)?this.encodeAsBinary({type:e.type===Se.EVENT?Se.BINARY_EVENT:Se.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===Se.BINARY_EVENT||e.type===Se.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){let t=SN(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}};function MN(n){return Object.prototype.toString.call(n)==="[object Object]"}var xb=class n extends We{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let r=t.type===Se.BINARY_EVENT;r||t.type===Se.BINARY_ACK?(t.type=r?Se.EVENT:Se.ACK,this.reconstructor=new Rb(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(Zu(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0,r={type:Number(e.charAt(0))};if(Se[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Se.BINARY_EVENT||r.type===Se.BINARY_ACK){let o=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let s=e.substring(o,t);if(s!=Number(s)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(e.charAt(t+1)==="/"){let o=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(o,t)}else r.nsp="/";let i=e.charAt(t+1);if(i!==""&&Number(i)==i){let o=t+1;for(;++t;){let s=e.charAt(t);if(s==null||Number(s)!=s){--t;break}if(t===e.length)break}r.id=Number(e.substring(o,t+1))}if(e.charAt(++t)){let o=this.tryParse(e.substr(t));if(n.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case Se.CONNECT:return MN(t);case Se.DISCONNECT:return t===void 0;case Se.CONNECT_ERROR:return typeof t=="string"||MN(t);case Se.EVENT:case Se.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&hG.indexOf(t[0])===-1);case Se.ACK:case Se.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},Rb=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=AN(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function On(n,e,t){return n.on(e,t),function(){n.off(e,t)}}var fG=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),vc=class extends We{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[On(e,"open",this.onopen.bind(this)),On(e,"packet",this.onpacket.bind(this)),On(e,"error",this.onerror.bind(this)),On(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var r,i,o;if(fG.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let s={type:Se.EVENT,data:t};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){let h=this.ids++,p=t.pop();this._registerAckCallback(h,p),s.id=h}let a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,l=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var r;let i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},i),s=(...a)=>{this.io.clearTimeoutFn(o),t.apply(this,a)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...t){return new Promise((r,i)=>{let o=(s,a)=>s?i(s):r(a);o.withError=!0,t.push(o),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Se.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){let r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Se.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Se.EVENT:case Se.BINARY_EVENT:this.onevent(e);break;case Se.ACK:case Se.BINARY_ACK:this.onack(e);break;case Se.DISCONNECT:this.ondisconnect();break;case Se.CONNECT_ERROR:this.destroy();let r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){let t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,r=!1;return function(...i){r||(r=!0,t.packet({type:Se.ACK,id:e,data:i}))}}onack(e){let t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Se.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let r of t)r.apply(this,e.data)}}};function As(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}As.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=(Math.floor(e*10)&1)==0?n-t:n+t}return Math.min(n,this.max)|0};As.prototype.reset=function(){this.attempts=0};As.prototype.setMin=function(n){this.ms=n};As.prototype.setMax=function(n){this.max=n};As.prototype.setJitter=function(n){this.jitter=n};var _c=class extends We{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,bi(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new As({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;let i=t.parser||Ob;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new yc(this.uri,this.opts);let t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let i=On(t,"open",function(){r.onopen(),e&&e()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},s=On(t,"error",o);if(this._timeout!==!1){let a=this._timeout,l=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),t.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(On(e,"ping",this.onping.bind(this)),On(e,"data",this.ondata.bind(this)),On(e,"error",this.onerror.bind(this)),On(e,"close",this.onclose.bind(this)),On(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Ii(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new vc(this,e,t),this.nsps[e]=r),r}_destroy(e){let t=Object.keys(this.nsps);for(let r of t)if(this.nsps[r].active)return;this._close()}_packet(e){let t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};var Xu={};function ed(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};let t=TN(n,e.path||"/socket.io"),r=t.source,i=t.id,o=t.path,s=Xu[i]&&o in Xu[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||s,l;return a?l=new _c(r,e):(Xu[i]||(Xu[i]=new _c(r,e)),l=Xu[i]),t.query&&!e.query&&(e.query=t.queryKey),l.socket(t.path,e)}Object.assign(ed,{Manager:_c,Socket:vc,io:ed,connect:ed});var ym=class n{socket;notificationsSubject=new Ye([]);notifications$=this.notificationsSubject.asObservable();constructor(){this.socket=ed("https://cocreandoback.onrender.com");let e=localStorage.getItem("user_id");e&&(console.log(e),this.socket.emit("join",{user_id:e}),this.cargarNotificaciones(e)),this.socket.on("nueva_notificacion",t=>{let r=localStorage.getItem("user_id");if(t.user_id!==r)return;let i=X(V({},t),{date:t.date?new Date(t.date):new Date(t.timestamp)}),o=this.notificationsSubject.value;this.notificationsSubject.next([i,...o])})}cargarNotificaciones(e){this.socket.emit("obtener_notificaciones",{user_id:e}),this.socket.on("lista_notificaciones",t=>{let r=t.map(i=>X(V({},i),{date:i.date?new Date(i.date):new Date(i.timestamp)}));this.notificationsSubject.next(r)})}marcarComoLeidas(e){this.socket.emit("marcar_como_leidas",{user_id:e}),this.socket.on("notificaciones_actualizadas",t=>{let r=t.map(i=>X(V({},i),{date:i.date?new Date(i.date):new Date(i.timestamp),read:!0}));this.notificationsSubject.next(r)})}marcarComoLeida(e,t){this.socket.emit("marcar_como_leida",{user_id:e,notification_id:t});let r=this.notificationsSubject.value.map(i=>i.id===t?X(V({},i),{read:!0}):i);this.notificationsSubject.next(r)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};function gG(n,e){n&1&&(y(0,"div",12)(1,"div",13),ie(2,"div",14),y(3,"p"),w(4,"Cargando..."),g()()())}function mG(n,e){if(n&1){let t=Ue();y(0,"a",22),K("click",function(){ae(t);let i=z(2);return ce(i.navigateTo("/admin"))}),w(1," Panel Admin "),g()}}function yG(n,e){if(n&1&&(y(0,"span",23),w(1),g()),n&2){let t=z(2);b(),te(t.unreadNotifications)}}function vG(n,e){n&1&&(y(0,"strong"),w(1,"\u2022"),g())}function _G(n,e){if(n&1&&(y(0,"div",27),Q(1,vG,2,0,"strong",28),w(2),g()),n&2){let t=e.$implicit;b(),k("ngIf",!t.read),b(),zo(" ",t.title,": ",t.message," ")}}function wG(n,e){n&1&&(y(0,"div",29),w(1," No hay notificaciones "),g())}function EG(n,e){if(n&1&&(y(0,"div",24),Q(1,_G,3,3,"div",25)(2,wG,2,0,"div",26),g()),n&2){let t=z(2);b(),k("ngForOf",t.notifications),b(),k("ngIf",t.notifications.length===0)}}function IG(n,e){if(n&1){let t=Ue();__(0),Q(1,mG,2,0,"a",15),y(2,"div",16)(3,"div",17),K("click",function(){ae(t);let i=z();return ce(i.toggleNotifications())}),w(4," \u{1F514} "),Q(5,yG,2,1,"span",18)(6,EG,3,2,"div",19),g(),y(7,"a",20),K("click",function(){ae(t);let i=z();return ce(i.navigateTo("/dashboard"))}),w(8,"Proyectos"),g(),y(9,"a",20),K("click",function(){ae(t);let i=z();return ce(i.navigateTo("/user-profile"))}),w(10),Je(11,"async"),Je(12,"userDisplay"),g(),y(13,"a",21),K("click",function(){ae(t);let i=z();return ce(i.logout())}),w(14,"Cerrar Sesi\xF3n"),g()(),w_()}if(n&2){let t=z();b(),k("ngIf",t.authService.isAdmin()),b(4),k("ngIf",t.unreadNotifications>0),b(),k("ngIf",t.showNotifications),b(4),te(Ut(12,6,Ut(11,4,t.authService.currentUser$)))}}function bG(n,e){if(n&1){let t=Ue();y(0,"a",20),K("click",function(){ae(t);let i=z();return ce(i.navigateTo("/login"))}),w(1,"Iniciar Sesi\xF3n"),g(),y(2,"a",20),K("click",function(){ae(t);let i=z();return ce(i.navigateTo("/register"))}),w(3,"Registrarse"),g()}}var vm=class n{constructor(e,t,r){this.authService=e;this.router=t;this.notificationService=r}title="CoCreando";showNotifications=!1;unreadNotifications=0;notifications=[];notificationsSub;authSub;isLoading$=new Ye(!0);ngOnInit(){this.notificationsSub=this.notificationService.notifications$.subscribe(e=>{this.notifications=e.sort((t,r)=>new Date(r.date).getTime()-new Date(t.date).getTime()),this.unreadNotifications=e.filter(t=>!t.read).length}),this.isLoading$.next(!0),this.authSub=this.authService.isAuthenticated$.subscribe(e=>{if(this.isLoading$.next(!1),e){let t=this.authService.getCurrentUserValue()?.uid;t&&this.notificationService.cargarNotificaciones(t)}else this.notifications=[],this.unreadNotifications=0})}ngOnDestroy(){this.notificationsSub.unsubscribe(),this.authSub.unsubscribe()}navigateTo(e){this.router.navigate([e]),this.showNotifications=!1}logout(){this.authService.logout(),this.router.navigate(["/dashboard"]),this.showNotifications=!1}toggleNotifications(){this.showNotifications=!this.showNotifications,this.showNotifications&&this.unreadNotifications>0&&this.markAllAsRead()}markAllAsRead(){let e=this.authService.getCurrentUserValue()?.uid;e&&this.notificationService.marcarComoLeidas(e)}handleNotificationClick(e){if(e.link&&this.router.navigate([e.link]),!e.read){let t=this.authService.getCurrentUserValue()?.uid;t&&this.notificationService.marcarComoLeida(t,e.id)}this.showNotifications=!1}static \u0275fac=function(t){return new(t||n)(L(Le),L(ve),L(ym))};static \u0275cmp=tt({type:n,selectors:[["app-root"]],decls:19,vars:7,consts:[["notAuthenticated",""],[1,"main-container"],["class","global-loader",4,"ngIf"],[1,"navbar"],[1,"container"],[1,"logo"],["src","https://res.cloudinary.com/dtg8i6j9f/image/upload/v1748278102/2-removebg-preview_orvlqt.png","alt","",1,"logo-img"],[1,"nav-links"],[4,"ngIf","ngIfElse"],[1,"content"],[1,"app-footer"],[1,"footer-content"],[1,"global-loader"],[1,"loader-content"],[1,"spinner"],["class","admin-link",3,"click",4,"ngIf"],[1,"user-notifications"],[1,"notification-icon",3,"click"],["class","notification-badge",4,"ngIf"],["class","notifications-dropdown",4,"ngIf"],[3,"click"],[2,"cursor","pointer",3,"click"],[1,"admin-link",3,"click"],[1,"notification-badge"],[1,"notifications-dropdown"],["class","notification-item",4,"ngFor","ngForOf"],["class","notification-empty",4,"ngIf"],[1,"notification-item"],[4,"ngIf"],[1,"notification-empty"]],template:function(t,r){if(t&1&&(y(0,"div",1),Q(1,gG,5,0,"div",2),Je(2,"async"),y(3,"nav",3)(4,"div",4)(5,"span",5),ie(6,"img",6),w(7," CoCreando "),g(),y(8,"div",7),Q(9,IG,15,8,"ng-container",8),Je(10,"async"),Q(11,bG,4,0,"ng-template",null,0,bA),g()()(),y(13,"div",9),ie(14,"router-outlet"),g(),y(15,"footer",10)(16,"div",11)(17,"span"),w(18,"\xA9 2025 CoCreando - Todos los derechos reservados"),g()()()()),t&2){let i=yA(12);b(),k("ngIf",Ut(2,3,r.isLoading$)),b(8),k("ngIf",Ut(10,5,r.authService.isAuthenticated$))("ngIfElse",i)}},dependencies:[rt,Pt,ut,F_,rs,Vl,am],styles:['.main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.navbar[_ngcontent-%COMP%]{background-color:#fff;padding:0;box-shadow:0 4px 12px #0000001a;position:sticky;top:0;z-index:1000}.navbar[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto;padding:1rem 2rem}.navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#4caf50;letter-spacing:-.5px;display:flex;align-items:center}.navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .logo-img[_ngcontent-%COMP%]{width:70px;height:auto;margin-right:.5rem}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#2e7d32;text-decoration:none;font-weight:500;font-size:1.1rem;position:relative;padding:.5rem 0;transition:all .3s ease}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:0;height:2px;background-color:#4caf50;transition:width .3s ease}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#4caf50}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{width:100%}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#4caf50;font-weight:600}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:after{width:100%}.content[_ngcontent-%COMP%]{flex:1;padding:2rem;max-width:1200px;margin:0 auto;width:100%}.app-footer[_ngcontent-%COMP%]{background-color:#c8e6c9;padding:1.5rem;text-align:center;margin-top:auto}.app-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#2e7d32;font-size:.9rem;display:block}@media (max-width: 768px){.navbar[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:1rem;flex-direction:column}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]{margin-top:1rem;gap:1.5rem}}.user-notifications[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;position:relative}.user-notifications[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-weight:500;color:#2e7d32;margin-right:.5rem}.user-notifications[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{position:relative;cursor:pointer;font-size:1.2rem}.user-notifications[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   .notification-badge[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;background-color:red;color:#fff;border-radius:50%;width:18px;height:18px;display:flex;align-items:center;justify-content:center;font-size:.7rem}.user-notifications[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   .notifications-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;background-color:#fff;border:1px solid #c8e6c9;border-radius:4px;box-shadow:0 4px 8px #0000001a;width:300px;max-height:400px;overflow-y:auto;z-index:1001}.user-notifications[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   .notifications-dropdown[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #c8e6c9;cursor:pointer;transition:background-color .2s}.user-notifications[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   .notifications-dropdown[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]:hover{background-color:#f8fffa}.user-notifications[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   .notifications-dropdown[_ngcontent-%COMP%]   .notification-empty[_ngcontent-%COMP%]{padding:1rem;text-align:center;color:#77cd7b}.global-loader[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#fffc;display:flex;justify-content:center;align-items:center;z-index:1000}.loader-content[_ngcontent-%COMP%]{text-align:center;background:#fff;padding:2rem;border-radius:8px;box-shadow:0 2px 10px #0000001a}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-radius:50%;border-top:4px solid #3498db;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})};G_(vm,tN).catch(n=>console.error(n));
