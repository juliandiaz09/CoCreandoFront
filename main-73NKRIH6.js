var FT=Object.defineProperty,lV=Object.defineProperties;var uV=Object.getOwnPropertyDescriptors;var kT=Object.getOwnPropertySymbols,dV=Object.getPrototypeOf,hV=Object.prototype.hasOwnProperty,fV=Object.prototype.propertyIsEnumerable,pV=Reflect.get;var NT=(n,e,t)=>e in n?FT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,L=(n,e)=>{for(var t in e||={})hV.call(e,t)&&NT(n,t,e[t]);if(kT)for(var t of kT(e))fV.call(e,t)&&NT(n,t,e[t]);return n},ee=(n,e)=>lV(n,uV(e));var mV=(n,e)=>{for(var t in e)FT(n,t,{get:e[t],enumerable:!0})};var to=(n,e,t)=>pV(dV(n),t,e);var w=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(u){i(u)}},s=c=>{try{a(t.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});function m_(n,e){return Object.is(n,e)}var Rt=null,ph=!1,g_=1,Yn=Symbol("SIGNAL");function Me(n){let e=Rt;return Rt=n,e}function v_(){return Rt}var yl={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function bl(n){if(ph)throw new Error("");if(Rt===null)return;Rt.consumerOnSignalRead(n);let e=Rt.nextProducerIndex++;if(_h(Rt),e<Rt.producerNode.length&&Rt.producerNode[e]!==n&&_l(Rt)){let t=Rt.producerNode[e];vh(t,Rt.producerIndexOfThis[e])}Rt.producerNode[e]!==n&&(Rt.producerNode[e]=n,Rt.producerIndexOfThis[e]=_l(Rt)?VT(n,Rt,e):0),Rt.producerLastReadVersion[e]=n.version}function LT(){g_++}function __(n){if(!(_l(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===g_)){if(!n.producerMustRecompute(n)&&!E_(n)){p_(n);return}n.producerRecomputeValue(n),p_(n)}}function y_(n){if(n.liveConsumerNode===void 0)return;let e=ph;ph=!0;try{for(let t of n.liveConsumerNode)t.dirty||gV(t)}finally{ph=e}}function b_(){return Rt?.consumerAllowSignalWrites!==!1}function gV(n){n.dirty=!0,y_(n),n.consumerMarkedDirty?.(n)}function p_(n){n.dirty=!1,n.lastCleanEpoch=g_}function gh(n){return n&&(n.nextProducerIndex=0),Me(n)}function w_(n,e){if(Me(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(_l(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)vh(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function E_(n){_h(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(__(t),r!==t.version))return!0}return!1}function C_(n){if(_h(n),_l(n))for(let e=0;e<n.producerNode.length;e++)vh(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function VT(n,e,t){if(jT(n),n.liveConsumerNode.length===0&&BT(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=VT(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function vh(n,e){if(jT(n),n.liveConsumerNode.length===1&&BT(n))for(let r=0;r<n.producerNode.length;r++)vh(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];_h(i),i.producerIndexOfThis[r]=e}}function _l(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function _h(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function jT(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function BT(n){return n.producerNode!==void 0}function I_(n,e){let t=Object.create(vV);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(__(t),bl(t),t.value===mh)throw t.error;return t.value};return r[Yn]=t,r}var h_=Symbol("UNSET"),f_=Symbol("COMPUTING"),mh=Symbol("ERRORED"),vV=ee(L({},yl),{value:h_,dirty:!0,error:null,equal:m_,kind:"computed",producerMustRecompute(n){return n.value===h_||n.value===f_},producerRecomputeValue(n){if(n.value===f_)throw new Error("Detected cycle in computations.");let e=n.value;n.value=f_;let t=gh(n),r,i=!1;try{r=n.computation(),Me(null),i=e!==h_&&e!==mh&&r!==mh&&n.equal(e,r)}catch(o){r=mh,n.error=o}finally{w_(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function _V(){throw new Error}var UT=_V;function $T(n){UT(n)}function D_(n){UT=n}var yV=null;function T_(n,e){let t=Object.create(yh);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(bl(t),t.value);return r[Yn]=t,r}function wl(n,e){b_()||$T(n),n.equal(n.value,e)||(n.value=e,bV(n))}function S_(n,e){b_()||$T(n),wl(n,e(n.value))}var yh=ee(L({},yl),{equal:m_,value:void 0,kind:"signal"});function bV(n){n.version++,LT(),y_(n),yV?.()}function A_(n){let e=Me(null);try{return n()}finally{Me(e)}}var x_;function El(){return x_}function _i(n){let e=x_;return x_=n,e}var bh=Symbol("NotFound");function _e(n){return typeof n=="function"}function ua(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var wh=ua(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function $o(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var et=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(_e(r))try{r()}catch(o){e=o instanceof wh?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{HT(o)}catch(s){e=e??[],s instanceof wh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new wh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)HT(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&$o(t,e)}remove(e){let{_finalizers:t}=this;t&&$o(t,e),e instanceof n&&e._removeParent(this)}};et.EMPTY=(()=>{let n=new et;return n.closed=!0,n})();var M_=et.EMPTY;function Eh(n){return n instanceof et||n&&"closed"in n&&_e(n.remove)&&_e(n.add)&&_e(n.unsubscribe)}function HT(n){_e(n)?n():n.unsubscribe()}var fr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var da={setTimeout(n,e,...t){let{delegate:r}=da;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=da;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ch(n){da.setTimeout(()=>{let{onUnhandledError:e}=fr;if(e)e(n);else throw n})}function Cl(){}var zT=P_("C",void 0,void 0);function qT(n){return P_("E",void 0,n)}function WT(n){return P_("N",n,void 0)}function P_(n,e,t){return{kind:n,value:e,error:t}}var Ho=null;function ha(n){if(fr.useDeprecatedSynchronousErrorHandling){let e=!Ho;if(e&&(Ho={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Ho;if(Ho=null,t)throw r}}else n()}function GT(n){fr.useDeprecatedSynchronousErrorHandling&&Ho&&(Ho.errorThrown=!0,Ho.error=n)}var zo=class extends et{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Eh(e)&&e.add(this)):this.destination=TV}static create(e,t,r){return new fa(e,t,r)}next(e){this.isStopped?O_(WT(e),this):this._next(e)}error(e){this.isStopped?O_(qT(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?O_(zT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},IV=Function.prototype.bind;function R_(n,e){return IV.call(n,e)}var k_=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ih(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ih(r)}else Ih(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ih(t)}}},fa=class extends zo{constructor(e,t,r){super();let i;if(_e(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&fr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&R_(e.next,o),error:e.error&&R_(e.error,o),complete:e.complete&&R_(e.complete,o)}):i=e}this.destination=new k_(i)}};function Ih(n){fr.useDeprecatedSynchronousErrorHandling?GT(n):Ch(n)}function DV(n){throw n}function O_(n,e){let{onStoppedNotification:t}=fr;t&&da.setTimeout(()=>t(n,e))}var TV={closed:!0,next:Cl,error:DV,complete:Cl};var pa=typeof Symbol=="function"&&Symbol.observable||"@@observable";function mn(n){return n}function N_(...n){return F_(n)}function F_(n){return n.length===0?mn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var me=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=AV(t)?t:new fa(t,r,i);return ha(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=KT(r),new r((i,o)=>{let s=new fa({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[pa](){return this}pipe(...t){return F_(t)(this)}toPromise(t){return t=KT(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function KT(n){var e;return(e=n??fr.Promise)!==null&&e!==void 0?e:Promise}function SV(n){return n&&_e(n.next)&&_e(n.error)&&_e(n.complete)}function AV(n){return n&&n instanceof zo||SV(n)&&Eh(n)}function L_(n){return _e(n?.lift)}function De(n){return e=>{if(L_(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(n,e,t,r,i){return new V_(n,e,t,r,i)}var V_=class extends zo{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ma(){return De((n,e)=>{let t=null;n._refCount++;let r=ye(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var ga=class extends me{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,L_(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new et;let t=this.getSubject();e.add(this.source.subscribe(ye(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=et.EMPTY)}return e}refCount(){return ma()(this)}};var YT=ua(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=(()=>{class n extends me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Dh(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new YT}next(t){ha(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ha(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ha(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?M_:(this.currentObservers=null,o.push(t),new et(()=>{this.currentObservers=null,$o(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new me;return t.source=this,t}}return n.create=(e,t)=>new Dh(e,t),n})(),Dh=class extends he{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:M_}};var tt=class extends he{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var j_={now(){return(j_.delegate||Date).now()},delegate:void 0};var Th=class extends et{constructor(e,t){super()}schedule(e,t=0){return this}};var Il={setInterval(n,e,...t){let{delegate:r}=Il;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Il;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var va=class extends Th{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Il.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Il.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,$o(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var _a=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};_a.now=j_.now;var ya=class extends _a{constructor(e,t=_a.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var no=new ya(va),B_=no;var Sh=class extends va{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Ah=class extends ya{};var U_=new Ah(Sh);var on=new me(n=>n.complete());function xh(n){return n&&_e(n.schedule)}function $_(n){return n[n.length-1]}function Mh(n){return _e($_(n))?n.pop():void 0}function Pr(n){return xh($_(n))?n.pop():void 0}function QT(n,e){return typeof $_(n)=="number"?n.pop():e}function H_(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function XT(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(p){s(p)}}function c(d){try{u(r.throw(d))}catch(p){s(p)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function ZT(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qo(n){return this instanceof qo?(this.v=n,this):new qo(n)}function JT(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(_){return function(S){return Promise.resolve(S).then(_,p)}}function a(_,S){r[_]&&(i[_]=function(R){return new Promise(function(k,q){o.push([_,R,k,q])>1||c(_,R)})},S&&(i[_]=S(i[_])))}function c(_,S){try{u(r[_](S))}catch(R){g(o[0][3],R)}}function u(_){_.value instanceof qo?Promise.resolve(_.value.v).then(d,p):g(o[0][2],_)}function d(_){c("next",_)}function p(_){c("throw",_)}function g(_,S){_(S),o.shift(),o.length&&c(o[0][0],o[0][1])}}function eS(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof ZT=="function"?ZT(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var Ph=n=>n&&typeof n.length=="number"&&typeof n!="function";function Rh(n){return _e(n?.then)}function Oh(n){return _e(n[pa])}function kh(n){return Symbol.asyncIterator&&_e(n?.[Symbol.asyncIterator])}function Nh(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function xV(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Fh=xV();function Lh(n){return _e(n?.[Fh])}function Vh(n){return JT(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield qo(t.read());if(i)return yield qo(void 0);yield yield qo(r)}}finally{t.releaseLock()}})}function jh(n){return _e(n?.getReader)}function st(n){if(n instanceof me)return n;if(n!=null){if(Oh(n))return MV(n);if(Ph(n))return PV(n);if(Rh(n))return RV(n);if(kh(n))return tS(n);if(Lh(n))return OV(n);if(jh(n))return kV(n)}throw Nh(n)}function MV(n){return new me(e=>{let t=n[pa]();if(_e(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function PV(n){return new me(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function RV(n){return new me(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ch)})}function OV(n){return new me(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function tS(n){return new me(e=>{NV(n,e).catch(t=>e.error(t))})}function kV(n){return tS(Vh(n))}function NV(n,e){var t,r,i,o;return XT(this,void 0,void 0,function*(){try{for(t=eS(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function In(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function ro(n,e=0){return De((t,r)=>{t.subscribe(ye(r,i=>In(r,n,()=>r.next(i),e),()=>In(r,n,()=>r.complete(),e),i=>In(r,n,()=>r.error(i),e)))})}function io(n,e=0){return De((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function nS(n,e){return st(n).pipe(io(e),ro(e))}function rS(n,e){return st(n).pipe(io(e),ro(e))}function iS(n,e){return new me(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function oS(n,e){return new me(t=>{let r;return In(t,e,()=>{r=n[Fh](),In(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>_e(r?.return)&&r.return()})}function Bh(n,e){if(!n)throw new Error("Iterable cannot be null");return new me(t=>{In(t,e,()=>{let r=n[Symbol.asyncIterator]();In(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function sS(n,e){return Bh(Vh(n),e)}function aS(n,e){if(n!=null){if(Oh(n))return nS(n,e);if(Ph(n))return iS(n,e);if(Rh(n))return rS(n,e);if(kh(n))return Bh(n,e);if(Lh(n))return oS(n,e);if(jh(n))return sS(n,e)}throw Nh(n)}function We(n,e){return e?aS(n,e):st(n)}function X(...n){let e=Pr(n);return We(n,e)}function Dn(n,e){let t=_e(n)?n:()=>n,r=i=>i.error(t());return new me(e?i=>e.schedule(r,0,i):r)}function Uh(n){return!!n&&(n instanceof me||_e(n.lift)&&_e(n.subscribe))}var pr=ua(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function $h(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let o=!1,s;n.subscribe({next:a=>{s=a,o=!0},error:i,complete:()=>{o?r(s):t?r(e.defaultValue):i(new pr)}})})}function cS(n){return n instanceof Date&&!isNaN(n)}function de(n,e){return De((t,r)=>{let i=0;t.subscribe(ye(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:FV}=Array;function LV(n,e){return FV(e)?n(...e):n(e)}function Hh(n){return de(e=>LV(n,e))}var{isArray:VV}=Array,{getPrototypeOf:jV,prototype:BV,keys:UV}=Object;function zh(n){if(n.length===1){let e=n[0];if(VV(e))return{args:e,keys:null};if($V(e)){let t=UV(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function $V(n){return n&&typeof n=="object"&&jV(n)===BV}function qh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Wo(...n){let e=Pr(n),t=Mh(n),{args:r,keys:i}=zh(n);if(r.length===0)return We([],e);let o=new me(HV(r,e,i?s=>qh(i,s):mn));return t?o.pipe(Hh(t)):o}function HV(n,e,t=mn){return r=>{lS(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)lS(e,()=>{let u=We(n[c],e),d=!1;u.subscribe(ye(r,p=>{o[c]=p,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function lS(n,e,t){n?In(t,n,e):e()}function uS(n,e,t,r,i,o,s,a){let c=[],u=0,d=0,p=!1,g=()=>{p&&!c.length&&!u&&e.complete()},_=R=>u<r?S(R):c.push(R),S=R=>{o&&e.next(R),u++;let k=!1;st(t(R,d++)).subscribe(ye(e,q=>{i?.(q),o?_(q):e.next(q)},()=>{k=!0},void 0,()=>{if(k)try{for(u--;c.length&&u<r;){let q=c.shift();s?In(e,s,()=>S(q)):S(q)}g()}catch(q){e.error(q)}}))};return n.subscribe(ye(e,_,()=>{p=!0,g()})),()=>{a?.()}}function wt(n,e,t=1/0){return _e(e)?wt((r,i)=>de((o,s)=>e(r,o,i,s))(st(n(r,i))),t):(typeof e=="number"&&(t=e),De((r,i)=>uS(r,i,n,t)))}function oo(n=1/0){return wt(mn,n)}function dS(){return oo(1)}function so(...n){return dS()(We(n,Pr(n)))}function Wh(n){return new me(e=>{st(n()).subscribe(e)})}function z_(...n){let e=Mh(n),{args:t,keys:r}=zh(n),i=new me(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let d=0;d<s;d++){let p=!1;st(t[d]).subscribe(ye(o,g=>{p||(p=!0,u--),a[d]=g},()=>c--,void 0,()=>{(!c||!p)&&(u||o.next(r?qh(r,a):a),o.complete())}))}});return e?i.pipe(Hh(e)):i}function hS(n=0,e,t=B_){let r=-1;return e!=null&&(xh(e)?t=e:r=e),new me(i=>{let o=cS(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function q_(...n){let e=Pr(n),t=QT(n,1/0),r=n;return r.length?r.length===1?st(r[0]):oo(t)(We(r,e)):on}function dt(n,e){return De((t,r)=>{let i=0;t.subscribe(ye(r,o=>n.call(e,o,i++)&&r.next(o)))})}function fS(n){return De((e,t)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let u=i;i=null,t.next(u)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(ye(t,u=>{r=!0,i=u,o||st(n(u)).subscribe(o=ye(t,a,c))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}function Gh(n,e=no){return fS(()=>hS(n,e))}function ot(n){return De((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ye(t,void 0,void 0,s=>{o=st(n(s,ot(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function pS(n,e,t,r,i){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(ye(s,d=>{let p=u++;c=a?n(c,d,p):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Rr(n,e){return _e(e)?wt(n,e,1):wt(n,1)}function W_(n,e=no){return De((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let u=o;o=null,r.next(u)}};function c(){let u=s+n,d=e.now();if(d<u){i=this.schedule(void 0,u-d),r.add(i);return}a()}t.subscribe(ye(r,u=>{o=u,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function ao(n){return De((e,t)=>{let r=!1;e.subscribe(ye(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ht(n){return n<=0?()=>on:De((e,t)=>{let r=0;e.subscribe(ye(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Kh(n,e=mn){return n=n??zV,De((t,r)=>{let i,o=!0;t.subscribe(ye(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function zV(n,e){return n===e}function Yh(n=qV){return De((e,t)=>{let r=!1;e.subscribe(ye(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function qV(){return new pr}function Go(n){return De((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function yi(n,e){let t=arguments.length>=2;return r=>r.pipe(n?dt((i,o)=>n(i,o,r)):mn,ht(1),t?ao(e):Yh(()=>new pr))}function ba(n){return n<=0?()=>on:De((e,t)=>{let r=[];e.subscribe(ye(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function G_(n,e){let t=arguments.length>=2;return r=>r.pipe(n?dt((i,o)=>n(i,o,r)):mn,ba(1),t?ao(e):Yh(()=>new pr))}function K_(n,e){return De(pS(n,e,arguments.length>=2,!0))}function Dl(n){return dt((e,t)=>n<=t)}function wa(...n){let e=Pr(n);return De((t,r)=>{(e?so(n,t,e):so(n,t)).subscribe(r)})}function qt(n,e){return De((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ye(r,c=>{i?.unsubscribe();let u=0,d=o++;st(n(c,d)).subscribe(i=ye(r,p=>r.next(e?e(c,p,d,u++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Qn(n){return De((e,t)=>{st(n).subscribe(ye(t,()=>t.complete(),Cl)),!t.closed&&e.subscribe(t)})}function Wt(n,e,t){let r=_e(n)||e||t?{next:n,error:e,complete:t}:n;return r?De((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ye(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):mn}var eA="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",K=class extends Error{code;constructor(e,t){super(tA(e,t)),this.code=e}};function WV(n){return`NG0${Math.abs(n)}`}function tA(n,e){return`${WV(n)}${e?": "+e:""}`}var nA=Symbol("InputSignalNode#UNSET"),GV=ee(L({},yh),{transformFn:void 0,applyValueToInputSignal(n,e){wl(n,e)}});function rA(n,e){let t=Object.create(GV);t.value=n,t.transformFn=e?.transform;function r(){if(bl(t),t.value===nA){let i=null;throw new K(-950,i)}return t.value}return r[Yn]=t,r}function Ll(n){return{toString:n}.toString()}var Qh="__parameters__";function KV(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function iA(n,e,t){return Ll(()=>{let r=KV(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,d){let p=c.hasOwnProperty(Qh)?c[Qh]:Object.defineProperty(c,Qh,{value:[]})[Qh];for(;p.length<=d;)p.push(null);return(p[d]=p[d]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Yo=globalThis;function Xe(n){for(let e in n)if(n[e]===Xe)return e;throw Error("Could not find renamed property on target object.")}function YV(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function An(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(An).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function ly(n,e){return n?e?`${n} ${e}`:n:e||""}var QV=Xe({__forward_ref__:Xe});function Ot(n){return n.__forward_ref__=Ot,n.toString=function(){return An(this())},n}function gn(n){return oA(n)?n():n}function oA(n){return typeof n=="function"&&n.hasOwnProperty(QV)&&n.__forward_ref__===Ot}function V(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Kt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Rf(n){return mS(n,aA)||mS(n,cA)}function sA(n){return Rf(n)!==null}function mS(n,e){return n.hasOwnProperty(e)?n[e]:null}function ZV(n){let e=n&&(n[aA]||n[cA]);return e||null}function gS(n){return n&&(n.hasOwnProperty(vS)||n.hasOwnProperty(XV))?n[vS]:null}var aA=Xe({\u0275prov:Xe}),vS=Xe({\u0275inj:Xe}),cA=Xe({ngInjectableDef:Xe}),XV=Xe({ngInjectorDef:Xe}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=V({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function lA(n){return n&&!!n.\u0275providers}var JV=Xe({\u0275cmp:Xe}),e2=Xe({\u0275dir:Xe}),t2=Xe({\u0275pipe:Xe}),n2=Xe({\u0275mod:Xe}),sf=Xe({\u0275fac:Xe}),xl=Xe({__NG_ELEMENT_ID__:Xe}),_S=Xe({__NG_ENV_ID__:Xe});function bi(n){return typeof n=="string"?n:n==null?"":String(n)}function r2(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():bi(n)}function uA(n,e){throw new K(-200,n)}function ob(n,e){throw new K(-201,!1)}var Ee=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ee||{}),uy;function dA(){return uy}function Tn(n){let e=uy;return uy=n,e}function hA(n,e,t){let r=Rf(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&Ee.Optional)return null;if(e!==void 0)return e;ob(n,"Injector")}var i2={},Qo=i2,dy="__NG_DI_FLAG__",af=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?bh:Qo,r)}},cf="ngTempTokenPath",o2="ngTokenPath",s2=/\n/gm,a2="\u0275",yS="__source";function c2(n,e=Ee.Default){if(El()===void 0)throw new K(-203,!1);if(El()===null)return hA(n,void 0,e);{let t=El(),r;return t instanceof af?r=t.injector:r=t,r.get(n,e&Ee.Optional?null:void 0,e)}}function Y(n,e=Ee.Default){return(dA()||c2)(gn(n),e)}function I(n,e=Ee.Default){return Y(n,Of(e))}function Of(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function hy(n){let e=[];for(let t=0;t<n.length;t++){let r=gn(n[t]);if(Array.isArray(r)){if(r.length===0)throw new K(900,!1);let i,o=Ee.Default;for(let s=0;s<r.length;s++){let a=r[s],c=l2(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(Y(i,o))}else e.push(Y(r))}return e}function fA(n,e){return n[dy]=e,n.prototype[dy]=e,n}function l2(n){return n[dy]}function u2(n,e,t,r){let i=n[cf];throw e[yS]&&i.unshift(e[yS]),n.message=d2(`
`+n.message,i,t,r),n[o2]=i,n[cf]=null,n}function d2(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==a2?n.slice(2):n;let i=An(e);if(Array.isArray(e))i=e.map(An).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):An(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(s2,`
  `)}`}var Di=fA(iA("Optional"),8);var h2=fA(iA("SkipSelf"),4);function Xo(n,e){let t=n.hasOwnProperty(sf);return t?n[sf]:null}function f2(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function p2(n){return n.flat(Number.POSITIVE_INFINITY)}function sb(n,e){n.forEach(t=>Array.isArray(t)?sb(t,e):e(t))}function pA(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function lf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function m2(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function g2(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function ab(n,e,t){let r=Vl(n,e);return r>=0?n[r|1]=t:(r=~r,g2(n,r,e,t)),r}function Y_(n,e){let t=Vl(n,e);if(t>=0)return n[t|1]}function Vl(n,e){return v2(n,e,1)}function v2(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Jo={},Sn=[],Ml=new $(""),mA=new $("",-1),gA=new $(""),uf=class{get(e,t=Qo){if(t===Qo){let r=new Error(`NullInjectorError: No provider for ${An(e)}!`);throw r.name="NullInjectorError",r}return t}};function vA(n,e){let t=n[n2]||null;if(!t&&e===!0)throw new Error(`Type ${An(n)} does not have '\u0275mod' property.`);return t}function uo(n){return n[JV]||null}function _2(n){return n[e2]||null}function y2(n){return n[t2]||null}function Ti(n){return{\u0275providers:n}}function b2(...n){return{\u0275providers:_A(!0,n),\u0275fromNgModule:!0}}function _A(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return sb(e,s=>{let a=s;fy(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&yA(i,o),t}function yA(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];cb(i,o=>{e(o,r)})}}function fy(n,e,t,r){if(n=gn(n),!n)return!1;let i=null,o=gS(n),s=!o&&uo(n);if(!o&&!s){let c=n.ngModule;if(o=gS(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)fy(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{sb(o.imports,d=>{fy(d,e,t,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&yA(u,e)}if(!a){let u=Xo(i)||(()=>new i);e({provide:i,useFactory:u,deps:Sn},i),e({provide:gA,useValue:i,multi:!0},i),e({provide:Ml,useValue:()=>Y(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=n;cb(c,d=>{e(d,u)})}}else return!1;return i!==n&&n.providers!==void 0}function cb(n,e){for(let t of n)lA(t)&&(t=t.\u0275providers),Array.isArray(t)?cb(t,e):e(t)}var w2=Xe({provide:String,useValue:Xe});function bA(n){return n!==null&&typeof n=="object"&&w2 in n}function E2(n){return!!(n&&n.useExisting)}function C2(n){return!!(n&&n.useFactory)}function Aa(n){return typeof n=="function"}function I2(n){return!!n.useClass}var kf=new $(""),Jh={},bS={},Q_;function Nf(){return Q_===void 0&&(Q_=new uf),Q_}var at=class{},Pl=class extends at{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,my(e,s=>this.processProvider(s)),this.records.set(mA,Ea(void 0,this)),i.has("environment")&&this.records.set(at,Ea(void 0,this));let o=this.records.get(kf);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(gA,Sn,Ee.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?bh:Qo,r)}destroy(){Sl(this),this._destroyed=!0;let e=Me(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Me(e)}}onDestroy(e){return Sl(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Sl(this);let t=_i(this),r=Tn(void 0),i;try{return e()}finally{_i(t),Tn(r)}}get(e,t=Qo,r=Ee.Default){if(Sl(this),e.hasOwnProperty(_S))return e[_S](this);r=Of(r);let i,o=_i(this),s=Tn(void 0);try{if(!(r&Ee.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=x2(e)&&Rf(e);u&&this.injectableDefInScope(u)?c=Ea(py(e),Jh):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,r)}let a=r&Ee.Self?Nf():this.parent;return t=r&Ee.Optional&&t===Qo?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[cf]=a[cf]||[]).unshift(An(e)),o)throw a;return u2(a,e,"R3InjectorError",this.source)}else throw a}finally{Tn(s),_i(o)}}resolveInjectorInitializers(){let e=Me(null),t=_i(this),r=Tn(void 0),i;try{let o=this.get(Ml,Sn,Ee.Self);for(let s of o)s()}finally{_i(t),Tn(r),Me(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(An(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=gn(e);let t=Aa(e)?e:gn(e&&e.provide),r=T2(e);if(!Aa(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Ea(void 0,Jh,!0),i.factory=()=>hy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Me(null);try{return t.value===bS?uA(An(e)):t.value===Jh&&(t.value=bS,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&A2(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Me(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=gn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function py(n){let e=Rf(n),t=e!==null?e.factory:Xo(n);if(t!==null)return t;if(n instanceof $)throw new K(204,!1);if(n instanceof Function)return D2(n);throw new K(204,!1)}function D2(n){if(n.length>0)throw new K(204,!1);let t=ZV(n);return t!==null?()=>t.factory(n):()=>new n}function T2(n){if(bA(n))return Ea(void 0,n.useValue);{let e=wA(n);return Ea(e,Jh)}}function wA(n,e,t){let r;if(Aa(n)){let i=gn(n);return Xo(i)||py(i)}else if(bA(n))r=()=>gn(n.useValue);else if(C2(n))r=()=>n.useFactory(...hy(n.deps||[]));else if(E2(n))r=(i,o)=>Y(gn(n.useExisting),o!==void 0&&o&Ee.Optional?Ee.Optional:void 0);else{let i=gn(n&&(n.useClass||n.provide));if(S2(n))r=()=>new i(...hy(n.deps));else return Xo(i)||py(i)}return r}function Sl(n){if(n.destroyed)throw new K(205,!1)}function Ea(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function S2(n){return!!n.deps}function A2(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function x2(n){return typeof n=="function"||typeof n=="object"&&n instanceof $}function my(n,e){for(let t of n)Array.isArray(t)?my(t,e):t&&lA(t)?my(t.\u0275providers,e):e(t)}function Lt(n,e){let t;n instanceof Pl?(Sl(n),t=n):t=new af(n);let r,i=_i(t),o=Tn(void 0);try{return e()}finally{_i(i),Tn(o)}}function EA(){return dA()!==void 0||El()!=null}function Ff(n){if(!EA())throw new K(-203,!1)}function M2(n){return typeof n=="function"}var Si=0,Ce=1,ge=2,sn=3,vr=4,Mn=5,Rl=6,df=7,vn=8,xa=9,wi=10,ft=11,Ol=12,wS=13,ka=14,Xn=15,es=16,Ca=17,Ei=18,Lf=19,CA=20,co=21,Z_=22,hf=23,Zn=24,Ta=25,Ft=26,IA=1;var ts=7,ff=8,Ma=9,xn=10;function lo(n){return Array.isArray(n)&&typeof n[IA]=="object"}function Ai(n){return Array.isArray(n)&&n[IA]===!0}function lb(n){return(n.flags&4)!==0}function Na(n){return n.componentOffset>-1}function Vf(n){return(n.flags&1)===1}function kr(n){return!!n.template}function pf(n){return(n[ge]&512)!==0}function Fa(n){return(n[ge]&256)===256}var gy=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function DA(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Bn=(()=>{let n=()=>TA;return n.ngInherit=!0,n})();function TA(n){return n.type.prototype.ngOnChanges&&(n.setInput=R2),P2}function P2(){let n=AA(this),e=n?.current;if(e){let t=n.previous;if(t===Jo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function R2(n,e,t,r,i){let o=this.declaredInputs[r],s=AA(n)||O2(n,{previous:Jo,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new gy(u&&u.currentValue,t,c===Jo),DA(n,e,i,t)}var SA="__ngSimpleChanges__";function AA(n){return n[SA]||null}function O2(n,e){return n[SA]=e}var ES=null;var Ge=function(n,e=null,t){ES?.(n,e,t)},k2="svg",N2="math";function Nr(n){for(;Array.isArray(n);)n=n[Si];return n}function xA(n,e){return Nr(e[n])}function jr(n,e){return Nr(e[n.index])}function ub(n,e){return n.data[e]}function db(n,e){return n[e]}function F2(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Fr(n,e){let t=e[n];return lo(t)?t:t[Si]}function L2(n){return(n[ge]&4)===4}function hb(n){return(n[ge]&128)===128}function V2(n){return Ai(n[sn])}function Pa(n,e){return e==null?null:n[e]}function MA(n){n[Ca]=0}function PA(n){n[ge]&1024||(n[ge]|=1024,hb(n)&&jl(n))}function j2(n,e){for(;n>0;)e=e[ka],n--;return e}function jf(n){return!!(n[ge]&9216||n[Zn]?.dirty)}function vy(n){n[wi].changeDetectionScheduler?.notify(8),n[ge]&64&&(n[ge]|=1024),jf(n)&&jl(n)}function jl(n){n[wi].changeDetectionScheduler?.notify(0);let e=ns(n);for(;e!==null&&!(e[ge]&8192||(e[ge]|=8192,!hb(e)));)e=ns(e)}function RA(n,e){if(Fa(n))throw new K(911,!1);n[co]===null&&(n[co]=[]),n[co].push(e)}function B2(n,e){if(n[co]===null)return;let t=n[co].indexOf(e);t!==-1&&n[co].splice(t,1)}function ns(n){let e=n[sn];return Ai(e)?e[sn]:e}function fb(n){return n[df]??=[]}function pb(n){return n.cleanup??=[]}function U2(n,e,t,r){let i=fb(e);i.push(t),n.firstCreatePass&&pb(n).push(r,i.length-1)}var Te={lFrame:BA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var _y=!1;function $2(){return Te.lFrame.elementDepthCount}function H2(){Te.lFrame.elementDepthCount++}function z2(){Te.lFrame.elementDepthCount--}function mb(){return Te.bindingsEnabled}function OA(){return Te.skipHydrationRootTNode!==null}function q2(n){return Te.skipHydrationRootTNode===n}function W2(){Te.skipHydrationRootTNode=null}function Se(){return Te.lFrame.lView}function Et(){return Te.lFrame.tView}function ae(n){return Te.lFrame.contextLView=n,n[vn]}function ce(n){return Te.lFrame.contextLView=null,n}function _n(){let n=kA();for(;n!==null&&n.type===64;)n=n.parent;return n}function kA(){return Te.lFrame.currentTNode}function G2(){let n=Te.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ls(n,e){let t=Te.lFrame;t.currentTNode=n,t.isParent=e}function gb(){return Te.lFrame.isParent}function vb(){Te.lFrame.isParent=!1}function K2(){return Te.lFrame.contextLView}function NA(){return _y}function CS(n){let e=_y;return _y=n,e}function _b(){let n=Te.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function FA(){return Te.lFrame.bindingIndex}function Y2(n){return Te.lFrame.bindingIndex=n}function Bl(){return Te.lFrame.bindingIndex++}function Bf(n){let e=Te.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Q2(){return Te.lFrame.inI18n}function Z2(n,e){let t=Te.lFrame;t.bindingIndex=t.bindingRootIndex=n,yy(e)}function X2(){return Te.lFrame.currentDirectiveIndex}function yy(n){Te.lFrame.currentDirectiveIndex=n}function J2(n){let e=Te.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function LA(){return Te.lFrame.currentQueryIndex}function yb(n){Te.lFrame.currentQueryIndex=n}function ej(n){let e=n[Ce];return e.type===2?e.declTNode:e.type===1?n[Mn]:null}function VA(n,e,t){if(t&Ee.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&Ee.Host);)if(i=ej(o),i===null||(o=o[ka],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Te.lFrame=jA();return r.currentTNode=e,r.lView=n,!0}function bb(n){let e=jA(),t=n[Ce];Te.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function jA(){let n=Te.lFrame,e=n===null?null:n.child;return e===null?BA(n):e}function BA(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function UA(){let n=Te.lFrame;return Te.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var $A=UA;function wb(){let n=UA();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function tj(n){return(Te.lFrame.contextLView=j2(n,Te.lFrame.contextLView))[vn]}function xi(){return Te.lFrame.selectedIndex}function rs(n){Te.lFrame.selectedIndex=n}function Uf(){let n=Te.lFrame;return ub(n.tView,n.selectedIndex)}function nj(){return Te.lFrame.currentNamespace}var HA=!0;function $f(){return HA}function Hf(n){HA=n}function rj(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=TA(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Eb(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function ef(n,e,t){zA(n,e,3,t)}function tf(n,e,t,r){(n[ge]&3)===t&&zA(n,e,t,r)}function X_(n,e){let t=n[ge];(t&3)===e&&(t&=16383,t+=1,n[ge]=t)}function zA(n,e,t,r){let i=r!==void 0?n[Ca]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Ca]+=65536),(a<o||o==-1)&&(ij(n,t,e,c),n[Ca]=(n[Ca]&4294901760)+c+2),c++}function IS(n,e){Ge(4,n,e);let t=Me(null);try{e.call(n)}finally{Me(t),Ge(5,n,e)}}function ij(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ge]>>14<n[Ca]>>16&&(n[ge]&3)===e&&(n[ge]+=16384,IS(a,o)):IS(a,o)}var Sa=-1,is=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function oj(n){return(n.flags&8)!==0}function sj(n){return(n.flags&16)!==0}function aj(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];cj(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function qA(n){return n===3||n===4||n===6}function cj(n){return n.charCodeAt(0)===64}function Ra(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?DS(n,t,i,null,e[++r]):DS(n,t,i,null,null))}}return n}function DS(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function WA(n){return n!==Sa}function mf(n){return n&32767}function lj(n){return n>>16}function gf(n,e){let t=lj(n),r=e;for(;t>0;)r=r[ka],t--;return r}var by=!0;function vf(n){let e=by;return by=n,e}var uj=256,GA=uj-1,KA=5,dj=0,Or={};function hj(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(xl)&&(r=t[xl]),r==null&&(r=t[xl]=dj++);let i=r&GA,o=1<<i;e.data[n+(i>>KA)]|=o}function _f(n,e){let t=YA(n,e);if(t!==-1)return t;let r=e[Ce];r.firstCreatePass&&(n.injectorIndex=e.length,J_(r.data,n),J_(e,null),J_(r.blueprint,null));let i=Cb(n,e),o=n.injectorIndex;if(WA(i)){let s=mf(i),a=gf(i,e),c=a[Ce].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function J_(n,e){n.push(0,0,0,0,0,0,0,0,e)}function YA(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Cb(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=ex(i),r===null)return Sa;if(t++,i=i[ka],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Sa}function wy(n,e,t){hj(n,e,t)}function fj(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(qA(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function QA(n,e,t){if(t&Ee.Optional||n!==void 0)return n;ob(e,"NodeInjector")}function ZA(n,e,t,r){if(t&Ee.Optional&&r===void 0&&(r=null),(t&(Ee.Self|Ee.Host))===0){let i=n[xa],o=Tn(void 0);try{return i?i.get(e,r,t&Ee.Optional):hA(e,r,t&Ee.Optional)}finally{Tn(o)}}return QA(r,e,t)}function XA(n,e,t,r=Ee.Default,i){if(n!==null){if(e[ge]&2048&&!(r&Ee.Self)){let s=vj(n,e,t,r,Or);if(s!==Or)return s}let o=JA(n,e,t,r,Or);if(o!==Or)return o}return ZA(e,t,r,i)}function JA(n,e,t,r,i){let o=mj(t);if(typeof o=="function"){if(!VA(e,n,r))return r&Ee.Host?QA(i,t,r):ZA(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&Ee.Optional))ob(t);else return s}finally{$A()}}else if(typeof o=="number"){let s=null,a=YA(n,e),c=Sa,u=r&Ee.Host?e[Xn][Mn]:null;for((a===-1||r&Ee.SkipSelf)&&(c=a===-1?Cb(n,e):e[a+8],c===Sa||!SS(r,!1)?a=-1:(s=e[Ce],a=mf(c),e=gf(c,e)));a!==-1;){let d=e[Ce];if(TS(o,a,d.data)){let p=pj(a,e,t,s,r,u);if(p!==Or)return p}c=e[a+8],c!==Sa&&SS(r,e[Ce].data[a+8]===u)&&TS(o,a,e)?(s=d,a=mf(c),e=gf(c,e)):a=-1}}return i}function pj(n,e,t,r,i,o){let s=e[Ce],a=s.data[n+8],c=r==null?Na(a)&&by:r!=s&&(a.type&3)!==0,u=i&Ee.Host&&o===a,d=nf(a,s,t,c,u);return d!==null?kl(e,s,d,a,i):Or}function nf(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,u=n.directiveEnd,d=o>>20,p=r?a:a+d,g=i?a+d:u;for(let _=p;_<g;_++){let S=s[_];if(_<c&&t===S||_>=c&&S.type===t)return _}if(i){let _=s[c];if(_&&kr(_)&&_.type===t)return c}return null}function kl(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof is){let a=o;a.resolving&&uA(r2(s[t]));let c=vf(a.canSeeViewProviders);a.resolving=!0;let u,d=a.injectImpl?Tn(a.injectImpl):null,p=VA(n,r,Ee.Default);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&rj(t,s[t],e)}finally{d!==null&&Tn(d),vf(c),a.resolving=!1,$A()}}return o}function mj(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(xl)?n[xl]:void 0;return typeof e=="number"?e>=0?e&GA:gj:e}function TS(n,e,t){let r=1<<n;return!!(t[e+(n>>KA)]&r)}function SS(n,e){return!(n&Ee.Self)&&!(n&Ee.Host&&e)}var Zo=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return XA(this._tNode,this._lView,e,Of(r),t)}};function gj(){return new Zo(_n(),Se())}function Ct(n){return Ll(()=>{let e=n.prototype.constructor,t=e[sf]||Ey(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[sf]||Ey(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ey(n){return oA(n)?()=>{let e=Ey(gn(n));return e&&e()}:Xo(n)}function vj(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ge]&2048&&!pf(s);){let a=JA(o,s,t,r|Ee.Self,Or);if(a!==Or)return a;let c=o.parent;if(!c){let u=s[CA];if(u){let d=u.get(t,Or,r);if(d!==Or)return d}c=ex(s),s=s[ka]}o=c}return i}function ex(n){let e=n[Ce],t=e.type;return t===2?e.declTNode:t===1?n[Mn]:null}function Ib(n){return fj(_n(),n)}function AS(n,e=null,t=null,r){let i=tx(n,e,t,r);return i.resolveInjectorInitializers(),i}function tx(n,e=null,t=null,r,i=new Set){let o=[t||Sn,b2(n)];return r=r||(typeof n=="object"?void 0:An(n)),new Pl(o,e||Nf(),r||null,i)}var Fe=class n{static THROW_IF_NOT_FOUND=Qo;static NULL=new uf;static create(e,t){if(Array.isArray(e))return AS({name:""},t,e,"");{let r=e.name??"";return AS({name:r},e.parent,e.providers,r)}}static \u0275prov=V({token:n,providedIn:"any",factory:()=>Y(mA)});static __NG_ELEMENT_ID__=-1};var _j=new $("");_j.__NG_ELEMENT_ID__=n=>{let e=_n();if(e===null)throw new K(204,!1);if(e.type&2)return e.value;if(n&Ee.Optional)return null;throw new K(204,!1)};var nx=!1,us=(()=>{class n{static __NG_ELEMENT_ID__=yj;static __NG_ENV_ID__=t=>t}return n})(),Cy=class extends us{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return Fa(t)?(e(),()=>{}):(RA(t,e),()=>B2(t,e))}};function yj(){return new Cy(Se())}var os=class{},rx=new $("",{providedIn:"root",factory:()=>!1});var ix=new $(""),ox=new $(""),Mi=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new tt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}return n})(),zf=(()=>{class n{internalPendingTasks=I(Mi);scheduler=I(os);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return w(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}return n})(),Iy=class extends he{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,EA()&&(this.destroyRef=I(us,{optional:!0})??void 0,this.pendingTasks=I(Mi,{optional:!0})??void 0)}emit(e){let t=Me(null);try{super.next(e)}finally{Me(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof et&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ze=Iy;function yf(...n){}function sx(n){let e,t;function r(){n=yf;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function xS(n){return queueMicrotask(()=>n()),()=>{n=yf}}var Db="isAngularZone",bf=Db+"_ID",bj=0,se=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ze(!1);onMicrotaskEmpty=new Ze(!1);onStable=new Ze(!1);onError=new Ze(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=nx}=e;if(typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Cj(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Db)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new K(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,wj,yf,yf);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},wj={};function Tb(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Ej(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){sx(()=>{n.callbackScheduled=!1,Dy(n),n.isCheckStableRunning=!0,Tb(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Dy(n)}function Cj(n){let e=()=>{Ej(n)},t=bj++;n._inner=n._inner.fork({name:"angular",properties:{[Db]:!0,[bf]:t,[bf+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(Ij(c))return r.invokeTask(o,s,a,c);try{return MS(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),PS(n)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return MS(n),r.invoke(o,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Dj(c)&&e(),PS(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Dy(n),Tb(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Dy(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function MS(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function PS(n){n._nesting--,Tb(n)}var Ty=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ze;onMicrotaskEmpty=new Ze;onStable=new Ze;onError=new Ze;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function Ij(n){return ax(n,"__ignore_ng_zone__")}function Dj(n){return ax(n,"__scheduler_tick__")}function ax(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Lr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Tj=new $("",{providedIn:"root",factory:()=>{let n=I(se),e=I(Lr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function RS(n,e){return rA(n,e)}function Sj(n){return rA(nA,n)}var cx=(RS.required=Sj,RS);function Aj(){return La(_n(),Se())}function La(n,e){return new Je(jr(n,e))}var Je=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Aj}return n})();function xj(n){return n instanceof Je?n.nativeElement:n}function Mj(n){return typeof n=="function"&&n[Yn]!==void 0}function ds(n,e){let t=T_(n,e?.equal),r=t[Yn];return t.set=i=>wl(r,i),t.update=i=>S_(r,i),t.asReadonly=Pj.bind(t),t}function Pj(){let n=this[Yn];if(n.readonlyFn===void 0){let e=()=>this();e[Yn]=n,n.readonlyFn=e}return n.readonlyFn}function lx(n){return Mj(n)&&typeof n.set=="function"}function Rj(){return this._results[Symbol.iterator]()}var Sy=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new he}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=p2(e);(this._changesDetected=!f2(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Rj};function ux(n){return(n.flags&128)===128}var dx=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(dx||{}),hx=new Map,Oj=0;function kj(){return Oj++}function Nj(n){hx.set(n[Lf],n)}function Ay(n){hx.delete(n[Lf])}var OS="__ngContext__";function Va(n,e){lo(e)?(n[OS]=e[Lf],Nj(e)):n[OS]=e}function fx(n){return mx(n[Ol])}function px(n){return mx(n[vr])}function mx(n){for(;n!==null&&!Ai(n);)n=n[vr];return n}var xy;function gx(n){xy=n}function Fj(){if(xy!==void 0)return xy;if(typeof document<"u")return document;throw new K(210,!1)}var Ul=new $("",{providedIn:"root",factory:()=>Lj}),Lj="ng",Sb=new $(""),Br=new $("",{providedIn:"platform",factory:()=>"unknown"});var Pi=new $(""),$l=new $("",{providedIn:"root",factory:()=>Fj().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Vj="h",jj="b";var vx=!1,Bj=new $("",{providedIn:"root",factory:()=>vx});var Ab=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Ab||{}),ja=new $(""),kS=new Set;function hs(n){kS.has(n)||(kS.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var _x=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=Uj}return n})();function Uj(){return new _x(Se(),_n())}var Ia=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Ia||{}),yx=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}return n})(),$j=[Ia.EarlyRead,Ia.Write,Ia.MixedReadWrite,Ia.Read],Hj=(()=>{class n{ngZone=I(se);scheduler=I(os);errorHandler=I(Lr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){I(ja,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Ge(16),this.executing=!0;for(let r of $j)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Ge(17)}register(t){let{view:r}=t;r!==void 0?((r[Ta]??=[]).push(t),jl(r),r[ge]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Ab.AFTER_NEXT_RENDER,t):t()}static \u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}return n})(),My=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Ta];e&&(this.view[Ta]=e.filter(t=>t!==this))}};function Hl(n,e){!e?.injector&&Ff(Hl);let t=e?.injector??I(Fe);return hs("NgAfterRender"),bx(n,t,e,!1)}function fs(n,e){!e?.injector&&Ff(fs);let t=e?.injector??I(Fe);return hs("NgAfterNextRender"),bx(n,t,e,!0)}function zj(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function bx(n,e,t,r){let i=e.get(yx);i.impl??=e.get(Hj);let o=e.get(ja,null,{optional:!0}),s=t?.phase??Ia.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(us):null,c=e.get(_x,null,{optional:!0}),u=new My(i.impl,zj(n,s),c?.view,r,a,o?.snapshot(null));return i.impl.register(u),u}var qj=(n,e,t,r)=>{};function Wj(n,e,t,r){qj(n,e,t,r)}var Gj=()=>null;function wx(n,e,t=!1){return Gj(n,e,t)}function Ex(n,e){let t=n.contentQueries;if(t!==null){let r=Me(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];yb(o),a.contentQueries(2,e[s],s)}}}finally{Me(r)}}}function Py(n,e,t){yb(0);let r=Me(null);try{e(n,t)}finally{Me(r)}}function xb(n,e,t){if(lb(e)){let r=Me(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{Me(r)}}}var Vr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Vr||{});var Zh;function Kj(){if(Zh===void 0&&(Zh=null,Yo.trustedTypes))try{Zh=Yo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Zh}function NS(n){return Kj()?.createScriptURL(n)||n}var wf=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${eA})`}};function zl(n){return n instanceof wf?n.changingThisBreaksApplicationSecurity:n}function Cx(n,e){let t=Yj(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${eA})`)}return t===e}function Yj(n){return n instanceof wf&&n.getTypeName()||null}var Qj=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Zj(n){return n=String(n),n.match(Qj)?n:"unsafe:"+n}var Mb=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Mb||{});function ho(n){let e=Dx();return e?e.sanitize(Mb.URL,n)||"":Cx(n,"URL")?zl(n):Zj(bi(n))}function Xj(n){let e=Dx();if(e)return NS(e.sanitize(Mb.RESOURCE_URL,n)||"");if(Cx(n,"ResourceURL"))return NS(zl(n));throw new K(904,!1)}function Jj(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?Xj:ho}function Ix(n,e,t){return Jj(e,t)(n)}function Dx(){let n=Se();return n&&n[wi].sanitizer}var eB=/^>|^->|<!--|-->|--!>|<!-$/g,tB=/(<|>)/g,nB="\u200B$1\u200B";function rB(n){return n.replace(eB,e=>e.replace(tB,nB))}function Tx(n){return n instanceof Function?n():n}function iB(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var Sx="ng-template";function oB(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&iB(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Pb(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Pb(n){return n.type===4&&n.value!==Sx}function sB(n,e,t){let r=n.type===4&&!t?Sx:n.value;return e===r}function aB(n,e,t){let r=4,i=n.attrs,o=i!==null?uB(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!mr(r)&&!mr(c))return!1;if(s&&mr(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!sB(n,c,t)||c===""&&e.length===1){if(mr(r))return!1;s=!0}}else if(r&8){if(i===null||!oB(n,i,c,t)){if(mr(r))return!1;s=!0}}else{let u=e[++a],d=cB(c,i,Pb(n),t);if(d===-1){if(mr(r))return!1;s=!0;continue}if(u!==""){let p;if(d>o?p="":p=i[d+1].toLowerCase(),r&2&&u!==p){if(mr(r))return!1;s=!0}}}}return mr(r)||s}function mr(n){return(n&1)===0}function cB(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return dB(e,n)}function Ax(n,e,t=!1){for(let r=0;r<e.length;r++)if(aB(n,e[r],t))return!0;return!1}function lB(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function uB(n){for(let e=0;e<n.length;e++){let t=n[e];if(qA(t))return e}return n.length}function dB(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function hB(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function FS(n,e){return n?":not("+e.trim()+")":e}function fB(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!mr(s)&&(e+=FS(o,i),i=""),r=s,o=o||!mr(r);t++}return i!==""&&(e+=FS(o,i)),e}function pB(n){return n.map(fB).join(",")}function mB(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!mr(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var yn={};function gB(n,e){return n.createText(e)}function vB(n,e,t){n.setValue(e,t)}function _B(n,e){return n.createComment(rB(e))}function xx(n,e,t){return n.createElement(e,t)}function Ef(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Mx(n,e,t){n.appendChild(e,t)}function LS(n,e,t,r,i){r!==null?Ef(n,e,t,r,i):Mx(n,e,t)}function yB(n,e,t){n.removeChild(null,e,t)}function bB(n,e,t){n.setAttribute(e,"style",t)}function wB(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Px(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&aj(n,e,r),i!==null&&wB(n,e,i),o!==null&&bB(n,e,o)}function Rb(n,e,t,r,i,o,s,a,c,u,d){let p=Ft+r,g=p+i,_=EB(p,g),S=typeof u=="function"?u():u;return _[Ce]={type:n,blueprint:_,template:t,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:S,incompleteFirstPass:!1,ssrId:d}}function EB(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:yn);return t}function CB(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Rb(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Ob(n,e,t,r,i,o,s,a,c,u,d){let p=e.blueprint.slice();return p[Si]=i,p[ge]=r|4|128|8|64|1024,(u!==null||n&&n[ge]&2048)&&(p[ge]|=2048),MA(p),p[sn]=p[ka]=n,p[vn]=t,p[wi]=s||n&&n[wi],p[ft]=a||n&&n[ft],p[xa]=c||n&&n[xa]||null,p[Mn]=o,p[Lf]=kj(),p[Rl]=d,p[CA]=u,p[Xn]=e.type==2?n[Xn]:p,p}function IB(n,e,t){let r=jr(e,n),i=CB(t),o=n[wi].rendererFactory,s=kb(n,Ob(n,i,null,Rx(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function Rx(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Ox(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function kb(n,e){return n[Ol]?n[wS][vr]=e:n[Ol]=e,n[wS]=e,e}function E(n=1){kx(Et(),Se(),xi()+n,!1)}function kx(n,e,t,r){if(!r)if((e[ge]&3)===3){let o=n.preOrderCheckHooks;o!==null&&ef(e,o,t)}else{let o=n.preOrderHooks;o!==null&&tf(e,o,0,t)}rs(t)}var qf=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(qf||{});function Ry(n,e,t,r){let i=Me(null);try{let[o,s,a]=n.inputs[t],c=null;(s&qf.SignalBased)!==0&&(c=e[o][Yn]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):DA(e,c,o,r)}finally{Me(i)}}function Nx(n,e,t,r,i){let o=xi(),s=r&2;try{rs(-1),s&&e.length>Ft&&kx(n,e,Ft,!1),Ge(s?2:0,i),t(r,i)}finally{rs(o),Ge(s?3:1,i)}}function Wf(n,e,t){MB(n,e,t),(t.flags&64)===64&&PB(n,e,t)}function Nb(n,e,t=jr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function DB(n,e,t,r){let o=r.get(Bj,vx)||t===Vr.ShadowDom,s=n.selectRootElement(e,o);return TB(s),s}function TB(n){SB(n)}var SB=()=>null;function AB(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Fb(n,e,t,r,i,o,s,a){if(!a&&Vb(e,n,t,r,i)){Na(e)&&xB(t,e.index);return}if(e.type&3){let c=jr(e,t);r=AB(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)}else e.type&12}function xB(n,e){let t=Fr(e,n);t[ge]&16||(t[ge]|=64)}function MB(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Na(t)&&IB(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||_f(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=kl(e,n,s,t);if(Va(c,e),o!==null&&NB(e,s-r,c,a,t,o),kr(a)){let u=Fr(t.index,e);u[vn]=kl(e,n,s,t)}}}function PB(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=X2();try{rs(o);for(let a=r;a<i;a++){let c=n.data[a],u=e[a];yy(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&RB(c,u)}}finally{rs(-1),yy(s)}}function RB(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Lb(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];Ax(e,o.selectors,!1)&&(r??=[],kr(o)?r.unshift(o):r.push(o))}return r}function OB(n,e,t,r,i,o){let s=jr(n,e);kB(e[ft],s,o,n.value,t,r,i)}function kB(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?bi(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function NB(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];Ry(r,t,c,u)}}function FB(n,e){let t=n[xa],r=t?t.get(Lr,null):null;r&&r.handleError(e)}function Vb(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],d=s[c+1],p=e.data[u];Ry(p,t[u],d,i),a=!0}if(o)for(let c of o){let u=t[c],d=e.data[c];Ry(d,u,r,i),a=!0}return a}function LB(n,e){let t=Fr(e,n),r=t[Ce];VB(r,t);let i=t[Si];i!==null&&t[Rl]===null&&(t[Rl]=wx(i,t[xa])),Ge(18),jb(r,t,t[vn]),Ge(19,t[vn])}function VB(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function jb(n,e,t){bb(e);try{let r=n.viewQuery;r!==null&&Py(1,r,t);let i=n.template;i!==null&&Nx(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ei]?.finishViewCreation(n),n.staticContentQueries&&Ex(n,e),n.staticViewQueries&&Py(2,n.viewQuery,t);let o=n.components;o!==null&&jB(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ge]&=-5,wb()}}function jB(n,e){for(let t=0;t<e.length;t++)LB(n,e[t])}function Bb(n,e,t,r){let i=Me(null);try{let o=e.tView,a=n[ge]&4096?4096:16,c=Ob(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[es]=u;let d=n[Ei];return d!==null&&(c[Ei]=d.createEmbeddedView(o)),jb(o,c,t),c}finally{Me(i)}}function Cf(n,e){return!e||e.firstChild===null||ux(n)}var BB;function Ub(n,e){return BB(n,e)}var Ci=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ci||{});function $b(n){return(n.flags&32)===32}function Da(n,e,t,r,i){if(r!=null){let o,s=!1;Ai(r)?o=r:lo(r)&&(s=!0,r=r[Si]);let a=Nr(r);n===0&&t!==null?i==null?Mx(e,t,a):Ef(e,t,a,i||null,!0):n===1&&t!==null?Ef(e,t,a,i||null,!0):n===2?yB(e,a,s):n===3&&e.destroyNode(a),o!=null&&QB(e,n,o,t,i)}}function UB(n,e){Fx(n,e),e[Si]=null,e[Mn]=null}function $B(n,e,t,r,i,o){r[Si]=i,r[Mn]=e,Kf(n,r,t,1,i,o)}function Fx(n,e){e[wi].changeDetectionScheduler?.notify(9),Kf(n,e,e[ft],2,null,null)}function HB(n){let e=n[Ol];if(!e)return ey(n[Ce],n);for(;e;){let t=null;if(lo(e))t=e[Ol];else{let r=e[xn];r&&(t=r)}if(!t){for(;e&&!e[vr]&&e!==n;)lo(e)&&ey(e[Ce],e),e=e[sn];e===null&&(e=n),lo(e)&&ey(e[Ce],e),t=e&&e[vr]}e=t}}function Hb(n,e){let t=n[Ma],r=t.indexOf(e);t.splice(r,1)}function zb(n,e){if(Fa(e))return;let t=e[ft];t.destroyNode&&Kf(n,e,t,3,null,null),HB(e)}function ey(n,e){if(Fa(e))return;let t=Me(null);try{e[ge]&=-129,e[ge]|=256,e[Zn]&&C_(e[Zn]),qB(n,e),zB(n,e),e[Ce].type===1&&e[ft].destroy();let r=e[es];if(r!==null&&Ai(e[sn])){r!==e[sn]&&Hb(r,e);let i=e[Ei];i!==null&&i.detachView(n)}Ay(e)}finally{Me(t)}}function zB(n,e){let t=n.cleanup,r=e[df];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[df]=null);let i=e[co];if(i!==null){e[co]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[hf];if(o!==null){e[hf]=null;for(let s of o)s.destroy()}}function qB(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof is)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Ge(4,a,c);try{c.call(a)}finally{Ge(5,a,c)}}else{Ge(4,i,o);try{o.call(i)}finally{Ge(5,i,o)}}}}}function Lx(n,e,t){return WB(n,e.parent,t)}function WB(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Si];if(Na(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Vr.None||i===Vr.Emulated)return null}return jr(r,t)}function Vx(n,e,t){return KB(n,e,t)}function GB(n,e,t){return n.type&40?jr(n,t):null}var KB=GB,VS;function Gf(n,e,t,r){let i=Lx(n,r,e),o=e[ft],s=r.parent||e[Mn],a=Vx(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)LS(o,i,t[c],a,!1);else LS(o,i,t,a,!1);VS!==void 0&&VS(o,r,e,t,i)}function Al(n,e){if(e!==null){let t=e.type;if(t&3)return jr(e,n);if(t&4)return Oy(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Al(n,r);{let i=n[e.index];return Ai(i)?Oy(-1,i):Nr(i)}}else{if(t&128)return Al(n,e.next);if(t&32)return Ub(e,n)()||Nr(n[e.index]);{let r=jx(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ns(n[Xn]);return Al(i,r)}else return Al(n,e.next)}}}return null}function jx(n,e){if(e!==null){let r=n[Xn][Mn],i=e.projection;return r.projection[i]}return null}function Oy(n,e){let t=xn+n+1;if(t<e.length){let r=e[t],i=r[Ce].firstChild;if(i!==null)return Al(r,i)}return e[ts]}function qb(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&Va(Nr(a),r),t.flags|=2),!$b(t))if(c&8)qb(n,e,t.child,r,i,o,!1),Da(e,n,i,a,o);else if(c&32){let u=Ub(t,r),d;for(;d=u();)Da(e,n,i,d,o);Da(e,n,i,a,o)}else c&16?Bx(n,e,r,t,i,o):Da(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Kf(n,e,t,r,i,o){qb(t,r,n.firstChild,e,i,o,!1)}function YB(n,e,t){let r=e[ft],i=Lx(n,t,e),o=t.parent||e[Mn],s=Vx(o,t,e);Bx(r,0,e,t,i,s)}function Bx(n,e,t,r,i,o){let s=t[Xn],c=s[Mn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];Da(e,n,i,d,o)}else{let u=c,d=s[sn];ux(r)&&(u.flags|=128),qb(n,e,u,d,i,o,!0)}}function QB(n,e,t,r,i){let o=t[ts],s=Nr(t);o!==s&&Da(e,n,r,o,i);for(let a=xn;a<t.length;a++){let c=t[a];Kf(c[Ce],c,n,e,r,o)}}function ZB(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Ci.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ci.Important),n.setStyle(t,r,i,o))}}function If(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Nr(o)),Ai(o)&&XB(o,r);let s=t.type;if(s&8)If(n,e,t.child,r);else if(s&32){let a=Ub(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=jx(e,t);if(Array.isArray(a))r.push(...a);else{let c=ns(e[Xn]);If(c[Ce],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function XB(n,e){for(let t=xn;t<n.length;t++){let r=n[t],i=r[Ce].firstChild;i!==null&&If(r[Ce],r,i,e)}n[ts]!==n[Si]&&e.push(n[ts])}function Ux(n){if(n[Ta]!==null){for(let e of n[Ta])e.impl.addSequence(e);n[Ta].length=0}}var $x=[];function JB(n){return n[Zn]??eU(n)}function eU(n){let e=$x.pop()??Object.create(nU);return e.lView=n,e}function tU(n){n.lView[Zn]!==n&&(n.lView=null,$x.push(n))}var nU=ee(L({},yl),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{jl(n.lView)},consumerOnSignalRead(){this.lView[Zn]=this}});function rU(n){let e=n[Zn]??Object.create(iU);return e.lView=n,e}var iU=ee(L({},yl),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=ns(n.lView);for(;e&&!Hx(e[Ce]);)e=ns(e);e&&PA(e)},consumerOnSignalRead(){this.lView[Zn]=this}});function Hx(n){return n.type!==2}function zx(n){if(n[hf]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[hf])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ge]&8192)}}var oU=100;function qx(n,e=!0,t=0){let i=n[wi].rendererFactory,o=!1;o||i.begin?.();try{sU(n,t)}catch(s){throw e&&FB(n,s),s}finally{o||i.end?.()}}function sU(n,e){let t=NA();try{CS(!0),ky(n,e);let r=0;for(;jf(n);){if(r===oU)throw new K(103,!1);r++,ky(n,1)}}finally{CS(t)}}function aU(n,e,t,r){if(Fa(e))return;let i=e[ge],o=!1,s=!1;bb(e);let a=!0,c=null,u=null;o||(Hx(n)?(u=JB(e),c=gh(u)):v_()===null?(a=!1,u=rU(e),c=gh(u)):e[Zn]&&(C_(e[Zn]),e[Zn]=null));try{MA(e),Y2(n.bindingStartIndex),t!==null&&Nx(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let _=n.preOrderCheckHooks;_!==null&&ef(e,_,null)}else{let _=n.preOrderHooks;_!==null&&tf(e,_,0,null),X_(e,0)}if(s||cU(e),zx(e),Wx(e,0),n.contentQueries!==null&&Ex(n,e),!o)if(d){let _=n.contentCheckHooks;_!==null&&ef(e,_)}else{let _=n.contentHooks;_!==null&&tf(e,_,1),X_(e,1)}uU(n,e);let p=n.components;p!==null&&Kx(e,p,0);let g=n.viewQuery;if(g!==null&&Py(2,g,r),!o)if(d){let _=n.viewCheckHooks;_!==null&&ef(e,_)}else{let _=n.viewHooks;_!==null&&tf(e,_,2),X_(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Z_]){for(let _ of e[Z_])_();e[Z_]=null}o||(Ux(e),e[ge]&=-73)}catch(d){throw o||jl(e),d}finally{u!==null&&(w_(u,c),a&&tU(u)),wb()}}function Wx(n,e){for(let t=fx(n);t!==null;t=px(t))for(let r=xn;r<t.length;r++){let i=t[r];Gx(i,e)}}function cU(n){for(let e=fx(n);e!==null;e=px(e)){if(!(e[ge]&2))continue;let t=e[Ma];for(let r=0;r<t.length;r++){let i=t[r];PA(i)}}}function lU(n,e,t){Ge(18);let r=Fr(e,n);Gx(r,t),Ge(19,r[vn])}function Gx(n,e){hb(n)&&ky(n,e)}function ky(n,e){let r=n[Ce],i=n[ge],o=n[Zn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&E_(o)),s||=!1,o&&(o.dirty=!1),n[ge]&=-9217,s)aU(r,n,r.template,n[vn]);else if(i&8192){zx(n),Wx(n,1);let a=r.components;a!==null&&Kx(n,a,1),Ux(n)}}function Kx(n,e,t){for(let r=0;r<e.length;r++)lU(n,e[r],t)}function uU(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)rs(~i);else{let o=i,s=t[++r],a=t[++r];Z2(s,o);let c=e[o];Ge(24,c),a(2,c),Ge(25,c)}}}finally{rs(-1)}}function Wb(n,e){let t=NA()?64:1088;for(n[wi].changeDetectionScheduler?.notify(e);n;){n[ge]|=t;let r=ns(n);if(pf(n)&&!r)return n;n=r}return null}function Yx(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function dU(n,e){let t=xn+e;if(t<n.length)return n[t]}function Gb(n,e,t,r=!0){let i=e[Ce];if(fU(i,e,n,t),r){let s=Oy(t,n),a=e[ft],c=a.parentNode(n[ts]);c!==null&&$B(i,n[Mn],a,e,c,s)}let o=e[Rl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function hU(n,e){let t=Df(n,e);return t!==void 0&&zb(t[Ce],t),t}function Df(n,e){if(n.length<=xn)return;let t=xn+e,r=n[t];if(r){let i=r[es];i!==null&&i!==n&&Hb(i,r),e>0&&(n[t-1][vr]=r[vr]);let o=lf(n,xn+e);UB(r[Ce],r);let s=o[Ei];s!==null&&s.detachView(o[Ce]),r[sn]=null,r[vr]=null,r[ge]&=-129}return r}function fU(n,e,t,r){let i=xn+r,o=t.length;r>0&&(t[i-1][vr]=e),r<o-xn?(e[vr]=t[i],pA(t,xn+r,e)):(t.push(e),e[vr]=null),e[sn]=t;let s=e[es];s!==null&&t!==s&&Qx(s,e);let a=e[Ei];a!==null&&a.insertView(n),vy(e),e[ge]|=128}function Qx(n,e){let t=n[Ma],r=e[sn];if(lo(r))n[ge]|=2;else{let i=r[sn][Xn];e[Xn]!==i&&(n[ge]|=2)}t===null?n[Ma]=[e]:t.push(e)}var Nl=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[Ce];return If(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[vn]}set context(e){this._lView[vn]=e}get destroyed(){return Fa(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[sn];if(Ai(e)){let t=e[ff],r=t?t.indexOf(this):-1;r>-1&&(Df(e,r),lf(t,r))}this._attachedToViewContainer=!1}zb(this._lView[Ce],this._lView)}onDestroy(e){RA(this._lView,e)}markForCheck(){Wb(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ge]&=-129}reattach(){vy(this._lView),this._lView[ge]|=128}detectChanges(){this._lView[ge]|=1024,qx(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=pf(this._lView),t=this._lView[es];t!==null&&!e&&Hb(t,this._lView),Fx(this._lView[Ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=e;let t=pf(this._lView),r=this._lView[es];r!==null&&!t&&Qx(r,this._lView),vy(this._lView)}};var Jn=(()=>{class n{static __NG_ELEMENT_ID__=gU}return n})(),pU=Jn,mU=class extends pU{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Bb(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Nl(i)}};function gU(){return Yf(_n(),Se())}function Yf(n,e){return n.type&4?new mU(e,n,La(n,e)):null}function ql(n,e,t,r,i){let o=n.data[e];if(o===null)o=vU(n,e,t,r,i),Q2()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=G2();o.injectorIndex=s===null?-1:s.injectorIndex}return ls(o,!0),o}function vU(n,e,t,r,i){let o=kA(),s=gb(),a=s?o:o&&o.parent,c=n.data[e]=yU(n,a,t,e,r,i);return _U(n,c,o,s),c}function _U(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function yU(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return OA()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Vne=new RegExp(`^(\\d+)*(${jj}|${Vj})*(.*)`);var bU=()=>null;function Tf(n,e){return bU(n,e)}var wU=class{},Zx=class{},Ny=class{resolveComponentFactory(e){throw Error(`No component factory found for ${An(e)}.`)}},Qf=class{static NULL=new Ny},Gt=class{},br=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>EU()}return n})();function EU(){let n=Se(),e=_n(),t=Fr(e.index,n);return(lo(t)?t:n)[ft]}var CU=(()=>{class n{static \u0275prov=V({token:n,providedIn:"root",factory:()=>null})}return n})();var ty={},Fy=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Of(r);let i=this.injector.get(e,ty,r);return i!==ty||t===ty?i:this.parentInjector.get(e,t,r)}};function Ly(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=ly(i,a);else if(o==2){let c=a,u=e[++s];r=ly(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function j(n,e=Ee.Default){let t=Se();if(t===null)return Y(n,e);let r=_n();return XA(r,t,gn(n),e)}function Xx(){let n="invalid";throw new Error(n)}function Kb(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,c=null,u=null,d=DU(s);d===null?a=s:[a,c,u]=d,AU(n,e,t,a,o,c,u)}o!==null&&r!==null&&IU(t,r,o)}function IU(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new K(-301,!1);r.push(e[i],o)}}function DU(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&kr(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,TU(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function TU(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function SU(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function AU(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let g=0;g<a;g++){let _=r[g];!c&&kr(_)&&(c=!0,SU(n,t,g)),wy(_f(t,e),n,_.type)}kU(t,n.data.length,a);for(let g=0;g<a;g++){let _=r[g];_.providersResolver&&_.providersResolver(_)}let u=!1,d=!1,p=Ox(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let _=r[g];if(t.mergedAttrs=Ra(t.mergedAttrs,_.hostAttrs),MU(n,t,e,p,_),OU(p,_,i),s!==null&&s.has(_)){let[R,k]=s.get(_);t.directiveToIndex.set(_.type,[p,R+t.directiveStart,k+t.directiveStart])}else(o===null||!o.has(_))&&t.directiveToIndex.set(_.type,p);_.contentQueries!==null&&(t.flags|=4),(_.hostBindings!==null||_.hostAttrs!==null||_.hostVars!==0)&&(t.flags|=64);let S=_.type.prototype;!u&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!d&&(S.ngOnChanges||S.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),p++}xU(n,t,o)}function xU(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))jS(0,e,i,r),jS(1,e,i,r),US(e,r,!1);else{let o=t.get(i);BS(0,e,o,r),BS(1,e,o,r),US(e,r,!0)}}}function jS(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),Jx(e,o)}}function BS(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Jx(e,s)}}function Jx(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function US(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Pb(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let u=i[c];for(let d of u)if(d===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let u=o[c];for(let d=0;d<u.length;d+=2)if(u[d]===e){s??=[],s.push(u[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function MU(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Xo(i.type,!0)),s=new is(o,kr(i),j);n.blueprint[r]=s,t[r]=s,PU(n,e,r,Ox(n,t,i.hostVars,yn),i)}function PU(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;RU(s)!=a&&s.push(a),s.push(t,r,o)}}function RU(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function OU(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;kr(e)&&(t[""]=n)}}function kU(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function eM(n,e,t,r,i,o,s,a){let c=e.consts,u=Pa(c,s),d=ql(e,n,2,r,u);return o&&Kb(e,t,d,Pa(c,a),i),d.mergedAttrs=Ra(d.mergedAttrs,d.attrs),d.attrs!==null&&Ly(d,d.attrs,!1),d.mergedAttrs!==null&&Ly(d,d.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,d),d}function tM(n,e){Eb(n,e),lb(e)&&n.queries.elementEnd(e)}var Sf=class extends Qf{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=uo(e);return new ss(t,this.ngModule)}};function NU(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&qf.SignalBased)!==0};return i&&(o.transform=i),o})}function FU(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function LU(n,e,t){let r=e instanceof at?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Fy(t,r):t}function VU(n){let e=n.get(Gt,null);if(e===null)throw new K(407,!1);let t=n.get(CU,null),r=n.get(os,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function jU(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return xx(e,t,t==="svg"?k2:t==="math"?N2:null)}var ss=class extends Zx{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=NU(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=FU(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=pB(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Ge(22);let o=Me(null);try{let s=this.componentDef,a=r?["ng-version","19.2.13"]:mB(this.componentDef.selectors[0]),c=Rb(0,null,null,1,0,null,null,null,null,[a],null),u=LU(s,i||this.ngModule,e),d=VU(u),p=d.rendererFactory.createRenderer(null,s),g=r?DB(p,r,s.encapsulation,u):jU(s,p),_=Ob(null,c,null,512|Rx(s),null,null,d,p,u,null,wx(g,u,!0));_[Ft]=g,bb(_);let S=null;try{let R=eM(Ft,c,_,"#host",()=>[this.componentDef],!0,0);g&&(Px(p,g,R),Va(g,_)),Wf(c,_,R),xb(c,R,_),tM(c,R),t!==void 0&&BU(R,this.ngContentSelectors,t),S=Fr(R.index,_),_[vn]=S[vn],jb(c,_,null)}catch(R){throw S!==null&&Ay(S),Ay(_),R}finally{Ge(23),wb()}return new Vy(this.componentType,_)}finally{Me(o)}}},Vy=class extends wU{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=ub(t[Ce],Ft),this.location=La(this._tNode,t),this.instance=Fr(this._tNode.index,t)[vn],this.hostView=this.changeDetectorRef=new Nl(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Vb(r,i[Ce],i,e,t);this.previousInputValues.set(e,t);let s=Fr(r.index,i);Wb(s,1)}get injector(){return new Zo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function BU(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var er=(()=>{class n{static __NG_ELEMENT_ID__=UU}return n})();function UU(){let n=_n();return rM(n,Se())}var $U=er,nM=class extends $U{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return La(this._hostTNode,this._hostLView)}get injector(){return new Zo(this._hostTNode,this._hostLView)}get parentInjector(){let e=Cb(this._hostTNode,this._hostLView);if(WA(e)){let t=gf(e,this._hostLView),r=mf(e),i=t[Ce].data[r+8];return new Zo(i,t)}else return new Zo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=$S(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-xn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Tf(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Cf(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!M2(e),a;if(s)a=t;else{let S=t||{};a=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let c=s?e:new ss(uo(e)),u=r||this.parentInjector;if(!o&&c.ngModule==null){let R=(s?u:this.parentInjector).get(at,null);R&&(o=R)}let d=uo(c.componentType??{}),p=Tf(this._lContainer,d?.id??null),g=p?.firstChild??null,_=c.create(u,i,g,o);return this.insertImpl(_.hostView,a,Cf(this._hostTNode,p)),_}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(V2(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[sn],u=new nM(c,c[Mn],c[sn]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Gb(s,i,o,r),e.attachToViewContainerRef(),pA(ny(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=$S(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Df(this._lContainer,t);r&&(lf(ny(this._lContainer),t),zb(r[Ce],r))}detach(e){let t=this._adjustIndex(e,-1),r=Df(this._lContainer,t);return r&&lf(ny(this._lContainer),t)!=null?new Nl(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function $S(n){return n[ff]}function ny(n){return n[ff]||(n[ff]=[])}function rM(n,e){let t,r=e[n.index];return Ai(r)?t=r:(t=Yx(r,e,null,n),e[n.index]=t,kb(e,t)),zU(t,e,n,r),new nM(t,n,e)}function HU(n,e){let t=n[ft],r=t.createComment(""),i=jr(e,n),o=t.parentNode(i);return Ef(t,o,r,t.nextSibling(i),!1),r}var zU=GU,qU=()=>!1;function WU(n,e,t){return qU(n,e,t)}function GU(n,e,t,r){if(n[ts])return;let i;t.type&8?i=Nr(r):i=HU(e,t),n[ts]=i}var jy=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},By=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Yb(e,t).matches!==null&&this.queries[t].setDirty()}},Uy=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=t3(e):this.predicate=e}},$y=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Hy=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,KU(t,o)),this.matchTNodeWithReadOption(e,t,nf(t,e,o,!1,!1))}else r===Jn?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,nf(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Je||i===er||i===Jn&&t.type&4)this.addMatch(t.index,-2);else{let o=nf(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function KU(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function YU(n,e){return n.type&11?La(n,e):n.type&4?Yf(n,e):null}function QU(n,e,t,r){return t===-1?YU(e,n):t===-2?ZU(n,e,r):kl(n,n[Ce],t,e)}function ZU(n,e,t){if(t===Je)return La(e,n);if(t===Jn)return Yf(e,n);if(t===er)return rM(e,n)}function iM(n,e,t,r){let i=e[Ei].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let d=o[u];a.push(QU(e,d,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function zy(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=iM(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],d=e[-c];for(let p=xn;p<d.length;p++){let g=d[p];g[es]===g[sn]&&zy(g[Ce],g,u,r)}if(d[Ma]!==null){let p=d[Ma];for(let g=0;g<p.length;g++){let _=p[g];zy(_[Ce],_,u,r)}}}}}return r}function XU(n,e){return n[Ei].queries[e].queryList}function JU(n,e,t){let r=new Sy((t&4)===4);return U2(n,e,r,r.destroy),(e[Ei]??=new By).queries.push(new jy(r))-1}function e3(n,e,t){let r=Et();return r.firstCreatePass&&(n3(r,new Uy(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),JU(r,Se(),e)}function t3(n){return n.split(",").map(e=>e.trim())}function n3(n,e,t){n.queries===null&&(n.queries=new $y),n.queries.track(new Hy(e,t))}function Yb(n,e){return n.queries.getByIndex(e)}function r3(n,e){let t=n[Ce],r=Yb(t,e);return r.crossesNgTemplate?zy(t,n,e,[]):iM(t,n,r,e)}var Ii=class{},Qb=class{};var qy=class extends Ii{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Sf(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=vA(e);this._bootstrapComponents=Tx(o.bootstrap),this._r3Injector=tx(e,t,[{provide:Ii,useValue:this},{provide:Qf,useValue:this.componentFactoryResolver},...r],An(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Wy=class extends Qb{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new qy(this.moduleType,e,[])}};var Af=class extends Ii{injector;componentFactoryResolver=new Sf(this);instance=null;constructor(e){super();let t=new Pl([...e.providers,{provide:Ii,useValue:this},{provide:Qf,useValue:this.componentFactoryResolver}],e.parent||Nf(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Wl(n,e,t=null){return new Af({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var i3=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=_A(!1,t.type),i=r.length>0?Wl([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=V({token:n,providedIn:"environment",factory:()=>new n(Y(at))})}return n})();function Pe(n){return Ll(()=>{let e=oM(n),t=ee(L({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===dx.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(i3).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Vr.Emulated,styles:n.styles||Sn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&hs("NgStandalone"),sM(t);let r=n.dependencies;return t.directiveDefs=HS(r,!1),t.pipeDefs=HS(r,!0),t.id=l3(t),t})}function o3(n){return uo(n)||_2(n)}function s3(n){return n!==null}function Yt(n){return Ll(()=>({type:n.type,bootstrap:n.bootstrap||Sn,declarations:n.declarations||Sn,imports:n.imports||Sn,exports:n.exports||Sn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function a3(n,e){if(n==null)return Jo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=qf.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function c3(n){if(n==null)return Jo;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function fe(n){return Ll(()=>{let e=oM(n);return sM(e),e})}function ps(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function oM(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Jo,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Sn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:a3(n.inputs,e),outputs:c3(n.outputs),debugInfo:null}}function sM(n){n.features?.forEach(e=>e(n))}function HS(n,e){if(!n)return null;let t=e?y2:o3;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(s3)}function l3(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function u3(n){return Object.getPrototypeOf(n.prototype).constructor}function qe(n){let e=u3(n.type),t=!0,r=[n];for(;e;){let i;if(kr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new K(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=ry(n.inputs),s.declaredInputs=ry(n.declaredInputs),s.outputs=ry(n.outputs);let a=i.hostBindings;a&&m3(n,a);let c=i.viewQuery,u=i.contentQueries;if(c&&f3(n,c),u&&p3(n,u),d3(n,i),YV(n.outputs,i.outputs),kr(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===qe&&(t=!1)}}e=Object.getPrototypeOf(e)}h3(r)}function d3(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function h3(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ra(i.hostAttrs,t=Ra(t,i.hostAttrs))}}function ry(n){return n===Jo?{}:n===Sn?[]:n}function f3(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function p3(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function m3(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function aM(n){return v3(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function g3(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function v3(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function cM(n,e,t){return n[e]=t}function _r(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Zb(n,e,t,r){let i=_r(n,e,t);return _r(n,e+1,r)||i}function _3(n,e,t,r,i){let o=Zb(n,e,t,r);return _r(n,e+2,i)||o}function y3(n,e,t,r,i,o,s,a,c){let u=e.consts,d=ql(e,n,4,s||null,a||null);mb()&&Kb(e,t,d,Pa(u,c),Lb),d.mergedAttrs=Ra(d.mergedAttrs,d.attrs),Eb(e,d);let p=d.tView=Rb(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),p.queries=e.queries.embeddedTView(d)),d}function lM(n,e,t,r,i,o,s,a,c,u){let d=t+Ft,p=e.firstCreatePass?y3(d,e,n,r,i,o,s,a,c):e.data[d];ls(p,!1);let g=b3(e,n,p,t);$f()&&Gf(e,n,g,p),Va(g,n);let _=Yx(g,n,g,p);return n[d]=_,kb(n,_),WU(_,p,n),Vf(p)&&Wf(e,n,p),c!=null&&Nb(n,p,u),p}function W(n,e,t,r,i,o,s,a){let c=Se(),u=Et(),d=Pa(u.consts,o);return lM(c,u,n,e,t,r,i,d,s,a),W}var b3=w3;function w3(n,e,t,r){return Hf(!0),e[ft].createComment("")}var uM=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var dM=new $("");var E3=(()=>{class n{static \u0275prov=V({token:n,providedIn:"root",factory:()=>new Gy})}return n})(),Gy=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function fo(n){return!!n&&typeof n.then=="function"}function Xb(n){return!!n&&typeof n.subscribe=="function"}var hM=new $("");function Jb(n){return Ti([{provide:hM,multi:!0,useValue:n}])}var fM=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=I(hM,{optional:!0})??[];injector=I(Fe);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Lt(this.injector,i);if(fo(o))t.push(o);else if(Xb(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zf=new $("");function C3(){D_(()=>{throw new K(600,!1)})}function I3(n){return n.isBoundToModule}var D3=10;var yr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=I(Tj);afterRenderManager=I(yx);zonelessEnabled=I(rx);rootEffectScheduler=I(E3);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new he;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=I(Mi).hasPendingTasks.pipe(de(t=>!t));constructor(){I(ja,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=I(at);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Fe.NULL){Ge(10);let o=t instanceof Zx;if(!this._injector.get(fM).done){let _="";throw new K(405,_)}let a;o?a=t:a=this._injector.get(Qf).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let c=I3(a)?void 0:this._injector.get(Ii),u=r||a.selector,d=a.create(i,[],u,c),p=d.location.nativeElement,g=d.injector.get(dM,null);return g?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),rf(this.components,d),g?.unregisterApplication(p)}),this._loadComponent(d),Ge(11,d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ge(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Ab.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new K(101,!1);let t=Me(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Me(t),this.afterTick.next(),Ge(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Gt,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<D3;)Ge(14),this.synchronizeOnce(),Ge(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)T3(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>jf(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;rf(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Zf,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>rf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new K(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rf(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function T3(n,e,t,r){if(!t&&!jf(n))return;qx(n,e,t&&!r?0:1)}function tr(n,e,t,r){let i=Se(),o=Bl();if(_r(i,o,e)){let s=Et(),a=Uf();OB(a,i,n,e,t,r)}return tr}function pM(n,e,t,r){return _r(n,Bl(),t)?e+bi(t)+r:yn}function S3(n,e,t,r,i,o){let s=FA(),a=Zb(n,s,t,i);return Bf(2),a?e+bi(t)+r+bi(i)+o:yn}function A3(n,e,t,r,i,o,s,a){let c=FA(),u=_3(n,c,t,i,s);return Bf(3),u?e+bi(t)+r+bi(i)+o+bi(s)+a:yn}function Xh(n,e){return n<<17|e<<2}function as(n){return n>>17&32767}function x3(n){return(n&2)==2}function M3(n,e){return n&131071|e<<17}function Ky(n){return n|2}function Oa(n){return(n&131068)>>2}function iy(n,e){return n&-131069|e<<2}function P3(n){return(n&1)===1}function Yy(n){return n|1}function R3(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=as(s),c=Oa(s);n[r]=t;let u=!1,d;if(Array.isArray(t)){let p=t;d=p[1],(d===null||Vl(p,d)>0)&&(u=!0)}else d=t;if(i)if(c!==0){let g=as(n[a+1]);n[r+1]=Xh(g,a),g!==0&&(n[g+1]=iy(n[g+1],r)),n[a+1]=M3(n[a+1],r)}else n[r+1]=Xh(a,0),a!==0&&(n[a+1]=iy(n[a+1],r)),a=r;else n[r+1]=Xh(c,0),a===0?a=r:n[c+1]=iy(n[c+1],r),c=r;u&&(n[r+1]=Ky(n[r+1])),zS(n,d,r,!0),zS(n,d,r,!1),O3(e,d,n,r,o),s=Xh(a,c),o?e.classBindings=s:e.styleBindings=s}function O3(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Vl(o,e)>=0&&(t[r+1]=Yy(t[r+1]))}function zS(n,e,t,r){let i=n[t+1],o=e===null,s=r?as(i):Oa(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],u=n[s+1];k3(c,e)&&(a=!0,n[s+1]=r?Yy(u):Ky(u)),s=r?as(u):Oa(u)}a&&(n[t+1]=r?Ky(i):Yy(i))}function k3(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Vl(n,e)>=0:!1}var gr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function N3(n){return n.substring(gr.key,gr.keyEnd)}function F3(n){return L3(n),mM(n,gM(n,0,gr.textEnd))}function mM(n,e){let t=gr.textEnd;return t===e?-1:(e=gr.keyEnd=V3(n,gr.key=e,t),gM(n,e,t))}function L3(n){gr.key=0,gr.keyEnd=0,gr.value=0,gr.valueEnd=0,gr.textEnd=n.length}function gM(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function V3(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function F(n,e,t){let r=Se(),i=Bl();if(_r(r,i,e)){let o=Et(),s=Uf();Fb(o,s,r,n,e,r[ft],t,!1)}return F}function Qy(n,e,t,r,i){Vb(e,n,t,i?"class":"style",r)}function Ri(n,e,t){return vM(n,e,t,!1),Ri}function Ke(n,e){return vM(n,e,null,!0),Ke}function e0(n){B3(W3,j3,n,!0)}function j3(n,e){for(let t=F3(e);t>=0;t=mM(e,t))ab(n,N3(e),!0)}function vM(n,e,t,r){let i=Se(),o=Et(),s=Bf(2);if(o.firstUpdatePass&&yM(o,n,s,r),e!==yn&&_r(i,s,e)){let a=o.data[xi()];bM(o,a,i,i[ft],n,i[s+1]=K3(e,t),r,s)}}function B3(n,e,t,r){let i=Et(),o=Bf(2);i.firstUpdatePass&&yM(i,null,o,r);let s=Se();if(t!==yn&&_r(s,o,t)){let a=i.data[xi()];if(wM(a,r)&&!_M(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=ly(c,t||"")),Qy(i,a,s,t,r)}else G3(i,a,s,s[ft],s[o+1],s[o+1]=q3(n,e,t),r,o)}}function _M(n,e){return e>=n.expandoStartIndex}function yM(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[xi()],s=_M(n,t);wM(o,r)&&e===null&&!s&&(e=!1),e=U3(i,o,e,r),R3(i,o,e,t,s,r)}}function U3(n,e,t,r){let i=J2(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=oy(null,n,e,t,r),t=Fl(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=oy(i,n,e,t,r),o===null){let c=$3(n,e,r);c!==void 0&&Array.isArray(c)&&(c=oy(null,n,e,c[1],r),c=Fl(c,e.attrs,r),H3(n,e,r,c))}else o=z3(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function $3(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Oa(r)!==0)return n[as(r)]}function H3(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[as(i)]=r}function z3(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Fl(r,s,t)}return Fl(r,e.attrs,t)}function oy(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Fl(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Fl(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),ab(n,s,t?!0:e[++o]))}return n===void 0?null:n}function q3(n,e,t){if(t==null||t==="")return Sn;let r=[],i=zl(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function W3(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&ab(n,r,t)}function G3(n,e,t,r,i,o,s,a){i===yn&&(i=Sn);let c=0,u=0,d=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;d!==null||p!==null;){let g=c<i.length?i[c+1]:void 0,_=u<o.length?o[u+1]:void 0,S=null,R;d===p?(c+=2,u+=2,g!==_&&(S=p,R=_)):p===null||d!==null&&d<p?(c+=2,S=d):(u+=2,S=p,R=_),S!==null&&bM(n,e,t,r,S,R,s,a),d=c<i.length?i[c]:null,p=u<o.length?o[u]:null}}function bM(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],d=P3(u)?qS(c,e,t,i,Oa(u),s):void 0;if(!xf(d)){xf(o)||x3(u)&&(o=qS(c,null,t,i,a,s));let p=xA(xi(),t);ZB(r,s,p,i,o)}}function qS(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],u=Array.isArray(c),d=u?c[1]:c,p=d===null,g=t[i+1];g===yn&&(g=p?Sn:void 0);let _=p?Y_(g,r):d===r?g:void 0;if(u&&!xf(_)&&(_=Y_(c,r)),xf(_)&&(a=_,s))return a;let S=n[i+1];i=s?as(S):Oa(S)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Y_(c,r))}return a}function xf(n){return n!==void 0}function K3(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=An(zl(n)))),n}function wM(n,e){return(n.flags&(e?8:16))!==0}function EM(n,e){hs("NgControlFlow");let t=Se(),r=Bl(),i=t[r]!==yn?t[r]:-1,o=i!==-1?WS(t,Ft+i):void 0,s=0;if(_r(t,r,n)){let a=Me(null);try{if(o!==void 0&&hU(o,s),n!==-1){let c=Ft+n,u=WS(t,c),d=Y3(t[Ce],c),p=Tf(u,d.tView.ssrId),g=Bb(t,d,e,{dehydratedView:p});Gb(u,g,s,Cf(d,p))}}finally{Me(a)}}else if(o!==void 0){let a=dU(o,s);a!==void 0&&(a[vn]=e)}}function WS(n,e){return n[e]}function Y3(n,e){return ub(n,e)}function v(n,e,t,r){let i=Se(),o=Et(),s=Ft+n,a=i[ft],c=o.firstCreatePass?eM(s,o,i,e,Lb,mb(),t,r):o.data[s],u=Q3(o,i,c,a,e,n);i[s]=u;let d=Vf(c);return ls(c,!0),Px(a,u,c),!$b(c)&&$f()&&Gf(o,i,u,c),($2()===0||d)&&Va(u,i),H2(),d&&(Wf(o,i,c),xb(o,c,i)),r!==null&&Nb(i,c),v}function m(){let n=_n();gb()?vb():(n=n.parent,ls(n,!1));let e=n;q2(e)&&W2(),z2();let t=Et();return t.firstCreatePass&&tM(t,e),e.classesWithoutHost!=null&&oj(e)&&Qy(t,e,Se(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&sj(e)&&Qy(t,e,Se(),e.stylesWithoutHost,!1),m}function ne(n,e,t,r){return v(n,e,t,r),m(),ne}var Q3=(n,e,t,r,i,o)=>(Hf(!0),xx(r,i,nj()));function Z3(n,e,t,r,i){let o=e.consts,s=Pa(o,r),a=ql(e,n,8,"ng-container",s);s!==null&&Ly(a,s,!0);let c=Pa(o,i);return mb()&&Kb(e,t,a,c,Lb),a.mergedAttrs=Ra(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function t0(n,e,t){let r=Se(),i=Et(),o=n+Ft,s=i.firstCreatePass?Z3(o,i,r,e,t):i.data[o];ls(s,!0);let a=X3(i,r,s,n);return r[o]=a,$f()&&Gf(i,r,a,s),Va(a,r),Vf(s)&&(Wf(i,r,s),xb(i,s,r)),t!=null&&Nb(r,s),t0}function n0(){let n=_n(),e=Et();return gb()?vb():(n=n.parent,ls(n,!1)),e.firstCreatePass&&(Eb(e,n),lb(n)&&e.queries.elementEnd(n)),n0}var X3=(n,e,t,r)=>(Hf(!0),_B(e[ft],""));function je(){return Se()}var Ko=void 0;function J3(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var e4=["en",[["a","p"],["AM","PM"],Ko],[["AM","PM"],Ko,Ko],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ko,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ko,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ko,"{1} 'at' {0}",Ko],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",J3],sy={};function Un(n){let e=t4(n),t=GS(e);if(t)return t;let r=e.split("-")[0];if(t=GS(r),t)return t;if(r==="en")return e4;throw new K(701,!1)}function GS(n){return n in sy||(sy[n]=Yo.ng&&Yo.ng.common&&Yo.ng.common.locales&&Yo.ng.common.locales[n]),sy[n]}var _t=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(_t||{});function t4(n){return n.toLowerCase().replace(/_/g,"-")}var Mf="en-US";var n4=Mf;function r4(n){typeof n=="string"&&(n4=n.toLowerCase().replace(/_/g,"-"))}function KS(n,e,t){return function r(i){if(i===Function)return t;let o=Na(n)?Fr(n.index,e):e;Wb(o,5);let s=e[vn],a=YS(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=YS(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function YS(n,e,t,r){let i=Me(null);try{return Ge(6,e,t),t(r)!==!1}catch(o){return i4(n,o),!1}finally{Ge(7,e,t),Me(i)}}function i4(n,e){let t=n[xa],r=t?t.get(Lr,null):null;r&&r.handleError(e)}function QS(n,e,t,r,i,o){let s=e[t],a=e[Ce],u=a.data[t].outputs[r],d=s[u],p=a.firstCreatePass?pb(a):null,g=fb(e),_=d.subscribe(o),S=g.length;g.push(o,_),p&&p.push(i,n.index,S,-(S+1))}function G(n,e,t,r){let i=Se(),o=Et(),s=_n();return CM(o,i,i[ft],s,n,e,r),G}function o4(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[df],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function CM(n,e,t,r,i,o,s){let a=Vf(r),u=n.firstCreatePass?pb(n):null,d=fb(e),p=!0;if(r.type&3||s){let g=jr(r,e),_=s?s(g):g,S=d.length,R=s?q=>s(Nr(q[r.index])):r.index,k=null;if(!s&&a&&(k=o4(n,e,i,r.index)),k!==null){let q=k.__ngLastListenerFn__||k;q.__ngNextListenerFn__=o,k.__ngLastListenerFn__=o,p=!1}else{o=KS(r,e,o),Wj(e,_,i,o);let q=t.listen(_,i,o);d.push(o,q),u&&u.push(i,R,S,S+1)}}else o=KS(r,e,o);if(p){let g=r.outputs?.[i],_=r.hostDirectiveOutputs?.[i];if(_&&_.length)for(let S=0;S<_.length;S+=2){let R=_[S],k=_[S+1];QS(r,e,R,k,i,o)}if(g&&g.length)for(let S of g)QS(r,e,S,i,i,o)}}function H(n=1){return tj(n)}function s4(n,e){let t=null,r=lB(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?Ax(n,o,!0):hB(r,o))return i}return t}function Xf(n){let e=Se()[Xn][Mn];if(!e.projection){let t=n?n.length:1,r=e.projection=m2(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?s4(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function Ba(n,e=0,t,r,i,o){let s=Se(),a=Et(),c=r?n+1:null;c!==null&&lM(s,a,c,r,i,o,null,t);let u=ql(a,Ft+n,16,null,t||null);u.projection===null&&(u.projection=e),vb();let p=!s[Rl]||OA();s[Xn][Mn].projection[u.projection]===null&&c!==null?a4(s,a,c):p&&!$b(u)&&YB(a,s,u)}function a4(n,e,t){let r=Ft+t,i=e.data[r],o=n[r],s=Tf(o,i.tView.ssrId),a=Bb(n,i,void 0,{dehydratedView:s});Gb(o,a,0,Cf(i,s))}function r0(n,e,t,r,i){let o=Se(),s=pM(o,e,t,r);if(s!==yn){let a=Et(),c=Uf();Fb(a,c,o,n,s,o[ft],i,!1)}return r0}function Jf(n,e,t){e3(n,e,t)}function Gl(n){let e=Se(),t=Et(),r=LA();yb(r+1);let i=Yb(t,r);if(n.dirty&&L2(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=r3(e,r);n.reset(o,xj),n.notifyOnChanges()}return!0}return!1}function Kl(){return XU(Se(),LA())}function Ua(n){let e=K2();return db(e,Ft+n)}function b(n,e=""){let t=Se(),r=Et(),i=n+Ft,o=r.firstCreatePass?ql(r,i,1,e,null):r.data[i],s=c4(r,t,o,e,n);t[i]=s,$f()&&Gf(r,t,s,o),ls(o,!1)}var c4=(n,e,t,r,i)=>(Hf(!0),gB(e[ft],r));function te(n){return oe("",n,""),te}function oe(n,e,t){let r=Se(),i=pM(r,n,e,t);return i!==yn&&o0(r,xi(),i),oe}function ms(n,e,t,r,i){let o=Se(),s=S3(o,n,e,t,r,i);return s!==yn&&o0(o,xi(),s),ms}function i0(n,e,t,r,i,o,s){let a=Se(),c=A3(a,n,e,t,r,i,o,s);return c!==yn&&o0(a,xi(),c),i0}function o0(n,e,t){let r=xA(e,n);vB(n[ft],r,t)}function pt(n,e,t){lx(e)&&(e=e());let r=Se(),i=Bl();if(_r(r,i,e)){let o=Et(),s=Uf();Fb(o,s,r,n,e,r[ft],t,!1)}return pt}function yt(n,e){let t=lx(n);return t&&n.set(e),t}function mt(n,e){let t=Se(),r=Et(),i=_n();return CM(r,t,t[ft],i,n,e),mt}function l4(n,e,t){let r=Et();if(r.firstCreatePass){let i=kr(n);Zy(t,r.data,r.blueprint,i,!0),Zy(e,r.data,r.blueprint,i,!1)}}function Zy(n,e,t,r,i){if(n=gn(n),Array.isArray(n))for(let o=0;o<n.length;o++)Zy(n[o],e,t,r,i);else{let o=Et(),s=Se(),a=_n(),c=Aa(n)?n:gn(n.provide),u=wA(n),d=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Aa(n)||!n.multi){let _=new is(u,i,j),S=cy(c,e,i?d:d+g,p);S===-1?(wy(_f(a,s),o,c),ay(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(_),s.push(_)):(t[S]=_,s[S]=_)}else{let _=cy(c,e,d+g,p),S=cy(c,e,d,d+g),R=_>=0&&t[_],k=S>=0&&t[S];if(i&&!k||!i&&!R){wy(_f(a,s),o,c);let q=h4(i?d4:u4,t.length,i,r,u);!i&&k&&(t[S].providerFactory=q),ay(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(q),s.push(q)}else{let q=IM(t[i?S:_],u,!i&&r);ay(o,n,_>-1?_:S,q)}!i&&r&&k&&t[S].componentProviders++}}}function ay(n,e,t,r){let i=Aa(e),o=I2(e);if(i||o){let c=(o?gn(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[r,c]):u[d+1].push(r,c)}else u.push(t,c)}}}function IM(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function cy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function u4(n,e,t,r,i){return Xy(this.multi,[])}function d4(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=kl(r,r[Ce],this.providerFactory.index,i);s=c.slice(0,a),Xy(o,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],Xy(o,s);return s}function Xy(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function h4(n,e,t,r,i){let o=new is(n,t,j);return o.multi=[],o.index=e,o.componentProviders=0,IM(o,i,r&&!t),o}function Tt(n,e=[]){return t=>{t.providersResolver=(r,i)=>l4(r,i?i(n):n,e)}}function DM(n,e,t,r){return SM(Se(),_b(),n,e,t,r)}function TM(n,e){let t=n[e];return t===yn?void 0:t}function SM(n,e,t,r,i,o){let s=e+t;return _r(n,s,i)?cM(n,s+1,o?r.call(o,i):r(i)):TM(n,s+1)}function f4(n,e,t,r,i,o,s){let a=e+t;return Zb(n,a,i,o)?cM(n,a+2,s?r.call(s,i,o):r(i,o)):TM(n,a+2)}function ct(n,e){let t=Et(),r,i=n+Ft;t.firstCreatePass?(r=p4(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Xo(r.type,!0)),s,a=Tn(j);try{let c=vf(!1),u=o();return vf(c),F2(t,Se(),i,u),u}finally{Tn(a)}}function p4(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Qt(n,e,t){let r=n+Ft,i=Se(),o=db(i,r);return AM(i,r)?SM(i,_b(),e,o.transform,t,o):o.transform(t)}function gs(n,e,t,r){let i=n+Ft,o=Se(),s=db(o,i);return AM(o,i)?f4(o,_b(),e,s.transform,t,r,s):s.transform(t,r)}function AM(n,e){return n[Ce].data[e].pure}function xM(n,e){return Yf(n,e)}var cs=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Yl=new cs("19.2.13"),Jy=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},MM=(()=>{class n{compileModuleSync(t){return new Wy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=vA(t),o=Tx(i.declarations).reduce((s,a)=>{let c=uo(a);return c&&s.push(new ss(c)),s},[]);return new Jy(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var m4=(()=>{class n{zone=I(se);changeDetectionScheduler=I(os);applicationRef=I(yr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function g4({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new se(ee(L({},v4()),{scheduleInRootZone:t})),[{provide:se,useFactory:n},{provide:Ml,multi:!0,useFactory:()=>{let r=I(m4,{optional:!0});return()=>r.initialize()}},{provide:Ml,multi:!0,useFactory:()=>{let r=I(_4);return()=>{r.initialize()}}},e===!0?{provide:ix,useValue:!0}:[],{provide:ox,useValue:t??nx}]}function v4(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var _4=(()=>{class n{subscription=new et;initialized=!1;zone=I(se);pendingTasks=I(Mi);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{se.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{se.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var y4=(()=>{class n{appRef=I(yr);taskService=I(Mi);ngZone=I(se);zonelessEnabled=I(rx);tracing=I(ja,{optional:!0});disableScheduling=I(ix,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new et;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(bf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(I(ox,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ty||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?xS:sx;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(bf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,xS(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function b4(){return typeof $localize<"u"&&$localize.locale||Mf}var Ql=new $("",{providedIn:"root",factory:()=>I(Ql,Ee.Optional|Ee.SkipSelf)||b4()});var eb=new $(""),w4=new $("");function Tl(n){return!n.moduleRef}function E4(n){let e=Tl(n)?n.r3Injector:n.moduleRef.injector,t=e.get(se);return t.run(()=>{Tl(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Lr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Tl(n)){let o=()=>e.destroy(),s=n.platformInjector.get(eb);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(eb);s.add(o),n.moduleRef.onDestroy(()=>{rf(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return I4(r,t,()=>{let o=e.get(fM);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Ql,Mf);if(r4(s||Mf),!e.get(w4,!0))return Tl(n)?e.get(yr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Tl(n)){let c=e.get(yr);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return C4(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function C4(n,e){let t=n.injector.get(yr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new K(-403,!1);e.push(n)}function I4(n,e,t){try{let r=t();return fo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var of=null;function D4(n=[],e){return Fe.create({name:e,providers:[{provide:kf,useValue:"platform"},{provide:eb,useValue:new Set([()=>of=null])},...n]})}function T4(n=[]){if(of)return of;let e=D4(n);return of=e,C3(),S4(e),e}function S4(n){let e=n.get(Sb,null);Lt(n,()=>{e?.forEach(t=>t())})}function s0(){return!1}var wr=(()=>{class n{static __NG_ELEMENT_ID__=A4}return n})();function A4(n){return x4(_n(),Se(),(n&16)===16)}function x4(n,e,t){if(Na(n)&&!t){let r=Fr(n.index,e);return new Nl(r,r)}else if(n.type&175){let r=e[Xn];return new Nl(r,e)}return null}var tb=class{constructor(){}supports(e){return aM(e)}create(e){return new nb(e)}},M4=(n,e)=>e,nb=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||M4}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<ZS(r,i,o)?t:r,a=ZS(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,d=c-i;if(u!=d){for(let g=0;g<u;g++){let _=g<o.length?o[g]:o[g]=0,S=_+g;d<=S&&S<u&&(o[g]=_+1)}let p=s.previousIndex;o[p]=d-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!aM(e))throw new K(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,g3(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new rb(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Pf),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Pf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},rb=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},ib=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Pf=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new ib,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function ZS(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function XS(){return new ep([new tb])}var ep=(()=>{class n{factories;static \u0275prov=V({token:n,providedIn:"root",factory:XS});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||XS()),deps:[[n,new h2,new Di]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new K(901,!1)}}return n})();function PM(n){Ge(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=T4(r),o=[g4({}),{provide:os,useExisting:y4},...t||[]],s=new Af({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return E4({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Ge(9)}}function Zt(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function bn(n){return A_(n)}function vs(n,e){return I_(n,e?.equal)}var JS=class{[Yn];constructor(e){this[Yn]=e}destroy(){this[Yn].destroy()}};function tp(n,e){let t=uo(n),r=e.elementInjector||Nf();return new ss(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}function RM(n){let e=uo(n);if(!e)return null;let t=new ss(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Ie=new $("");var NM=null;function nr(){return NM}function a0(n){NM??=n}var Zl=class{},Xl=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>I(FM),providedIn:"platform"})}return n})(),c0=new $(""),FM=(()=>{class n extends Xl{_location;_history;_doc=I(Ie);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return nr().getBaseHref(this._doc)}onPopState(t){let r=nr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=nr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function np(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function OM(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Er(n){return n&&n[0]!=="?"?`?${n}`:n}var rr=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>I(ip),providedIn:"root"})}return n})(),rp=new $(""),ip=(()=>{class n extends rr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??I(Ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return np(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Er(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Er(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Er(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Y(Xl),Y(rp,8))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ur=(()=>{class n{_subject=new he;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=O4(OM(kM(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Er(r))}normalize(t){return n.stripTrailingSlash(R4(this._basePath,kM(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Er(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Er(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Er;static joinWithSlash=np;static stripTrailingSlash=OM;static \u0275fac=function(r){return new(r||n)(Y(rr))};static \u0275prov=V({token:n,factory:()=>P4(),providedIn:"root"})}return n})();function P4(){return new Ur(Y(rr))}function R4(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function kM(n){return n.replace(/\/index.html$/,"")}function O4(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var pp=(()=>{class n extends rr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=np(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Er(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Er(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Y(Xl),Y(rp,8))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();var g0=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(g0||{});var an=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(an||{}),Ye=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Ye||{}),Pn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Pn||{}),Rn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function UM(n){return Un(n)[_t.LocaleId]}function $M(n,e,t){let r=Un(n),i=[r[_t.DayPeriodsFormat],r[_t.DayPeriodsStandalone]],o=ir(i,e);return ir(o,t)}function HM(n,e,t){let r=Un(n),i=[r[_t.DaysFormat],r[_t.DaysStandalone]],o=ir(i,e);return ir(o,t)}function zM(n,e,t){let r=Un(n),i=[r[_t.MonthsFormat],r[_t.MonthsStandalone]],o=ir(i,e);return ir(o,t)}function qM(n,e){let r=Un(n)[_t.Eras];return ir(r,e)}function Jl(n,e){let t=Un(n);return ir(t[_t.DateFormat],e)}function eu(n,e){let t=Un(n);return ir(t[_t.TimeFormat],e)}function tu(n,e){let r=Un(n)[_t.DateTimeFormat];return ir(r,e)}function $r(n,e){let t=Un(n),r=t[_t.NumberSymbols][e];if(typeof r>"u"){if(e===Rn.CurrencyDecimal)return t[_t.NumberSymbols][Rn.Decimal];if(e===Rn.CurrencyGroup)return t[_t.NumberSymbols][Rn.Group]}return r}function WM(n,e){return Un(n)[_t.NumberFormats][e]}function GM(n){if(!n[_t.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[_t.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function KM(n){let e=Un(n);return GM(e),(e[_t.ExtraData][2]||[]).map(r=>typeof r=="string"?l0(r):[l0(r[0]),l0(r[1])])}function YM(n,e,t){let r=Un(n);GM(r);let i=[r[_t.ExtraData][0],r[_t.ExtraData][1]],o=ir(i,e)||[];return ir(o,t)||[]}function ir(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function l0(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var k4=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,op={},N4=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function QM(n,e,t,r){let i=z4(n);e=Oi(t,e)||e;let s=[],a;for(;e;)if(a=N4.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=XM(r,c),i=H4(i,r));let u="";return s.forEach(d=>{let p=U4(d);u+=p?p(i,t,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function up(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Oi(n,e){let t=UM(n);if(op[t]??={},op[t][e])return op[t][e];let r="";switch(e){case"shortDate":r=Jl(n,Pn.Short);break;case"mediumDate":r=Jl(n,Pn.Medium);break;case"longDate":r=Jl(n,Pn.Long);break;case"fullDate":r=Jl(n,Pn.Full);break;case"shortTime":r=eu(n,Pn.Short);break;case"mediumTime":r=eu(n,Pn.Medium);break;case"longTime":r=eu(n,Pn.Long);break;case"fullTime":r=eu(n,Pn.Full);break;case"short":let i=Oi(n,"shortTime"),o=Oi(n,"shortDate");r=sp(tu(n,Pn.Short),[i,o]);break;case"medium":let s=Oi(n,"mediumTime"),a=Oi(n,"mediumDate");r=sp(tu(n,Pn.Medium),[s,a]);break;case"long":let c=Oi(n,"longTime"),u=Oi(n,"longDate");r=sp(tu(n,Pn.Long),[c,u]);break;case"full":let d=Oi(n,"fullTime"),p=Oi(n,"fullDate");r=sp(tu(n,Pn.Full),[d,p]);break}return r&&(op[t][e]=r),r}function sp(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Cr(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function F4(n,e){return Cr(n,3).substring(0,e)}function St(n,e,t=0,r=!1,i=!1){return function(o,s){let a=L4(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return F4(a,e);let c=$r(s,Rn.MinusSign);return Cr(a,e,c,r,i)}}function L4(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function nt(n,e,t=an.Format,r=!1){return function(i,o){return V4(i,o,n,e,t,r)}}function V4(n,e,t,r,i,o){switch(t){case 2:return zM(e,i,r)[n.getMonth()];case 1:return HM(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let u=KM(e),d=YM(e,i,r),p=u.findIndex(g=>{if(Array.isArray(g)){let[_,S]=g,R=s>=_.hours&&a>=_.minutes,k=s<S.hours||s===S.hours&&a<S.minutes;if(_.hours<S.hours){if(R&&k)return!0}else if(R||k)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return d[p]}return $M(e,i,r)[s<12?0:1];case 3:return qM(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function ap(n){return function(e,t,r){let i=-1*r,o=$r(t,Rn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Cr(s,2,o)+Cr(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Cr(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Cr(s,2,o)+":"+Cr(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Cr(s,2,o)+":"+Cr(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var j4=0,lp=4;function B4(n){let e=up(n,j4,1).getDay();return up(n,0,1+(e<=lp?lp:lp+7)-e)}function ZM(n){let e=n.getDay(),t=e===0?-3:lp-e;return up(n.getFullYear(),n.getMonth(),n.getDate()+t)}function u0(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=ZM(t),s=B4(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Cr(i,n,$r(r,Rn.MinusSign))}}function cp(n,e=!1){return function(t,r){let o=ZM(t).getFullYear();return Cr(o,n,$r(r,Rn.MinusSign),e)}}var d0={};function U4(n){if(d0[n])return d0[n];let e;switch(n){case"G":case"GG":case"GGG":e=nt(3,Ye.Abbreviated);break;case"GGGG":e=nt(3,Ye.Wide);break;case"GGGGG":e=nt(3,Ye.Narrow);break;case"y":e=St(0,1,0,!1,!0);break;case"yy":e=St(0,2,0,!0,!0);break;case"yyy":e=St(0,3,0,!1,!0);break;case"yyyy":e=St(0,4,0,!1,!0);break;case"Y":e=cp(1);break;case"YY":e=cp(2,!0);break;case"YYY":e=cp(3);break;case"YYYY":e=cp(4);break;case"M":case"L":e=St(1,1,1);break;case"MM":case"LL":e=St(1,2,1);break;case"MMM":e=nt(2,Ye.Abbreviated);break;case"MMMM":e=nt(2,Ye.Wide);break;case"MMMMM":e=nt(2,Ye.Narrow);break;case"LLL":e=nt(2,Ye.Abbreviated,an.Standalone);break;case"LLLL":e=nt(2,Ye.Wide,an.Standalone);break;case"LLLLL":e=nt(2,Ye.Narrow,an.Standalone);break;case"w":e=u0(1);break;case"ww":e=u0(2);break;case"W":e=u0(1,!0);break;case"d":e=St(2,1);break;case"dd":e=St(2,2);break;case"c":case"cc":e=St(7,1);break;case"ccc":e=nt(1,Ye.Abbreviated,an.Standalone);break;case"cccc":e=nt(1,Ye.Wide,an.Standalone);break;case"ccccc":e=nt(1,Ye.Narrow,an.Standalone);break;case"cccccc":e=nt(1,Ye.Short,an.Standalone);break;case"E":case"EE":case"EEE":e=nt(1,Ye.Abbreviated);break;case"EEEE":e=nt(1,Ye.Wide);break;case"EEEEE":e=nt(1,Ye.Narrow);break;case"EEEEEE":e=nt(1,Ye.Short);break;case"a":case"aa":case"aaa":e=nt(0,Ye.Abbreviated);break;case"aaaa":e=nt(0,Ye.Wide);break;case"aaaaa":e=nt(0,Ye.Narrow);break;case"b":case"bb":case"bbb":e=nt(0,Ye.Abbreviated,an.Standalone,!0);break;case"bbbb":e=nt(0,Ye.Wide,an.Standalone,!0);break;case"bbbbb":e=nt(0,Ye.Narrow,an.Standalone,!0);break;case"B":case"BB":case"BBB":e=nt(0,Ye.Abbreviated,an.Format,!0);break;case"BBBB":e=nt(0,Ye.Wide,an.Format,!0);break;case"BBBBB":e=nt(0,Ye.Narrow,an.Format,!0);break;case"h":e=St(3,1,-12);break;case"hh":e=St(3,2,-12);break;case"H":e=St(3,1);break;case"HH":e=St(3,2);break;case"m":e=St(4,1);break;case"mm":e=St(4,2);break;case"s":e=St(5,1);break;case"ss":e=St(5,2);break;case"S":e=St(6,1);break;case"SS":e=St(6,2);break;case"SSS":e=St(6,3);break;case"Z":case"ZZ":case"ZZZ":e=ap(0);break;case"ZZZZZ":e=ap(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ap(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=ap(2);break;default:return null}return d0[n]=e,e}function XM(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function $4(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function H4(n,e,t){let i=n.getTimezoneOffset(),o=XM(e,i);return $4(n,-1*(o-i))}function z4(n){if(LM(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return up(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(k4))return q4(r)}let e=new Date(n);if(!LM(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function q4(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,u),e}function LM(n){return n instanceof Date&&!isNaN(n.valueOf())}var W4=/^(\d+)?\.((\d+)(-(\d+))?)?$/,VM=22,dp=".",nu="0",G4=";",K4=",",h0="#";function Y4(n,e,t,r,i,o,s=!1){let a="",c=!1;if(!isFinite(n))a=$r(t,Rn.Infinity);else{let u=X4(n);s&&(u=Z4(u));let d=e.minInt,p=e.minFrac,g=e.maxFrac;if(o){let J=o.match(W4);if(J===null)throw new Error(`${o} is not a valid digit info`);let Z=J[1],ke=J[3],Dt=J[5];Z!=null&&(d=f0(Z)),ke!=null&&(p=f0(ke)),Dt!=null?g=f0(Dt):ke!=null&&p>g&&(g=p)}J4(u,p,g);let _=u.digits,S=u.integerLen,R=u.exponent,k=[];for(c=_.every(J=>!J);S<d;S++)_.unshift(0);for(;S<0;S++)_.unshift(0);S>0?k=_.splice(S,_.length):(k=_,_=[0]);let q=[];for(_.length>=e.lgSize&&q.unshift(_.splice(-e.lgSize,_.length).join(""));_.length>e.gSize;)q.unshift(_.splice(-e.gSize,_.length).join(""));_.length&&q.unshift(_.join("")),a=q.join($r(t,r)),k.length&&(a+=$r(t,i)+k.join("")),R&&(a+=$r(t,Rn.Exponential)+"+"+R)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function JM(n,e,t){let r=WM(e,g0.Decimal),i=Q4(r,$r(e,Rn.MinusSign));return Y4(n,i,e,Rn.Group,Rn.Decimal,t)}function Q4(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(G4),i=r[0],o=r[1],s=i.indexOf(dp)!==-1?i.split(dp):[i.substring(0,i.lastIndexOf(nu)+1),i.substring(i.lastIndexOf(nu)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(h0));for(let d=0;d<c.length;d++){let p=c.charAt(d);p===nu?t.minFrac=t.maxFrac=d+1:p===h0?t.maxFrac=d+1:t.posSuf+=p}let u=a.split(K4);if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){let d=i.length-t.posPre.length-t.posSuf.length,p=o.indexOf(h0);t.negPre=o.substring(0,p).replace(/'/g,""),t.negSuf=o.slice(p+d).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function Z4(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function X4(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(dp))>-1&&(e=e.replace(dp,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===nu;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===nu;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>VM&&(r=r.splice(0,VM-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function J4(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,u=e+n.integerLen,d=r.reduceRight(function(p,g,_,S){return g=g+p,S[_]=g<10?g:g-10,c&&(S[_]===0&&_>=u?S.pop():c=!1),g>=10?1:0},0);d&&(r.unshift(d),n.integerLen++)}function f0(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}var hp=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Vt=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new hp(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),jM(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);jM(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(j(er),j(Jn),j(ep))};static \u0275dir=fe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function jM(n,e){n.context.$implicit=e.item}var gt=(()=>{class n{_viewContainer;_context=new fp;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){BM(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){BM(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(j(er),j(Jn))};static \u0275dir=fe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),fp=class{$implicit=null;ngIf=null};function BM(n,e){if(n&&!n.createEmbeddedView)throw new K(2020,!1)}function mp(n,e){return new K(2100,!1)}var p0=class{createSubscription(e,t){return bn(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){bn(()=>e.unsubscribe())}},m0=class{createSubscription(e,t){return e.then(r=>t?.(r),r=>{throw r}),{unsubscribe:()=>{t=null}}}dispose(e){e.unsubscribe()}},e$=new m0,t$=new p0,v0=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(fo(t))return e$;if(Xb(t))return t$;throw mp(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(j(wr,16))};static \u0275pipe=ps({name:"async",type:n,pure:!1})}return n})();var _s=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw mp(n,t);return t.toUpperCase()}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=ps({name:"uppercase",type:n,pure:!0})}return n})(),n$="mediumDate",eP=new $(""),tP=new $(""),po=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??n$,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return QM(t,s,o||this.locale,a)}catch(s){throw mp(n,s.message)}}static \u0275fac=function(r){return new(r||n)(j(Ql,16),j(eP,24),j(tP,24))};static \u0275pipe=ps({name:"date",type:n,pure:!0})}return n})();var Hr=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!r$(t))return null;i||=this._locale;try{let o=i$(t);return JM(o,i,r)}catch(o){throw mp(n,o.message)}}static \u0275fac=function(r){return new(r||n)(j(Ql,16))};static \u0275pipe=ps({name:"number",type:n,pure:!0})}return n})();function r$(n){return!(n==null||n===""||n!==n)}function i$(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var lt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Kt({})}return n})();function ru(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var gp="browser",nP="server";function _0(n){return n===gp}function vp(n){return n===nP}var ys=class{};var rP=(()=>{class n{static \u0275prov=V({token:n,providedIn:"root",factory:()=>new y0(I(Ie),window)})}return n})(),y0=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=s$(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function s$(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var bp=new $(""),C0=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new K(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Y(bp),Y(se))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),iu=class{_doc;constructor(e){this._doc=e}manager},_p="ng-app-id";function iP(n){for(let e of n)e.remove()}function oP(n,e){let t=e.createElement("style");return t.textContent=n,t}function a$(n,e,t,r){let i=n.head?.querySelectorAll(`style[${_p}="${e}"],link[${_p}="${e}"]`);if(i)for(let o of i)o.removeAttribute(_p),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function w0(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var I0=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=vp(o),a$(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,oP);r?.forEach(i=>this.addUsage(i,this.external,w0))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(iP(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])iP(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,oP(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,w0(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(_p,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Y(Ie),Y(Ul),Y($l,8),Y(Br))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),b0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},D0=/%COMP%/g;var aP="%COMP%",c$=`_nghost-${aP}`,l$=`_ngcontent-${aP}`,u$=!0,d$=new $("",{providedIn:"root",factory:()=>u$});function h$(n){return l$.replace(D0,n)}function f$(n){return c$.replace(D0,n)}function cP(n,e){return e.map(t=>t.replace(D0,n))}var T0=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,u=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=d,this.platformIsServer=vp(a),this.defaultRenderer=new ou(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Vr.ShadowDom&&(r=ee(L({},r),{encapsulation:Vr.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof yp?i.applyToHost(t):i instanceof su&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case Vr.Emulated:o=new yp(c,u,r,this.appId,d,s,a,p,g);break;case Vr.ShadowDom:return new E0(c,u,t,r,s,a,this.nonce,p,g);default:o=new su(c,u,r,d,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Y(C0),Y(I0),Y(Ul),Y(d$),Y(Ie),Y(Br),Y(se),Y($l),Y(ja,8))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),ou=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(b0[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(sP(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(sP(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new K(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=b0[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=b0[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ci.DashCase|Ci.Important)?e.style.setProperty(t,r,i&Ci.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ci.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=nr().getGlobalEventTarget(this.doc,e),!e))throw new K(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function sP(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var E0=class extends ou{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,c,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=cP(i.id,d);for(let g of d){let _=document.createElement("style");a&&_.setAttribute("nonce",a),_.textContent=g,this.shadowRoot.appendChild(_)}let p=i.getExternalStyles?.();if(p)for(let g of p){let _=w0(g,o);a&&_.setAttribute("nonce",a),this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},su=class extends ou{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=u?cP(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},yp=class extends su{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,u){let d=i+"-"+r.id;super(e,t,r,o,s,a,c,u,d),this.contentAttr=h$(d),this.hostAttr=f$(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var wp=class n extends Zl{supportsDOMEvents=!0;static makeCurrent(){a0(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=p$();return t==null?null:m$(t)}resetBaseElement(){au=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ru(document.cookie,e)}},au=null;function p$(){return au=au||document.head.querySelector("base"),au?au.getAttribute("href"):null}function m$(n){return new URL(n,document.baseURI).pathname}var g$=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),uP=(()=>{class n extends iu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(Y(Ie))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),lP=["alt","control","meta","shift"],v$={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_$={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},dP=(()=>{class n extends iu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>nr().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),lP.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=v$[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),lP.forEach(s=>{if(s!==i){let a=_$[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Y(Ie))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();function S0(n,e){return PM(L({rootComponent:n},y$(e)))}function y$(n){return{appProviders:[...I$,...n?.providers??[]],platformProviders:C$}}function b$(){wp.makeCurrent()}function w$(){return new Lr}function E$(){return gx(document),document}var C$=[{provide:Br,useValue:gp},{provide:Sb,useValue:b$,multi:!0},{provide:Ie,useFactory:E$}];var I$=[{provide:kf,useValue:"root"},{provide:Lr,useFactory:w$},{provide:bp,useClass:uP,multi:!0,deps:[Ie]},{provide:bp,useClass:dP,multi:!0,deps:[Ie]},T0,I0,C0,{provide:Gt,useExisting:T0},{provide:ys,useClass:g$},[]];var Ha=class{},cu=class{},cn=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Cp=class{encodeKey(e){return hP(e)}encodeValue(e){return hP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function D$(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var T$=/%(\d[a-f0-9])/gi,S$={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function hP(n){return encodeURIComponent(n).replace(T$,(e,t)=>S$[t]??e)}function Ep(n){return`${n}`}var ki=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Cp,e.fromString){if(e.fromObject)throw new K(2805,!1);this.map=D$(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Ep):[Ep(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Ep(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Ep(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Ip=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function A$(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function fP(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function pP(n){return typeof Blob<"u"&&n instanceof Blob}function mP(n){return typeof FormData<"u"&&n instanceof FormData}function x$(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var gP="Content-Type",vP="Accept",_P="X-Request-URL",yP="text/plain",bP="application/json",M$=`${bP}, ${yP}, */*`,$a=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(A$(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new cn,this.context??=new Ip,!this.params)this.params=new ki,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||fP(this.body)||pP(this.body)||mP(this.body)||x$(this.body)?this.body:this.body instanceof ki?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||mP(this.body)?null:pP(this.body)?this.body.type||null:fP(this.body)?null:typeof this.body=="string"?yP:this.body instanceof ki?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?bP:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,d=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((g,_)=>g.set(_,e.setHeaders[_]),u)),e.setParams&&(d=Object.keys(e.setParams).reduce((g,_)=>g.set(_,e.setParams[_]),d)),new n(t,r,s,{params:d,headers:u,context:p,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},bs=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(bs||{}),za=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new cn,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Dp=class n extends za{constructor(e={}){super(e)}type=bs.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},lu=class n extends za{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=bs.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},uu=class extends za{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},P$=200,R$=204;function A0(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var sr=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof $a)o=t;else{let c;i.headers instanceof cn?c=i.headers:c=new cn(i.headers);let u;i.params&&(i.params instanceof ki?u=i.params:u=new ki({fromObject:i.params})),o=new $a(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=X(o).pipe(Rr(c=>this.handler.handle(c)));if(t instanceof $a||i.observe==="events")return s;let a=s.pipe(dt(c=>c instanceof lu));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(de(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new K(2806,!1);return c.body}));case"blob":return a.pipe(de(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new K(2807,!1);return c.body}));case"text":return a.pipe(de(c=>{if(c.body!==null&&typeof c.body!="string")throw new K(2808,!1);return c.body}));case"json":default:return a.pipe(de(c=>c.body))}case"response":return a;default:throw new K(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new ki().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,A0(i,r))}post(t,r,i={}){return this.request("POST",t,A0(i,r))}put(t,r,i={}){return this.request("PUT",t,A0(i,r))}static \u0275fac=function(r){return new(r||n)(Y(Ha))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();var O$=new $("");function k$(n,e){return e(n)}function N$(n,e,t){return(r,i)=>Lt(t,()=>e(r,o=>n(o,i)))}var M0=new $(""),wP=new $(""),EP=new $("",{providedIn:"root",factory:()=>!0});var Tp=(()=>{class n extends Ha{backend;injector;chain=null;pendingTasks=I(Mi);contributeToStability=I(EP);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(M0),...this.injector.get(wP,[])]));this.chain=r.reduceRight((i,o)=>N$(i,o,this.injector),k$)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Go(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(Y(cu),Y(at))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();var F$=/^\)\]\}',?\n/,L$=RegExp(`^${_P}:`,"m");function V$(n){return"responseURL"in n&&n.responseURL?n.responseURL:L$.test(n.getAllResponseHeaders())?n.getResponseHeader(_P):null}var x0=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new K(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?We(r.\u0275loadImpl()):X(null)).pipe(qt(()=>new me(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((R,k)=>s.setRequestHeader(R,k.join(","))),t.headers.has(vP)||s.setRequestHeader(vP,M$),!t.headers.has(gP)){let R=t.detectContentTypeHeader();R!==null&&s.setRequestHeader(gP,R)}if(t.responseType){let R=t.responseType.toLowerCase();s.responseType=R!=="json"?R:"text"}let a=t.serializeBody(),c=null,u=()=>{if(c!==null)return c;let R=s.statusText||"OK",k=new cn(s.getAllResponseHeaders()),q=V$(s)||t.url;return c=new Dp({headers:k,status:s.status,statusText:R,url:q}),c},d=()=>{let{headers:R,status:k,statusText:q,url:J}=u(),Z=null;k!==R$&&(Z=typeof s.response>"u"?s.responseText:s.response),k===0&&(k=Z?P$:0);let ke=k>=200&&k<300;if(t.responseType==="json"&&typeof Z=="string"){let Dt=Z;Z=Z.replace(F$,"");try{Z=Z!==""?JSON.parse(Z):null}catch(Ue){Z=Dt,ke&&(ke=!1,Z={error:Ue,text:Z})}}ke?(o.next(new lu({body:Z,headers:R,status:k,statusText:q,url:J||void 0})),o.complete()):o.error(new uu({error:Z,headers:R,status:k,statusText:q,url:J||void 0}))},p=R=>{let{url:k}=u(),q=new uu({error:R,status:s.status||0,statusText:s.statusText||"Unknown Error",url:k||void 0});o.error(q)},g=!1,_=R=>{g||(o.next(u()),g=!0);let k={type:bs.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(k.total=R.total),t.responseType==="text"&&s.responseText&&(k.partialText=s.responseText),o.next(k)},S=R=>{let k={type:bs.UploadProgress,loaded:R.loaded};R.lengthComputable&&(k.total=R.total),o.next(k)};return s.addEventListener("load",d),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",_),a!==null&&s.upload&&s.upload.addEventListener("progress",S)),s.send(a),o.next({type:bs.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",d),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",_),a!==null&&s.upload&&s.upload.removeEventListener("progress",S)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(Y(ys))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),CP=new $(""),j$="XSRF-TOKEN",B$=new $("",{providedIn:"root",factory:()=>j$}),U$="X-XSRF-TOKEN",$$=new $("",{providedIn:"root",factory:()=>U$}),du=class{},H$=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ru(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(Y(Ie),Y(B$))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();function z$(n,e){let t=n.url.toLowerCase();if(!I(CP)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=I(du).getToken(),i=I($$);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var P0=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(P0||{});function q$(n,e){return{\u0275kind:n,\u0275providers:e}}function R0(...n){let e=[sr,x0,Tp,{provide:Ha,useExisting:Tp},{provide:cu,useFactory:()=>I(O$,{optional:!0})??I(x0)},{provide:M0,useValue:z$,multi:!0},{provide:CP,useValue:!0},{provide:du,useClass:H$}];for(let t of n)e.push(...t.\u0275providers);return Ti(e)}function O0(n){return q$(P0.Interceptors,n.map(e=>({provide:M0,useValue:e,multi:!0})))}var IP=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Y(Ie))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var we="primary",Du=Symbol("RouteTitle"),V0=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Cs(n){return new V0(n)}function RP(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function G$(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!zr(n[t],e[t]))return!1;return!0}function zr(n,e){let t=n?j0(n):void 0,r=e?j0(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!OP(n[i],e[i]))return!1;return!0}function j0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function OP(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function kP(n){return n.length>0?n[n.length-1]:null}function yo(n){return Uh(n)?n:fo(n)?We(Promise.resolve(n)):X(n)}var K$={exact:FP,subset:LP},NP={exact:Y$,subset:Q$,ignored:()=>!0};function DP(n,e,t){return K$[t.paths](n.root,e.root,t.matrixParams)&&NP[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function Y$(n,e){return zr(n,e)}function FP(n,e,t){if(!ws(n.segments,e.segments)||!xp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!FP(n.children[r],e.children[r],t))return!1;return!0}function Q$(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>OP(n[t],e[t]))}function LP(n,e,t){return VP(n,e,e.segments,t)}function VP(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ws(i,t)||e.hasChildren()||!xp(i,t,r))}else if(n.segments.length===t.length){if(!ws(n.segments,t)||!xp(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!LP(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!ws(n.segments,i)||!xp(n.segments,i,r)||!n.children[we]?!1:VP(n.children[we],e,o,r)}}function xp(n,e,t){return e.every((r,i)=>NP[t](n[i].parameters,r.parameters))}var Wr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new $e([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Cs(this.queryParams),this._queryParamMap}toString(){return J$.serialize(this)}},$e=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mp(this)}},mo=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Cs(this.parameters),this._parameterMap}toString(){return BP(this)}};function Z$(n,e){return ws(n,e)&&n.every((t,r)=>zr(t.parameters,e[r].parameters))}function ws(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function X$(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===we&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==we&&(t=t.concat(e(i,r)))}),t}var Is=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>new go,providedIn:"root"})}return n})(),go=class{parse(e){let t=new U0(e);return new Wr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${fu(e.root,!0)}`,r=n5(e.queryParams),i=typeof e.fragment=="string"?`#${e5(e.fragment)}`:"";return`${t}${r}${i}`}},J$=new go;function Mp(n){return n.segments.map(e=>BP(e)).join("/")}function fu(n,e){if(!n.hasChildren())return Mp(n);if(e){let t=n.children[we]?fu(n.children[we],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==we&&r.push(`${i}:${fu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=X$(n,(r,i)=>i===we?[fu(n.children[we],!1)]:[`${i}:${fu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[we]!=null?`${Mp(n)}/${t[0]}`:`${Mp(n)}/(${t.join("//")})`}}function jP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sp(n){return jP(n).replace(/%3B/gi,";")}function e5(n){return encodeURI(n)}function B0(n){return jP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pp(n){return decodeURIComponent(n)}function TP(n){return Pp(n.replace(/\+/g,"%20"))}function BP(n){return`${B0(n.path)}${t5(n.parameters)}`}function t5(n){return Object.entries(n).map(([e,t])=>`;${B0(e)}=${B0(t)}`).join("")}function n5(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Sp(t)}=${Sp(i)}`).join("&"):`${Sp(t)}=${Sp(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var r5=/^[^\/()?;#]+/;function k0(n){let e=n.match(r5);return e?e[0]:""}var i5=/^[^\/()?;=#]+/;function o5(n){let e=n.match(i5);return e?e[0]:""}var s5=/^[^=?&#]+/;function a5(n){let e=n.match(s5);return e?e[0]:""}var c5=/^[^&#]+/;function l5(n){let e=n.match(c5);return e?e[0]:""}var U0=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new $e([],{}):new $e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[we]=new $e(e,t)),r}parseSegment(){let e=k0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new K(4009,!1);return this.capture(e),new mo(Pp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=o5(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=k0(this.remaining);i&&(r=i,this.capture(r))}e[Pp(t)]=Pp(r)}parseQueryParam(e){let t=a5(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=l5(this.remaining);s&&(r=s,this.capture(r))}let i=TP(t),o=TP(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=k0(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new K(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=we);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[we]:new $e([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new K(4011,!1)}};function UP(n){return n.segments.length>0?new $e([],{[we]:n}):n}function $P(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=$P(i);if(r===we&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new $e(n.segments,e);return u5(t)}function u5(n){if(n.numberOfChildren===1&&n.children[we]){let e=n.children[we];return new $e(n.segments.concat(e.segments),e.children)}return n}function vo(n){return n instanceof Wr}function HP(n,e,t=null,r=null){let i=zP(n);return qP(i,e,t,r)}function zP(n){let e;function t(o){let s={};for(let c of o.children){let u=t(c);s[c.outlet]=u}let a=new $e(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=UP(r);return e??i}function qP(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return N0(i,i,i,t,r);let o=d5(e);if(o.toRoot())return N0(i,i,new $e([],{}),t,r);let s=h5(o,i,n),a=s.processChildren?mu(s.segmentGroup,s.index,o.commands):GP(s.segmentGroup,s.index,o.commands);return N0(i,s.segmentGroup,a,t,r)}function Op(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function vu(n){return typeof n=="object"&&n!=null&&n.outlets}function N0(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;n===e?s=t:s=WP(n,e,t);let a=UP($P(s));return new Wr(a,o,i)}function WP(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=WP(o,e,t)}),new $e(n.segments,r)}var kp=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Op(r[0]))throw new K(4003,!1);let i=r.find(vu);if(i&&i!==kP(r))throw new K(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function d5(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new kp(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new kp(t,e,r)}var Ga=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function h5(n,e,t){if(n.isAbsolute)return new Ga(e,!0,0);if(!t)return new Ga(e,!1,NaN);if(t.parent===null)return new Ga(t,!0,0);let r=Op(n.commands[0])?0:1,i=t.segments.length-1+r;return f5(t,i,n.numberOfDoubleDots)}function f5(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new K(4005,!1);i=r.segments.length}return new Ga(r,!1,i-o)}function p5(n){return vu(n[0])?n[0].outlets:{[we]:n}}function GP(n,e,t){if(n??=new $e([],{}),n.segments.length===0&&n.hasChildren())return mu(n,e,t);let r=m5(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new $e(n.segments.slice(0,r.pathIndex),{});return o.children[we]=new $e(n.segments.slice(r.pathIndex),n.children),mu(o,0,i)}else return r.match&&i.length===0?new $e(n.segments,{}):r.match&&!n.hasChildren()?$0(n,e,t):r.match?mu(n,0,i):$0(n,e,t)}function mu(n,e,t){if(t.length===0)return new $e(n.segments,{});{let r=p5(t),i={};if(Object.keys(r).some(o=>o!==we)&&n.children[we]&&n.numberOfChildren===1&&n.children[we].segments.length===0){let o=mu(n.children[we],e,t);return new $e(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=GP(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new $e(n.segments,i)}}function m5(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(vu(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!AP(c,u,s))return o;r+=2}else{if(!AP(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function $0(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(vu(o)){let c=g5(o.outlets);return new $e(r,c)}if(i===0&&Op(t[0])){let c=n.segments[e];r.push(new mo(c.path,SP(t[0]))),i++;continue}let s=vu(o)?o.outlets[we]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Op(a)?(r.push(new mo(s,SP(a))),i+=2):(r.push(new mo(s,{})),i++)}return new $e(r,{})}function g5(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=$0(new $e([],{}),0,r))}),e}function SP(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function AP(n,e,t){return n==t.path&&zr(e,t.parameters)}var Rp="imperative",kt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(kt||{}),Hn=class{id;url;constructor(e,t){this.id=e,this.url=t}},_o=class extends Hn{type=kt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ar=class extends Hn{urlAfterRedirects;type=kt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},On=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(On||{}),Ya=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Ya||{}),qr=class extends Hn{reason;code;type=kt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Gr=class extends Hn{reason;code;type=kt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Qa=class extends Hn{error;target;type=kt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},_u=class extends Hn{urlAfterRedirects;state;type=kt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Np=class extends Hn{urlAfterRedirects;state;type=kt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fp=class extends Hn{urlAfterRedirects;state;shouldActivate;type=kt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Lp=class extends Hn{urlAfterRedirects;state;type=kt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vp=class extends Hn{urlAfterRedirects;state;type=kt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jp=class{route;type=kt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Bp=class{route;type=kt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Up=class{snapshot;type=kt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$p=class{snapshot;type=kt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hp=class{snapshot;type=kt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zp=class{snapshot;type=kt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Za=class{routerEvent;position;anchor;type=kt.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},yu=class{},Xa=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function v5(n,e){return n.providers&&!n._injector&&(n._injector=Wl(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ir(n){return n.outlet||we}function _5(n,e){let t=n.filter(r=>Ir(r)===e);return t.push(...n.filter(r=>Ir(r)!==e)),t}function Tu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var qp=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Tu(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Ds(this.rootInjector)}},Ds=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new qp(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Y(at))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wp=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=H0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=H0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=z0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return z0(e,this._root).map(t=>t.value)}};function H0(n,e){if(n===e.value)return e;for(let t of e.children){let r=H0(n,t);if(r)return r}return null}function z0(n,e){if(n===e.value)return[e];for(let t of e.children){let r=z0(n,t);if(r.length)return r.unshift(e),r}return[]}var $n=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Wa(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var bu=class extends Wp{snapshot;constructor(e,t){super(e),this.snapshot=t,X0(this,e)}toString(){return this.snapshot.toString()}};function KP(n){let e=y5(n),t=new tt([new mo("",{})]),r=new tt({}),i=new tt({}),o=new tt({}),s=new tt(""),a=new ln(t,r,o,s,i,we,n,e.root);return a.snapshot=e.root,new bu(new $n(a,[]),e)}function y5(n){let e={},t={},r={},i="",o=new Es([],e,r,i,t,we,n,null,{});return new wu("",new $n(o,[]))}var ln=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(de(u=>u[Du]))??X(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(de(e=>Cs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(de(e=>Cs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Gp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),n.params),data:L(L({},e.data),n.data),resolve:L(L(L(L({},n.data),e.data),i?.data),n._resolvedData)}:r={params:L({},n.params),data:L({},n.data),resolve:L(L({},n.data),n._resolvedData??{})},i&&QP(i)&&(r.resolve[Du]=i.title),r}var Es=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Du]}constructor(e,t,r,i,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Cs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Cs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},wu=class extends Wp{url;constructor(e,t){super(t),this.url=e,X0(this,t)}toString(){return YP(this._root)}};function X0(n,e){e.value._routerState=n,e.children.forEach(t=>X0(n,t))}function YP(n){let e=n.children.length>0?` { ${n.children.map(YP).join(", ")} } `:"";return`${n.value}${e}`}function F0(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,zr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),zr(e.params,t.params)||n.paramsSubject.next(t.params),G$(e.url,t.url)||n.urlSubject.next(t.url),zr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function q0(n,e){let t=zr(n.params,e.params)&&Z$(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||q0(n.parent,e.parent))}function QP(n){return typeof n.title=="string"||n.title===null}var ZP=new $(""),Su=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=we;activateEvents=new Ze;deactivateEvents=new Ze;attachEvents=new Ze;detachEvents=new Ze;routerOutletData=cx(void 0);parentContexts=I(Ds);location=I(er);changeDetector=I(wr);inputBinder=I(Au,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new K(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new W0(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=fe({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Bn]})}return n})(),W0=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===ln?this.route:e===Ds?this.childContexts:e===ZP?this.outletData:this.parent.get(e,t)}},Au=new $(""),J0=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Wo([r.queryParams,r.params,r.data]).pipe(qt(([o,s,a],c)=>(a=L(L(L({},o),s),a),c===0?X(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=RM(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),ew=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Pe({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ne(0,"router-outlet")},dependencies:[Su],encapsulation:2})}return n})();function tw(n){let e=n.children&&n.children.map(tw),t=e?ee(L({},n),{children:e}):L({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==we&&(t.component=ew),t}function b5(n,e,t){let r=Eu(n,e._root,t?t._root:void 0);return new bu(r,e)}function Eu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=w5(n,e,t);return new $n(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Eu(n,a)),s}}let r=E5(e.value),i=e.children.map(o=>Eu(n,o));return new $n(r,i)}}function w5(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Eu(n,r,i);return Eu(n,r)})}function E5(n){return new ln(new tt(n.url),new tt(n.params),new tt(n.queryParams),new tt(n.fragment),new tt(n.data),n.outlet,n.component,n)}var Ja=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},XP="ngNavigationCancelingError";function Kp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=vo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=JP(!1,On.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function JP(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[XP]=!0,t.cancellationCode=e,t}function C5(n){return eR(n)&&vo(n.url)}function eR(n){return!!n&&n[XP]}var I5=(n,e,t,r)=>de(i=>(new G0(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),G0=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),F0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Wa(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Wa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Wa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Wa(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new zp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new $p(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(F0(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),F0(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Yp=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ka=class{component;route;constructor(e,t){this.component=e,this.route=t}};function D5(n,e,t){let r=n._root,i=e?e._root:null;return pu(r,i,t,[r.value])}function T5(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function tc(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!sA(n)?n:e.get(n):r}function pu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Wa(e);return n.children.forEach(s=>{S5(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>gu(a,t.getContext(s),i)),i}function S5(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=A5(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Yp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?pu(n,e,a?a.children:null,r,i):pu(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ka(a.outlet.component,s))}else s&&gu(e,a,i),i.canActivateChecks.push(new Yp(r)),o.component?pu(n,null,a?a.children:null,r,i):pu(n,null,t,r,i);return i}function A5(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ws(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ws(n.url,e.url)||!zr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!q0(n,e)||!zr(n.queryParams,e.queryParams);case"paramsChange":default:return!q0(n,e)}}function gu(n,e,t){let r=Wa(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?gu(s,e.children.getContext(o),t):gu(s,null,t):gu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ka(e.outlet.component,i)):t.canDeactivateChecks.push(new Ka(null,i)):t.canDeactivateChecks.push(new Ka(null,i))}function xu(n){return typeof n=="function"}function x5(n){return typeof n=="boolean"}function M5(n){return n&&xu(n.canLoad)}function P5(n){return n&&xu(n.canActivate)}function R5(n){return n&&xu(n.canActivateChild)}function O5(n){return n&&xu(n.canDeactivate)}function k5(n){return n&&xu(n.canMatch)}function tR(n){return n instanceof pr||n?.name==="EmptyError"}var Ap=Symbol("INITIAL_VALUE");function ec(){return qt(n=>Wo(n.map(e=>e.pipe(ht(1),wa(Ap)))).pipe(de(e=>{for(let t of e)if(t!==!0){if(t===Ap)return Ap;if(t===!1||N5(t))return t}return!0}),dt(e=>e!==Ap),ht(1)))}function N5(n){return vo(n)||n instanceof Ja}function F5(n,e){return wt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?X(ee(L({},t),{guardsResult:!0})):L5(s,r,i,n).pipe(wt(a=>a&&x5(a)?V5(r,o,n,e):X(a)),de(a=>ee(L({},t),{guardsResult:a})))})}function L5(n,e,t,r){return We(n).pipe(wt(i=>H5(i.component,i.route,t,e,r)),yi(i=>i!==!0,!0))}function V5(n,e,t,r){return We(e).pipe(Rr(i=>so(B5(i.route.parent,r),j5(i.route,r),$5(n,i.path,t),U5(n,i.route,t))),yi(i=>i!==!0,!0))}function j5(n,e){return n!==null&&e&&e(new Hp(n)),X(!0)}function B5(n,e){return n!==null&&e&&e(new Up(n)),X(!0)}function U5(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return X(!0);let i=r.map(o=>Wh(()=>{let s=Tu(e)??t,a=tc(o,s),c=P5(a)?a.canActivate(e,n):Lt(s,()=>a(e,n));return yo(c).pipe(yi())}));return X(i).pipe(ec())}function $5(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>T5(s)).filter(s=>s!==null).map(s=>Wh(()=>{let a=s.guards.map(c=>{let u=Tu(s.node)??t,d=tc(c,u),p=R5(d)?d.canActivateChild(r,n):Lt(u,()=>d(r,n));return yo(p).pipe(yi())});return X(a).pipe(ec())}));return X(o).pipe(ec())}function H5(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return X(!0);let s=o.map(a=>{let c=Tu(e)??i,u=tc(a,c),d=O5(u)?u.canDeactivate(n,e,t,r):Lt(c,()=>u(n,e,t,r));return yo(d).pipe(yi())});return X(s).pipe(ec())}function z5(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return X(!0);let o=i.map(s=>{let a=tc(s,n),c=M5(a)?a.canLoad(e,t):Lt(n,()=>a(e,t));return yo(c)});return X(o).pipe(ec(),nR(r))}function nR(n){return N_(Wt(e=>{if(typeof e!="boolean")throw Kp(n,e)}),de(e=>e===!0))}function q5(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return X(!0);let o=i.map(s=>{let a=tc(s,n),c=k5(a)?a.canMatch(e,t):Lt(n,()=>a(e,t));return yo(c)});return X(o).pipe(ec(),nR(r))}var Cu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Iu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function qa(n){return Dn(new Cu(n))}function W5(n){return Dn(new K(4e3,!1))}function G5(n){return Dn(JP(!1,On.GuardRejected))}var K0=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return X(r);if(i.numberOfChildren>1||!i.children[we])return W5(`${e.redirectTo}`);i=i.children[we]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:u,routeConfig:d,url:p,outlet:g,params:_,data:S,title:R}=i,k=Lt(o,()=>a({params:_,data:S,queryParams:c,fragment:u,routeConfig:d,url:p,outlet:g,title:R}));if(k instanceof Wr)throw new Iu(k);t=k}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Iu(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Wr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new $e(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new K(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Y0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function K5(n,e,t,r,i){let o=rR(n,e,t);return o.matched?(r=v5(e,r),q5(r,e,t,i).pipe(de(s=>s===!0?o:L({},Y0)))):X(o)}function rR(n,e,t){if(e.path==="**")return Y5(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?L({},Y0):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||RP)(t,n,e);if(!i)return L({},Y0);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Y5(n){return{matched:!0,parameters:n.length>0?kP(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function xP(n,e,t,r){return t.length>0&&X5(n,t,r)?{segmentGroup:new $e(e,Z5(r,new $e(t,n.children))),slicedSegments:[]}:t.length===0&&J5(n,t,r)?{segmentGroup:new $e(n.segments,Q5(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new $e(n.segments,n.children),slicedSegments:t}}function Q5(n,e,t,r){let i={};for(let o of t)if(Zp(n,e,o)&&!r[Ir(o)]){let s=new $e([],{});i[Ir(o)]=s}return L(L({},r),i)}function Z5(n,e){let t={};t[we]=e;for(let r of n)if(r.path===""&&Ir(r)!==we){let i=new $e([],{});t[Ir(r)]=i}return t}function X5(n,e,t){return t.some(r=>Zp(n,e,r)&&Ir(r)!==we)}function J5(n,e,t){return t.some(r=>Zp(n,e,r))}function Zp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function eH(n,e,t){return e.length===0&&!n.children[t]}var Q0=class{};function tH(n,e,t,r,i,o,s="emptyOnly"){return new Z0(n,e,t,r,i,s,o).recognize()}var nH=31,Z0=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new K0(this.urlSerializer,this.urlTree)}noMatchError(e){return new K(4002,`'${e.segmentGroup}'`)}recognize(){let e=xP(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(de(({children:t,rootSnapshot:r})=>{let i=new $n(r,t),o=new wu("",i),s=HP(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Es([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),we,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,we,t).pipe(de(r=>({children:r,rootSnapshot:t})),ot(r=>{if(r instanceof Iu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Cu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(de(s=>s instanceof $n?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return We(o).pipe(Rr(s=>{let a=r.children[s],c=_5(t,s);return this.processSegmentGroup(e,c,a,s,i)}),K_((s,a)=>(s.push(...a),s)),ao(null),G_(),wt(s=>{if(s===null)return qa(r);let a=iR(s);return rH(a),X(a)}))}processSegment(e,t,r,i,o,s,a){return We(t).pipe(Rr(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(ot(u=>{if(u instanceof Cu)return X(null);throw u}))),yi(c=>!!c),ot(c=>{if(tR(c))return eH(r,i,o)?X(new Q0):qa(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return Ir(r)!==s&&(s===we||!Zp(i,o,r))?qa(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):qa(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:p,remainingSegments:g}=rR(t,i,o);if(!c)return qa(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>nH&&(this.allowRedirects=!1));let _=new Es(o,u,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,MP(i),Ir(i),i.component??i._loadedComponent??null,i,PP(i)),S=Gp(_,a,this.paramsInheritanceStrategy);_.params=Object.freeze(S.params),_.data=Object.freeze(S.data);let R=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,p,_,e);return this.applyRedirects.lineralizeSegments(i,R).pipe(wt(k=>this.processSegment(e,r,t,k.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=K5(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(qt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(qt(({routes:u})=>{let d=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:_}=c,S=new Es(g,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,MP(r),Ir(r),r.component??r._loadedComponent??null,r,PP(r)),R=Gp(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(R.params),S.data=Object.freeze(R.data);let{segmentGroup:k,slicedSegments:q}=xP(t,g,_,u);if(q.length===0&&k.hasChildren())return this.processChildren(d,u,k,S).pipe(de(Z=>new $n(S,Z)));if(u.length===0&&q.length===0)return X(new $n(S,[]));let J=Ir(r)===o;return this.processSegment(d,u,k,q,J?we:o,!0,S).pipe(de(Z=>new $n(S,Z instanceof $n?[Z]:[])))}))):qa(t)))}getChildConfig(e,t,r){return t.children?X({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?X({routes:t._loadedRoutes,injector:t._loadedInjector}):z5(e,t,r,this.urlSerializer).pipe(wt(i=>i?this.configLoader.loadChildren(e,t).pipe(Wt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):G5(t))):X({routes:[],injector:e})}};function rH(n){n.sort((e,t)=>e.value.outlet===we?-1:t.value.outlet===we?1:e.value.outlet.localeCompare(t.value.outlet))}function iH(n){let e=n.value.routeConfig;return e&&e.path===""}function iR(n){let e=[],t=new Set;for(let r of n){if(!iH(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=iR(r.children);e.push(new $n(r.value,i))}return e.filter(r=>!t.has(r))}function MP(n){return n.data||{}}function PP(n){return n.resolve||{}}function oH(n,e,t,r,i,o){return wt(s=>tH(n,e,t,r,s.extractedUrl,i,o).pipe(de(({state:a,tree:c})=>ee(L({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function sH(n,e){return wt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return X(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of oR(c))s.add(u);let a=0;return We(s).pipe(Rr(c=>o.has(c)?aH(c,r,n,e):(c.data=Gp(c,c.parent,n).resolve,X(void 0))),Wt(()=>a++),ba(1),wt(c=>a===s.size?X(t):on))})}function oR(n){let e=n.children.map(t=>oR(t)).flat();return[n,...e]}function aH(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!QP(i)&&(o[Du]=i.title),cH(o,n,e,r).pipe(de(s=>(n._resolvedData=s,n.data=Gp(n,n.parent,t).resolve,null)))}function cH(n,e,t,r){let i=j0(n);if(i.length===0)return X({});let o={};return We(i).pipe(wt(s=>lH(n[s],e,t,r).pipe(yi(),Wt(a=>{if(a instanceof Ja)throw Kp(new go,a);o[s]=a}))),ba(1),de(()=>o),ot(s=>tR(s)?on:Dn(s)))}function lH(n,e,t,r){let i=Tu(e)??r,o=tc(n,i),s=o.resolve?o.resolve(e,t):Lt(i,()=>o(e,t));return yo(s)}function L0(n){return qt(e=>{let t=n(e);return t?We(t).pipe(de(()=>e)):X(e)})}var nw=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===we);return r}getResolvedTitleForRoute(t){return t.data[Du]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>I(sR),providedIn:"root"})}return n})(),sR=(()=>{class n extends nw{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Y(IP))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ts=new $("",{providedIn:"root",factory:()=>({})}),Ss=new $(""),Xp=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=I(MM);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return X(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=yo(t.loadComponent()).pipe(de(cR),Wt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Go(()=>{this.componentLoaders.delete(t)})),i=new ga(r,()=>new he).pipe(ma());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return X({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=aR(r,this.compiler,t,this.onLoadEndListener).pipe(Go(()=>{this.childrenLoaders.delete(r)})),s=new ga(o,()=>new he).pipe(ma());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function aR(n,e,t,r){return yo(n.loadChildren()).pipe(de(cR),wt(i=>i instanceof Qb||Array.isArray(i)?X(i):We(e.compileModuleAsync(i))),de(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Ss,[],{optional:!0,self:!0}).flat()),{routes:s.map(tw),injector:o}}))}function uH(n){return n&&typeof n=="object"&&"default"in n}function cR(n){return uH(n)?n.default:n}var Jp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>I(dH),providedIn:"root"})}return n})(),dH=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rw=new $(""),iw=new $("");function lR(n,e,t){let r=n.get(iw),i=n.get(Ie);return n.get(se).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),hH(n))),{onViewTransitionCreated:c}=r;return c&&Lt(n,()=>c({transition:a,from:e,to:t})),s})}function hH(n){return new Promise(e=>{fs({read:()=>setTimeout(e)},{injector:n})})}var ow=new $(""),em=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new he;transitionAbortSubject=new he;configLoader=I(Xp);environmentInjector=I(at);destroyRef=I(us);urlSerializer=I(Is);rootContexts=I(Ds);location=I(Ur);inputBindingEnabled=I(Au,{optional:!0})!==null;titleStrategy=I(nw);options=I(Ts,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=I(Jp);createViewTransition=I(rw,{optional:!0});navigationErrorHandler=I(ow,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>X(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new jp(i)),r=i=>this.events.next(new Bp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ee(L({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new tt(null),this.transitions.pipe(dt(r=>r!==null),qt(r=>{let i=!1,o=!1;return X(r).pipe(qt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",On.SupersededByNewNavigation),on;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ee(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&c!=="reload"){let u="";return this.events.next(new Gr(s.id,this.urlSerializer.serialize(s.rawUrl),u,Ya.IgnoredSameUrlNavigation)),s.resolve(!1),on}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return X(s).pipe(qt(u=>(this.events.next(new _o(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?on:Promise.resolve(u))),oH(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Wt(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=ee(L({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let d=new _u(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:d,source:p,restoredState:g,extras:_}=s,S=new _o(u,this.urlSerializer.serialize(d),p,g);this.events.next(S);let R=KP(this.rootComponentType).snapshot;return this.currentTransition=r=ee(L({},s),{targetSnapshot:R,urlAfterRedirects:d,extras:ee(L({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,X(r)}else{let u="";return this.events.next(new Gr(s.id,this.urlSerializer.serialize(s.extractedUrl),u,Ya.IgnoredByUrlHandlingStrategy)),s.resolve(!1),on}}),Wt(s=>{let a=new Np(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),de(s=>(this.currentTransition=r=ee(L({},s),{guards:D5(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),F5(this.environmentInjector,s=>this.events.next(s)),Wt(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Kp(this.urlSerializer,s.guardsResult);let a=new Fp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),dt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",On.GuardRejected),!1)),L0(s=>{if(s.guards.canActivateChecks.length!==0)return X(s).pipe(Wt(a=>{let c=new Lp(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),qt(a=>{let c=!1;return X(a).pipe(sH(this.paramsInheritanceStrategy,this.environmentInjector),Wt({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",On.NoDataFromResolver)}}))}),Wt(a=>{let c=new Vp(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),L0(s=>{let a=c=>{let u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(Wt(d=>{c.component=d}),de(()=>{})));for(let d of c.children)u.push(...a(d));return u};return Wo(a(s.targetSnapshot.root)).pipe(ao(null),ht(1))}),L0(()=>this.afterPreactivation()),qt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?We(c).pipe(de(()=>r)):X(r)}),de(s=>{let a=b5(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ee(L({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Wt(()=>{this.events.next(new yu)}),I5(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),ht(1),Wt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ar(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Qn(this.transitionAbortSubject.pipe(Wt(s=>{throw s}))),Go(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",On.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),ot(s=>{if(this.destroyed)return r.resolve(!1),on;if(o=!0,eR(s))this.events.next(new qr(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),C5(s)?this.events.next(new Xa(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Qa(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=Lt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Ja){let{message:u,cancellationCode:d}=Kp(this.urlSerializer,c);this.events.next(new qr(r.id,this.urlSerializer.serialize(r.extractedUrl),u,d)),this.events.next(new Xa(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return on}))}))}cancelNavigationTransition(t,r,i){let o=new qr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fH(n){return n!==Rp}var uR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>I(pH),providedIn:"root"})}return n})(),Qp=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},pH=(()=>{class n extends Qp{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ct(n)))(i||n)}})();static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dR=(()=>{class n{urlSerializer=I(Is);options=I(Ts,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=I(Ur);urlHandlingStrategy=I(Jp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Wr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Wr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=KP(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>I(mH),providedIn:"root"})}return n})(),mH=(()=>{class n extends dR{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof _o?this.updateStateMemento():t instanceof Gr?this.commitTransition(r):t instanceof _u?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof yu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof qr&&(t.code===On.GuardRejected||t.code===On.NoDataFromResolver)?this.restoreHistory(r):t instanceof Qa?this.restoreHistory(r,!0):t instanceof ar&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=L(L({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=L(L({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ct(n)))(i||n)}})();static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tm(n,e){n.events.pipe(dt(t=>t instanceof ar||t instanceof qr||t instanceof Qa||t instanceof Gr),de(t=>t instanceof ar||t instanceof Gr?0:(t instanceof qr?t.code===On.Redirect||t.code===On.SupersededByNewNavigation:!1)?2:1),dt(t=>t!==2),ht(1)).subscribe(()=>{e()})}var gH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ae=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=I(uM);stateManager=I(dR);options=I(Ts,{optional:!0})||{};pendingTasks=I(Mi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=I(em);urlSerializer=I(Is);location=I(Ur);urlHandlingStrategy=I(Jp);_events=new he;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=I(uR);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=I(Ss,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!I(Au,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new et;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof qr&&r.code!==On.Redirect&&r.code!==On.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ar)this.navigated=!0;else if(r instanceof Xa){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||fH(i.source)},s);this.scheduleNavigation(a,Rp,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}yH(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Rp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=L({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(tw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=zP(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return qP(p,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=vo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Rp,null,r)}navigate(t,r={skipLocationChange:!1}){return _H(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=L({},gH):r===!1?i=L({},vH):i=r,vo(t))return DP(this.currentUrlTree,t,i);let o=this.parseUrl(t);return DP(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((p,g)=>{a=p,c=g});let d=this.pendingTasks.add();return tm(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _H(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new K(4008,!1)}function yH(n){return!(n instanceof yu)&&!(n instanceof Xa)}var nm=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new he;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof ar&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(vo(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:Ix(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:vo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(j(Ae),j(ln),Ib("tabindex"),j(br),j(Je),j(rr))};static \u0275dir=fe({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&G("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&tr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Zt],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Zt],replaceUrl:[2,"replaceUrl","replaceUrl",Zt],routerLink:"routerLink"},features:[Bn]})}return n})();var Mu=class{};var hR=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(dt(t=>t instanceof ar),Rr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Wl(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return We(i).pipe(oo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=X(null);let o=i.pipe(wt(s=>s===null?X(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return We([o,s]).pipe(oo())}else return o})}static \u0275fac=function(r){return new(r||n)(Y(Ae),Y(at),Y(Mu),Y(Xp))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fR=new $(""),bH=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof _o?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ar?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Gr&&t.code===Ya.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Za&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Za(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Xx()};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();function aw(n,...e){return Ti([{provide:Ss,multi:!0,useValue:n},[],{provide:ln,useFactory:pR,deps:[Ae]},{provide:Zf,multi:!0,useFactory:mR},e.map(t=>t.\u0275providers)])}function pR(n){return n.routerState.root}function nc(n,e){return{\u0275kind:n,\u0275providers:e}}function mR(){let n=I(Fe);return e=>{let t=n.get(yr);if(e!==t.components[0])return;let r=n.get(Ae),i=n.get(gR);n.get(cw)===1&&r.initialNavigation(),n.get(yR,null,Ee.Optional)?.setUpPreloading(),n.get(fR,null,Ee.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var gR=new $("",{factory:()=>new he}),cw=new $("",{providedIn:"root",factory:()=>1});function vR(){let n=[{provide:cw,useValue:0},Jb(()=>{let e=I(Fe);return e.get(c0,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(Ae),o=e.get(gR);tm(i,()=>{r(!0)}),e.get(em).afterPreactivation=()=>(r(!0),o.closed?X(void 0):o),i.initialNavigation()}))})];return nc(2,n)}function _R(){let n=[Jb(()=>{I(Ae).setUpLocationChangeListener()}),{provide:cw,useValue:2}];return nc(3,n)}var yR=new $("");function bR(n){return nc(0,[{provide:yR,useExisting:hR},{provide:Mu,useExisting:n}])}function lw(){return nc(6,[{provide:rr,useClass:pp}])}function rm(){return nc(8,[J0,{provide:Au,useExisting:J0}])}function wR(n){hs("NgRouterViewTransitions");let e=[{provide:rw,useValue:lR},{provide:iw,useValue:L({skipNextTransition:!!n?.skipInitialTransition},n)}];return nc(9,e)}var ER=[Ur,{provide:Is,useClass:go},Ae,Ds,{provide:ln,useFactory:pR,deps:[Ae]},Xp,[]],As=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[ER,[],{provide:Ss,multi:!0,useValue:t},[],r?.errorHandler?{provide:ow,useValue:r.errorHandler}:[],{provide:Ts,useValue:r||{}},r?.useHash?EH():CH(),wH(),r?.preloadingStrategy?bR(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?IH(r):[],r?.bindToComponentInputs?rm().\u0275providers:[],r?.enableViewTransitions?wR().\u0275providers:[],DH()]}}static forChild(t){return{ngModule:n,providers:[{provide:Ss,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Kt({})}return n})();function wH(){return{provide:fR,useFactory:()=>{let n=I(rP),e=I(se),t=I(Ts),r=I(em),i=I(Is);return t.scrollOffset&&n.setOffset(t.scrollOffset),new bH(i,r,n,e,t)}}}function EH(){return{provide:rr,useClass:pp}}function CH(){return{provide:rr,useClass:ip}}function IH(n){return[n.initialNavigation==="disabled"?_R().\u0275providers:[],n.initialNavigation==="enabledBlocking"?vR().\u0275providers:[]]}var sw=new $("");function DH(){return[{provide:sw,useFactory:mR},{provide:Zf,multi:!0,useExisting:sw}]}var RR=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(j(br),j(Je))};static \u0275dir=fe({type:n})}return n})(),Lu=(()=>{class n extends RR{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ct(n)))(i||n)}})();static \u0275dir=fe({type:n,features:[qe]})}return n})(),Ms=new $(""),TH={provide:Ms,useExisting:Ot(()=>fw),multi:!0},fw=(()=>{class n extends Lu{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ct(n)))(i||n)}})();static \u0275dir=fe({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&G("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Tt([TH]),qe]})}return n})(),SH={provide:Ms,useExisting:Ot(()=>jt),multi:!0};function AH(){let n=nr()?nr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var xH=new $(""),jt=(()=>{class n extends RR{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!AH())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(j(br),j(Je),j(xH,8))};static \u0275dir=fe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&G("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Tt([SH]),qe]})}return n})();function pw(n){return n==null||mw(n)===0}function mw(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Kr=new $(""),ac=new $(""),MH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,He=class{static min(e){return OR(e)}static max(e){return kR(e)}static required(e){return NR(e)}static requiredTrue(e){return PH(e)}static email(e){return FR(e)}static minLength(e){return RH(e)}static maxLength(e){return OH(e)}static pattern(e){return kH(e)}static nullValidator(e){return om()}static compose(e){return $R(e)}static composeAsync(e){return HR(e)}};function OR(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function kR(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function NR(n){return pw(n.value)?{required:!0}:null}function PH(n){return n.value===!0?null:{required:!0}}function FR(n){return pw(n.value)||MH.test(n.value)?null:{email:!0}}function RH(n){return e=>{let t=e.value?.length??mw(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function OH(n){return e=>{let t=e.value?.length??mw(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function kH(n){if(!n)return om;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(pw(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function om(n){return null}function LR(n){return n!=null}function VR(n){return fo(n)?We(n):n}function jR(n){let e={};return n.forEach(t=>{e=t!=null?L(L({},e),t):e}),Object.keys(e).length===0?null:e}function BR(n,e){return e.map(t=>t(n))}function NH(n){return!n.validate}function UR(n){return n.map(e=>NH(e)?e:t=>e.validate(t))}function $R(n){if(!n)return null;let e=n.filter(LR);return e.length==0?null:function(t){return jR(BR(t,e))}}function gw(n){return n!=null?$R(UR(n)):null}function HR(n){if(!n)return null;let e=n.filter(LR);return e.length==0?null:function(t){let r=BR(t,e).map(VR);return z_(r).pipe(de(jR))}}function vw(n){return n!=null?HR(UR(n)):null}function CR(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function zR(n){return n._rawValidators}function qR(n){return n._rawAsyncValidators}function uw(n){return n?Array.isArray(n)?n:[n]:[]}function sm(n,e){return Array.isArray(n)?n.includes(e):n===e}function IR(n,e){let t=uw(e);return uw(n).forEach(i=>{sm(t,i)||t.push(i)}),t}function DR(n,e){return uw(e).filter(t=>!sm(n,t))}var am=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=gw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},wn=class extends am{name;get formDirective(){return null}get path(){return null}},xs=class extends am{_parent=null;name=null;valueAccessor=null},cm=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},FH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Sse=ee(L({},FH),{"[class.ng-submitted]":"isSubmitted"}),un=(()=>{class n extends cm{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(j(xs,2))};static \u0275dir=fe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ke("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[qe]})}return n})(),Yr=(()=>{class n extends cm{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(j(wn,10))};static \u0275dir=fe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ke("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[qe]})}return n})();var Pu="VALID",im="INVALID",rc="PENDING",Ru="DISABLED",bo=class{},lm=class extends bo{value;source;constructor(e,t){super(),this.value=e,this.source=t}},ku=class extends bo{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Nu=class extends bo{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},ic=class extends bo{status;source;constructor(e,t){super(),this.status=e,this.source=t}},um=class extends bo{source;constructor(e){super(),this.source=e}},dm=class extends bo{source;constructor(e){super(),this.source=e}};function _w(n){return(mm(n)?n.validators:n)||null}function LH(n){return Array.isArray(n)?gw(n):n||null}function yw(n,e){return(mm(e)?e.asyncValidators:n)||null}function VH(n){return Array.isArray(n)?vw(n):n||null}function mm(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function WR(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new K(1e3,"");if(!r[t])throw new K(1001,"")}function GR(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new K(1002,"")})}var oc=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return bn(this.statusReactive)}set status(e){bn(()=>this.statusReactive.set(e))}_status=vs(()=>this.statusReactive());statusReactive=ds(void 0);get valid(){return this.status===Pu}get invalid(){return this.status===im}get pending(){return this.status==rc}get disabled(){return this.status===Ru}get enabled(){return this.status!==Ru}errors;get pristine(){return bn(this.pristineReactive)}set pristine(e){bn(()=>this.pristineReactive.set(e))}_pristine=vs(()=>this.pristineReactive());pristineReactive=ds(!0);get dirty(){return!this.pristine}get touched(){return bn(this.touchedReactive)}set touched(e){bn(()=>this.touchedReactive.set(e))}_touched=vs(()=>this.touchedReactive());touchedReactive=ds(!1);get untouched(){return!this.touched}_events=new he;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(IR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(IR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(DR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(DR(e,this._rawAsyncValidators))}hasValidator(e){return sm(this._rawValidators,e)}hasAsyncValidator(e){return sm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ee(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Nu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Nu(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ee(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ku(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new ku(!0,r))}markAsPending(e={}){this.status=rc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ic(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ee(L({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ru,this.errors=null,this._forEachChild(i=>{i.disable(ee(L({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new lm(this.value,r)),this._events.next(new ic(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ee(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Pu,this._forEachChild(r=>{r.enable(ee(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ee(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pu||this.status===rc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new lm(this.value,t)),this._events.next(new ic(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ee(L({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ru:Pu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=rc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=VR(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ic(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ze,this.statusChanges=new Ze}_calculateStatus(){return this._allControlsDisabled()?Ru:this.errors?im:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rc)?rc:this._anyControlsHaveStatus(im)?im:Pu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new ku(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Nu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){mm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=LH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=VH(this._rawAsyncValidators)}},sc=class extends oc{constructor(e,t,r){super(_w(t),yw(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){GR(this,!0,e),Object.keys(e).forEach(r=>{WR(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var dw=class extends sc{};var Vu=new $("",{providedIn:"root",factory:()=>gm}),gm="always";function vm(n,e){return[...e.path,n]}function hm(n,e,t=gm){bw(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),BH(n,e),$H(n,e),UH(n,e),jH(n,e)}function TR(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),pm(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function fm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function jH(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function bw(n,e){let t=zR(n);e.validator!==null?n.setValidators(CR(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=qR(n);e.asyncValidator!==null?n.setAsyncValidators(CR(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();fm(e._rawValidators,i),fm(e._rawAsyncValidators,i)}function pm(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=zR(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=qR(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return fm(e._rawValidators,r),fm(e._rawAsyncValidators,r),t}function BH(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&KR(n,e)})}function UH(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&KR(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function KR(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function $H(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function YR(n,e){n==null,bw(n,e)}function HH(n,e){return pm(n,e)}function QR(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function zH(n){return Object.getPrototypeOf(n.constructor)===Lu}function ZR(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function XR(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===jt?t=o:zH(o)?r=o:i=o}),i||r||t||null}function qH(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var WH={provide:wn,useExisting:Ot(()=>Ps)},Ou=Promise.resolve(),Ps=(()=>{class n extends wn{callSetDisabledState;get submitted(){return bn(this.submittedReactive)}_submitted=vs(()=>this.submittedReactive());submittedReactive=ds(!1);_directives=new Set;form;ngSubmit=new Ze;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new sc({},gw(t),vw(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ou.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),hm(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ou.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ou.then(()=>{let r=this._findContainer(t.path),i=new sc({});YR(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ou.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ou.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),ZR(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new um(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new dm(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(j(Kr,10),j(ac,10),j(Vu,8))};static \u0275dir=fe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&G("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Tt([WH]),qe]})}return n})();function SR(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function AR(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Fu=class extends oc{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(_w(t),yw(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(AR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){SR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){SR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){AR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var GH=n=>n instanceof Fu,KH=(()=>{class n extends wn{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return vm(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ct(n)))(i||n)}})();static \u0275dir=fe({type:n,standalone:!1,features:[qe]})}return n})();var YH={provide:xs,useExisting:Ot(()=>qn)},xR=Promise.resolve(),qn=(()=>{class n extends xs{_changeDetectorRef;callSetDisabledState;control=new Fu;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ze;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=XR(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),QR(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){hm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){xR.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Zt(r);xR.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?vm(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(j(wn,9),j(Kr,10),j(ac,10),j(Ms,10),j(wr,8),j(Vu,8))};static \u0275dir=fe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Tt([YH]),qe,Bn]})}return n})();var Qr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=fe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),QH={provide:Ms,useExisting:Ot(()=>ju),multi:!0},ju=(()=>{class n extends Lu{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ct(n)))(i||n)}})();static \u0275dir=fe({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&G("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Tt([QH]),qe]})}return n})();var JR=new $("");var ZH={provide:wn,useExisting:Ot(()=>cc)},cc=(()=>{class n extends wn{callSetDisabledState;get submitted(){return bn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=vs(()=>this._submittedReactive());_submittedReactive=ds(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Ze;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(pm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return hm(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){TR(t.control||null,t,!1),qH(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),ZR(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new um(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new dm(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(TR(r||null,t),GH(i)&&(hm(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);YR(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&HH(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bw(this.form,this),this._oldForm&&pm(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(j(Kr,10),j(ac,10),j(Vu,8))};static \u0275dir=fe({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&G("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Tt([ZH]),qe,Bn]})}return n})(),XH={provide:wn,useExisting:Ot(()=>_m)},_m=(()=>{class n extends KH{name=null;constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){eO(this._parent)}static \u0275fac=function(r){return new(r||n)(j(wn,13),j(Kr,10),j(ac,10))};static \u0275dir=fe({type:n,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[Tt([XH]),qe]})}return n})(),JH={provide:wn,useExisting:Ot(()=>ym)},ym=(()=>{class n extends wn{_parent;name=null;constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){eO(this._parent),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective?.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return vm(this.name==null?this.name:this.name.toString(),this._parent)}static \u0275fac=function(r){return new(r||n)(j(wn,13),j(Kr,10),j(ac,10))};static \u0275dir=fe({type:n,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[Tt([JH]),qe]})}return n})();function eO(n){return!(n instanceof _m)&&!(n instanceof cc)&&!(n instanceof ym)}var ez={provide:xs,useExisting:Ot(()=>Bu)},Bu=(()=>{class n extends xs{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new Ze;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=XR(this,o)}ngOnChanges(t){this._added||this._setUpControl(),QR(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return vm(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(j(wn,13),j(Kr,10),j(ac,10),j(Ms,10),j(JR,8))};static \u0275dir=fe({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Tt([ez]),qe,Bn]})}return n})();var tz={provide:Ms,useExisting:Ot(()=>Zr),multi:!0};function tO(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function nz(n){return n.split(":")[0]}var Zr=(()=>{class n extends Lu{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=tO(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=nz(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ct(n)))(i||n)}})();static \u0275dir=fe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&G("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Tt([tz]),qe]})}return n})(),wo=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(tO(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(j(Je),j(br),j(Zr,9))};static \u0275dir=fe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),rz={provide:Ms,useExisting:Ot(()=>nO),multi:!0};function MR(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function iz(n){return n.split(":")[0]}var nO=(()=>{class n extends Lu{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=iz(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ct(n)))(i||n)}})();static \u0275dir=fe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&G("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Tt([rz]),qe]})}return n})(),Eo=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(MR(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(MR(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(j(Je),j(br),j(nO,9))};static \u0275dir=fe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function rO(n){return typeof n=="number"?n:parseFloat(n)}var bm=(()=>{class n{_validator=om;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):om,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=fe({type:n,features:[Bn]})}return n})(),oz={provide:Kr,useExisting:Ot(()=>ww),multi:!0},ww=(()=>{class n extends bm{max;inputName="max";normalizeInput=t=>rO(t);createValidator=t=>kR(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ct(n)))(i||n)}})();static \u0275dir=fe({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&tr("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[Tt([oz]),qe]})}return n})(),sz={provide:Kr,useExisting:Ot(()=>Uu),multi:!0},Uu=(()=>{class n extends bm{min;inputName="min";normalizeInput=t=>rO(t);createValidator=t=>OR(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ct(n)))(i||n)}})();static \u0275dir=fe({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&tr("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[Tt([sz]),qe]})}return n})(),az={provide:Kr,useExisting:Ot(()=>Rs),multi:!0};var Rs=(()=>{class n extends bm{required;inputName="required";normalizeInput=Zt;createValidator=t=>NR;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ct(n)))(i||n)}})();static \u0275dir=fe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&tr("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Tt([az]),qe]})}return n})();var cz={provide:Kr,useExisting:Ot(()=>Ew),multi:!0},Ew=(()=>{class n extends bm{email;inputName="email";normalizeInput=Zt;createValidator=t=>FR;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ct(n)))(i||n)}})();static \u0275dir=fe({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},standalone:!1,features:[Tt([cz]),qe]})}return n})();var iO=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Kt({})}return n})(),hw=class extends oc{constructor(e,t,r){super(_w(t),yw(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){GR(this,!1,e),e.forEach((r,i)=>{WR(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function PR(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var wm=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return PR(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new sc(i,o)}record(t,r=null){let i=this._reduceControls(t);return new dw(i,r)}control(t,r,i){let o={};return this.useNonNullable?(PR(r)?o=r:(o.validators=r,o.asyncValidators=i),new Fu(t,ee(L({},o),{nonNullable:!0}))):new Fu(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new hw(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Fu)return t;if(t instanceof oc)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var kn=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Vu,useValue:t.callSetDisabledState??gm}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Kt({imports:[iO]})}return n})(),lc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:JR,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Vu,useValue:t.callSetDisabledState??gm}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Kt({imports:[iO]})}return n})();var oO=()=>{};var cO=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},lz=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Em={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,d=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|u>>6,_=u&63;c||(_=64,s||(g=64)),r.push(t[d],t[p],t[g],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(cO(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):lz(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||p==null)throw new Iw;let g=o<<2|a>>4;if(r.push(g),u!==64){let _=a<<4&240|u>>2;if(r.push(_),p!==64){let S=u<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Iw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},uz=function(n){let e=cO(n);return Em.encodeByteArray(e,!0)},Hu=function(n){return uz(n).replace(/\./g,"")},Cm=function(n){try{return Em.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Tw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var dz=()=>Tw().__FIREBASE_DEFAULTS__,hz=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},fz=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Cm(n[1]);return e&&JSON.parse(e)},Im=()=>{try{return oO()||dz()||hz()||fz()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Sw=n=>{var e,t;return(t=(e=Im())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},lO=n=>{let e=Sw(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Aw=()=>{var n;return(n=Im())===null||n===void 0?void 0:n.config},xw=n=>{var e;return(e=Im())===null||e===void 0?void 0:e[`_${n}`]};var Os=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function ks(n){return n.endsWith(".cloudworkstations.dev")}function Dm(n){return w(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function uO(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Hu(JSON.stringify(t)),Hu(JSON.stringify(s)),""].join(".")}var $u={};function pz(){let n={prod:[],emulator:[]};for(let e of Object.keys($u))$u[e]?n.emulator.push(e):n.prod.push(e);return n}function mz(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var sO=!1;function Tm(n,e){if(typeof window>"u"||typeof document>"u"||!ks(window.location.host)||$u[n]===e||$u[n]||sO)return;$u[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=pz().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,_){g.setAttribute("width","24"),g.setAttribute("id",_),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{sO=!0,s()},g}function d(g,_){g.setAttribute("id",_),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=mz(r),_=t("text"),S=document.getElementById(_)||document.createElement("span"),R=t("learnmore"),k=document.getElementById(R)||document.createElement("a"),q=t("preprendIcon"),J=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let Z=g.element;a(Z),d(k,R);let ke=u();c(J,q),Z.append(J,S,k,ke),document.body.appendChild(Z)}o?(S.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function gz(){var n;let e=(n=Im())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fO(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function pO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mO(){let n=Bt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function gO(){return!gz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zu(){try{return typeof indexedDB=="object"}catch{return!1}}function vO(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var vz="FirebaseError",Wn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=vz,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dr.prototype.create)}},Dr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?_z(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Wn(i,a,r)}};function _z(n,e){return n.replace(yz,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var yz=/\{\$([^}]+)}/g;function _O(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Xr(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(aO(o)&&aO(s)){if(!Xr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function aO(n){return n!==null&&typeof n=="object"}function qu(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function uc(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function dc(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function yO(n,e){let t=new Dw(n,e);return t.subscribe.bind(t)}var Dw=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");bz(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Cw),i.error===void 0&&(i.error=Cw),i.complete===void 0&&(i.complete=Cw);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function bz(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Cw(){}var Rse=4*60*60*1e3;function Xt(n){return n&&n._delegate?n._delegate:n}var En=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ns="[DEFAULT]";var Mw=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Os;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ez(e))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ns){return this.instances.has(e)}getOptions(e=Ns){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wz(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ns){return this.component?this.component.multipleInstances?e:Ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function wz(n){return n===Ns?void 0:n}function Ez(n){return n.instantiationMode==="EAGER"}var Sm=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Mw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Cz=[],Re=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Re||{}),Iz={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},Dz=Re.INFO,Tz={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},Sz=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=Tz[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Jr=class{constructor(e){this.name=e,this._logLevel=Dz,this._logHandler=Sz,this._userLogHandler=null,Cz.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Iz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}};var Az=(n,e)=>e.some(t=>n instanceof t),bO,wO;function xz(){return bO||(bO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mz(){return wO||(wO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var EO=new WeakMap,Rw=new WeakMap,CO=new WeakMap,Pw=new WeakMap,kw=new WeakMap;function Pz(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(ei(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&EO.set(t,n)}).catch(()=>{}),kw.set(e,n),e}function Rz(n){if(Rw.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Rw.set(n,e)}var Ow={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Rw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||CO.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ei(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function IO(n){Ow=n(Ow)}function Oz(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Am(this),e,...t);return CO.set(r,e.sort?e.sort():[e]),ei(r)}:Mz().includes(n)?function(...e){return n.apply(Am(this),e),ei(EO.get(this))}:function(...e){return ei(n.apply(Am(this),e))}}function kz(n){return typeof n=="function"?Oz(n):(n instanceof IDBTransaction&&Rz(n),Az(n,xz())?new Proxy(n,Ow):n)}function ei(n){if(n instanceof IDBRequest)return Pz(n);if(Pw.has(n))return Pw.get(n);let e=kz(n);return e!==n&&(Pw.set(n,e),kw.set(e,n)),e}var Am=n=>kw.get(n);function TO(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=ei(s);return r&&s.addEventListener("upgradeneeded",c=>{r(ei(s.result),c.oldVersion,c.newVersion,ei(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var Nz=["get","getKey","getAll","getAllKeys","count"],Fz=["put","add","delete","clear"],Nw=new Map;function DO(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Nw.get(e))return Nw.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Fz.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Nz.includes(t)))return;let o=function(s,...a){return w(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&c.done]))[0]})};return Nw.set(e,o),o}IO(n=>ee(L({},n),{get:(e,t,r)=>DO(e,t)||n.get(e,t,r),has:(e,t)=>!!DO(e,t)||n.has(e,t)}));var Lw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Lz(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Lz(n){let e=n.getComponent();return e?.type==="VERSION"}var Vw="@firebase/app",SO="0.13.0";var Ni=new Jr("@firebase/app"),Vz="@firebase/app-compat",jz="@firebase/analytics-compat",Bz="@firebase/analytics",Uz="@firebase/app-check-compat",$z="@firebase/app-check",Hz="@firebase/auth",zz="@firebase/auth-compat",qz="@firebase/database",Wz="@firebase/data-connect",Gz="@firebase/database-compat",Kz="@firebase/functions",Yz="@firebase/functions-compat",Qz="@firebase/installations",Zz="@firebase/installations-compat",Xz="@firebase/messaging",Jz="@firebase/messaging-compat",e8="@firebase/performance",t8="@firebase/performance-compat",n8="@firebase/remote-config",r8="@firebase/remote-config-compat",i8="@firebase/storage",o8="@firebase/storage-compat",s8="@firebase/firestore",a8="@firebase/ai",c8="@firebase/firestore-compat",l8="firebase",u8="11.8.0";var jw="[DEFAULT]",d8={[Vw]:"fire-core",[Vz]:"fire-core-compat",[Bz]:"fire-analytics",[jz]:"fire-analytics-compat",[$z]:"fire-app-check",[Uz]:"fire-app-check-compat",[Hz]:"fire-auth",[zz]:"fire-auth-compat",[qz]:"fire-rtdb",[Wz]:"fire-data-connect",[Gz]:"fire-rtdb-compat",[Kz]:"fire-fn",[Yz]:"fire-fn-compat",[Qz]:"fire-iid",[Zz]:"fire-iid-compat",[Xz]:"fire-fcm",[Jz]:"fire-fcm-compat",[e8]:"fire-perf",[t8]:"fire-perf-compat",[n8]:"fire-rc",[r8]:"fire-rc-compat",[i8]:"fire-gcs",[o8]:"fire-gcs-compat",[s8]:"fire-fst",[c8]:"fire-fst-compat",[a8]:"fire-vertex","fire-js":"fire-js",[l8]:"fire-js-all"};var Wu=new Map,h8=new Map,Bw=new Map;function AO(n,e){try{n.container.addComponent(e)}catch(t){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Tr(n){let e=n.name;if(Bw.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;Bw.set(e,n);for(let t of Wu.values())AO(t,n);for(let t of h8.values())AO(t,n);return!0}function hc(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Nn(n){return n==null?!1:n.settings!==void 0}var f8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Io=new Dr("app","Firebase",f8);var Uw=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new En("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Io.create("app-deleted",{appName:this._name})}};var Do=u8;function Ku(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:jw,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Io.create("bad-app-name",{appName:String(i)});if(t||(t=Aw()),!t)throw Io.create("no-options");let o=Wu.get(i);if(o){if(Xr(t,o.options)&&Xr(r,o.config))return o;throw Io.create("duplicate-app",{appName:i})}let s=new Sm(i);for(let c of Bw.values())s.addComponent(c);let a=new Uw(t,r,s);return Wu.set(i,a),a}function Fs(n=jw){let e=Wu.get(n);if(!e&&n===jw&&Aw())return Ku();if(!e)throw Io.create("no-app",{appName:n});return e}function xm(){return Array.from(Wu.values())}function At(n,e,t){var r;let i=(r=d8[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(a.join(" "));return}Tr(new En(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var p8="firebase-heartbeat-database",m8=1,Gu="firebase-heartbeat-store",Fw=null;function RO(){return Fw||(Fw=TO(p8,m8,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Gu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Io.create("idb-open",{originalErrorMessage:n.message})})),Fw}function g8(n){return w(this,null,function*(){try{let t=(yield RO()).transaction(Gu),r=yield t.objectStore(Gu).get(OO(n));return yield t.done,r}catch(e){if(e instanceof Wn)Ni.warn(e.message);else{let t=Io.create("idb-get",{originalErrorMessage:e?.message});Ni.warn(t.message)}}})}function xO(n,e){return w(this,null,function*(){try{let r=(yield RO()).transaction(Gu,"readwrite");yield r.objectStore(Gu).put(e,OO(n)),yield r.done}catch(t){if(t instanceof Wn)Ni.warn(t.message);else{let r=Io.create("idb-set",{originalErrorMessage:t?.message});Ni.warn(r.message)}}})}function OO(n){return`${n.name}!${n.options.appId}`}var v8=1024,_8=30,$w=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Hw(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=MO();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>_8){let s=b8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ni.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=MO(),{heartbeatsToSend:r,unsentEntries:i}=y8(this._heartbeatsCache.heartbeats),o=Hu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ni.warn(t),""}})}};function MO(){return new Date().toISOString().substring(0,10)}function y8(n,e=v8){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),PO(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),PO(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Hw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return zu()?vO().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield g8(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return xO(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return xO(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function PO(n){return Hu(JSON.stringify({version:2,heartbeats:n})).length}function b8(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function w8(n){Tr(new En("platform-logger",e=>new Lw(e),"PRIVATE")),Tr(new En("heartbeat",e=>new $w(e),"PRIVATE")),At(Vw,SO,n),At(Vw,SO,"esm2017"),At("fire-js","")}w8("");function YO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var QO=YO,ZO=new Dr("auth","Firebase",YO());var Nm=new Jr("@firebase/auth");function E8(n,...e){Nm.logLevel<=Re.WARN&&Nm.warn(`Auth (${Do}): ${n}`,...e)}function Pm(n,...e){Nm.logLevel<=Re.ERROR&&Nm.error(`Auth (${Do}): ${n}`,...e)}function ni(n,...e){throw fE(n,...e)}function Ls(n,...e){return fE(n,...e)}function XO(n,e,t){let r=Object.assign(Object.assign({},QO()),{[e]:t});return new Dr("auth","Firebase",r).create(e,{appName:n.name})}function Vi(n){return XO(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fE(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return ZO.create(n,...e)}function re(n,e,...t){if(!n)throw fE(e,...t)}function Fi(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Pm(e),new Error(e)}function Ao(n,e){n||Fi(e)}function Gw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function C8(){return kO()==="http:"||kO()==="https:"}function kO(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function I8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(C8()||fO()||"connection"in navigator)?navigator.onLine:!0}function D8(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Vs=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ao(t>e,"Short delay should be less than long delay!"),this.isMobile=dO()||pO()}get(){return I8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function pE(n,e){Ao(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Fm=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var T8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var S8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],A8=new Vs(3e4,6e4);function ji(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ri(o,s,a,c){return w(this,arguments,function*(n,e,t,r,i={}){return JO(n,i,()=>w(null,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let p=qu(Object.assign({key:n.config.apiKey},d)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let _=Object.assign({method:e,headers:g},u);return hO()||(_.referrerPolicy="no-referrer"),n.emulatorConfig&&ks(n.emulatorConfig.host)&&(_.credentials="include"),Fm.fetch()(yield ek(n,n.config.apiHost,t,p),_)}))})}function JO(n,e,t){return w(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},T8),e);try{let i=new Kw(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Mm(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mm(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Mm(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw Mm(n,"user-disabled",s);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw XO(n,d,u);ni(n,d)}}catch(i){if(i instanceof Wn)throw i;ni(n,"network-request-failed",{message:String(i)})}})}function nd(o,s,a,c){return w(this,arguments,function*(n,e,t,r,i={}){let u=yield ri(n,e,t,r,i);return"mfaPendingCredential"in u&&ni(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function ek(n,e,t,r){return w(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?pE(n.config,i):`${n.config.apiScheme}://${i}`;return S8.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function x8(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Kw=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ls(this.auth,"network-request-failed")),A8.get())})}};function Mm(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Ls(n,e,r);return i.customData._tokenResponse=t,i}function NO(n){return n!==void 0&&n.enterprise!==void 0}var Yw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return x8(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function M8(n,e){return w(this,null,function*(){return ri(n,"GET","/v2/recaptchaConfig",ji(n,e))})}function P8(n,e){return w(this,null,function*(){return ri(n,"POST","/v1/accounts:delete",e)})}function Lm(n,e){return w(this,null,function*(){return ri(n,"POST","/v1/accounts:lookup",e)})}function Qu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function mE(n,e=!1){return w(this,null,function*(){let t=Xt(n),r=yield t.getIdToken(e),i=gE(r);re(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Qu(zw(i.auth_time)),issuedAtTime:Qu(zw(i.iat)),expirationTime:Qu(zw(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function zw(n){return Number(n)*1e3}function gE(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Pm("JWT malformed, contained fewer than 3 sections"),null;try{let i=Cm(t);return i?JSON.parse(i):(Pm("Failed to decode base64 JWT payload"),null)}catch(i){return Pm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function FO(n){let e=gE(n);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function fc(n,e,t=!1){return w(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Wn&&R8(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function R8({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Qw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),t)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Xu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qu(this.lastLoginAt),this.creationTime=Qu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Vm(n){return w(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield fc(n,Lm(t,{idToken:r}));re(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?tk(o.providerUserInfo):[],a=O8(n.providerData,s),c=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,d=c?u:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Xu(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,p)})}function vE(n){return w(this,null,function*(){let e=Xt(n);yield Vm(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function O8(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tk(n){return n.map(e=>{var{providerId:t}=e,r=H_(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function k8(n,e){return w(this,null,function*(){let t=yield JO(n,{},()=>w(null,null,function*(){let r=qu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield ek(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Fm.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function N8(n,e){return w(this,null,function*(){return ri(n,"POST","/v2/accounts:revokeToken",ji(n,e))})}var Zu=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):FO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){re(e.length!==0,"internal-error");let t=FO(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return w(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield k8(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(re(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(re(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Fi("not implemented")}};function To(n,e){re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var So=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=H_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Xu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let t=yield fc(this,this.stsTokenManager.getToken(this.auth,e));return re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return mE(this,e)}reload(){return vE(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Vm(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(Nn(this.auth.app))return Promise.reject(Vi(this.auth));let e=yield this.getIdToken();return yield fc(this,P8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,u,d;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,_=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=t.photoURL)!==null&&s!==void 0?s:void 0,R=(a=t.tenantId)!==null&&a!==void 0?a:void 0,k=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,q=(u=t.createdAt)!==null&&u!==void 0?u:void 0,J=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:Z,emailVerified:ke,isAnonymous:Dt,providerData:Ue,stsTokenManager:x}=t;re(Z&&x,e,"internal-error");let C=Zu.fromJSON(this.name,x);re(typeof Z=="string",e,"internal-error"),To(p,e.name),To(g,e.name),re(typeof ke=="boolean",e,"internal-error"),re(typeof Dt=="boolean",e,"internal-error"),To(_,e.name),To(S,e.name),To(R,e.name),To(k,e.name),To(q,e.name),To(J,e.name);let T=new n({uid:Z,auth:e,email:g,emailVerified:ke,displayName:p,isAnonymous:Dt,photoURL:S,phoneNumber:_,tenantId:R,stsTokenManager:C,createdAt:q,lastLoginAt:J});return Ue&&Array.isArray(Ue)&&(T.providerData=Ue.map(A=>Object.assign({},A))),k&&(T._redirectEventId=k),T}static _fromIdTokenResponse(e,t,r=!1){return w(this,null,function*(){let i=new Zu;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Vm(o),o})}static _fromGetAccountInfoResponse(e,t,r){return w(this,null,function*(){let i=t.users[0];re(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?tk(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Zu;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Xu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var LO=new Map;function Li(n){Ao(n instanceof Function,"Expected a class definition");let e=LO.get(n);return e?(Ao(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,LO.set(n,e),e)}var F8=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(t,r){return w(this,null,function*(){this.storage[t]=r})}_get(t){return w(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return w(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Zw=F8;function Rm(n,e,t){return`firebase:${n}:${e}:${t}`}var jm=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Rm(this.userKey,i.apiKey,o),this.fullPersistenceKey=Rm("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Lm(this.auth,{idToken:e}).catch(()=>{});return t?So._fromGetAccountInfoResponse(this.auth,t,e):null}return So._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return w(this,null,function*(){if(!t.length)return new n(Li(Zw),e,r);let i=(yield Promise.all(t.map(u=>w(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||Li(Zw),s=Rm(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let d=yield u._get(s);if(d){let p;if(typeof d=="string"){let g=yield Lm(e,{idToken:d}).catch(()=>{});if(!g)break;p=yield So._fromGetAccountInfoResponse(e,g,d)}else p=So._fromJSON(e,d);u!==o&&(a=p),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>w(null,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function VO(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ok(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ak(e))return"Blackberry";if(ck(e))return"Webos";if(rk(e))return"Safari";if((e.includes("chrome/")||ik(e))&&!e.includes("edge/"))return"Chrome";if(sk(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function nk(n=Bt()){return/firefox\//i.test(n)}function rk(n=Bt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ik(n=Bt()){return/crios\//i.test(n)}function ok(n=Bt()){return/iemobile/i.test(n)}function sk(n=Bt()){return/android/i.test(n)}function ak(n=Bt()){return/blackberry/i.test(n)}function ck(n=Bt()){return/webos/i.test(n)}function _E(n=Bt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function L8(n=Bt()){var e;return _E(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function V8(){return mO()&&document.documentMode===10}function lk(n=Bt()){return _E(n)||sk(n)||ck(n)||ak(n)||/windows phone/i.test(n)||ok(n)}function uk(n,e=[]){let t;switch(n){case"Browser":t=VO(Bt());break;case"Worker":t=`${VO(Bt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Do}/${r}`}var Xw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function j8(t){return w(this,arguments,function*(n,e={}){return ri(n,"GET","/v2/passwordPolicy",ji(n,e))})}var B8=6,Jw=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:B8,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var eE=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bm(this),this.idTokenSubscription=new Bm(this),this.beforeStateQueue=new Xw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Li(t)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield jm.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let t=yield Lm(this,{idToken:e}),r=yield So._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var t;if(Nn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Vm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=D8()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(Nn(this.app))return Promise.reject(Vi(this));let t=e?Xt(e):null;return t&&re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return w(this,null,function*(){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return Nn(this.app)?Promise.reject(Vi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Nn(this.app)?Promise.reject(Vi(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Li(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield j8(this),t=new Jw(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Dr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield N8(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Li(e)||this._popupRedirectResolver;re(t,this,"argument-error"),this.redirectPersistenceManager=yield jm.create(this,[Li(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return w(this,null,function*(){var e;if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&E8(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function xo(n){return Xt(n)}var Bm=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=yO(t=>this.observer=t)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Km={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function U8(n){Km=n}function dk(n){return Km.loadJS(n)}function $8(){return Km.recaptchaEnterpriseScript}function H8(){return Km.gapiScript}function hk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var tE=class{constructor(){this.enterprise=new nE}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},nE=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var z8="recaptcha-enterprise",fk="NO_RECAPTCHA",rE=class{constructor(e){this.type=z8,this.auth=xo(e)}verify(e="verify",t=!1){return w(this,null,function*(){function r(o){return w(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>w(null,null,function*(){M8(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new Yw(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;NO(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(fk)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tE().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&NO(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=$8();c.length!==0&&(c+=a),dk(c).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function Yu(n,e,t,r=!1,i=!1){return w(this,null,function*(){let o=new rE(n),s;if(i)s=fk;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Um(n,e,t,r,i){return w(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Yu(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>w(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield Yu(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Yu(n,e,t);return r(n,a).catch(c=>w(null,null,function*(){var u;if(((u=n._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let d=yield Yu(n,e,t,!1,!0);return r(n,d)}return Promise.reject(c)}))}else{let a=yield Yu(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function yE(n,e){let t=hc(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Xr(o,e??{}))return i;ni(i,"already-initialized")}return t.initialize({options:e})}function q8(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Li);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function bE(n,e,t){let r=xo(n);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=pk(e),{host:s,port:a}=W8(e),c=a===null?"":`:${a}`,u={url:`${o}//${s}${c}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(Xr(u,r.config.emulator)&&Xr(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,ks(s)?(Dm(`${o}//${s}${c}`),Tm("Auth",!0)):i||G8()}function pk(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function W8(n){let e=pk(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:jO(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:jO(s)}}}function jO(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function G8(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Ju=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Fi("not implemented")}_getIdTokenResponse(e){return Fi("not implemented")}_linkToIdToken(e,t){return Fi("not implemented")}_getReauthenticationResolver(e){return Fi("not implemented")}};function K8(n,e){return w(this,null,function*(){return ri(n,"POST","/v1/accounts:signUp",e)})}function Y8(n,e){return w(this,null,function*(){return nd(n,"POST","/v1/accounts:signInWithPassword",ji(n,e))})}function mk(n,e){return w(this,null,function*(){return ri(n,"POST","/v1/accounts:sendOobCode",ji(n,e))})}function Q8(n,e){return w(this,null,function*(){return mk(n,e)})}function Z8(n,e){return w(this,null,function*(){return mk(n,e)})}function X8(n,e){return w(this,null,function*(){return nd(n,"POST","/v1/accounts:signInWithEmailLink",ji(n,e))})}function J8(n,e){return w(this,null,function*(){return nd(n,"POST","/v1/accounts:signInWithEmailLink",ji(n,e))})}var ed=class n extends Ju{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Um(e,t,"signInWithPassword",Y8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return X8(e,{email:this._email,oobCode:this._password});default:ni(e,"internal-error")}})}_linkToIdToken(e,t){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Um(e,r,"signUpPassword",K8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return J8(e,{idToken:t,email:this._email,oobCode:this._password});default:ni(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function qw(n,e){return w(this,null,function*(){return nd(n,"POST","/v1/accounts:signInWithIdp",ji(n,e))})}function e6(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function t6(n){let e=uc(dc(n)).link,t=e?uc(dc(e)).deep_link_id:null,r=uc(dc(n)).deep_link_id;return(r?uc(dc(r)).link:null)||r||t||e||n}var $m=class n{constructor(e){var t,r,i,o,s,a;let c=uc(dc(e)),u=(t=c.apiKey)!==null&&t!==void 0?t:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,p=e6((i=c.mode)!==null&&i!==void 0?i:null);re(u&&d&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=d,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=t6(e);try{return new n(t)}catch{return null}}};var gk=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return ed._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=$m.parseLink(r);return re(i,"argument-error"),ed._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Hm=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var iE=class extends Hm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function n6(n,e){return w(this,null,function*(){return nd(n,"POST","/v1/accounts:signUp",ji(n,e))})}var pc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return w(this,null,function*(){let o=yield So._fromIdTokenResponse(e,r,i),s=BO(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=BO(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function BO(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var oE=class n extends Wn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function vk(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?oE._fromErrorAndOperation(n,o,e,r):o})}function r6(n,e,t=!1){return w(this,null,function*(){let r=yield fc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return pc._forOperation(n,"link",r)})}function i6(n,e,t=!1){return w(this,null,function*(){let{auth:r}=n;if(Nn(r.app))return Promise.reject(Vi(r));let i="reauthenticate";try{let o=yield fc(n,vk(r,i,e,n),t);re(o.idToken,r,"internal-error");let s=gE(o.idToken);re(s,r,"internal-error");let{sub:a}=s;return re(n.uid===a,r,"user-mismatch"),pc._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&ni(r,"user-mismatch"),o}})}function _k(n,e,t=!1){return w(this,null,function*(){if(Nn(n.app))return Promise.reject(Vi(n));let r="signIn",i=yield vk(n,r,e),o=yield pc._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function wE(n,e){return w(this,null,function*(){return _k(xo(n),e)})}function yk(n,e,t){var r;re(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),re(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),re(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(re(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(re(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function bk(n){return w(this,null,function*(){let e=xo(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Ym(n,e,t){return w(this,null,function*(){let r=xo(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&yk(r,i,t),yield Um(r,i,"getOobCode",Z8,"EMAIL_PASSWORD_PROVIDER")})}function Qm(n,e,t){return w(this,null,function*(){if(Nn(n.app))return Promise.reject(Vi(n));let r=xo(n),s=yield Um(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",n6,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&bk(n),c}),a=yield pc._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function Zm(n,e,t){return Nn(n.app)?Promise.reject(Vi(n)):wE(Xt(n),gk.credential(e,t)).catch(r=>w(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&bk(n),r}))}function Xm(n,e){return w(this,null,function*(){let t=Xt(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&yk(t.auth,i,e);let{email:o}=yield Q8(t.auth,i);o!==n.email&&(yield n.reload())})}function o6(n,e){return w(this,null,function*(){return ri(n,"POST","/v1/accounts:update",e)})}function Jm(r,i){return w(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let o=Xt(n),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=yield fc(o,o6(o.auth,a));o.displayName=c.displayName||null,o.photoURL=c.photoUrl||null;let u=o.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=o.displayName,u.photoURL=o.photoURL),yield o._updateTokensIfNecessary(c)})}function EE(n,e,t,r){return Xt(n).onIdTokenChanged(e,t,r)}function CE(n,e,t){return Xt(n).beforeAuthStateChanged(e,t)}function eg(n,e,t,r){return Xt(n).onAuthStateChanged(e,t,r)}var zm="__sak";var qm=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(zm,"1"),this.storage.removeItem(zm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var s6=1e3,a6=10,c6=(()=>{class n extends qm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lk(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);V8()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,a6):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},s6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return w(this,null,function*(){yield to(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return w(this,null,function*(){let r=yield to(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return w(this,null,function*(){yield to(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),wk=c6;var l6=(()=>{class n extends qm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),IE=l6;function u6(n){return Promise.all(n.map(e=>w(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var d6=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return w(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(d=>w(this,null,function*(){return d(r.origin,s)})),u=yield u6(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Ek(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var sE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=Ek("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function ti(){return window}function h6(n){ti().location.href=n}function Ck(){return typeof ti().WorkerGlobalScope<"u"&&typeof ti().importScripts=="function"}function f6(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function p6(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function m6(){return Ck()?self:null}var Ik="firebaseLocalStorageDb",g6=1,Wm="firebaseLocalStorage",Dk="fbase_key",js=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function tg(n,e){return n.transaction([Wm],e?"readwrite":"readonly").objectStore(Wm)}function v6(){let n=indexedDB.deleteDatabase(Ik);return new js(n).toPromise()}function aE(){let n=indexedDB.open(Ik,g6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Wm,{keyPath:Dk})}catch(i){t(i)}}),n.addEventListener("success",()=>w(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Wm)?e(r):(r.close(),yield v6(),e(yield aE()))}))})}function UO(n,e,t){return w(this,null,function*(){let r=tg(n,!0).put({[Dk]:e,value:t});return new js(r).toPromise()})}function _6(n,e){return w(this,null,function*(){let t=tg(n,!1).get(e),r=yield new js(t).toPromise();return r===void 0?null:r.value})}function $O(n,e){let t=tg(n,!0).delete(e);return new js(t).toPromise()}var y6=800,b6=3,w6=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield aE(),this.db)})}_withRetries(t){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>b6)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return Ck()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=d6._getInstance(m6()),this.receiver._subscribe("keyChanged",(t,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var t,r;if(this.activeServiceWorker=yield f6(),!this.activeServiceWorker)return;this.sender=new sE(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||p6()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let t=yield aE();return yield UO(t,zm,"1"),yield $O(t,zm),!0}catch{}return!1})}_withPendingWrite(t){return w(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>UO(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return w(this,null,function*(){let r=yield this._withRetries(i=>_6(i,t));return this.localCache[t]=r,r})}_remove(t){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>$O(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return w(this,null,function*(){let t=yield this._withRetries(o=>{let s=tg(o,!1).getAll();return new js(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),y6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),Tk=w6;var sae=hk("rcb"),aae=new Vs(3e4,6e4);function E6(n,e){return e?Li(e):(re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var td=class extends Ju{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qw(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qw(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qw(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function C6(n){return _k(n.auth,new td(n),n.bypassAuthState)}function I6(n){let{auth:e,user:t}=n;return re(t,e,"internal-error"),i6(t,new td(n),n.bypassAuthState)}function D6(n){return w(this,null,function*(){let{auth:e,user:t}=n;return re(t,e,"internal-error"),r6(t,new td(n),n.bypassAuthState)})}var cE=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return C6;case"linkViaPopup":case"linkViaRedirect":return D6;case"reauthViaPopup":case"reauthViaRedirect":return I6;default:ni(this.auth,"internal-error")}}resolve(e){Ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var cae=new Vs(2e3,1e4);var T6="pendingRedirect",Om=new Map,lE=class n extends cE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=Om.get(this.auth._key());if(!e){try{let r=(yield S6(this.resolver,this.auth))?yield to(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Om.set(this.auth._key(),e)}return this.bypassAuthState||Om.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return to(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,to(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function S6(n,e){return w(this,null,function*(){let t=M6(e),r=x6(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function A6(n,e){Om.set(n._key(),e)}function x6(n){return Li(n._redirectPersistence)}function M6(n){return Rm(T6,n.config.apiKey,n.name)}function P6(n,e,t=!1){return w(this,null,function*(){if(Nn(n.app))return Promise.reject(Vi(n));let r=xo(n),i=E6(r,e),s=yield new lE(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var R6=10*60*1e3,uE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!O6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Sk(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ls(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=R6&&this.cachedEventUids.clear(),this.cachedEventUids.has(HO(e))}saveEventToCache(e){this.cachedEventUids.add(HO(e)),this.lastProcessedEventTime=Date.now()}};function HO(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Sk({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function O6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sk(n);default:return!1}}function k6(t){return w(this,arguments,function*(n,e={}){return ri(n,"GET","/v1/projects",e)})}var N6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,F6=/^https?/;function L6(n){return w(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield k6(n);for(let t of e)try{if(V6(t))return}catch{}ni(n,"unauthorized-domain")})}function V6(n){let e=Gw(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!F6.test(t))return!1;if(N6.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var j6=new Vs(3e4,6e4);function zO(){let n=ti().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function B6(n){return new Promise((e,t)=>{var r,i,o;function s(){zO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zO(),t(Ls(n,"network-request-failed"))},timeout:j6.get()})}if(!((i=(r=ti().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ti().gapi)===null||o===void 0)&&o.load)s();else{let a=hk("iframefcb");return ti()[a]=()=>{gapi.load?s():t(Ls(n,"network-request-failed"))},dk(`${H8()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw km=null,e})}var km=null;function U6(n){return km=km||B6(n),km}var $6=new Vs(5e3,15e3),H6="__/auth/iframe",z6="emulator/auth/iframe",q6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},W6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function G6(n){let e=n.config;re(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?pE(e,z6):`https://${n.config.authDomain}/${H6}`,r={apiKey:e.apiKey,appName:n.name,v:Do},i=W6.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${qu(r).slice(1)}`}function K6(n){return w(this,null,function*(){let e=yield U6(n),t=ti().gapi;return re(t,n,"internal-error"),e.open({where:document.body,url:G6(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q6,dontclear:!0},r=>new Promise((i,o)=>w(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Ls(n,"network-request-failed"),a=ti().setTimeout(()=>{o(s)},$6.get());function c(){ti().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var Y6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Q6=500,Z6=600,X6="_blank",J6="http://localhost",Gm=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function eq(n,e,t,r=Q6,i=Z6){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},Y6),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Bt().toLowerCase();t&&(a=ik(u)?X6:t),nk(u)&&(e=e||J6,c.scrollbars="yes");let d=Object.entries(c).reduce((g,[_,S])=>`${g}${_}=${S},`,"");if(L8(u)&&a!=="_self")return tq(e||"",a),new Gm(null);let p=window.open(e||"",a,d);re(p,n,"popup-blocked");try{p.focus()}catch{}return new Gm(p)}function tq(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var nq="__/auth/handler",rq="emulator/auth/handler",iq=encodeURIComponent("fac");function qO(n,e,t,r,i,o){return w(this,null,function*(){re(n.config.authDomain,n,"auth-domain-config-required"),re(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Do,eventId:i};if(e instanceof Hm){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",_O(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,p]of Object.entries(o||{}))s[d]=p}if(e instanceof iE){let d=e.getScopes().filter(p=>p!=="");d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield n._getAppCheckToken(),u=c?`#${iq}=${encodeURIComponent(c)}`:"";return`${oq(n)}?${qu(a).slice(1)}${u}`})}function oq({config:n}){return n.emulator?pE(n,rq):`https://${n.authDomain}/${nq}`}var Ww="webStorageSupport",dE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IE,this._completeRedirectFn=P6,this._overrideRedirectResult=A6}_openPopup(e,t,r,i){return w(this,null,function*(){var o;Ao((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield qO(e,t,r,Gw(),i);return eq(e,s,Ek())})}_openRedirect(e,t,r,i){return w(this,null,function*(){yield this._originValidation(e);let o=yield qO(e,t,r,Gw(),i);return h6(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Ao(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return w(this,null,function*(){let t=yield K6(e),r=new uE(e);return t.register("authEvent",i=>(re(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ww,{type:Ww},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Ww];s!==void 0&&t(!!s),ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=L6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return lk()||rk()||_E()}},Ak=dE;var WO="@firebase/auth",GO="1.10.6";var hE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function sq(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aq(n){Tr(new En("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;re(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uk(n)},u=new eE(r,i,o,c);return q8(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Tr(new En("auth-internal",e=>{let t=xo(e.getProvider("auth").getImmediate());return(r=>new hE(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),At(WO,GO,sq(n)),At(WO,GO,"esm2017")}var cq=5*60,lq=xw("authIdTokenMaxAge")||cq,KO=null,uq=n=>e=>w(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>lq)return;let i=t?.token;KO!==i&&(KO=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function ii(n=Fs()){let e=hc(n,"auth");if(e.isInitialized())return e.getImmediate();let t=yE(n,{popupRedirectResolver:Ak,persistence:[Tk,wk,IE]}),r=xw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=uq(o.toString());CE(t,s,()=>s(t.currentUser)),EE(t,a=>s(a))}}let i=Sw("auth");return i&&bE(t,`http://${i}`),t}function dq(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}U8({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Ls("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",dq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aq("Browser");var Zq="firebase",Xq="11.8.1";At(Zq,Xq,"app");var Jq={apiKey:"AIzaSyDnCfzF5psHLcnmbeJGrBuWpxOkUp01Lfo",authDomain:"cocreando-2dbd1.firebaseapp.com",projectId:"cocreando-2dbd1",storageBucket:"cocreando-2dbd1.appspot.com",messagingSenderId:"862709485856",appId:"1:123456789:web:abcd1234"},e9=Ku(Jq),xk=ii(e9);var Mk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pk={};var Bi,DE;(function(){var n;function e(x,C){function T(){}T.prototype=C.prototype,x.D=C.prototype,x.prototype=new T,x.prototype.constructor=x,x.C=function(A,M,O){for(var D=Array(arguments.length-2),mi=2;mi<arguments.length;mi++)D[mi-2]=arguments[mi];return C.prototype[M].apply(A,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,C,T){T||(T=0);var A=Array(16);if(typeof C=="string")for(var M=0;16>M;++M)A[M]=C.charCodeAt(T++)|C.charCodeAt(T++)<<8|C.charCodeAt(T++)<<16|C.charCodeAt(T++)<<24;else for(M=0;16>M;++M)A[M]=C[T++]|C[T++]<<8|C[T++]<<16|C[T++]<<24;C=x.g[0],T=x.g[1],M=x.g[2];var O=x.g[3],D=C+(O^T&(M^O))+A[0]+3614090360&4294967295;C=T+(D<<7&4294967295|D>>>25),D=O+(M^C&(T^M))+A[1]+3905402710&4294967295,O=C+(D<<12&4294967295|D>>>20),D=M+(T^O&(C^T))+A[2]+606105819&4294967295,M=O+(D<<17&4294967295|D>>>15),D=T+(C^M&(O^C))+A[3]+3250441966&4294967295,T=M+(D<<22&4294967295|D>>>10),D=C+(O^T&(M^O))+A[4]+4118548399&4294967295,C=T+(D<<7&4294967295|D>>>25),D=O+(M^C&(T^M))+A[5]+1200080426&4294967295,O=C+(D<<12&4294967295|D>>>20),D=M+(T^O&(C^T))+A[6]+2821735955&4294967295,M=O+(D<<17&4294967295|D>>>15),D=T+(C^M&(O^C))+A[7]+4249261313&4294967295,T=M+(D<<22&4294967295|D>>>10),D=C+(O^T&(M^O))+A[8]+1770035416&4294967295,C=T+(D<<7&4294967295|D>>>25),D=O+(M^C&(T^M))+A[9]+2336552879&4294967295,O=C+(D<<12&4294967295|D>>>20),D=M+(T^O&(C^T))+A[10]+4294925233&4294967295,M=O+(D<<17&4294967295|D>>>15),D=T+(C^M&(O^C))+A[11]+2304563134&4294967295,T=M+(D<<22&4294967295|D>>>10),D=C+(O^T&(M^O))+A[12]+1804603682&4294967295,C=T+(D<<7&4294967295|D>>>25),D=O+(M^C&(T^M))+A[13]+4254626195&4294967295,O=C+(D<<12&4294967295|D>>>20),D=M+(T^O&(C^T))+A[14]+2792965006&4294967295,M=O+(D<<17&4294967295|D>>>15),D=T+(C^M&(O^C))+A[15]+1236535329&4294967295,T=M+(D<<22&4294967295|D>>>10),D=C+(M^O&(T^M))+A[1]+4129170786&4294967295,C=T+(D<<5&4294967295|D>>>27),D=O+(T^M&(C^T))+A[6]+3225465664&4294967295,O=C+(D<<9&4294967295|D>>>23),D=M+(C^T&(O^C))+A[11]+643717713&4294967295,M=O+(D<<14&4294967295|D>>>18),D=T+(O^C&(M^O))+A[0]+3921069994&4294967295,T=M+(D<<20&4294967295|D>>>12),D=C+(M^O&(T^M))+A[5]+3593408605&4294967295,C=T+(D<<5&4294967295|D>>>27),D=O+(T^M&(C^T))+A[10]+38016083&4294967295,O=C+(D<<9&4294967295|D>>>23),D=M+(C^T&(O^C))+A[15]+3634488961&4294967295,M=O+(D<<14&4294967295|D>>>18),D=T+(O^C&(M^O))+A[4]+3889429448&4294967295,T=M+(D<<20&4294967295|D>>>12),D=C+(M^O&(T^M))+A[9]+568446438&4294967295,C=T+(D<<5&4294967295|D>>>27),D=O+(T^M&(C^T))+A[14]+3275163606&4294967295,O=C+(D<<9&4294967295|D>>>23),D=M+(C^T&(O^C))+A[3]+4107603335&4294967295,M=O+(D<<14&4294967295|D>>>18),D=T+(O^C&(M^O))+A[8]+1163531501&4294967295,T=M+(D<<20&4294967295|D>>>12),D=C+(M^O&(T^M))+A[13]+2850285829&4294967295,C=T+(D<<5&4294967295|D>>>27),D=O+(T^M&(C^T))+A[2]+4243563512&4294967295,O=C+(D<<9&4294967295|D>>>23),D=M+(C^T&(O^C))+A[7]+1735328473&4294967295,M=O+(D<<14&4294967295|D>>>18),D=T+(O^C&(M^O))+A[12]+2368359562&4294967295,T=M+(D<<20&4294967295|D>>>12),D=C+(T^M^O)+A[5]+4294588738&4294967295,C=T+(D<<4&4294967295|D>>>28),D=O+(C^T^M)+A[8]+2272392833&4294967295,O=C+(D<<11&4294967295|D>>>21),D=M+(O^C^T)+A[11]+1839030562&4294967295,M=O+(D<<16&4294967295|D>>>16),D=T+(M^O^C)+A[14]+4259657740&4294967295,T=M+(D<<23&4294967295|D>>>9),D=C+(T^M^O)+A[1]+2763975236&4294967295,C=T+(D<<4&4294967295|D>>>28),D=O+(C^T^M)+A[4]+1272893353&4294967295,O=C+(D<<11&4294967295|D>>>21),D=M+(O^C^T)+A[7]+4139469664&4294967295,M=O+(D<<16&4294967295|D>>>16),D=T+(M^O^C)+A[10]+3200236656&4294967295,T=M+(D<<23&4294967295|D>>>9),D=C+(T^M^O)+A[13]+681279174&4294967295,C=T+(D<<4&4294967295|D>>>28),D=O+(C^T^M)+A[0]+3936430074&4294967295,O=C+(D<<11&4294967295|D>>>21),D=M+(O^C^T)+A[3]+3572445317&4294967295,M=O+(D<<16&4294967295|D>>>16),D=T+(M^O^C)+A[6]+76029189&4294967295,T=M+(D<<23&4294967295|D>>>9),D=C+(T^M^O)+A[9]+3654602809&4294967295,C=T+(D<<4&4294967295|D>>>28),D=O+(C^T^M)+A[12]+3873151461&4294967295,O=C+(D<<11&4294967295|D>>>21),D=M+(O^C^T)+A[15]+530742520&4294967295,M=O+(D<<16&4294967295|D>>>16),D=T+(M^O^C)+A[2]+3299628645&4294967295,T=M+(D<<23&4294967295|D>>>9),D=C+(M^(T|~O))+A[0]+4096336452&4294967295,C=T+(D<<6&4294967295|D>>>26),D=O+(T^(C|~M))+A[7]+1126891415&4294967295,O=C+(D<<10&4294967295|D>>>22),D=M+(C^(O|~T))+A[14]+2878612391&4294967295,M=O+(D<<15&4294967295|D>>>17),D=T+(O^(M|~C))+A[5]+4237533241&4294967295,T=M+(D<<21&4294967295|D>>>11),D=C+(M^(T|~O))+A[12]+1700485571&4294967295,C=T+(D<<6&4294967295|D>>>26),D=O+(T^(C|~M))+A[3]+2399980690&4294967295,O=C+(D<<10&4294967295|D>>>22),D=M+(C^(O|~T))+A[10]+4293915773&4294967295,M=O+(D<<15&4294967295|D>>>17),D=T+(O^(M|~C))+A[1]+2240044497&4294967295,T=M+(D<<21&4294967295|D>>>11),D=C+(M^(T|~O))+A[8]+1873313359&4294967295,C=T+(D<<6&4294967295|D>>>26),D=O+(T^(C|~M))+A[15]+4264355552&4294967295,O=C+(D<<10&4294967295|D>>>22),D=M+(C^(O|~T))+A[6]+2734768916&4294967295,M=O+(D<<15&4294967295|D>>>17),D=T+(O^(M|~C))+A[13]+1309151649&4294967295,T=M+(D<<21&4294967295|D>>>11),D=C+(M^(T|~O))+A[4]+4149444226&4294967295,C=T+(D<<6&4294967295|D>>>26),D=O+(T^(C|~M))+A[11]+3174756917&4294967295,O=C+(D<<10&4294967295|D>>>22),D=M+(C^(O|~T))+A[2]+718787259&4294967295,M=O+(D<<15&4294967295|D>>>17),D=T+(O^(M|~C))+A[9]+3951481745&4294967295,x.g[0]=x.g[0]+C&4294967295,x.g[1]=x.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+O&4294967295}r.prototype.u=function(x,C){C===void 0&&(C=x.length);for(var T=C-this.blockSize,A=this.B,M=this.h,O=0;O<C;){if(M==0)for(;O<=T;)i(this,x,O),O+=this.blockSize;if(typeof x=="string"){for(;O<C;)if(A[M++]=x.charCodeAt(O++),M==this.blockSize){i(this,A),M=0;break}}else for(;O<C;)if(A[M++]=x[O++],M==this.blockSize){i(this,A),M=0;break}}this.h=M,this.o+=C},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var C=1;C<x.length-8;++C)x[C]=0;var T=8*this.o;for(C=x.length-8;C<x.length;++C)x[C]=T&255,T/=256;for(this.u(x),x=Array(16),C=T=0;4>C;++C)for(var A=0;32>A;A+=8)x[T++]=this.g[C]>>>A&255;return x};function o(x,C){var T=a;return Object.prototype.hasOwnProperty.call(T,x)?T[x]:T[x]=C(x)}function s(x,C){this.h=C;for(var T=[],A=!0,M=x.length-1;0<=M;M--){var O=x[M]|0;A&&O==C||(T[M]=O,A=!1)}this.g=T}var a={};function c(x){return-128<=x&&128>x?o(x,function(C){return new s([C|0],0>C?-1:0)}):new s([x|0],0>x?-1:0)}function u(x){if(isNaN(x)||!isFinite(x))return p;if(0>x)return k(u(-x));for(var C=[],T=1,A=0;x>=T;A++)C[A]=x/T|0,T*=4294967296;return new s(C,0)}function d(x,C){if(x.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(x.charAt(0)=="-")return k(d(x.substring(1),C));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(C,8)),A=p,M=0;M<x.length;M+=8){var O=Math.min(8,x.length-M),D=parseInt(x.substring(M,M+O),C);8>O?(O=u(Math.pow(C,O)),A=A.j(O).add(u(D))):(A=A.j(T),A=A.add(u(D)))}return A}var p=c(0),g=c(1),_=c(16777216);n=s.prototype,n.m=function(){if(R(this))return-k(this).m();for(var x=0,C=1,T=0;T<this.g.length;T++){var A=this.i(T);x+=(0<=A?A:4294967296+A)*C,C*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(S(this))return"0";if(R(this))return"-"+k(this).toString(x);for(var C=u(Math.pow(x,6)),T=this,A="";;){var M=ke(T,C).g;T=q(T,M.j(C));var O=((0<T.g.length?T.g[0]:T.h)>>>0).toString(x);if(T=M,S(T))return O+A;for(;6>O.length;)O="0"+O;A=O+A}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function S(x){if(x.h!=0)return!1;for(var C=0;C<x.g.length;C++)if(x.g[C]!=0)return!1;return!0}function R(x){return x.h==-1}n.l=function(x){return x=q(this,x),R(x)?-1:S(x)?0:1};function k(x){for(var C=x.g.length,T=[],A=0;A<C;A++)T[A]=~x.g[A];return new s(T,~x.h).add(g)}n.abs=function(){return R(this)?k(this):this},n.add=function(x){for(var C=Math.max(this.g.length,x.g.length),T=[],A=0,M=0;M<=C;M++){var O=A+(this.i(M)&65535)+(x.i(M)&65535),D=(O>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);A=D>>>16,O&=65535,D&=65535,T[M]=D<<16|O}return new s(T,T[T.length-1]&-2147483648?-1:0)};function q(x,C){return x.add(k(C))}n.j=function(x){if(S(this)||S(x))return p;if(R(this))return R(x)?k(this).j(k(x)):k(k(this).j(x));if(R(x))return k(this.j(k(x)));if(0>this.l(_)&&0>x.l(_))return u(this.m()*x.m());for(var C=this.g.length+x.g.length,T=[],A=0;A<2*C;A++)T[A]=0;for(A=0;A<this.g.length;A++)for(var M=0;M<x.g.length;M++){var O=this.i(A)>>>16,D=this.i(A)&65535,mi=x.i(M)>>>16,Jc=x.i(M)&65535;T[2*A+2*M]+=D*Jc,J(T,2*A+2*M),T[2*A+2*M+1]+=O*Jc,J(T,2*A+2*M+1),T[2*A+2*M+1]+=D*mi,J(T,2*A+2*M+1),T[2*A+2*M+2]+=O*mi,J(T,2*A+2*M+2)}for(A=0;A<C;A++)T[A]=T[2*A+1]<<16|T[2*A];for(A=C;A<2*C;A++)T[A]=0;return new s(T,0)};function J(x,C){for(;(x[C]&65535)!=x[C];)x[C+1]+=x[C]>>>16,x[C]&=65535,C++}function Z(x,C){this.g=x,this.h=C}function ke(x,C){if(S(C))throw Error("division by zero");if(S(x))return new Z(p,p);if(R(x))return C=ke(k(x),C),new Z(k(C.g),k(C.h));if(R(C))return C=ke(x,k(C)),new Z(k(C.g),C.h);if(30<x.g.length){if(R(x)||R(C))throw Error("slowDivide_ only works with positive integers.");for(var T=g,A=C;0>=A.l(x);)T=Dt(T),A=Dt(A);var M=Ue(T,1),O=Ue(A,1);for(A=Ue(A,2),T=Ue(T,2);!S(A);){var D=O.add(A);0>=D.l(x)&&(M=M.add(T),O=D),A=Ue(A,1),T=Ue(T,1)}return C=q(x,M.j(C)),new Z(M,C)}for(M=p;0<=x.l(C);){for(T=Math.max(1,Math.floor(x.m()/C.m())),A=Math.ceil(Math.log(T)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),O=u(T),D=O.j(C);R(D)||0<D.l(x);)T-=A,O=u(T),D=O.j(C);S(O)&&(O=g),M=M.add(O),x=q(x,D)}return new Z(M,x)}n.A=function(x){return ke(this,x).h},n.and=function(x){for(var C=Math.max(this.g.length,x.g.length),T=[],A=0;A<C;A++)T[A]=this.i(A)&x.i(A);return new s(T,this.h&x.h)},n.or=function(x){for(var C=Math.max(this.g.length,x.g.length),T=[],A=0;A<C;A++)T[A]=this.i(A)|x.i(A);return new s(T,this.h|x.h)},n.xor=function(x){for(var C=Math.max(this.g.length,x.g.length),T=[],A=0;A<C;A++)T[A]=this.i(A)^x.i(A);return new s(T,this.h^x.h)};function Dt(x){for(var C=x.g.length+1,T=[],A=0;A<C;A++)T[A]=x.i(A)<<1|x.i(A-1)>>>31;return new s(T,x.h)}function Ue(x,C){var T=C>>5;C%=32;for(var A=x.g.length-T,M=[],O=0;O<A;O++)M[O]=0<C?x.i(O+T)>>>C|x.i(O+T+1)<<32-C:x.i(O+T);return new s(M,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,DE=Pk.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Bi=Pk.Integer=s}).apply(typeof Mk<"u"?Mk:typeof self<"u"?self:typeof window<"u"?window:{});var ng=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ui={};var TE,t9,mc,SE,rd,rg,AE,xE,ME;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,f){return l==Array.prototype||l==Object.prototype||(l[h]=f.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof ng=="object"&&ng];for(var h=0;h<l.length;++h){var f=l[h];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(l,h){if(h)e:{var f=r;l=l.split(".");for(var y=0;y<l.length-1;y++){var P=l[y];if(!(P in f))break e;f=f[P]}l=l[l.length-1],y=f[l],h=h(y),h!=y&&h!=null&&e(f,l,{configurable:!0,writable:!0,value:h})}}function o(l,h){l instanceof String&&(l+="");var f=0,y=!1,P={next:function(){if(!y&&f<l.length){var N=f++;return{value:h(N,l[N]),done:!1}}return y=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}i("Array.prototype.values",function(l){return l||function(){return o(this,function(h,f){return f})}});var s=s||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,f){return l.call.apply(l.bind,arguments)}function p(l,h,f){if(!l)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,y),l.apply(h,P)}}return function(){return l.apply(h,arguments)}}function g(l,h,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,g.apply(null,arguments)}function _(l,h){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function S(l,h){function f(){}f.prototype=h.prototype,l.aa=h.prototype,l.prototype=new f,l.prototype.constructor=l,l.Qb=function(y,P,N){for(var z=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)z[Qe-2]=arguments[Qe];return h.prototype[P].apply(y,z)}}function R(l){let h=l.length;if(0<h){let f=Array(h);for(let y=0;y<h;y++)f[y]=l[y];return f}return[]}function k(l,h){for(let f=1;f<arguments.length;f++){let y=arguments[f];if(c(y)){let P=l.length||0,N=y.length||0;l.length=P+N;for(let z=0;z<N;z++)l[P+z]=y[z]}else l.push(y)}}class q{constructor(h,f){this.i=h,this.j=f,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function J(l){return/^[\s\xa0]*$/.test(l)}function Z(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function ke(l){return ke[" "](l),l}ke[" "]=function(){};var Dt=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function Ue(l,h,f){for(let y in l)h.call(f,l[y],y,l)}function x(l,h){for(let f in l)h.call(void 0,l[f],f,l)}function C(l){let h={};for(let f in l)h[f]=l[f];return h}let T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(l,h){let f,y;for(let P=1;P<arguments.length;P++){y=arguments[P];for(f in y)l[f]=y[f];for(let N=0;N<T.length;N++)f=T[N],Object.prototype.hasOwnProperty.call(y,f)&&(l[f]=y[f])}}function M(l){var h=1;l=l.split(":");let f=[];for(;0<h&&l.length;)f.push(l.shift()),h--;return l.length&&f.push(l.join(":")),f}function O(l){a.setTimeout(()=>{throw l},0)}function D(){var l=Uv;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class mi{constructor(){this.h=this.g=null}add(h,f){let y=Jc.get();y.set(h,f),this.h?this.h.next=y:this.g=y,this.h=y}}var Jc=new q(()=>new xL,l=>l.reset());class xL{constructor(){this.next=this.g=this.h=null}set(h,f){this.h=h,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let el,tl=!1,Uv=new mi,OD=()=>{let l=a.Promise.resolve(void 0);el=()=>{l.then(ML)}};var ML=()=>{for(var l;l=D();){try{l.h.call(l.g)}catch(f){O(f)}var h=Jc;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}tl=!1};function Zi(){this.s=this.s,this.C=this.C}Zi.prototype.s=!1,Zi.prototype.ma=function(){this.s||(this.s=!0,this.N())},Zi.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function en(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}en.prototype.h=function(){this.defaultPrevented=!0};var PL=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let f=()=>{};a.addEventListener("test",f,h),a.removeEventListener("test",f,h)}catch{}return l}();function nl(l,h){if(en.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var f=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(Dt){e:{try{ke(h.nodeName);var P=!0;break e}catch{}P=!1}P||(h=null)}}else f=="mouseover"?h=l.fromElement:f=="mouseout"&&(h=l.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:RL[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&nl.aa.h.call(this)}}S(nl,en);var RL={2:"touch",3:"pen",4:"mouse"};nl.prototype.h=function(){nl.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var rl="closure_listenable_"+(1e6*Math.random()|0),OL=0;function kL(l,h,f,y,P){this.listener=l,this.proxy=null,this.src=h,this.type=f,this.capture=!!y,this.ha=P,this.key=++OL,this.da=this.fa=!1}function Zd(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Xd(l){this.src=l,this.g={},this.h=0}Xd.prototype.add=function(l,h,f,y,P){var N=l.toString();l=this.g[N],l||(l=this.g[N]=[],this.h++);var z=Hv(l,h,y,P);return-1<z?(h=l[z],f||(h.fa=!1)):(h=new kL(h,this.src,N,!!y,P),h.fa=f,l.push(h)),h};function $v(l,h){var f=h.type;if(f in l.g){var y=l.g[f],P=Array.prototype.indexOf.call(y,h,void 0),N;(N=0<=P)&&Array.prototype.splice.call(y,P,1),N&&(Zd(h),l.g[f].length==0&&(delete l.g[f],l.h--))}}function Hv(l,h,f,y){for(var P=0;P<l.length;++P){var N=l[P];if(!N.da&&N.listener==h&&N.capture==!!f&&N.ha==y)return P}return-1}var zv="closure_lm_"+(1e6*Math.random()|0),qv={};function kD(l,h,f,y,P){if(y&&y.once)return FD(l,h,f,y,P);if(Array.isArray(h)){for(var N=0;N<h.length;N++)kD(l,h[N],f,y,P);return null}return f=Yv(f),l&&l[rl]?l.K(h,f,u(y)?!!y.capture:!!y,P):ND(l,h,f,!1,y,P)}function ND(l,h,f,y,P,N){if(!h)throw Error("Invalid event type");var z=u(P)?!!P.capture:!!P,Qe=Gv(l);if(Qe||(l[zv]=Qe=new Xd(l)),f=Qe.add(h,f,y,z,N),f.proxy)return f;if(y=NL(),f.proxy=y,y.src=l,y.listener=f,l.addEventListener)PL||(P=z),P===void 0&&(P=!1),l.addEventListener(h.toString(),y,P);else if(l.attachEvent)l.attachEvent(VD(h.toString()),y);else if(l.addListener&&l.removeListener)l.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function NL(){function l(f){return h.call(l.src,l.listener,f)}let h=FL;return l}function FD(l,h,f,y,P){if(Array.isArray(h)){for(var N=0;N<h.length;N++)FD(l,h[N],f,y,P);return null}return f=Yv(f),l&&l[rl]?l.L(h,f,u(y)?!!y.capture:!!y,P):ND(l,h,f,!0,y,P)}function LD(l,h,f,y,P){if(Array.isArray(h))for(var N=0;N<h.length;N++)LD(l,h[N],f,y,P);else y=u(y)?!!y.capture:!!y,f=Yv(f),l&&l[rl]?(l=l.i,h=String(h).toString(),h in l.g&&(N=l.g[h],f=Hv(N,f,y,P),-1<f&&(Zd(N[f]),Array.prototype.splice.call(N,f,1),N.length==0&&(delete l.g[h],l.h--)))):l&&(l=Gv(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Hv(h,f,y,P)),(f=-1<l?h[l]:null)&&Wv(f))}function Wv(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[rl])$v(h.i,l);else{var f=l.type,y=l.proxy;h.removeEventListener?h.removeEventListener(f,y,l.capture):h.detachEvent?h.detachEvent(VD(f),y):h.addListener&&h.removeListener&&h.removeListener(y),(f=Gv(h))?($v(f,l),f.h==0&&(f.src=null,h[zv]=null)):Zd(l)}}}function VD(l){return l in qv?qv[l]:qv[l]="on"+l}function FL(l,h){if(l.da)l=!0;else{h=new nl(h,this);var f=l.listener,y=l.ha||l.src;l.fa&&Wv(l),l=f.call(y,h)}return l}function Gv(l){return l=l[zv],l instanceof Xd?l:null}var Kv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yv(l){return typeof l=="function"?l:(l[Kv]||(l[Kv]=function(h){return l.handleEvent(h)}),l[Kv])}function tn(){Zi.call(this),this.i=new Xd(this),this.M=this,this.F=null}S(tn,Zi),tn.prototype[rl]=!0,tn.prototype.removeEventListener=function(l,h,f,y){LD(this,l,h,f,y)};function fn(l,h){var f,y=l.F;if(y)for(f=[];y;y=y.F)f.push(y);if(l=l.M,y=h.type||h,typeof h=="string")h=new en(h,l);else if(h instanceof en)h.target=h.target||l;else{var P=h;h=new en(y,l),A(h,P)}if(P=!0,f)for(var N=f.length-1;0<=N;N--){var z=h.g=f[N];P=Jd(z,y,!0,h)&&P}if(z=h.g=l,P=Jd(z,y,!0,h)&&P,P=Jd(z,y,!1,h)&&P,f)for(N=0;N<f.length;N++)z=h.g=f[N],P=Jd(z,y,!1,h)&&P}tn.prototype.N=function(){if(tn.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var f=l.g[h],y=0;y<f.length;y++)Zd(f[y]);delete l.g[h],l.h--}}this.F=null},tn.prototype.K=function(l,h,f,y){return this.i.add(String(l),h,!1,f,y)},tn.prototype.L=function(l,h,f,y){return this.i.add(String(l),h,!0,f,y)};function Jd(l,h,f,y){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var P=!0,N=0;N<h.length;++N){var z=h[N];if(z&&!z.da&&z.capture==f){var Qe=z.listener,zt=z.ha||z.src;z.fa&&$v(l.i,z),P=Qe.call(zt,y)!==!1&&P}}return P&&!y.defaultPrevented}function jD(l,h,f){if(typeof l=="function")f&&(l=g(l,f));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function BD(l){l.g=jD(()=>{l.g=null,l.i&&(l.i=!1,BD(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class LL extends Zi{constructor(h,f){super(),this.m=h,this.l=f,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:BD(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function il(l){Zi.call(this),this.h=l,this.g={}}S(il,Zi);var UD=[];function $D(l){Ue(l.g,function(h,f){this.g.hasOwnProperty(f)&&Wv(h)},l),l.g={}}il.prototype.N=function(){il.aa.N.call(this),$D(this)},il.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qv=a.JSON.stringify,VL=a.JSON.parse,jL=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Zv(){}Zv.prototype.h=null;function HD(l){return l.h||(l.h=l.i())}function zD(){}var ol={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xv(){en.call(this,"d")}S(Xv,en);function Jv(){en.call(this,"c")}S(Jv,en);var Vo={},qD=null;function eh(){return qD=qD||new tn}Vo.La="serverreachability";function WD(l){en.call(this,Vo.La,l)}S(WD,en);function sl(l){let h=eh();fn(h,new WD(h))}Vo.STAT_EVENT="statevent";function GD(l,h){en.call(this,Vo.STAT_EVENT,l),this.stat=h}S(GD,en);function pn(l){let h=eh();fn(h,new GD(h,l))}Vo.Ma="timingevent";function KD(l,h){en.call(this,Vo.Ma,l),this.size=h}S(KD,en);function al(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function cl(){this.g=!0}cl.prototype.xa=function(){this.g=!1};function BL(l,h,f,y,P,N){l.info(function(){if(l.g)if(N)for(var z="",Qe=N.split("&"),zt=0;zt<Qe.length;zt++){var Ve=Qe[zt].split("=");if(1<Ve.length){var nn=Ve[0];Ve=Ve[1];var rn=nn.split("_");z=2<=rn.length&&rn[1]=="type"?z+(nn+"="+Ve+"&"):z+(nn+"=redacted&")}}else z=null;else z=N;return"XMLHTTP REQ ("+y+") [attempt "+P+"]: "+h+`
`+f+`
`+z})}function UL(l,h,f,y,P,N,z){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+P+"]: "+h+`
`+f+`
`+N+" "+z})}function sa(l,h,f,y){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+HL(l,f)+(y?" "+y:"")})}function $L(l,h){l.info(function(){return"TIMEOUT: "+h})}cl.prototype.info=function(){};function HL(l,h){if(!l.g)return h;if(!h)return null;try{var f=JSON.parse(h);if(f){for(l=0;l<f.length;l++)if(Array.isArray(f[l])){var y=f[l];if(!(2>y.length)){var P=y[1];if(Array.isArray(P)&&!(1>P.length)){var N=P[0];if(N!="noop"&&N!="stop"&&N!="close")for(var z=1;z<P.length;z++)P[z]=""}}}}return Qv(f)}catch{return h}}var th={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},YD={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},e_;function nh(){}S(nh,Zv),nh.prototype.g=function(){return new XMLHttpRequest},nh.prototype.i=function(){return{}},e_=new nh;function Xi(l,h,f,y){this.j=l,this.i=h,this.l=f,this.R=y||1,this.U=new il(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new QD}function QD(){this.i=null,this.g="",this.h=!1}var ZD={},t_={};function n_(l,h,f){l.L=1,l.v=sh(gi(h)),l.m=f,l.P=!0,XD(l,null)}function XD(l,h){l.F=Date.now(),rh(l),l.A=gi(l.v);var f=l.A,y=l.R;Array.isArray(y)||(y=[String(y)]),hT(f.i,"t",y),l.C=0,f=l.j.J,l.h=new QD,l.g=MT(l.j,f?h:null,!l.m),0<l.O&&(l.M=new LL(g(l.Y,l,l.g),l.O)),h=l.U,f=l.g,y=l.ca;var P="readystatechange";Array.isArray(P)||(P&&(UD[0]=P.toString()),P=UD);for(var N=0;N<P.length;N++){var z=kD(f,P[N],y||h.handleEvent,!1,h.h||h);if(!z)break;h.g[z.key]=z}h=l.H?C(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),sl(),BL(l.i,l.u,l.A,l.l,l.R,l.m)}Xi.prototype.ca=function(l){l=l.target;let h=this.M;h&&vi(l)==3?h.j():this.Y(l)},Xi.prototype.Y=function(l){try{if(l==this.g)e:{let rn=vi(this.g);var h=this.g.Ba();let la=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||yT(this.g)))){this.J||rn!=4||h==7||(h==8||0>=la?sl(3):sl(2)),r_(this);var f=this.g.Z();this.X=f;t:if(JD(this)){var y=yT(this.g);l="";var P=y.length,N=vi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jo(this),ll(this);var z="";break t}this.h.i=new a.TextDecoder}for(h=0;h<P;h++)this.h.h=!0,l+=this.h.i.decode(y[h],{stream:!(N&&h==P-1)});y.length=0,this.h.g+=l,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=f==200,UL(this.i,this.u,this.A,this.l,this.R,rn,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,zt=this.g;if((Qe=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Qe)){var Ve=Qe;break t}}Ve=null}if(f=Ve)sa(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,i_(this,f);else{this.o=!1,this.s=3,pn(12),jo(this),ll(this);break e}}if(this.P){f=!0;let hr;for(;!this.J&&this.C<z.length;)if(hr=zL(this,z),hr==t_){rn==4&&(this.s=4,pn(14),f=!1),sa(this.i,this.l,null,"[Incomplete Response]");break}else if(hr==ZD){this.s=4,pn(15),sa(this.i,this.l,z,"[Invalid Chunk]"),f=!1;break}else sa(this.i,this.l,hr,null),i_(this,hr);if(JD(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||z.length!=0||this.h.h||(this.s=1,pn(16),f=!1),this.o=this.o&&f,!f)sa(this.i,this.l,z,"[Invalid Chunked Response]"),jo(this),ll(this);else if(0<z.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),u_(nn),nn.M=!0,pn(11))}}else sa(this.i,this.l,z,null),i_(this,z);rn==4&&jo(this),this.o&&!this.J&&(rn==4?TT(this.j,this):(this.o=!1,rh(this)))}else aV(this.g),f==400&&0<z.indexOf("Unknown SID")?(this.s=3,pn(12)):(this.s=0,pn(13)),jo(this),ll(this)}}}catch{}finally{}};function JD(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function zL(l,h){var f=l.C,y=h.indexOf(`
`,f);return y==-1?t_:(f=Number(h.substring(f,y)),isNaN(f)?ZD:(y+=1,y+f>h.length?t_:(h=h.slice(y,y+f),l.C=y+f,h)))}Xi.prototype.cancel=function(){this.J=!0,jo(this)};function rh(l){l.S=Date.now()+l.I,eT(l,l.I)}function eT(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=al(g(l.ba,l),h)}function r_(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Xi.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?($L(this.i,this.A),this.L!=2&&(sl(),pn(17)),jo(this),this.s=2,ll(this)):eT(this,this.S-l)};function ll(l){l.j.G==0||l.J||TT(l.j,l)}function jo(l){r_(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,$D(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function i_(l,h){try{var f=l.j;if(f.G!=0&&(f.g==l||o_(f.h,l))){if(!l.K&&o_(f.h,l)&&f.G==3){try{var y=f.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var P=y;if(P[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<l.F)dh(f),lh(f);else break e;l_(f),pn(18)}}else f.za=P[1],0<f.za-f.T&&37500>P[2]&&f.F&&f.v==0&&!f.C&&(f.C=al(g(f.Za,f),6e3));if(1>=rT(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Uo(f,11)}else if((l.K||f.g==l)&&dh(f),!J(h))for(P=f.Da.g.parse(h),h=0;h<P.length;h++){let Ve=P[h];if(f.T=Ve[0],Ve=Ve[1],f.G==2)if(Ve[0]=="c"){f.K=Ve[1],f.ia=Ve[2];let nn=Ve[3];nn!=null&&(f.la=nn,f.j.info("VER="+f.la));let rn=Ve[4];rn!=null&&(f.Aa=rn,f.j.info("SVER="+f.Aa));let la=Ve[5];la!=null&&typeof la=="number"&&0<la&&(y=1.5*la,f.L=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;let hr=l.g;if(hr){let fh=hr.g?hr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fh){var N=y.h;N.g||fh.indexOf("spdy")==-1&&fh.indexOf("quic")==-1&&fh.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(s_(N,N.h),N.h=null))}if(y.D){let d_=hr.g?hr.g.getResponseHeader("X-HTTP-Session-Id"):null;d_&&(y.ya=d_,it(y.I,y.D,d_))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-l.F,f.j.info("Handshake RTT: "+f.R+"ms")),y=f;var z=l;if(y.qa=xT(y,y.J?y.ia:null,y.W),z.K){iT(y.h,z);var Qe=z,zt=y.L;zt&&(Qe.I=zt),Qe.B&&(r_(Qe),rh(Qe)),y.g=z}else IT(y);0<f.i.length&&uh(f)}else Ve[0]!="stop"&&Ve[0]!="close"||Uo(f,7);else f.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Uo(f,7):c_(f):Ve[0]!="noop"&&f.l&&f.l.ta(Ve),f.v=0)}}sl(4)}catch{}}var qL=class{constructor(l,h){this.g=l,this.map=h}};function tT(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nT(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function rT(l){return l.h?1:l.g?l.g.size:0}function o_(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function s_(l,h){l.g?l.g.add(h):l.h=h}function iT(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}tT.prototype.cancel=function(){if(this.i=oT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function oT(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let f of l.g.values())h=h.concat(f.D);return h}return R(l.i)}function WL(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],f=l.length,y=0;y<f;y++)h.push(l[y]);return h}h=[],f=0;for(y in l)h[f++]=l[y];return h}function GL(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var f=0;f<l;f++)h.push(f);return h}h=[],f=0;for(let y in l)h[f++]=y;return h}}}function sT(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var f=GL(l),y=WL(l),P=y.length,N=0;N<P;N++)h.call(void 0,y[N],f&&f[N],l)}var aT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function KL(l,h){if(l){l=l.split("&");for(var f=0;f<l.length;f++){var y=l[f].indexOf("="),P=null;if(0<=y){var N=l[f].substring(0,y);P=l[f].substring(y+1)}else N=l[f];h(N,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function Bo(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Bo){this.h=l.h,ih(this,l.j),this.o=l.o,this.g=l.g,oh(this,l.s),this.l=l.l;var h=l.i,f=new hl;f.i=h.i,h.g&&(f.g=new Map(h.g),f.h=h.h),cT(this,f),this.m=l.m}else l&&(h=String(l).match(aT))?(this.h=!1,ih(this,h[1]||"",!0),this.o=ul(h[2]||""),this.g=ul(h[3]||"",!0),oh(this,h[4]),this.l=ul(h[5]||"",!0),cT(this,h[6]||"",!0),this.m=ul(h[7]||"")):(this.h=!1,this.i=new hl(null,this.h))}Bo.prototype.toString=function(){var l=[],h=this.j;h&&l.push(dl(h,lT,!0),":");var f=this.g;return(f||h=="file")&&(l.push("//"),(h=this.o)&&l.push(dl(h,lT,!0),"@"),l.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&l.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&l.push("/"),l.push(dl(f,f.charAt(0)=="/"?ZL:QL,!0))),(f=this.i.toString())&&l.push("?",f),(f=this.m)&&l.push("#",dl(f,JL)),l.join("")};function gi(l){return new Bo(l)}function ih(l,h,f){l.j=f?ul(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function oh(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function cT(l,h,f){h instanceof hl?(l.i=h,eV(l.i,l.h)):(f||(h=dl(h,XL)),l.i=new hl(h,l.h))}function it(l,h,f){l.i.set(h,f)}function sh(l){return it(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ul(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function dl(l,h,f){return typeof l=="string"?(l=encodeURI(l).replace(h,YL),f&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function YL(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var lT=/[#\/\?@]/g,QL=/[#\?:]/g,ZL=/[#\?]/g,XL=/[#\?@]/g,JL=/#/g;function hl(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Ji(l){l.g||(l.g=new Map,l.h=0,l.i&&KL(l.i,function(h,f){l.add(decodeURIComponent(h.replace(/\+/g," ")),f)}))}n=hl.prototype,n.add=function(l,h){Ji(this),this.i=null,l=aa(this,l);var f=this.g.get(l);return f||this.g.set(l,f=[]),f.push(h),this.h+=1,this};function uT(l,h){Ji(l),h=aa(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function dT(l,h){return Ji(l),h=aa(l,h),l.g.has(h)}n.forEach=function(l,h){Ji(this),this.g.forEach(function(f,y){f.forEach(function(P){l.call(h,P,y,this)},this)},this)},n.na=function(){Ji(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),f=[];for(let y=0;y<h.length;y++){let P=l[y];for(let N=0;N<P.length;N++)f.push(h[y])}return f},n.V=function(l){Ji(this);let h=[];if(typeof l=="string")dT(this,l)&&(h=h.concat(this.g.get(aa(this,l))));else{l=Array.from(this.g.values());for(let f=0;f<l.length;f++)h=h.concat(l[f])}return h},n.set=function(l,h){return Ji(this),this.i=null,l=aa(this,l),dT(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},n.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function hT(l,h,f){uT(l,h),0<f.length&&(l.i=null,l.g.set(aa(l,h),R(f)),l.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var f=0;f<h.length;f++){var y=h[f];let N=encodeURIComponent(String(y)),z=this.V(y);for(y=0;y<z.length;y++){var P=N;z[y]!==""&&(P+="="+encodeURIComponent(String(z[y]))),l.push(P)}}return this.i=l.join("&")};function aa(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function eV(l,h){h&&!l.j&&(Ji(l),l.i=null,l.g.forEach(function(f,y){var P=y.toLowerCase();y!=P&&(uT(this,y),hT(this,P,f))},l)),l.j=h}function tV(l,h){let f=new cl;if(a.Image){let y=new Image;y.onload=_(eo,f,"TestLoadImage: loaded",!0,h,y),y.onerror=_(eo,f,"TestLoadImage: error",!1,h,y),y.onabort=_(eo,f,"TestLoadImage: abort",!1,h,y),y.ontimeout=_(eo,f,"TestLoadImage: timeout",!1,h,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else h(!1)}function nV(l,h){let f=new cl,y=new AbortController,P=setTimeout(()=>{y.abort(),eo(f,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:y.signal}).then(N=>{clearTimeout(P),N.ok?eo(f,"TestPingServer: ok",!0,h):eo(f,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(P),eo(f,"TestPingServer: error",!1,h)})}function eo(l,h,f,y,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),y(f)}catch{}}function rV(){this.g=new jL}function iV(l,h,f){let y=f||"";try{sT(l,function(P,N){let z=P;u(P)&&(z=Qv(P)),h.push(y+N+"="+encodeURIComponent(z))})}catch(P){throw h.push(y+"type="+encodeURIComponent("_badmap")),P}}function fl(l){this.l=l.Ub||null,this.j=l.eb||!1}S(fl,Zv),fl.prototype.g=function(){return new ah(this.l,this.j)},fl.prototype.i=function(l){return function(){return l}}({});function ah(l,h){tn.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(ah,tn),n=ah.prototype,n.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,ml(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pl(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ml(this)),this.g&&(this.readyState=3,ml(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fT(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function fT(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?pl(this):ml(this),this.readyState==3&&fT(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,pl(this))},n.Qa=function(l){this.g&&(this.response=l,pl(this))},n.ga=function(){this.g&&pl(this)};function pl(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ml(l)}n.setRequestHeader=function(l,h){this.u.append(l,h)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var f=h.next();!f.done;)f=f.value,l.push(f[0]+": "+f[1]),f=h.next();return l.join(`\r
`)};function ml(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ah.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function pT(l){let h="";return Ue(l,function(f,y){h+=y,h+=":",h+=f,h+=`\r
`}),h}function a_(l,h,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=pT(f),typeof l=="string"?f!=null&&encodeURIComponent(String(f)):it(l,h,f))}function vt(l){tn.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(vt,tn);var oV=/^https?$/i,sV=["POST","PUT"];n=vt.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,h,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():e_.g(),this.v=this.o?HD(this.o):HD(e_),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(N){mT(this,N);return}if(l=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var P in y)f.set(P,y[P]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let N of y.keys())f.set(N,y.get(N));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),P=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(sV,h,void 0))||y||P||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,z]of f)this.g.setRequestHeader(N,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_T(this),this.u=!0,this.g.send(l),this.u=!1}catch(N){mT(this,N)}};function mT(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,gT(l),ch(l)}function gT(l){l.A||(l.A=!0,fn(l,"complete"),fn(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,fn(this,"complete"),fn(this,"abort"),ch(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ch(this,!0)),vt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?vT(this):this.bb())},n.bb=function(){vT(this)};function vT(l){if(l.h&&typeof s<"u"&&(!l.v[1]||vi(l)!=4||l.Z()!=2)){if(l.u&&vi(l)==4)jD(l.Ea,0,l);else if(fn(l,"readystatechange"),vi(l)==4){l.h=!1;try{let z=l.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var f;if(!(f=h)){var y;if(y=z===0){var P=String(l.D).match(aT)[1]||null;!P&&a.self&&a.self.location&&(P=a.self.location.protocol.slice(0,-1)),y=!oV.test(P?P.toLowerCase():"")}f=y}if(f)fn(l,"complete"),fn(l,"success");else{l.m=6;try{var N=2<vi(l)?l.g.statusText:""}catch{N=""}l.l=N+" ["+l.Z()+"]",gT(l)}}finally{ch(l)}}}}function ch(l,h){if(l.g){_T(l);let f=l.g,y=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||fn(l,"ready");try{f.onreadystatechange=y}catch{}}}function _T(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function vi(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<vi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),VL(h)}};function yT(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function aV(l){let h={};l=(l.g&&2<=vi(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<l.length;y++){if(J(l[y]))continue;var f=M(l[y]);let P=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let N=h[P]||[];h[P]=N,N.push(f)}x(h,function(y){return y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gl(l,h,f){return f&&f.internalChannelParams&&f.internalChannelParams[l]||h}function bT(l){this.Aa=0,this.i=[],this.j=new cl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gl("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gl("baseRetryDelayMs",5e3,l),this.cb=gl("retryDelaySeedMs",1e4,l),this.Wa=gl("forwardChannelMaxRetries",2,l),this.wa=gl("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new tT(l&&l.concurrentRequestLimit),this.Da=new rV,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=bT.prototype,n.la=8,n.G=1,n.connect=function(l,h,f,y){pn(0),this.W=l,this.H=h||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.I=xT(this,null,this.W),uh(this)};function c_(l){if(wT(l),l.G==3){var h=l.U++,f=gi(l.I);if(it(f,"SID",l.K),it(f,"RID",h),it(f,"TYPE","terminate"),vl(l,f),h=new Xi(l,l.j,h),h.L=2,h.v=sh(gi(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=h.v,f=!0),f||(h.g=MT(h.j,null),h.g.ea(h.v)),h.F=Date.now(),rh(h)}AT(l)}function lh(l){l.g&&(u_(l),l.g.cancel(),l.g=null)}function wT(l){lh(l),l.u&&(a.clearTimeout(l.u),l.u=null),dh(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function uh(l){if(!nT(l.h)&&!l.s){l.s=!0;var h=l.Ga;el||OD(),tl||(el(),tl=!0),Uv.add(h,l),l.B=0}}function cV(l,h){return rT(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=al(g(l.Ga,l,h),ST(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let P=new Xi(this,this.j,l),N=this.o;if(this.S&&(N?(N=C(N),A(N,this.S)):N=this.S),this.m!==null||this.O||(P.H=N,N=null),this.P)e:{for(var h=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=f;break e}if(h===4096||f===this.i.length-1){h=f+1;break e}}h=1e3}else h=1e3;h=CT(this,P,h),f=gi(this.I),it(f,"RID",l),it(f,"CVER",22),this.D&&it(f,"X-HTTP-Session-Id",this.D),vl(this,f),N&&(this.O?h="headers="+encodeURIComponent(String(pT(N)))+"&"+h:this.m&&a_(f,this.m,N)),s_(this.h,P),this.Ua&&it(f,"TYPE","init"),this.P?(it(f,"$req",h),it(f,"SID","null"),P.T=!0,n_(P,f,null)):n_(P,f,h),this.G=2}}else this.G==3&&(l?ET(this,l):this.i.length==0||nT(this.h)||ET(this))};function ET(l,h){var f;h?f=h.l:f=l.U++;let y=gi(l.I);it(y,"SID",l.K),it(y,"RID",f),it(y,"AID",l.T),vl(l,y),l.m&&l.o&&a_(y,l.m,l.o),f=new Xi(l,l.j,f,l.B+1),l.m===null&&(f.H=l.o),h&&(l.i=h.D.concat(l.i)),h=CT(l,f,1e3),f.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),s_(l.h,f),n_(f,y,h)}function vl(l,h){l.H&&Ue(l.H,function(f,y){it(h,y,f)}),l.l&&sT({},function(f,y){it(h,y,f)})}function CT(l,h,f){f=Math.min(l.i.length,f);var y=l.l?g(l.l.Na,l.l,l):null;e:{var P=l.i;let N=-1;for(;;){let z=["count="+f];N==-1?0<f?(N=P[0].g,z.push("ofs="+N)):N=0:z.push("ofs="+N);let Qe=!0;for(let zt=0;zt<f;zt++){let Ve=P[zt].g,nn=P[zt].map;if(Ve-=N,0>Ve)N=Math.max(0,P[zt].g-100),Qe=!1;else try{iV(nn,z,"req"+Ve+"_")}catch{y&&y(nn)}}if(Qe){y=z.join("&");break e}}}return l=l.i.splice(0,f),h.D=l,y}function IT(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;el||OD(),tl||(el(),tl=!0),Uv.add(h,l),l.v=0}}function l_(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=al(g(l.Fa,l),ST(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,DT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=al(g(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pn(10),lh(this),DT(this))};function u_(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function DT(l){l.g=new Xi(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=gi(l.qa);it(h,"RID","rpc"),it(h,"SID",l.K),it(h,"AID",l.T),it(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&it(h,"TO",l.ja),it(h,"TYPE","xmlhttp"),vl(l,h),l.m&&l.o&&a_(h,l.m,l.o),l.L&&(l.g.I=l.L);var f=l.g;l=l.ia,f.L=1,f.v=sh(gi(h)),f.m=null,f.P=!0,XD(f,l)}n.Za=function(){this.C!=null&&(this.C=null,lh(this),l_(this),pn(19))};function dh(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function TT(l,h){var f=null;if(l.g==h){dh(l),u_(l),l.g=null;var y=2}else if(o_(l.h,h))f=h.D,iT(l.h,h),y=1;else return;if(l.G!=0){if(h.o)if(y==1){f=h.m?h.m.length:0,h=Date.now()-h.F;var P=l.B;y=eh(),fn(y,new KD(y,f)),uh(l)}else IT(l);else if(P=h.s,P==3||P==0&&0<h.X||!(y==1&&cV(l,h)||y==2&&l_(l)))switch(f&&0<f.length&&(h=l.h,h.i=h.i.concat(f)),P){case 1:Uo(l,5);break;case 4:Uo(l,10);break;case 3:Uo(l,6);break;default:Uo(l,2)}}}function ST(l,h){let f=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(f*=2),f*h}function Uo(l,h){if(l.j.info("Error code "+h),h==2){var f=g(l.fb,l),y=l.Xa;let P=!y;y=new Bo(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ih(y,"https"),sh(y),P?tV(y.toString(),f):nV(y.toString(),f)}else pn(2);l.G=0,l.l&&l.l.sa(h),AT(l),wT(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),pn(2)):(this.j.info("Failed to ping google.com"),pn(1))};function AT(l){if(l.G=0,l.ka=[],l.l){let h=oT(l.h);(h.length!=0||l.i.length!=0)&&(k(l.ka,h),k(l.ka,l.i),l.h.i.length=0,R(l.i),l.i.length=0),l.l.ra()}}function xT(l,h,f){var y=f instanceof Bo?gi(f):new Bo(f);if(y.g!="")h&&(y.g=h+"."+y.g),oh(y,y.s);else{var P=a.location;y=P.protocol,h=h?h+"."+P.hostname:P.hostname,P=+P.port;var N=new Bo(null);y&&ih(N,y),h&&(N.g=h),P&&oh(N,P),f&&(N.l=f),y=N}return f=l.D,h=l.ya,f&&h&&it(y,f,h),it(y,"VER",l.la),vl(l,y),y}function MT(l,h,f){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new vt(new fl({eb:f})):new vt(l.pa),h.Ha(l.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function PT(){}n=PT.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function hh(){}hh.prototype.g=function(l,h){return new jn(l,h)};function jn(l,h){tn.call(this),this.g=new bT(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!J(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!J(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new ca(this)}S(jn,tn),jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){c_(this.g)},jn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var f={};f.__data__=l,l=f}else this.u&&(f={},f.__data__=Qv(l),l=f);h.i.push(new qL(h.Ya++,l)),h.G==3&&uh(h)},jn.prototype.N=function(){this.g.l=null,delete this.j,c_(this.g),delete this.g,jn.aa.N.call(this)};function RT(l){Xv.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let f in h){l=f;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}S(RT,Xv);function OT(){Jv.call(this),this.status=1}S(OT,Jv);function ca(l){this.g=l}S(ca,PT),ca.prototype.ua=function(){fn(this.g,"a")},ca.prototype.ta=function(l){fn(this.g,new RT(l))},ca.prototype.sa=function(l){fn(this.g,new OT)},ca.prototype.ra=function(){fn(this.g,"b")},hh.prototype.createWebChannel=hh.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,ME=Ui.createWebChannelTransport=function(){return new hh},xE=Ui.getStatEventTarget=function(){return eh()},AE=Ui.Event=Vo,rg=Ui.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},th.NO_ERROR=0,th.TIMEOUT=8,th.HTTP_ERROR=6,rd=Ui.ErrorCode=th,YD.COMPLETE="complete",SE=Ui.EventType=YD,zD.EventType=ol,ol.OPEN="a",ol.CLOSE="b",ol.ERROR="c",ol.MESSAGE="d",tn.prototype.listen=tn.prototype.K,mc=Ui.WebChannel=zD,t9=Ui.FetchXmlHttpFactory=fl,vt.prototype.listenOnce=vt.prototype.L,vt.prototype.getLastError=vt.prototype.Ka,vt.prototype.getLastErrorCode=vt.prototype.Ba,vt.prototype.getStatus=vt.prototype.Z,vt.prototype.getResponseJson=vt.prototype.Oa,vt.prototype.getResponseText=vt.prototype.oa,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Ha,TE=Ui.XhrIo=vt}).apply(typeof ng<"u"?ng:typeof self<"u"?self:typeof window<"u"?window:{});var Rk="@firebase/firestore",Ok="4.7.16";var Ut=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");var Nc="11.8.1";var Hs=new Jr("@firebase/firestore");function gc(){return Hs.logLevel}function Q(n,...e){if(Hs.logLevel<=Re.DEBUG){let t=e.map(bI);Hs.debug(`Firestore (${Nc}): ${n}`,...t)}}function $i(n,...e){if(Hs.logLevel<=Re.ERROR){let t=e.map(bI);Hs.error(`Firestore (${Nc}): ${n}`,...t)}}function Ec(n,...e){if(Hs.logLevel<=Re.WARN){let t=e.map(bI);Hs.warn(`Firestore (${Nc}): ${n}`,...t)}}function bI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function le(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,b1(n,r,t)}function b1(n,e,t){let r=`FIRESTORE (${Nc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw $i(r),new Error(r)}function ze(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||b1(e,i,r)}function ve(n,e){return n}var U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ie=class extends Wn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var si=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var ug=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},NE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ut.UNAUTHENTICATED))}shutdown(){}},FE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},LE=class{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ze(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new si;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new si,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>w(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new si)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string",31837,{l:r}),new ug(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new Ut(e)}},VE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},jE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new VE(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}},dg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},BE=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ze(this.o===void 0,3512);let r=o=>{o.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,Q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new dg(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new dg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function n9(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function w1(){return new TextEncoder}var hg=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=n9(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function xe(n,e){return n<e?-1:n>e?1:0}function UE(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return xe(r,i);{let o=w1(),s=r9(o.encode(kk(n,t)),o.encode(kk(e,t)));return s!==0?s:xe(r,i)}}t+=r>65535?2:1}return xe(n.length,e.length)}function kk(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function r9(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return xe(n[t],e[t]);return xe(n.length,e.length)}function Cc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Nk=-62135596800,Fk=1e6,Jt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Fk);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ie(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ie(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Nk)throw new ie(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fk}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-Nk;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var be=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Jt(0,0))}static max(){return new n(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Lk="__name__",fg=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&le(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&le(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return xe(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):UE(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bi.fromString(e.substring(4,e.length-2))}},Pt=class n extends fg{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new ie(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},i9=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Gn=class n extends fg{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return i9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Lk}static keyField(){return new n([Lk])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new ie(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new ie(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ie(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ie(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ue=class n{constructor(e){this.path=e}static fromPath(e){return new n(Pt.fromString(e))}static fromName(e){return new n(Pt.fromString(e).popFirst(5))}static empty(){return new n(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Pt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Pt(e.slice()))}};var ld=-1,$E=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};$E.UNKNOWN_ID=-1;function o9(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=be.fromTimestamp(r===1e9?new Jt(t+1,0):new Jt(t,r));return new zs(i,ue.empty(),e)}function s9(n){return new zs(n.readTime,n.key,ld)}var zs=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(be.min(),ue.empty(),ld)}static max(){return new n(be.max(),ue.empty(),ld)}};function a9(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ue.comparator(n.documentKey,e.documentKey),t!==0?t:xe(n.largestBatchId,e.largestBatchId))}var c9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",HE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Fc(n){return w(this,null,function*(){if(n.code!==U.FAILED_PRECONDITION||n.message!==c9)throw n;Q("LocalStore","Unexpectedly lost primary lease")})}var B=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;t(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function l9(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Lc(n){return n.name==="IndexedDbTransactionError"}var wI=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),EI=-1;function Hg(n){return n==null}function ud(n){return n===0&&1/n==-1/0}function u9(n){return typeof n=="number"&&Number.isInteger(n)&&!ud(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var E1="";function d9(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Vk(e)),e=h9(n.get(t),e);return Vk(e)}function h9(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case E1:t+="";break;default:t+=o}}return t}function Vk(n){return n+E1+""}var f9="remoteDocuments",C1="owner";var I1="mutationQueues";var D1="mutations";var T1="documentMutations",p9="remoteDocumentsV14";var S1="remoteDocumentGlobal";var A1="targets";var x1="targetDocuments";var M1="targetGlobal",P1="collectionParents";var R1="clientMetadata";var O1="bundles";var k1="namedQueries";var m9="indexConfiguration";var g9="indexState";var v9="indexEntries";var N1="documentOverlays";var _9="globals";var y9=[I1,D1,T1,f9,A1,C1,M1,x1,R1,S1,P1,O1,k1],oce=[...y9,N1],b9=[I1,D1,T1,p9,A1,C1,M1,x1,R1,S1,P1,O1,k1,N1],w9=b9,E9=[...w9,m9,g9,v9];var sce=[...E9,_9];function jk(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ys(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function F1(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var bt=class n{constructor(e,t){this.comparator=e,this.root=t||ai.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ai.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ai.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bc(this.root,e,this.comparator,!0)}},bc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ai=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw le(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw le(27949);return e+(this.isRed()?0:1)}};ai.EMPTY=null,ai.RED=!0,ai.BLACK=!1;ai.EMPTY=new class{constructor(){this.size=0}get key(){throw le(57766)}get value(){throw le(16141)}get color(){throw le(16727)}get left(){throw le(29726)}get right(){throw le(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new ai(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var $t=class n{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pg(this.data.getIterator())}getIteratorFrom(e){return new pg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},pg=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var oi=class n{constructor(e){this.fields=e,e.sort(Gn.comparator)}static empty(){return new n([])}unionWith(e){let t=new $t(Gn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Cc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var mg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var hn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new mg("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};hn.EMPTY_BYTE_STRING=new hn("");var C9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hi(n){if(ze(!!n,39018),typeof n=="string"){let e=0,t=C9.exec(n);if(ze(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ut(n.seconds),nanos:ut(n.nanos)}}function ut(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function zi(n){return typeof n=="string"?hn.fromBase64String(n):hn.fromUint8Array(n)}var L1="server_timestamp",V1="__type__",j1="__previous_value__",B1="__local_write_time__";function CI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[V1])===null||t===void 0?void 0:t.stringValue)===L1}function zg(n){let e=n.mapValue.fields[j1];return CI(e)?zg(e):e}function dd(n){let e=Hi(n.mapValue.fields[B1].timestampValue);return new Jt(e.seconds,e.nanos)}var zE=class{constructor(e,t,r,i,o,s,a,c,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}},gg="(default)",vg=class n{constructor(e,t){this.projectId=e,this.database=t||gg}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===gg}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var II="__type__",U1="__max__",ig={mapValue:{fields:{__type__:{stringValue:U1}}}},DI="__vector__",Ic="value";function Mo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?CI(n)?4:H1(n)?9007199254740991:$1(n)?10:11:le(28295,{value:n})}function ui(n,e){if(n===e)return!0;let t=Mo(n);if(t!==Mo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return dd(n).isEqual(dd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Hi(i.timestampValue),a=Hi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return zi(i.bytesValue).isEqual(zi(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return ut(i.geoPointValue.latitude)===ut(o.geoPointValue.latitude)&&ut(i.geoPointValue.longitude)===ut(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ut(i.integerValue)===ut(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ut(i.doubleValue),a=ut(o.doubleValue);return s===a?ud(s)===ud(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Cc(n.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(jk(s)!==jk(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!ui(s[c],a[c])))return!1;return!0}(n,e);default:return le(52216,{left:n})}}function hd(n,e){return(n.values||[]).find(t=>ui(t,e))!==void 0}function Dc(n,e){if(n===e)return 0;let t=Mo(n),r=Mo(e);if(t!==r)return xe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return xe(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=ut(o.integerValue||o.doubleValue),c=ut(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return Bk(n.timestampValue,e.timestampValue);case 4:return Bk(dd(n),dd(e));case 5:return UE(n.stringValue,e.stringValue);case 6:return function(o,s){let a=zi(o),c=zi(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=xe(a[u],c[u]);if(d!==0)return d}return xe(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=xe(ut(o.latitude),ut(s.latitude));return a!==0?a:xe(ut(o.longitude),ut(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Uk(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,u,d;let p=o.fields||{},g=s.fields||{},_=(a=p[Ic])===null||a===void 0?void 0:a.arrayValue,S=(c=g[Ic])===null||c===void 0?void 0:c.arrayValue,R=xe(((u=_?.values)===null||u===void 0?void 0:u.length)||0,((d=S?.values)===null||d===void 0?void 0:d.length)||0);return R!==0?R:Uk(_,S)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===ig.mapValue&&s===ig.mapValue)return 0;if(o===ig.mapValue)return 1;if(s===ig.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){let g=UE(c[p],d[p]);if(g!==0)return g;let _=Dc(a[c[p]],u[d[p]]);if(_!==0)return _}return xe(c.length,d.length)}(n.mapValue,e.mapValue);default:throw le(23264,{Pe:t})}}function Bk(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return xe(n,e);let t=Hi(n),r=Hi(e),i=xe(t.seconds,r.seconds);return i!==0?i:xe(t.nanos,r.nanos)}function Uk(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Dc(t[i],r[i]);if(o)return o}return xe(t.length,r.length)}function Tc(n){return qE(n)}function qE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Hi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return zi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ue.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=qE(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${qE(t.fields[s])}`;return i+"}"}(n.mapValue):le(61005,{value:n})}function ag(n){switch(Mo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=zg(n);return e?16+ag(e):16;case 5:return 2*n.stringValue.length;case 6:return zi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+ag(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Ys(r.fields,(o,s)=>{i+=o.length+ag(s)}),i}(n.mapValue);default:throw le(13486,{value:n})}}function WE(n){return!!n&&"integerValue"in n}function TI(n){return!!n&&"arrayValue"in n}function $k(n){return!!n&&"nullValue"in n}function Hk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function cg(n){return!!n&&"mapValue"in n}function $1(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[II])===null||t===void 0?void 0:t.stringValue)===DI}function od(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ys(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=od(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=od(n.arrayValue.values[t]);return e}return Object.assign({},n)}function H1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===U1}var cce={mapValue:{fields:{[II]:{stringValue:DI},[Ic]:{arrayValue:{}}}}};var Sr=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!cg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=od(t)}setAll(e){let t=Gn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=od(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());cg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];cg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ys(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(od(this.value))}};function z1(n){let e=[];return Ys(n.fields,(t,r)=>{let i=new Gn([t]);if(cg(r)){let o=z1(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new oi(e)}var Ar=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,be.min(),be.min(),be.min(),Sr.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,be.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,be.min(),be.min(),Sr.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,be.min(),be.min(),Sr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Sc=class{constructor(e,t){this.position=e,this.inclusive=t}};function zk(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ue.comparator(ue.fromName(s.referenceValue),t.key):r=Dc(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function qk(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ui(n.position[t],e.position[t]))return!1;return!0}var Ac=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function I9(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var _g=class{},Nt=class n extends _g{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new KE(e,t,r):t==="array-contains"?new ZE(e,r):t==="in"?new XE(e,r):t==="not-in"?new JE(e,r):t==="array-contains-any"?new eC(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new YE(e,r):new QE(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Dc(t,this.value)):t!==null&&Mo(this.value)===Mo(t)&&this.matchesComparison(Dc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},di=class n extends _g{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return q1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function q1(n){return n.op==="and"}function W1(n){return D9(n)&&q1(n)}function D9(n){for(let e of n.filters)if(e instanceof di)return!1;return!0}function GE(n){if(n instanceof Nt)return n.field.canonicalString()+n.op.toString()+Tc(n.value);if(W1(n))return n.filters.map(e=>GE(e)).join(",");{let e=n.filters.map(t=>GE(t)).join(",");return`${n.op}(${e})`}}function G1(n,e){return n instanceof Nt?function(r,i){return i instanceof Nt&&r.op===i.op&&r.field.isEqual(i.field)&&ui(r.value,i.value)}(n,e):n instanceof di?function(r,i){return i instanceof di&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&G1(s,i.filters[a]),!0):!1}(n,e):void le(19439)}function K1(n){return n instanceof Nt?function(t){return`${t.field.canonicalString()} ${t.op} ${Tc(t.value)}`}(n):n instanceof di?function(t){return t.op.toString()+" {"+t.getFilters().map(K1).join(" ,")+"}"}(n):"Filter"}var KE=class extends Nt{constructor(e,t,r){super(e,t,r),this.key=ue.fromName(r.referenceValue)}matches(e){let t=ue.comparator(e.key,this.key);return this.matchesComparison(t)}},YE=class extends Nt{constructor(e,t){super(e,"in",t),this.keys=Y1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},QE=class extends Nt{constructor(e,t){super(e,"not-in",t),this.keys=Y1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function Y1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ue.fromName(r.referenceValue))}var ZE=class extends Nt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return TI(t)&&hd(t.arrayValue,this.value)}},XE=class extends Nt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&hd(this.value.arrayValue,t)}},JE=class extends Nt{constructor(e,t){super(e,"not-in",t)}matches(e){if(hd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!hd(this.value.arrayValue,t)}},eC=class extends Nt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!TI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>hd(this.value.arrayValue,r))}};var tC=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function Wk(n,e=null,t=[],r=[],i=null,o=null,s=null){return new tC(n,e,t,r,i,o,s)}function SI(n){let e=ve(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>GE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Hg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Tc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Tc(r)).join(",")),e.Ie=t}return e.Ie}function AI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!I9(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!G1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!qk(n.startAt,e.startAt)&&qk(n.endAt,e.endAt)}function nC(n){return ue.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var xc=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function T9(n,e,t,r,i,o,s,a){return new xc(n,e,t,r,i,o,s,a)}function xI(n){return new xc(n)}function Gk(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function S9(n){return n.collectionGroup!==null}function sd(n){let e=ve(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new $t(Gn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Ac(o,r))}),t.has(Gn.keyField().canonicalString())||e.Ee.push(new Ac(Gn.keyField(),r))}return e.Ee}function ci(n){let e=ve(n);return e.de||(e.de=A9(e,sd(n))),e.de}function A9(n,e){if(n.limitType==="F")return Wk(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ac(i.field,o)});let t=n.endAt?new Sc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Sc(n.startAt.position,n.startAt.inclusive):null;return Wk(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function rC(n,e,t){return new xc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function qg(n,e){return AI(ci(n),ci(e))&&n.limitType===e.limitType}function Q1(n){return`${SI(ci(n))}|lt:${n.limitType}`}function vc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>K1(i)).join(", ")}]`),Hg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Tc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Tc(i)).join(",")),`Target(${r})`}(ci(n))}; limitType=${n.limitType})`}function Wg(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ue.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of sd(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=zk(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,sd(r),i)||r.endAt&&!function(s,a,c){let u=zk(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,sd(r),i))}(n,e)}function x9(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Z1(n){return(e,t)=>{let r=!1;for(let i of sd(n)){let o=M9(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function M9(n,e,t){let r=n.field.isKeyField()?ue.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?Dc(c,u):le(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return le(19790,{direction:n.dir})}}var qi=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ys(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return F1(this.inner)}size(){return this.innerSize}};var P9=new bt(ue.comparator);function Wi(){return P9}var X1=new bt(ue.comparator);function id(...n){let e=X1;for(let t of n)e=e.insert(t.key,t);return e}function J1(n){let e=X1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Bs(){return ad()}function eN(){return ad()}function ad(){return new qi(n=>n.toString(),(n,e)=>n.isEqual(e))}var R9=new bt(ue.comparator),O9=new $t(ue.comparator);function Oe(...n){let e=O9;for(let t of n)e=e.add(t);return e}var k9=new $t(xe);function N9(){return k9}function MI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ud(e)?"-0":e}}function tN(n){return{integerValue:""+n}}function F9(n,e){return u9(e)?tN(e):MI(n,e)}var Mc=class{constructor(){this._=void 0}};function L9(n,e,t){return n instanceof Pc?function(i,o){let s={fields:{[V1]:{stringValue:L1},[B1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&CI(o)&&(o=zg(o)),o&&(s.fields[j1]=o),{mapValue:s}}(t,e):n instanceof qs?rN(n,e):n instanceof Ws?iN(n,e):function(i,o){let s=nN(i,o),a=Kk(s)+Kk(i.Re);return WE(s)&&WE(i.Re)?tN(a):MI(i.serializer,a)}(n,e)}function V9(n,e,t){return n instanceof qs?rN(n,e):n instanceof Ws?iN(n,e):t}function nN(n,e){return n instanceof Rc?function(r){return WE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Pc=class extends Mc{},qs=class extends Mc{constructor(e){super(),this.elements=e}};function rN(n,e){let t=oN(e);for(let r of n.elements)t.some(i=>ui(i,r))||t.push(r);return{arrayValue:{values:t}}}var Ws=class extends Mc{constructor(e){super(),this.elements=e}};function iN(n,e){let t=oN(e);for(let r of n.elements)t=t.filter(i=>!ui(i,r));return{arrayValue:{values:t}}}var Rc=class extends Mc{constructor(e,t){super(),this.serializer=e,this.Re=t}};function Kk(n){return ut(n.integerValue||n.doubleValue)}function oN(n){return TI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function j9(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof qs&&i instanceof qs||r instanceof Ws&&i instanceof Ws?Cc(r.elements,i.elements,ui):r instanceof Rc&&i instanceof Rc?ui(r.Re,i.Re):r instanceof Pc&&i instanceof Pc}(n.transform,e.transform)}var iC=class{constructor(e,t){this.version=e,this.transformResults=t}},$s=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function lg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Oc=class{};function sN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new yg(n.key,$s.none()):new Gs(n.key,n.data,$s.none());{let t=n.data,r=Sr.empty(),i=new $t(Gn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Gi(n.key,r,new oi(i.toArray()),$s.none())}}function B9(n,e,t){n instanceof Gs?function(i,o,s){let a=i.value.clone(),c=Qk(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Gi?function(i,o,s){if(!lg(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=Qk(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(aN(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function cd(n,e,t,r){return n instanceof Gs?function(o,s,a,c){if(!lg(o.precondition,s))return a;let u=o.value.clone(),d=Zk(o.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Gi?function(o,s,a,c){if(!lg(o.precondition,s))return a;let u=Zk(o.fieldTransforms,c,s),d=s.data;return d.setAll(aN(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return lg(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function U9(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=nN(r.transform,i||null);o!=null&&(t===null&&(t=Sr.empty()),t.set(r.field,o))}return t||null}function Yk(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Cc(r,i,(o,s)=>j9(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Gs=class extends Oc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Gi=class extends Oc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function aN(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function Qk(n,e,t){let r=new Map;ze(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,V9(s,a,t[i]))}return r}function Zk(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,L9(o,s,e))}return r}var yg=class extends Oc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},oC=class extends Oc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var sC=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&B9(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=cd(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=cd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=eN();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=sN(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Oe())}isEqual(e){return this.batchId===e.batchId&&Cc(this.mutations,e.mutations,(t,r)=>Yk(t,r))&&Cc(this.baseMutations,e.baseMutations,(t,r)=>Yk(t,r))}},aC=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ze(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return R9}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var cC=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var lC=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var xt,Le;function $9(n){switch(n){case U.OK:return le(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return le(15467,{code:n})}}function cN(n){if(n===void 0)return $i("GRPC error has no .code"),U.UNKNOWN;switch(n){case xt.OK:return U.OK;case xt.CANCELLED:return U.CANCELLED;case xt.UNKNOWN:return U.UNKNOWN;case xt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case xt.INTERNAL:return U.INTERNAL;case xt.UNAVAILABLE:return U.UNAVAILABLE;case xt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case xt.NOT_FOUND:return U.NOT_FOUND;case xt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case xt.ABORTED:return U.ABORTED;case xt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case xt.DATA_LOSS:return U.DATA_LOSS;default:return le(39323,{code:n})}}(Le=xt||(xt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";var Xk=null;var H9=new Bi([4294967295,4294967295],0);function Jk(n){let e=w1().encode(n),t=new DE;return t.update(e),new Uint8Array(t.digest())}function e1(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Bi([t,r],0),new Bi([i,o],0)]}var uC=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Us(`Invalid padding: ${t}`);if(r<0)throw new Us(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Us(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Us(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Bi.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Bi.fromNumber(r)));return i.compare(H9)===1&&(i=new Bi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=Jk(e),[r,i]=e1(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.Se(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let t=Jk(e),[r,i]=e1(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.be(s)}}be(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Us=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var bg=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,fd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(be.min(),i,new bt(xe),Wi(),Oe())}},fd=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Oe(),Oe(),Oe())}};var wc=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},wg=class{constructor(e,t){this.targetId=e,this.Ce=t}},Eg=class{constructor(e,t,r=hn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Cg=class{constructor(){this.Fe=0,this.Me=t1(),this.xe=hn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Oe(),t=Oe(),r=Oe();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:le(38017,{changeType:o})}}),new fd(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=t1()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ze(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},dC=class{constructor(e){this.ze=e,this.je=new Map,this.He=Wi(),this.Je=og(),this.Ye=og(),this.Ze=new bt(xe)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:le(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let o=i.target;if(nC(o))if(r===0){let s=new ue(o.path);this.tt(t,s,Ar.newNoDocument(s,be.min()))}else ze(r===1,20013,{expectedCount:r});else{let s=this.ut(t);if(s!==r){let a=this.ct(e),c=a?this.lt(a,e,s):1;if(c!==0){this.st(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,u)}Xk?.ht(function(d,p,g,_,S){var R,k,q,J,Z,ke;let Dt={localCacheCount:d,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},Ue=p.unchangedNames;return Ue&&(Dt.bloomFilter={applied:S===0,hashCount:(R=Ue?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(J=(q=(k=Ue?.bits)===null||k===void 0?void 0:k.bitmap)===null||q===void 0?void 0:q.length)!==null&&J!==void 0?J:0,padding:(ke=(Z=Ue?.bits)===null||Z===void 0?void 0:Z.padding)!==null&&ke!==void 0?ke:0,mightContain:x=>{var C;return(C=_?.mightContain(x))!==null&&C!==void 0&&C}}),Dt}(s,e.Ce,this.ze.Pt(),a,c))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=zi(r).toUint8Array()}catch(c){if(c instanceof mg)return Ec("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new uC(s,i,o)}catch(c){return Ec(c instanceof Us?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,o,null),i++)}),i}It(e){let t=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&nC(a.target)){let c=new ue(a.target.path);this.Et(c).has(s)||this.dt(s,c)||this.tt(s,c,Ar.newNoDocument(c,e))}o.Le&&(t.set(s,o.qe()),o.Qe())}});let r=Oe();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this._t(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new bg(e,t,this.Ze,this.He,r);return this.He=Wi(),this.Je=og(),this.Ye=og(),this.Ze=new bt(xe),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Cg,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new $t(xe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new $t(xe),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||Q("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Cg),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function og(){return new bt(ue.comparator)}function t1(){return new bt(ue.comparator)}var z9={asc:"ASCENDING",desc:"DESCENDING"},q9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W9={and:"AND",or:"OR"},hC=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function fC(n,e){return n.useProto3Json||Hg(e)?e:{value:e}}function Ig(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function G9(n,e){return Ig(n,e.toTimestamp())}function li(n){return ze(!!n,49232),be.fromTimestamp(function(t){let r=Hi(t);return new Jt(r.seconds,r.nanos)}(n))}function PI(n,e){return pC(n,e).canonicalString()}function pC(n,e){let t=function(i){return new Pt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function uN(n){let e=Pt.fromString(n);return ze(mN(e),10190,{key:e.toString()}),e}function mC(n,e){return PI(n.databaseId,e.path)}function PE(n,e){let t=uN(e);if(t.get(1)!==n.databaseId.projectId)throw new ie(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ie(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ue(hN(t))}function dN(n,e){return PI(n.databaseId,e)}function K9(n){let e=uN(n);return e.length===4?Pt.emptyPath():hN(e)}function gC(n){return new Pt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hN(n){return ze(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function n1(n,e,t){return{name:mC(n,e),fields:t.value.mapValue.fields}}function Y9(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:le(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(ze(d===void 0||typeof d=="string",58123),hn.fromBase64String(d||"")):(ze(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),hn.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let d=u.code===void 0?U.UNKNOWN:cN(u.code);return new ie(d,u.message||"")}(s);t=new Eg(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=PE(n,r.document.name),o=li(r.document.updateTime),s=r.document.createTime?li(r.document.createTime):be.min(),a=new Sr({mapValue:{fields:r.document.fields}}),c=Ar.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];t=new wc(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=PE(n,r.document),o=r.readTime?li(r.readTime):be.min(),s=Ar.newNoDocument(i,o),a=r.removedTargetIds||[];t=new wc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=PE(n,r.document),o=r.removedTargetIds||[];t=new wc([],o,i,null)}else{if(!("filter"in e))return le(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new lC(i,o),a=r.targetId;t=new wg(a,s)}}return t}function Q9(n,e){let t;if(e instanceof Gs)t={update:n1(n,e.key,e.value)};else if(e instanceof yg)t={delete:mC(n,e.key)};else if(e instanceof Gi)t={update:n1(n,e.key,e.data),updateMask:oW(e.fieldMask)};else{if(!(e instanceof oC))return le(16599,{ft:e.type});t={verify:mC(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Pc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ws)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Rc)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw le(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:G9(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:le(27497)}(n,e.precondition)),t}function Z9(n,e){return n&&n.length>0?(ze(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?li(i.updateTime):li(o);return s.isEqual(be.min())&&(s=li(o)),new iC(s,i.transformResults||[])}(t,e))):[]}function X9(n,e){return{documents:[dN(n,e.path)]}}function J9(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=dN(n,i);let o=function(u){if(u.length!==0)return pN(di.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(d=>function(g){return{field:_c(g.field),direction:nW(g.dir)}}(d))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=fC(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:t,parent:i}}function eW(n){let e=K9(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){ze(r===1,65062);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(p){let g=fN(p);return g instanceof di&&W1(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(g=>function(S){return new Ac(yc(S.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,Hg(g)?null:g}(t.limit));let c=null;t.startAt&&(c=function(p){let g=!!p.before,_=p.values||[];return new Sc(_,g)}(t.startAt));let u=null;return t.endAt&&(u=function(p){let g=!p.before,_=p.values||[];return new Sc(_,g)}(t.endAt)),T9(e,i,s,o,a,"F",c,u)}function tW(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function fN(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=yc(t.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=yc(t.unaryFilter.field);return Nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=yc(t.unaryFilter.field);return Nt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=yc(t.unaryFilter.field);return Nt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return le(61313);default:return le(60726)}}(n):n.fieldFilter!==void 0?function(t){return Nt.create(yc(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return le(58110);default:return le(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return di.create(t.compositeFilter.filters.map(r=>fN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le(1026)}}(t.compositeFilter.op))}(n):le(30097,{filter:n})}function nW(n){return z9[n]}function rW(n){return q9[n]}function iW(n){return W9[n]}function _c(n){return{fieldPath:n.canonicalString()}}function yc(n){return Gn.fromServerFormat(n.fieldPath)}function pN(n){return n instanceof Nt?function(t){if(t.op==="=="){if(Hk(t.value))return{unaryFilter:{field:_c(t.field),op:"IS_NAN"}};if($k(t.value))return{unaryFilter:{field:_c(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Hk(t.value))return{unaryFilter:{field:_c(t.field),op:"IS_NOT_NAN"}};if($k(t.value))return{unaryFilter:{field:_c(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_c(t.field),op:rW(t.op),value:t.value}}}(n):n instanceof di?function(t){let r=t.getFilters().map(i=>pN(i));return r.length===1?r[0]:{compositeFilter:{op:iW(t.op),filters:r}}}(n):le(54877,{filter:n})}function oW(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function mN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var pd=class n{constructor(e,t,r,i,o=be.min(),s=be.min(),a=hn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var vC=class{constructor(e){this.wt=e}};function sW(n){let e=eW({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?rC(e,e.limit,"L"):e}var Dg=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(ut(e.integerValue));else if("doubleValue"in e){let r=ut(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),ud(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=Hi(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(zi(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?H1(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):$1(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):le(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let o=e.fields||{};this.Mt(t,53);let s=Ic,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(ut(a)),this.Nt(s,t),this.Ct(o[s],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),ue.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};Dg.Wt=new Dg;var _C=class{constructor(){this.Cn=new yC}addToCollectionParentIndex(e,t){return this.Cn.add(t),B.resolve()}getCollectionParents(e,t){return B.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return B.resolve()}deleteFieldIndex(e,t){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,t){return B.resolve()}getDocumentsMatchingTarget(e,t){return B.resolve(null)}getIndexType(e,t){return B.resolve(0)}getFieldIndexes(e,t){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,t){return B.resolve(zs.min())}getMinOffsetFromCollectionGroup(e,t){return B.resolve(zs.min())}updateCollectionGroup(e,t,r){return B.resolve()}updateIndexEntries(e,t){return B.resolve()}},yC=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new $t(Pt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $t(Pt.comparator)).toArray()}};var lce=new Uint8Array(0);var r1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gN=41943040,cr=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};cr.DEFAULT_COLLECTION_PERCENTILE=10,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cr.DEFAULT=new cr(gN,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cr.DISABLED=new cr(-1,0,0);var md=class n{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new n(0)}static lr(){return new n(-1)}};var i1="LruGarbageCollector",aW=1048576;function o1([n,e],[t,r]){let i=xe(n,t);return i===0?xe(e,r):i}var bC=class{constructor(e){this.Er=e,this.buffer=new $t(o1),this.dr=0}Ar(){return++this.dr}Rr(e){let t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();o1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},wC=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Q(i1,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>w(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Lc(t)?Q(i1,"Ignoring IndexedDB error during garbage collection: ",t):yield Fc(t)}yield this.mr(3e5)}))}},EC=class{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return B.resolve(wI.le);let r=new bC(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(r1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),r1):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,s,a,c,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),gc()<=Re.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function cW(n,e){return new EC(n,e)}var CC=class{constructor(){this.changes=new qi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ar.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?B.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var IC=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var DC=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&cd(r.mutation,i,oi.empty(),Jt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Oe()){let i=Bs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=id();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Bs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Oe()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Wi(),s=ad(),a=function(){return ad()}();return t.forEach((c,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Gi)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),cd(d.mutation,u,d.mutation.getFieldMask(),Jt.now())):s.set(u.key,oi.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>s.set(u,d)),t.forEach((u,d)=>{var p;return a.set(u,new IC(d,(p=s.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=ad(),i=new bt((s,a)=>s-a),o=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let d=r.get(c)||oi.empty();d=a.applyToLocalView(u,d),r.set(c,d);let p=(i.get(a.batchId)||Oe()).add(c);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,p=eN();d.forEach(g=>{if(!o.has(g)){let _=sN(t.get(g),r.get(g));_!==null&&p.set(g,_),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,p))}return B.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return ue.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):S9(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):B.resolve(Bs()),a=ld,c=o;return s.next(u=>B.forEach(u,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{c=c.insert(d,g)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,Oe())).next(d=>({batchId:a,changes:J1(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ue(t)).next(r=>{let i=id();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=id();return this.indexManager.getCollectionParents(e,o).next(a=>B.forEach(a,c=>{let u=function(p,g){return new xc(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,u)=>{let d=u.getKey();s.get(d)===null&&(s=s.insert(d,Ar.newInvalidDocument(d)))});let a=id();return s.forEach((c,u)=>{let d=o.get(c);d!==void 0&&cd(d.mutation,u,oi.empty(),Jt.now()),Wg(t,u)&&(a=a.insert(c,u))}),a})}};var TC=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return B.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:li(i.createTime)}}(t)),B.resolve()}getNamedQuery(e,t){return B.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:sW(i.bundledQuery),readTime:li(i.readTime)}}(t)),B.resolve()}};var SC=class{constructor(){this.overlays=new bt(ue.comparator),this.Qr=new Map}getOverlay(e,t){return B.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Bs();return B.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.bt(e,t,o)}),B.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),B.resolve()}getOverlaysForCollection(e,t,r){let i=Bs(),o=t.length+1,s=new ue(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return B.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new bt((u,d)=>u-d),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=Bs(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=Bs(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return B.resolve(a)}bt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new cC(t,r));let o=this.Qr.get(t);o===void 0&&(o=Oe(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}};var AC=class{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,B.resolve()}};var gd=class{constructor(){this.$r=new $t(Mt.Ur),this.Kr=new $t(Mt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){let r=new Mt(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new Mt(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){let t=new ue(new Pt([])),r=new Mt(t,e),i=new Mt(t,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let t=new ue(new Pt([])),r=new Mt(t,e),i=new Mt(t,e+1),o=Oe();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Mt(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Mt=class{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ue.comparator(e.key,t.key)||xe(e.Zr,t.Zr)}static Wr(e,t){return xe(e.Zr,t.Zr)||ue.comparator(e.key,t.key)}};var xC=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new $t(Mt.Ur)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new sC(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new Mt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(s)}lookupMutationBatch(e,t){return B.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ti(r),o=i<0?0:i;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?EI:this.nr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Mt(t,0),i=new Mt(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new $t(xe);return t.forEach(i=>{let o=new Mt(i,0),s=new Mt(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),B.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;ue.isDocumentKey(o)||(o=o.child(""));let s=new Mt(new ue(o),0),a=new $t(xe);return this.Xr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Zr)),!0)},s),B.resolve(this.ni(a))}ni(e){let t=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){ze(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return B.forEach(t.mutations,i=>{let o=new Mt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){let r=new Mt(t,0),i=this.Xr.firstAfterOrEqual(r);return B.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var MC=class{constructor(e){this.ii=e,this.docs=function(){return new bt(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return B.resolve(r?r.document.mutableCopy():Ar.newInvalidDocument(t))}getEntries(e,t){let r=Wi();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ar.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Wi(),s=t.path,a=new ue(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||a9(s9(d),r)<=0||(i.has(d.key)||Wg(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,t,r,i){le(9500)}si(e,t){return B.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new PC(this)}getSize(e){return B.resolve(this.size)}},PC=class extends CC{constructor(e){super(),this.Br=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),B.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}};var RC=class{constructor(e){this.persistence=e,this.oi=new qi(t=>SI(t),AI),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this._i=0,this.ai=new gd,this.targetCount=0,this.ui=md.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),B.resolve()}Tr(e){this.oi.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ui=new md(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,B.resolve()}updateTargetData(e,t){return this.Tr(t),B.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(o).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,t){let r=this.oi.get(t)||null;return B.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),B.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),B.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),B.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ai.Yr(t);return B.resolve(r)}containsKey(e,t){return B.resolve(this.ai.containsKey(t))}};var Tg=class{constructor(e,t){this.ci={},this.overlays={},this.li=new wI(0),this.hi=!1,this.hi=!0,this.Pi=new AC,this.referenceDelegate=e(this),this.Ti=new RC(this),this.indexManager=new _C,this.remoteDocumentCache=function(i){return new MC(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new vC(t),this.Ei=new TC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new SC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new xC(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){Q("MemoryPersistence","Starting transaction:",e);let i=new OC(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return B.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}},OC=class extends HE{constructor(e){super(),this.currentSequenceNumber=e}},kC=class n{constructor(e){this.persistence=e,this.Vi=new gd,this.mi=null}static fi(e){return new n(e)}get gi(){if(this.mi)return this.mi;throw le(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),B.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),B.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.gi,r=>{let i=ue.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,be.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return B.or([()=>B.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}},Sg=class n{constructor(e,t){this.persistence=e,this.yi=new qi(r=>d9(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=cW(this,t)}static fi(e,t){return new n(e,t)}di(){}Ai(e){return B.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){let t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return B.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?B.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,be.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),B.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),B.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ag(e.data.value)),t}Dr(e,t,r){return B.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.yi.get(t);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var NC=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=Oe(),i=Oe();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var FC=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var LC=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return gO()?8:l9(Bt())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ws(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Ss(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new FC;return this.bs(e,t,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,t,s,a.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(gc()<=Re.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",vc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),B.resolve()):(gc()<=Re.DEBUG&&Q("QueryEngine","Query:",vc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(gc()<=Re.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",vc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ci(t))):B.resolve())}ws(e,t){if(Gk(t))return B.resolve(null);let r=ci(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=rC(t,null,"F"),r=ci(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Oe(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.vs(t,a);return this.Cs(t,u,s,c.readTime)?this.ws(e,rC(t,null,"F")):this.Fs(e,u,t,c)}))})))}Ss(e,t,r,i){return Gk(t)||i.isEqual(be.min())?B.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(t,o);return this.Cs(t,s,r,i)?B.resolve(null):(gc()<=Re.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vc(t)),this.Fs(e,s,t,o9(i,ld)).next(a=>a))})}vs(e,t){let r=new $t(Z1(e));return t.forEach((i,o)=>{Wg(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}bs(e,t,r){return gc()<=Re.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",vc(t)),this.ys.getDocumentsMatchingQuery(e,t,zs.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var RI="LocalStore",lW=3e8,VC=class{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new bt(xe),this.Os=new qi(o=>SI(o),AI),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DC(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}};function uW(n,e,t,r){return new VC(n,e,t,r)}function vN(n,e){return w(this,null,function*(){let t=ve(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=Oe();for(let u of i){s.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of o){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(u=>({ks:u,removedBatchIds:s,addedBatchIds:a}))})})})}function dW(n,e){let t=ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let p=u.batch,g=p.keys(),_=B.resolve();return g.forEach(S=>{_=_.next(()=>d.getEntry(c,S)).next(R=>{let k=u.docVersions.get(S);ze(k!==null,48541),R.version.compareTo(k)<0&&(p.applyToRemoteDocument(R,u),R.isValidDocument()&&(R.setReadTime(u.commitVersion),d.addEntry(R)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Oe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function _N(n){let e=ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function hW(n,e){let t=ve(n),r=e.snapshotVersion,i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;let a=[];e.targetChanges.forEach((d,p)=>{let g=i.get(p);if(!g)return;a.push(t.Ti.removeMatchingKeys(o,d.removedDocuments,p).next(()=>t.Ti.addMatchingKeys(o,d.addedDocuments,p)));let _=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(hn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,r)),i=i.insert(p,_),function(R,k,q){return R.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=lW?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(g,_,d)&&a.push(t.Ti.updateTargetData(o,_))});let c=Wi(),u=Oe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(fW(o,s,e.documentUpdates).next(d=>{c=d.qs,u=d.Qs})),!r.isEqual(be.min())){let d=t.Ti.getLastRemoteSnapshotVersion(o).next(p=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(t.xs=i,o))}function fW(n,e,t){let r=Oe(),i=Oe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Wi();return t.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(be.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):Q(RI,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{qs:s,Qs:i}})}function pW(n,e){let t=ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=EI),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mW(n,e){let t=ve(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,B.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new pd(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}function jC(n,e,t){return w(this,null,function*(){let r=ve(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Lc(s))throw s;Q(RI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function s1(n,e,t){let r=ve(n),i=be.min(),o=Oe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){let p=ve(c),g=p.Os.get(d);return g!==void 0?B.resolve(p.xs.get(g)):p.Ti.getTargetData(u,d)}(r,s,ci(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:be.min(),t?o:Oe())).next(a=>(gW(r,x9(e),a),{documents:a,$s:o})))}function gW(n,e,t){let r=n.Ns.get(e)||be.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}var Ag=class{constructor(){this.activeTargetIds=N9()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var BC=class{constructor(){this.xo=new Ag,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Ag,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var UC=class{No(e){}shutdown(){}};var a1="ConnectivityMonitor",xg=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Q(a1,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){Q(a1,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var sg=null;function $C(){return sg===null?sg=function(){return 268435456+Math.round(2147483648*Math.random())}():sg++,"0x"+sg.toString(16)}var RE="RestConnection",vW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},HC=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===gg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){let s=$C(),a=this.jo(e,t.toUriEncodedString());Q(RE,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,o);let{host:u}=new URL(a),d=ks(u);return this.Jo(e,a,c,r,d).then(p=>(Q(RE,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Ec(RE,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,t,r,i,o,s){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Nc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){let r=vW[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}};var zC=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var dn="WebChannelConnection",qC=class extends HC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=$C();return new Promise((a,c)=>{let u=new TE;u.setWithCredentials(!0),u.listenOnce(SE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case rd.NO_ERROR:let p=u.getResponseJson();Q(dn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case rd.TIMEOUT:Q(dn,`RPC '${e}' ${s} timed out`),c(new ie(U.DEADLINE_EXCEEDED,"Request time out"));break;case rd.HTTP_ERROR:let g=u.getStatus();if(Q(dn,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let S=_?.error;if(S&&S.status&&S.message){let R=function(q){let J=q.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(J)>=0?J:U.UNKNOWN}(S.status);c(new ie(R,S.message))}else c(new ie(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new ie(U.UNAVAILABLE,"Connection failed."));break;default:le(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Q(dn,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);Q(dn,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",d,r,15)})}T_(e,t,r){let i=$C(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ME(),a=xE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let d=o.join("");Q(dn,`Creating RPC '${e}' stream ${i}: ${d}`,c);let p=s.createWebChannel(d,c),g=!1,_=!1,S=new zC({Zo:k=>{_?Q(dn,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(g||(Q(dn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),Q(dn,`RPC '${e}' stream ${i} sending:`,k),p.send(k))},Xo:()=>p.close()}),R=(k,q,J)=>{k.listen(q,Z=>{try{J(Z)}catch(ke){setTimeout(()=>{throw ke},0)}})};return R(p,mc.EventType.OPEN,()=>{_||(Q(dn,`RPC '${e}' stream ${i} transport opened.`),S.__())}),R(p,mc.EventType.CLOSE,()=>{_||(_=!0,Q(dn,`RPC '${e}' stream ${i} transport closed`),S.u_())}),R(p,mc.EventType.ERROR,k=>{_||(_=!0,Ec(dn,`RPC '${e}' stream ${i} transport errored. Name:`,k.name,"Message:",k.message),S.u_(new ie(U.UNAVAILABLE,"The operation could not be completed")))}),R(p,mc.EventType.MESSAGE,k=>{var q;if(!_){let J=k.data[0];ze(!!J,16349);let Z=J,ke=Z?.error||((q=Z[0])===null||q===void 0?void 0:q.error);if(ke){Q(dn,`RPC '${e}' stream ${i} received error:`,ke);let Dt=ke.status,Ue=function(T){let A=xt[T];if(A!==void 0)return cN(A)}(Dt),x=ke.message;Ue===void 0&&(Ue=U.INTERNAL,x="Unknown error status: "+Dt+" with message "+ke.message),_=!0,S.u_(new ie(Ue,x)),p.close()}else Q(dn,`RPC '${e}' stream ${i} received:`,J),S.c_(J)}}),R(a,AE.STAT_EVENT,k=>{k.stat===rg.PROXY?Q(dn,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===rg.NOPROXY&&Q(dn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.a_()},0),S}};function OE(){return typeof document<"u"?document:null}function Gg(n){return new hC(n,!0)}var Mg=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=i,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();let t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,t-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}};var c1="PersistentStream",Pg=class{constructor(e,t,r,i,o,s,a,c){this.xi=e,this.y_=r,this.w_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Mg(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}stop(){return w(this,null,function*(){this.F_()&&(yield this.close(0))})}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}B_(){return w(this,null,function*(){if(this.M_())return this.close(0)})}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}close(e,t){return w(this,null,function*(){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===U.RESOURCE_EXHAUSTED?($i(t.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(t)})}Q_(){}auth(){this.state=1;let e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===t&&this.K_(r,i)},r=>{e(()=>{let i=new ie(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,t){let r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(()=>w(this,null,function*(){this.state=0,this.start()}))}W_(e){return Q(c1,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(Q(c1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},WC=class extends Pg{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();let t=Y9(this.serializer,e),r=function(o){if(!("targetChange"in o))return be.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?be.min():s.readTime?li(s.readTime):be.min()}(e);return this.listener.j_(t,r)}H_(e){let t={};t.database=gC(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=nC(c)?{documents:X9(o,c)}:{query:J9(o,c).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=lN(o,s.resumeToken);let u=fC(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(be.min())>0){a.readTime=Ig(o,s.snapshotVersion.toTimestamp());let u=fC(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=tW(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){let t={};t.database=gC(this.serializer),t.removeTarget=e,this.L_(t)}},GC=class extends Pg{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();let t=Z9(e.writeResults,e.commitTime),r=li(e.commitTime);return this.listener.ea(r,t)}ta(){let e={};e.database=gC(this.serializer),this.L_(e)}Z_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>Q9(this.serializer,r))};this.L_(t)}};var KC=class{},YC=class extends KC{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new ie(U.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,pC(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(U.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,pC(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(U.UNKNOWN,s.toString())})}terminate(){this.na=!0,this.connection.terminate()}},QC=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?($i(t),this.oa=!1):Q("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}};var Ks="RemoteStore",ZC=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(s=>{r.enqueueAndForget(()=>w(this,null,function*(){Qs(this)&&(Q(Ks,"Restarting streams for network reachability change."),yield function(c){return w(this,null,function*(){let u=ve(c);u.Ta.add(4),yield Dd(u),u.da.set("Unknown"),u.Ta.delete(4),yield Kg(u)})}(this))}))}),this.da=new QC(r,i)}};function Kg(n){return w(this,null,function*(){if(Qs(n))for(let e of n.Ia)yield e(!0)})}function Dd(n){return w(this,null,function*(){for(let e of n.Ia)yield e(!1)})}function yN(n,e){let t=ve(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),FI(t)?NI(t):Vc(t).M_()&&kI(t,e))}function OI(n,e){let t=ve(n),r=Vc(t);t.Pa.delete(e),r.M_()&&bN(t,e),t.Pa.size===0&&(r.M_()?r.N_():Qs(t)&&t.da.set("Unknown"))}function kI(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Vc(n).H_(e)}function bN(n,e){n.Aa.Ke(e),Vc(n).J_(e)}function NI(n){n.Aa=new dC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Vc(n).start(),n.da._a()}function FI(n){return Qs(n)&&!Vc(n).F_()&&n.Pa.size>0}function Qs(n){return ve(n).Ta.size===0}function wN(n){n.Aa=void 0}function _W(n){return w(this,null,function*(){n.da.set("Online")})}function yW(n){return w(this,null,function*(){n.Pa.forEach((e,t)=>{kI(n,e)})})}function bW(n,e){return w(this,null,function*(){wN(n),FI(n)?(n.da.ca(e),NI(n)):n.da.set("Unknown")})}function wW(n,e,t){return w(this,null,function*(){if(n.da.set("Online"),e instanceof Eg&&e.state===2&&e.cause)try{yield function(i,o){return w(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Pa.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Pa.delete(a),i.Aa.removeTarget(a))})}(n,e)}catch(r){Q(Ks,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Rg(n,r)}else if(e instanceof wc?n.Aa.Xe(e):e instanceof wg?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(be.min()))try{let r=yield _N(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Aa.It(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.Pa.get(u);d&&o.Pa.set(u,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let d=o.Pa.get(c);if(!d)return;o.Pa.set(c,d.withResumeToken(hn.EMPTY_BYTE_STRING,d.snapshotVersion)),bN(o,c);let p=new pd(d.target,c,u,d.sequenceNumber);kI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){Q(Ks,"Failed to raise snapshot:",r),yield Rg(n,r)}})}function Rg(n,e,t){return w(this,null,function*(){if(!Lc(e))throw e;n.Ta.add(1),yield Dd(n),n.da.set("Offline"),t||(t=()=>_N(n.localStore)),n.asyncQueue.enqueueRetryable(()=>w(null,null,function*(){Q(Ks,"Retrying IndexedDB access"),yield t(),n.Ta.delete(1),yield Kg(n)}))})}function EN(n,e){return e().catch(t=>Rg(n,t,e))}function Yg(n){return w(this,null,function*(){let e=ve(n),t=Po(e),r=e.ha.length>0?e.ha[e.ha.length-1].batchId:EI;for(;EW(e);)try{let i=yield pW(e.localStore,r);if(i===null){e.ha.length===0&&t.N_();break}r=i.batchId,CW(e,i)}catch(i){yield Rg(e,i)}CN(e)&&IN(e)})}function EW(n){return Qs(n)&&n.ha.length<10}function CW(n,e){n.ha.push(e);let t=Po(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function CN(n){return Qs(n)&&!Po(n).F_()&&n.ha.length>0}function IN(n){Po(n).start()}function IW(n){return w(this,null,function*(){Po(n).ta()})}function DW(n){return w(this,null,function*(){let e=Po(n);for(let t of n.ha)e.Z_(t.mutations)})}function TW(n,e,t){return w(this,null,function*(){let r=n.ha.shift(),i=aC.from(r,e,t);yield EN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Yg(n)})}function SW(n,e){return w(this,null,function*(){e&&Po(n).Y_&&(yield function(r,i){return w(this,null,function*(){if(function(s){return $9(s)&&s!==U.ABORTED}(i.code)){let o=r.ha.shift();Po(r).O_(),yield EN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Yg(r)}})}(n,e)),CN(n)&&IN(n)})}function l1(n,e){return w(this,null,function*(){let t=ve(n);t.asyncQueue.verifyOperationInProgress(),Q(Ks,"RemoteStore received new credentials");let r=Qs(t);t.Ta.add(3),yield Dd(t),r&&t.da.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),yield Kg(t)})}function AW(n,e){return w(this,null,function*(){let t=ve(n);e?(t.Ta.delete(2),yield Kg(t)):e||(t.Ta.add(2),yield Dd(t),t.da.set("Unknown"))})}function Vc(n){return n.Ra||(n.Ra=function(t,r,i){let o=ve(t);return o.ra(),new WC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:_W.bind(null,n),n_:yW.bind(null,n),i_:bW.bind(null,n),j_:wW.bind(null,n)}),n.Ia.push(e=>w(null,null,function*(){e?(n.Ra.O_(),FI(n)?NI(n):n.da.set("Unknown")):(yield n.Ra.stop(),wN(n))}))),n.Ra}function Po(n){return n.Va||(n.Va=function(t,r,i){let o=ve(t);return o.ra(),new GC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:IW.bind(null,n),i_:SW.bind(null,n),X_:DW.bind(null,n),ea:TW.bind(null,n)}),n.Ia.push(e=>w(null,null,function*(){e?(n.Va.O_(),yield Yg(n)):(yield n.Va.stop(),n.ha.length>0&&(Q(Ks,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))}))),n.Va}var XC=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function LI(n,e){if($i("AsyncQueue",`${e}: ${n}`),Lc(n))return new ie(U.UNAVAILABLE,`${e}: ${n}`);throw n}var Og=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ue.comparator(t.key,r.key):(t,r)=>ue.comparator(t.key,r.key),this.keyedMap=id(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var kg=class{constructor(){this.ma=new bt(ue.comparator)}track(e){let t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):le(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){let e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}},kc=class n{constructor(e,t,r,i,o,s,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Og.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var JC=class{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}},eI=class{constructor(){this.queries=u1(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){let i=ve(t),o=i.queries;i.queries=u1(),o.forEach((s,a)=>{for(let c of a.ya)c.onError(r)})})(this,new ie(U.ABORTED,"Firestore shutting down"))}};function u1(){return new qi(n=>Q1(n),qg)}function xW(n,e){return w(this,null,function*(){let t=ve(n),r=3,i=e.query,o=t.queries.get(i);o?!o.wa()&&e.Sa()&&(r=2):(o=new JC,r=e.Sa()?0:1);try{switch(r){case 0:o.pa=yield t.onListen(i,!0);break;case 1:o.pa=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=LI(s,`Initialization of query '${vc(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.ya.push(e),e.Da(t.onlineState),o.pa&&e.va(o.pa)&&VI(t)})}function MW(n,e){return w(this,null,function*(){let t=ve(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.ya.indexOf(e);s>=0&&(o.ya.splice(s,1),o.ya.length===0?i=e.Sa()?0:1:!o.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function PW(n,e){let t=ve(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.ya)a.va(i)&&(r=!0);s.pa=i}}r&&VI(t)}function RW(n,e,t){let r=ve(n),i=r.queries.get(e);if(i)for(let o of i.ya)o.onError(t);r.queries.delete(e)}function VI(n){n.ba.forEach(e=>{e.next()})}var tI,d1;(d1=tI||(tI={})).Ca="default",d1.Cache="cache";var nI=class{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new kc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;let r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;let t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=kc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==tI.Cache}};var Ng=class{constructor(e){this.key=e}},Fg=class{constructor(e){this.key=e}},rI=class{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Oe(),this.mutatedKeys=Oe(),this.Ha=Z1(e),this.Ja=new Og(this.Ha)}get Ya(){return this.Ga}Za(e,t){let r=t?t.Xa:new kg,i=t?t.Ja:this.Ja,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{let g=i.get(d),_=Wg(this.query,p)?p:null,S=!!g&&this.mutatedKeys.has(g.key),R=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),k=!1;g&&_?g.data.isEqual(_.data)?S!==R&&(r.track({type:3,doc:_}),k=!0):this.eu(g,_)||(r.track({type:2,doc:_}),k=!0,(c&&this.Ha(_,c)>0||u&&this.Ha(_,u)<0)&&(a=!0)):!g&&_?(r.track({type:0,doc:_}),k=!0):g&&!_&&(r.track({type:1,doc:g}),k=!0,(c||u)&&(a=!0)),k&&(_?(s=s.add(_),o=R?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ja:s,Xa:r,Cs:a,mutatedKeys:o}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;let s=e.Xa.ga();s.sort((d,p)=>function(_,S){let R=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le(20277,{Vt:k})}};return R(_)-R(S)}(d.type,p.type)||this.Ha(d.doc,p.doc)),this.tu(r),i=i!=null&&i;let a=t&&!i?this.nu():[],c=this.ja.size===0&&this.current&&!i?1:0,u=c!==this.za;return this.za=c,s.length!==0||u?{snapshot:new kc(this.query,e.Ja,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new kg,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];let e=this.ja;this.ja=Oe(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});let t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new Fg(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new Ng(r))}),t}su(e){this.Ga=e.$s,this.ja=Oe();let t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return kc.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}},jI="SyncEngine",iI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},oI=class{constructor(e){this.key=e,this._u=!1}},sI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.au={},this.uu=new qi(a=>Q1(a),qg),this.cu=new Map,this.lu=new Set,this.hu=new bt(ue.comparator),this.Pu=new Map,this.Tu=new gd,this.Iu={},this.Eu=new Map,this.du=md.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}};function OW(n,e,t=!0){return w(this,null,function*(){let r=MN(n),i,o=r.uu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ou()):i=yield DN(r,e,t,!0),i})}function kW(n,e){return w(this,null,function*(){let t=MN(n);yield DN(t,e,!0,!1)})}function DN(n,e,t,r){return w(this,null,function*(){let i=yield mW(n.localStore,ci(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield NW(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&yN(n.remoteStore,i),a})}function NW(n,e,t,r,i){return w(this,null,function*(){n.Ru=(p,g,_)=>function(R,k,q,J){return w(this,null,function*(){let Z=k.view.Za(q);Z.Cs&&(Z=yield s1(R.localStore,k.query,!1).then(({documents:x})=>k.view.Za(x,Z)));let ke=J&&J.targetChanges.get(k.targetId),Dt=J&&J.targetMismatches.get(k.targetId)!=null,Ue=k.view.applyChanges(Z,R.isPrimaryClient,ke,Dt);return f1(R,k.targetId,Ue.ru),Ue.snapshot})}(n,p,g,_);let o=yield s1(n.localStore,e,!0),s=new rI(e,o.$s),a=s.Za(o.documents),c=fd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,c);f1(n,t,u.ru);let d=new iI(e,t,s);return n.uu.set(e,d),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),u.snapshot})}function FW(n,e,t){return w(this,null,function*(){let r=ve(n),i=r.uu.get(e),o=r.cu.get(i.targetId);if(o.length>1)return r.cu.set(i.targetId,o.filter(s=>!qg(s,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield jC(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&OI(r.remoteStore,i.targetId),aI(r,i.targetId)}).catch(Fc))):(aI(r,i.targetId),yield jC(r.localStore,i.targetId,!0))})}function LW(n,e){return w(this,null,function*(){let t=ve(n),r=t.uu.get(e),i=t.cu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),OI(t.remoteStore,r.targetId))})}function VW(n,e,t){return w(this,null,function*(){let r=qW(n);try{let i=yield function(s,a){let c=ve(s),u=Jt.now(),d=a.reduce((_,S)=>_.add(S.key),Oe()),p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let S=Wi(),R=Oe();return c.Bs.getEntries(_,d).next(k=>{S=k,S.forEach((q,J)=>{J.isValidDocument()||(R=R.add(q))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,S)).next(k=>{p=k;let q=[];for(let J of a){let Z=U9(J,p.get(J.key).overlayedDocument);Z!=null&&q.push(new Gi(J.key,Z,z1(Z.value.mapValue),$s.exists(!0)))}return c.mutationQueue.addMutationBatch(_,u,q,a)}).next(k=>{g=k;let q=k.applyToLocalDocumentSet(p,R);return c.documentOverlayCache.saveOverlays(_,k.batchId,q)})}).then(()=>({batchId:g.batchId,changes:J1(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Iu[s.currentUser.toKey()];u||(u=new bt(xe)),u=u.insert(a,c),s.Iu[s.currentUser.toKey()]=u}(r,i.batchId,t),yield Td(r,i.changes),yield Yg(r.remoteStore)}catch(i){let o=LI(i,"Failed to persist write");t.reject(o)}})}function TN(n,e){return w(this,null,function*(){let t=ve(n);try{let r=yield hW(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Pu.get(o);s&&(ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s._u=!0:i.modifiedDocuments.size>0?ze(s._u,14607):i.removedDocuments.size>0&&(ze(s._u,42227),s._u=!1))}),yield Td(t,r,e)}catch(r){yield Fc(r)}})}function h1(n,e,t){let r=ve(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.uu.forEach((o,s)=>{let a=s.view.Da(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=ve(s);c.onlineState=a;let u=!1;c.queries.forEach((d,p)=>{for(let g of p.ya)g.Da(a)&&(u=!0)}),u&&VI(c)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function jW(n,e,t){return w(this,null,function*(){let r=ve(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Pu.get(e),o=i&&i.key;if(o){let s=new bt(ue.comparator);s=s.insert(o,Ar.newNoDocument(o,be.min()));let a=Oe().add(o),c=new bg(be.min(),new Map,new bt(xe),s,a);yield TN(r,c),r.hu=r.hu.remove(o),r.Pu.delete(e),BI(r)}else yield jC(r.localStore,e,!1).then(()=>aI(r,e,t)).catch(Fc)})}function BW(n,e){return w(this,null,function*(){let t=ve(n),r=e.batch.batchId;try{let i=yield dW(t.localStore,e);AN(t,r,null),SN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Td(t,i)}catch(i){yield Fc(i)}})}function UW(n,e,t){return w(this,null,function*(){let r=ve(n);try{let i=yield function(s,a){let c=ve(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(p=>(ze(p!==null,37113),d=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);AN(r,e,t),SN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Td(r,i)}catch(i){yield Fc(i)}})}function SN(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function AN(n,e,t){let r=ve(n),i=r.Iu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function aI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||xN(n,r)})}function xN(n,e){n.lu.delete(e.path.canonicalString());let t=n.hu.get(e);t!==null&&(OI(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),BI(n))}function f1(n,e,t){for(let r of t)r instanceof Ng?(n.Tu.addReference(r.key,e),$W(n,r)):r instanceof Fg?(Q(jI,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||xN(n,r.key)):le(19791,{mu:r})}function $W(n,e){let t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(Q(jI,"New document in limbo: "+t),n.lu.add(r),BI(n))}function BI(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){let e=n.lu.values().next().value;n.lu.delete(e);let t=new ue(Pt.fromString(e)),r=n.du.next();n.Pu.set(r,new oI(t)),n.hu=n.hu.insert(t,r),yN(n.remoteStore,new pd(ci(xI(t.path)),r,"TargetPurposeLimboResolution",wI.le))}}function Td(n,e,t){return w(this,null,function*(){let r=ve(n),i=[],o=[],s=[];r.uu.isEmpty()||(r.uu.forEach((a,c)=>{s.push(r.Ru(c,e,t).then(u=>{var d;if((u||t)&&r.isPrimaryClient){let p=u?!u.fromCache:(d=t?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){i.push(u);let p=NC.Rs(c.targetId,u);o.push(p)}}))}),yield Promise.all(s),r.au.j_(i),yield function(c,u){return w(this,null,function*(){let d=ve(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>B.forEach(u,g=>B.forEach(g.ds,_=>d.persistence.referenceDelegate.addReference(p,g.targetId,_)).next(()=>B.forEach(g.As,_=>d.persistence.referenceDelegate.removeReference(p,g.targetId,_)))))}catch(p){if(!Lc(p))throw p;Q(RI,"Failed to update sequence numbers: "+p)}for(let p of u){let g=p.targetId;if(!p.fromCache){let _=d.xs.get(g),S=_.snapshotVersion,R=_.withLastLimboFreeSnapshotVersion(S);d.xs=d.xs.insert(g,R)}}})}(r.localStore,o))})}function HW(n,e){return w(this,null,function*(){let t=ve(n);if(!t.currentUser.isEqual(e)){Q(jI,"User change. New user:",e.toKey());let r=yield vN(t.localStore,e);t.currentUser=e,function(o,s){o.Eu.forEach(a=>{a.forEach(c=>{c.reject(new ie(U.CANCELLED,s))})}),o.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Td(t,r.ks)}})}function zW(n,e){let t=ve(n),r=t.Pu.get(e);if(r&&r._u)return Oe().add(r.key);{let i=Oe(),o=t.cu.get(e);if(!o)return i;for(let s of o){let a=t.uu.get(s);i=i.unionWith(a.view.Ya)}return i}}function MN(n){let e=ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=TN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jW.bind(null,e),e.au.j_=PW.bind(null,e.eventManager),e.au.Vu=RW.bind(null,e.eventManager),e}function qW(n){let e=ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UW.bind(null,e),e}var PN=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return w(this,null,function*(){this.serializer=Gg(t.databaseInfo.databaseId),this.sharedClientState=this.pu(t),this.persistence=this.yu(t),yield this.persistence.start(),this.localStore=this.wu(t),this.gcScheduler=this.Su(t,this.localStore),this.indexBackfillerScheduler=this.bu(t,this.localStore)})}Su(t,r){return null}bu(t,r){return null}wu(t){return uW(this.persistence,new LC,t.initialUser,this.serializer)}yu(t){return new Tg(kC.fi,this.serializer)}pu(t){return new BC}terminate(){return w(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),cI=class extends PN{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){ze(this.persistence.referenceDelegate instanceof Sg,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new wC(r,e.asyncQueue,t)}yu(e){let t=this.cacheSizeBytes!==void 0?cr.withCacheSize(this.cacheSizeBytes):cr.DEFAULT;return new Tg(r=>Sg.fi(r,t),this.serializer)}};var WW=(()=>{class n{initialize(t,r){return w(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>h1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=HW.bind(null,this.syncEngine),yield AW(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new eI}()}createDatastore(t){let r=Gg(t.databaseInfo.databaseId),i=function(s){return new qC(s)}(t.databaseInfo);return function(s,a,c,u){return new YC(s,a,c,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new ZC(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>h1(this.syncEngine,r,0),function(){return xg.C()?new xg:new UC}())}createSyncEngine(t,r){return function(o,s,a,c,u,d,p){let g=new sI(o,s,a,c,u,d);return p&&(g.Au=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return w(this,null,function*(){var t,r;yield function(o){return w(this,null,function*(){let s=ve(o);Q(Ks,"RemoteStore shutting down."),s.Ta.add(5),yield Dd(s),s.Ea.shutdown(),s.da.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var lI=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Ro="FirestoreClient",uI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ut.UNAUTHENTICATED,this.clientId=hg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>w(this,null,function*(){Q(Ro,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(Q(Ro,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=LI(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function kE(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),Q(Ro,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>w(null,null,function*(){r.isEqual(i)||(yield vN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function p1(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield GW(n);Q(Ro,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>l1(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>l1(e.remoteStore,i)),n._onlineComponents=e})}function GW(n){return w(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Q(Ro,"Using user provided OfflineComponentProvider");try{yield kE(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ec("Error using user provided cache. Falling back to memory cache: "+t),yield kE(n,new PN)}}else Q(Ro,"Using default OfflineComponentProvider"),yield kE(n,new cI(void 0));return n._offlineComponents})}function RN(n){return w(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(Q(Ro,"Using user provided OnlineComponentProvider"),yield p1(n,n._uninitializedComponentsProvider._online)):(Q(Ro,"Using default OnlineComponentProvider"),yield p1(n,new WW))),n._onlineComponents})}function KW(n){return RN(n).then(e=>e.syncEngine)}function YW(n){return w(this,null,function*(){let e=yield RN(n),t=e.eventManager;return t.onListen=OW.bind(null,e.syncEngine),t.onUnlisten=FW.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=kW.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=LW.bind(null,e.syncEngine),t})}function QW(n,e,t={}){let r=new si;return n.asyncQueue.enqueueAndForget(()=>w(null,null,function*(){return function(o,s,a,c,u){let d=new lI({next:g=>{d.Cu(),s.enqueueAndForget(()=>MW(o,p));let _=g.docs.has(a);!_&&g.fromCache?u.reject(new ie(U.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&g.fromCache&&c&&c.source==="server"?u.reject(new ie(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),p=new nI(xI(a.path),d,{includeMetadataChanges:!0,La:!0});return xW(o,p)}(yield YW(n),n.asyncQueue,e,t,r)})),r.promise}function ON(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var m1=new Map;function ZW(n,e,t){if(!t)throw new ie(U.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function XW(n,e,t,r){if(e===!0&&r===!0)throw new ie(U.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function g1(n){if(!ue.isDocumentKey(n))throw new ie(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function UI(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":le(12329,{type:typeof n})}function vd(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ie(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=UI(n);throw new ie(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var kN="firestore.googleapis.com",v1=!0,Lg=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kN,this.ssl=v1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:v1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aW)throw new ie(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ON((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ie(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ie(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ie(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},_d=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new NE;switch(r.type){case"firstParty":return new jE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return w(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=m1.get(t);r&&(Q("ComponentProvider","Removing Datastore"),m1.delete(t),r.terminate())}(this),Promise.resolve()}};function JW(n,e,t,r={}){var i;n=vd(n,_d);let o=ks(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(Dm(`https://${c}`),Tm("Firestore",!0)),s.host!==kN&&s.host!==c&&Ec("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!Xr(u,a)&&(n._setSettings(u),r.mockUserToken)){let d,p;if(typeof r.mockUserToken=="string")d=r.mockUserToken,p=Ut.MOCK_USER;else{d=uO(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new ie(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ut(g)}n._authCredentials=new FE(new ug(d,p))}}var dI=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},lr=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},yd=class n extends dI{constructor(e,t,r){super(e,t,xI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new lr(this.firestore,null,new ue(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Qg(n,e,...t){if(n=Xt(n),arguments.length===1&&(e=hg.newId()),ZW("doc","path",e),n instanceof _d){let r=Pt.fromString(e,...t);return g1(r),new lr(n,null,new ue(r))}{if(!(n instanceof lr||n instanceof yd))throw new ie(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Pt.fromString(e,...t));return g1(r),new lr(n.firestore,n instanceof yd?n.converter:null,new ue(r))}}var _1="AsyncQueue",Vg=class{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Mg(this,"async_queue_retry"),this.ec=()=>{let r=OE();r&&Q(_1,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;let t=OE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;let t=OE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});let t=new si;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}sc(){return w(this,null,function*(){if(this.zu.length!==0){try{yield this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Lc(e))throw e;Q(_1,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}})}rc(e){let t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,$i("INTERNAL UNHANDLED ERROR: ",y1(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);let i=XC.createAndSchedule(this,e,t,r,o=>this.oc(o));return this.Hu.push(i),i}nc(){this.Ju&&le(47125,{_c:y1(this.Ju)})}verifyOperationInProgress(){}ac(){return w(this,null,function*(){let e;do e=this.tc,yield e;while(e!==this.tc)})}uc(e){for(let t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){let t=this.Hu.indexOf(e);this.Hu.splice(t,1)}};function y1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var bd=class extends _d{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Vg,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return w(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Vg(e),this._firestoreClient=void 0,yield e}})}};function Zg(n,e){let t=typeof n=="object"?n:Fs(),r=typeof n=="string"?n:e||gg,i=hc(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=lO("firestore");o&&JW(i,...o)}return i}function NN(n){if(n._terminated)throw new ie(U.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||eG(n),n._firestoreClient}function eG(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,u,d){return new zE(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,ON(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new uI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var wd=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(hn.fromBase64String(e))}catch(t){throw new ie(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ed=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ie(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var jg=class{constructor(e){this._methodName=e}};var Cd=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ie(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ie(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}};var Id=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var tG=/^__.*__$/,hI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Gi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gs(e,this.data,t,this.fieldTransforms)}};function FN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le(40011,{hc:n})}}var fI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Bg(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(FN(this.hc)&&tG.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}},pI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Gg(e)}gc(e,t,r,i=!1){return new fI({hc:e,methodName:t,fc:r,path:Gn.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function nG(n){let e=n._freezeSettings(),t=Gg(n._databaseId);return new pI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function rG(n,e,t,r,i,o={}){let s=n.gc(o.merge||o.mergeFields?2:0,e,t,i);BN("Data must be an object, but it was:",s,r);let a=VN(r,s),c,u;if(o.merge)c=new oi(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let p of o.mergeFields){let g=iG(e,p,t);if(!s.contains(g))throw new ie(U.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);sG(d,g)||d.push(g)}c=new oi(d),u=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=s.fieldTransforms;return new hI(new Sr(a),c,u)}function LN(n,e){if(jN(n=Xt(n)))return BN("Unsupported field value:",e,n),VN(n,e);if(n instanceof jg)return function(r,i){if(!FN(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=LN(a,i.Rc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return F9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Jt.fromDate(r);return{timestampValue:Ig(i.serializer,o)}}if(r instanceof Jt){let o=new Jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ig(i.serializer,o)}}if(r instanceof Cd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wd)return{bytesValue:lN(i.serializer,r._byteString)};if(r instanceof lr){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Vc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:PI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Id)return function(s,a){return{mapValue:{fields:{[II]:{stringValue:DI},[Ic]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Vc("VectorValues must only contain numeric values.");return MI(a.serializer,u)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${UI(r)}`)}(n,e)}function VN(n,e){let t={};return F1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ys(n,(r,i)=>{let o=LN(i,e.Ic(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function jN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Jt||n instanceof Cd||n instanceof wd||n instanceof lr||n instanceof jg||n instanceof Id)}function BN(n,e,t){if(!jN(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=UI(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}function iG(n,e,t){if((e=Xt(e))instanceof Ed)return e._internalPath;if(typeof e=="string")return UN(n,e);throw Bg("Field path arguments must be of type string or ",n,!1,void 0,t)}var oG=new RegExp("[~\\*/\\[\\]]");function UN(n,e,t){if(e.search(oG)>=0)throw Bg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ed(...e.split("."))._internalPath}catch{throw Bg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Bg(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new ie(U.INVALID_ARGUMENT,a+n+c)}function sG(n,e){return n.some(t=>t.isEqual(e))}var Ug=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new lr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new mI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field($N("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},mI=class extends Ug{data(){return super.data()}};function $N(n,e){return typeof e=="string"?UN(n,e):e instanceof Ed?e._internalPath:e._delegate._internalPath}var gI=class{convertValue(e,t="none"){switch(Mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw le(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ys(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Ic].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ut(s.doubleValue));return new Id(o)}convertGeoPoint(e){return new Cd(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=zg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(dd(e));default:return null}}convertTimestamp(e){let t=Hi(e);return new Jt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Pt.fromString(e);ze(mN(r),9688,{name:e});let i=new vg(r.get(1),r.get(3)),o=new ue(r.popFirst(5));return i.isEqual(t)||$i(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function aG(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var vI=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},$g=class extends Ug{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new _I(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field($N("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},_I=class extends $g{data(e={}){return super.data(e)}};function $I(n){n=vd(n,lr);let e=vd(n.firestore,bd);return QW(NN(e),n._key).then(t=>lG(e,n,t))}var yI=class extends gI{constructor(e){super(),this.firestore=e}convertBytes(e){return new wd(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new lr(this.firestore,null,t)}};function HN(n,e,t){n=vd(n,lr);let r=vd(n.firestore,bd),i=aG(n.converter,e,t);return cG(r,[rG(nG(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,$s.none())])}function cG(n,e){return function(r,i){let o=new si;return r.asyncQueue.enqueueAndForget(()=>w(null,null,function*(){return VW(yield KW(r),i,o)})),o.promise}(NN(n),e)}function lG(n,e,t){let r=t.docs.get(e._key),i=new yI(n);return new $g(n,i,e._key,r,new vI(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Nc=i})(Do),Tr(new En("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new bd(new LE(r.getProvider("auth-internal")),new BE(s,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ie(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vg(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),At(Rk,Ok,e),At(Rk,Ok,"esm2017")})();var Be=class n{constructor(e,t){this.http=e;this.router=t;this.initializeAuthState()}loggedIn=new tt(!1);currentUser=new tt(null);initialized=!1;initializeAuthState(){if(this.initialized)return;this.initialized=!0;let e=ii();eg(e,t=>w(this,null,function*(){t?(yield t.reload(),t.emailVerified?yield this.loadUserData(t):this.handleUnverifiedUser()):this.handleNoUser()}))}loadUserData(e){return w(this,null,function*(){try{let t=Zg(),r=Qg(t,"users",e.uid),i=yield $I(r),o=i.exists()?i.data():{},s={email:e.email,name:e.displayName||e.email?.split("@")[0],id:e.uid,uid:e.uid,token:yield e.getIdToken(),role:o.role||o.rol||"usuario",status:o.status||"active"};this.loggedIn.next(!0),this.currentUser.next(s),localStorage.setItem("custom_user",JSON.stringify(s)),localStorage.setItem("token",s.token),localStorage.setItem("user_id",s.uid)}catch(t){console.error("Error loading user data:",t),this.handleNoUser()}})}handleUnverifiedUser(){this.loggedIn.next(!1),this.currentUser.next(null),localStorage.removeItem("custom_user"),localStorage.removeItem("token"),this.router.navigate(["/login"],{queryParams:{message:"Por favor verifica tu correo electr\xF3nico"}})}handleNoUser(){this.loggedIn.next(!1),this.currentUser.next(null)}firebaseLogin(e,t){return w(this,null,function*(){try{let r=yield this.http.post("https://cocreandoback.onrender.com/login",{email:e,password:t}).toPromise();if(!r?.success)throw{code:r?.code||"backend_error",message:r?.message||"Error en la validaci\xF3n del backend"};let i=ii(),o=yield Zm(i,e,t);if(yield o.user.reload(),!o.user.emailVerified)throw{code:"email_not_verified",message:"Por favor verifica tu correo electr\xF3nico antes de iniciar sesi\xF3n"};let s=Zg(),a=Qg(s,"users",o.user.uid),c=yield $I(a),u=c.exists()?c.data():{},d={email:o.user.email,name:o.user.displayName||o.user.email?.split("@")[0],id:o.user.uid,uid:o.user.uid,token:yield o.user.getIdToken(),role:u.role||u.rol||"usuario",status:u.status||"active"};return this.loggedIn.next(!0),this.currentUser.next(d),localStorage.setItem("custom_user",JSON.stringify(d)),localStorage.setItem("user_id",d.uid),localStorage.setItem("token",d.token),!0}catch(r){if(console.error("Login error:",r),r.code?.startsWith("auth/"))switch(r.code){case"auth/user-not-found":throw{code:"user_not_found",message:"Usuario no encontrado"};case"auth/wrong-password":throw{code:"wrong_credentials",message:"Contrase\xF1a incorrecta"};case"auth/too-many-requests":throw{code:"too_many_attempts",message:"Demasiados intentos. Intenta m\xE1s tarde"};default:throw{code:"firebase_error",message:r.message||"Error de autenticaci\xF3n"}}throw r}})}firebaseRegister(e,t,r){return w(this,null,function*(){let i=yield Qm(xk,t,r),o=i.user;yield Jm(i.user,{displayName:e}),yield Xm(i.user);let s=Zg(),a=Qg(s,"users",o.uid);return yield HN(a,{uid:o.uid,name:e,email:t,createdAt:new Date().toISOString(),role:"usuario",status:"active"}),!0})}isEmailVerified(){return w(this,null,function*(){let e=ii();return e.currentUser?(yield e.currentUser.reload(),e.currentUser.emailVerified):!1})}isAdmin(){return this.getCurrentUserValue()?.role?.toLowerCase()==="admin"}sendPasswordResetEmail(e){return w(this,null,function*(){try{let t=ii();yield Ym(t,e)}catch(t){console.error("Error al enviar correo de recuperaci\xF3n:",t);let r="Error al enviar el correo. Intenta nuevamente.";throw t.code==="auth/user-not-found"?r="No existe una cuenta con este correo.":t.code==="auth/too-many-requests"&&(r="Demasiados intentos. Espera antes de reintentar."),new Error(r)}})}fetchUserProfile(){return w(this,null,function*(){try{let e=yield this.http.get("https://cocreandoback.onrender.com/api/users/me").toPromise();return this.currentUser.next(e),localStorage.setItem("custom_user",JSON.stringify(e)),e}catch(e){throw console.error("Error fetching user profile:",e),e}})}register(e,t,r){return w(this,null,function*(){try{let i=yield this.http.post("https://cocreandoback.onrender.com/registro",{name:e,email:t,password:r}).toPromise();if(i.success)return yield this.firebaseRegister(e,t,r),!0;throw{message:i.message||"Error en validaci\xF3n del backend"}}catch(i){throw console.error("Register error:",i),i}})}logout(){localStorage.removeItem("custom_user"),sessionStorage.removeItem("custom_user"),this.loggedIn.next(!1),this.currentUser.next(null),this.router.navigate(["/login"])}get isAuthenticated(){return this.loggedIn.value}get isAuthenticated$(){return this.loggedIn.asObservable()}get currentUser$(){return this.currentUser.asObservable()}getToken(){return localStorage.getItem("token")}getCurrentUserValue(){return this.currentUser.value}static \u0275fac=function(t){return new(t||n)(Y(sr),Y(Ae))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};function uG(n,e){n&1&&(v(0,"span"),b(1,"Iniciar Sesi\xF3n"),m())}function dG(n,e){n&1&&ne(0,"span",32)}function hG(n,e){if(n&1&&(v(0,"div",33)(1,"i",34),b(2,"\u26A0\uFE0F"),m(),b(3),m()),n&2){let t=H();E(3),oe(" ",t.errorMessage," ")}}var Xg=class n{constructor(e,t){this.router=e;this.authService=t}email="";password="";rememberMe=!1;errorMessage="";loading=!1;activeField="";showPassword=!1;navigateTo(e){this.router.navigate([e])}togglePasswordVisibility(){this.showPassword=!this.showPassword;let e=document.getElementById("password");e&&(e.type=this.showPassword?"text":"password")}onSubmit(){return w(this,null,function*(){if(!this.email||!this.password){this.errorMessage="Por favor completa todos los campos";return}this.loading=!0,this.errorMessage="";try{(yield this.authService.firebaseLogin(this.email,this.password))&&(this.rememberMe?localStorage.setItem("rememberedEmail",this.email):localStorage.removeItem("rememberedEmail"),this.authService.isAdmin()?this.router.navigate(["/admin"]):this.router.navigate(["/dashboard"]))}catch(e){this.errorMessage=e.error?.message||e.message||"Error al iniciar sesi\xF3n",e.error?.code==="email_not_verified"&&(this.errorMessage="Por favor verifica tu email antes de iniciar sesi\xF3n"),e.error?.code==="account_banned"&&(this.errorMessage="Cuenta suspendida. Contacta al soporte."),e.error?.code}finally{this.loading=!1}})}getFirebaseErrorMessage(e){switch(e){case"auth/user-not-found":return"Usuario no encontrado";case"auth/wrong-password":return"Contrase\xF1a incorrecta";case"auth/too-many-requests":return"Demasiados intentos. Intenta m\xE1s tarde";default:return"Error al iniciar sesi\xF3n"}}getErrorMessage(e){return e.error?.message?e.error.message:"Ocurri\xF3 un error durante el inicio de sesi\xF3n. Por favor int\xE9ntalo m\xE1s tarde."}validateEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}ngOnInit(){let e=localStorage.getItem("rememberedEmail");e&&(this.email=e,this.rememberMe=!0)}static \u0275fac=function(t){return new(t||n)(j(Ae),j(Be))};static \u0275cmp=Pe({type:n,selectors:[["app-login"]],decls:54,vars:11,consts:[[1,"login-wrapper"],[1,"login-container"],[1,"login-header"],["src","https://res.cloudinary.com/dtg8i6j9f/image/upload/v1748278760/CoCreando__2_-removebg-preview_fzjn1g.png","alt","CoCreando Logo",1,"logo"],[1,"login-form",3,"ngSubmit"],[1,"form-group","floating"],["type","email","id","email","name","email","required","","placeholder"," ",3,"ngModelChange","focus","blur","ngModel"],["for","email"],[1,"icon"],["type","password","id","password","name","password","required","","placeholder"," ",3,"ngModelChange","focus","blur","ngModel"],["for","password"],["type","button",1,"toggle-password",3,"click"],[1,"form-options"],[1,"remember-me"],["type","checkbox","name","rememberMe",3,"ngModelChange","ngModel"],[1,"checkmark"],[3,"click"],["type","submit",1,"login-button",3,"disabled"],[4,"ngIf"],["class","spinner",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"social-login"],[1,"social-buttons"],["type","button",1,"social-button","google"],["src","https://w7.pngwing.com/pngs/326/85/png-transparent-google-logo-google-text-trademark-logo-thumbnail.png","alt","Google"],["type","button",1,"social-button","github"],["src","https://w7.pngwing.com/pngs/646/324/png-transparent-github-computer-icons-github-logo-monochrome-head-thumbnail.png","alt","GitHub"],[1,"register-link"],[1,"login-background"],[1,"shape","shape-1"],[1,"shape","shape-2"],[1,"shape","shape-3"],[1,"spinner"],[1,"error-message"],[1,"error-icon"]],template:function(t,r){t&1&&(v(0,"div",0)(1,"div",1)(2,"div",2),ne(3,"img",3),v(4,"h1"),b(5,"Bienvenido a "),v(6,"span"),b(7,"CoCreando"),m()(),v(8,"p"),b(9,"Colabora, crea y comparte tus proyectos"),m()(),v(10,"form",4),G("ngSubmit",function(){return r.onSubmit()}),v(11,"div",5)(12,"input",6),mt("ngModelChange",function(o){return yt(r.email,o)||(r.email=o),o}),G("focus",function(){return r.activeField="email"})("blur",function(){return r.activeField=""}),m(),v(13,"label",7),b(14,"Correo electr\xF3nico"),m(),v(15,"i",8),b(16,"\u2709\uFE0F"),m()(),v(17,"div",5)(18,"input",9),mt("ngModelChange",function(o){return yt(r.password,o)||(r.password=o),o}),G("focus",function(){return r.activeField="password"})("blur",function(){return r.activeField=""}),m(),v(19,"label",10),b(20,"Contrase\xF1a"),m(),v(21,"i",8),b(22,"\u{1F512}"),m(),v(23,"button",11),G("click",function(){return r.togglePasswordVisibility()}),b(24," \u{1F441}\uFE0F "),m()(),v(25,"div",12)(26,"label",13)(27,"input",14),mt("ngModelChange",function(o){return yt(r.rememberMe,o)||(r.rememberMe=o),o}),m(),ne(28,"span",15),b(29," Recordarme "),m(),v(30,"a",16),G("click",function(){return r.navigateTo("/forgot-password")}),b(31,"\xBFOlvidaste tu contrase\xF1a?"),m()(),v(32,"button",17),W(33,uG,2,0,"span",18)(34,dG,1,0,"span",19),m(),W(35,hG,4,1,"div",20),v(36,"div",21)(37,"p"),b(38,"O inicia sesi\xF3n con"),m(),v(39,"div",22)(40,"button",23),ne(41,"img",24),b(42," Google "),m(),v(43,"button",25),ne(44,"img",26),b(45," GitHub "),m()()(),v(46,"div",27),b(47," \xBFNo tienes una cuenta? "),v(48,"a",16),G("click",function(){return r.navigateTo("/register")}),b(49,"Reg\xEDstrate"),m()()()(),v(50,"div",28),ne(51,"div",29)(52,"div",30)(53,"div",31),m()()),t&2&&(E(12),pt("ngModel",r.email),E(),Ke("active",r.activeField==="email"||r.email),E(5),pt("ngModel",r.password),E(),Ke("active",r.activeField==="password"||r.password),E(8),pt("ngModel",r.rememberMe),E(5),F("disabled",r.loading),E(),F("ngIf",!r.loading),E(),F("ngIf",r.loading),E(),F("ngIf",r.errorMessage))},dependencies:[kn,Qr,jt,fw,un,Yr,Rs,qn,Ps,lt,gt],styles:['.login-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f8f9fa;position:relative;overflow:hidden;padding:2rem}.login-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 25px -5px #0000001a;width:100%;max-width:450px;z-index:2;overflow:hidden;transition:all .3s ease-in-out}.login-container[_ngcontent-%COMP%]:hover{box-shadow:0 15px 30px -5px #00000026}.login-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#426e28,#146b08);color:#fff;padding:2.5rem 2rem;text-align:center}.login-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:50px;margin-bottom:1rem}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.8rem;font-weight:600}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#88c9a1}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0 0;opacity:.9;font-size:.95rem}.login-form[_ngcontent-%COMP%]{padding:2rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:1.5rem}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;left:3rem;top:1rem;color:#718096;pointer-events:none;transition:all .3s ease-in-out}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   label.active[_ngcontent-%COMP%]{top:-.6rem;left:2.8rem;font-size:.75rem;background:#fff;padding:0 .3rem;color:#426e28}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:3rem;height:3rem}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#426e28;box-shadow:0 0 0 2px #426e2833}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:1rem;font-size:1rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:1px solid #e2e8f0;border-radius:8px;font-size:1rem;transition:all .3s ease-in-out}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem;background:none;border:none;cursor:pointer;opacity:.5;transition:all .3s ease-in-out}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover{opacity:1}.form-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:1.5rem 0}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;color:#718096;font-size:.9rem}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{display:inline-block;width:18px;height:18px;margin-right:8px;border:1px solid #cbd5e0;border-radius:4px;position:relative;transition:all .3s ease-in-out}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none;left:6px;top:2px;width:5px;height:10px;border:solid white;border-width:0 2px 2px 0;transform:rotate(45deg)}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#426e28;border-color:#426e28}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.form-options[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{color:#426e28;text-decoration:none;font-size:.9rem;transition:all .3s ease-in-out}.form-options[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-button[_ngcontent-%COMP%]{width:100%;padding:1rem;background:linear-gradient(135deg,#426e28,#146b08);color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease-in-out}.login-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#375b21,#105306);transform:translateY(-2px)}.login-button[_ngcontent-%COMP%]:disabled{background:#cbd5e0;cursor:not-allowed;transform:none}.login-button[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;border:3px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.error-message[_ngcontent-%COMP%]{color:#e53e3e;background:#e53e3e1a;padding:.8rem;border-radius:8px;margin:1rem 0;display:flex;align-items:center;font-size:.9rem}.error-message[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-right:.5rem}.social-login[_ngcontent-%COMP%]{margin:2rem 0 1rem;text-align:center}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;font-size:.9rem;position:relative;margin:1rem 0}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before, .social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:after{content:"";display:inline-block;width:30%;height:1px;background:#e2e8f0;position:absolute;top:50%}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before{left:0}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:after{right:0}.social-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem}.social-buttons[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]{flex:1;padding:.7rem;border:1px solid #e2e8f0;border-radius:8px;background:#fff;display:flex;align-items:center;justify-content:center;gap:.5rem;font-size:.9rem;cursor:pointer;transition:all .3s ease-in-out}.social-buttons[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:hover{background:#f8fafc;transform:translateY(-2px)}.social-buttons[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:18px;height:18px}.social-buttons[_ngcontent-%COMP%]   .social-button.google[_ngcontent-%COMP%]{color:#db4437}.social-buttons[_ngcontent-%COMP%]   .social-button.github[_ngcontent-%COMP%]{color:#333}.register-link[_ngcontent-%COMP%]{text-align:center;color:#718096;font-size:.9rem;margin-top:1.5rem}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#426e28;text-decoration:none;font-weight:500;transition:all .3s ease-in-out}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}.login-background[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{position:absolute;border-radius:50%;background:#88c9a11a;transition:all 15s linear}.login-background[_ngcontent-%COMP%]   .shape.shape-1[_ngcontent-%COMP%]{width:300px;height:300px;top:-100px;left:-100px;animation:_ngcontent-%COMP%_float 12s ease-in-out infinite}.login-background[_ngcontent-%COMP%]   .shape.shape-2[_ngcontent-%COMP%]{width:200px;height:200px;bottom:-50px;right:-50px;animation:_ngcontent-%COMP%_float 8s ease-in-out infinite reverse}.login-background[_ngcontent-%COMP%]   .shape.shape-3[_ngcontent-%COMP%]{width:150px;height:150px;top:30%;right:20%;animation:_ngcontent-%COMP%_float 10s ease-in-out infinite 2s}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-20px) rotate(5deg)}}@media (max-width: 576px){.login-wrapper[_ngcontent-%COMP%]{padding:1rem}.login-header[_ngcontent-%COMP%]{padding:1.5rem 1rem}.login-form[_ngcontent-%COMP%]{padding:1.5rem}.social-buttons[_ngcontent-%COMP%]{flex-direction:column}}']})};var fi={production:!1,apiUrl:"https://cocreandoback.onrender.com",payuSandbox:!0,firebaseConfig:{apiKey:"AIzaSyDnCfzF5psHLcnmbeJGrBuWpxOkUp01Lfo",authDomain:"cocreando-2dbd1.firebaseapp.com",projectId:"cocreando-2dbd1",storageBucket:"cocreando-2dbd1.firebasestorage.app",messagingSenderId:"862709485856",appId:"1:862709485856:web:e0994b08e2a748679b0745",measurementId:"G-EXLRNLVN1B"}};var Ln=class n{constructor(e,t){this.http=e;this.authService=t}apiUrl=fi.apiUrl||"https://cocreandoback.onrender.com";getProjects(){return this.http.get(`${this.apiUrl}/proyecto/listarProyectos`,{withCredentials:!0}).pipe(ot(e=>(console.error("Error fetching projects from API:",e),X([]))))}getProjectAnalytics(e){return this.http.get(`${this.apiUrl}/analytics/${e}`)}getProjectById(e){return this.http.get(`${this.apiUrl}/proyecto/obtenerProyecto/${e}`,{withCredentials:!0}).pipe(ot(t=>(console.error(`Error fetching project ${e}:`,t),X(null))))}createProject(e){e.id||(e.id=this.generateProjectId()),e.deadline&&(e.deadline=new Date(e.deadline).toISOString()),e.rewards=e.rewards||[],e.updates=e.updates||[],e.supporters=[];let t=localStorage.getItem("custom_user");if(t){let o=JSON.parse(t);console.log("Soy don putas",o),e.ownerId=o.uid,e.ownerName=o.name,e.ownerEmail=o.email}let r=this.authService.getToken(),i=new cn({"Content-Type":"application/json",Authorization:`Bearer ${r}`});return this.http.post(`${this.apiUrl}/proyecto/crearProyecto`,e,{headers:i,withCredentials:!0}).pipe(ot(o=>{throw console.error("Error creating project:",o),o}))}generateProjectId(){return"proj-"+Math.random().toString(36).substr(2,9)}updateProject(e,t){let r=this.authService.getToken(),i=new cn({"Content-Type":"application/json",Authorization:`Bearer ${r}`});return this.http.put(`${this.apiUrl}/proyecto/actualizarProyecto/${e}`,t,{headers:i,withCredentials:!0}).pipe(ot(o=>{throw console.error(`Error updating project ${e}:`,o),o}))}deleteProject(e){return this.http.delete(`${this.apiUrl}/eliminarProyecto/${e}`).pipe(ot(t=>{throw console.error(`Error deleting project ${e}:`,t),t}))}static \u0275fac=function(t){return new(t||n)(Y(sr),Y(Be))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};function fG(n,e){if(n&1&&(v(0,"option",13),b(1),m()),n&2){let t=e.$implicit;F("value",t),E(),te(t)}}function pG(n,e){n&1&&(v(0,"div",14)(1,"p"),b(2,"Cargando proyectos..."),m()())}function mG(n,e){if(n&1){let t=je();v(0,"div",15)(1,"p"),b(2),m(),v(3,"button",16),G("click",function(){ae(t);let i=H();return ce(i.loadProjects())}),b(4,"Reintentar"),m()()}if(n&2){let t=H();E(2),te(t.error)}}function gG(n,e){n&1&&(v(0,"div",20)(1,"p"),b(2,"No se encontraron proyectos con los filtros aplicados."),m()())}function vG(n,e){if(n&1){let t=je();v(0,"div",21),G("click",function(){let i=ae(t).$implicit,o=H(2);return ce(o.viewDetails(i.id))}),v(1,"div",22),ne(2,"img",23),m(),v(3,"div",24)(4,"h3"),b(5),m(),v(6,"p",25),b(7),m(),v(8,"div",26),b(9),m(),v(10,"div",26),b(11),ct(12,"uppercase"),m(),v(13,"div",27)(14,"div",28),ne(15,"div",29),m(),v(16,"div",30)(17,"span",31),b(18),m(),v(19,"span",32),b(20),m()()(),v(21,"div",33)(22,"div",34)(23,"span",35),b(24,"Recaudado:"),m(),v(25,"span",36),b(26),ct(27,"number"),m()(),v(28,"div",34)(29,"span",35),b(30,"Meta:"),m(),v(31,"span",36),b(32),ct(33,"number"),m()()(),v(34,"button",37),G("click",function(i){let o=ae(t).$implicit;return H(2).viewDetails(o.id),ce(i.stopPropagation())}),b(35," Ver Detalles "),m()()()}if(n&2){let t=e.$implicit,r=H(2);E(2),F("src",(t.creator==null?null:t.creator.avatar)||"assets/default-project.jpg",ho),E(3),te(t.title),E(2),te(t.description),E(2),te(t.category),E(),Ke("pending",t.status==="pending")("approved",t.status==="approved")("rejected",t.status==="rejected"),E(),oe(" ",Qt(12,17,t.status)," "),E(4),Ri("width",r.getProgressPercentage(t)+"%"),E(3),oe("",r.getProgressPercentage(t).toFixed(0),"%"),E(2),oe("",r.getDaysRemaining(t.deadline)," d\xEDas restantes"),E(6),oe("$",Qt(27,19,t.collected),""),E(6),oe("$",Qt(33,21,t.goal),"")}}function _G(n,e){if(n&1&&(v(0,"div"),W(1,gG,3,0,"div",17),v(2,"div",18),W(3,vG,36,23,"div",19),m()()),n&2){let t=H();E(),F("ngIf",t.filteredProjects.length===0),E(2),F("ngForOf",t.filteredProjects)("ngForTrackBy",t.trackByProjectId)}}var Jg=class n{constructor(e,t){this.router=e;this.projectService=t}projects=[];filteredProjects=[];categories=["Todos","Tecnolog\xEDa","Social","Medio Ambiente","Educaci\xF3n"];selectedCategory="Todos";isLoading=!0;error=null;searchTerm="";ngOnInit(){this.loadProjects()}loadProjects(){this.isLoading=!0,this.error=null,this.projectService.getProjects().subscribe({next:e=>{e.length===0&&(this.error="No se encontraron proyectos."),this.projects=this.parseProjects(e),this.applyFilters(),this.isLoading=!1},error:e=>{console.error("Error loading projects",e),this.error="No se pudieron cargar los proyectos. Por favor intenta m\xE1s tarde.",this.isLoading=!1,this.projects=[],this.filteredProjects=[]}})}parseProjects(e){return e.map(t=>ee(L({},t),{deadline:new Date(t.deadline),updates:t.updates?.map(r=>ee(L({},r),{date:new Date(r.date)}))||[],supporters:t.supporters?.map(r=>ee(L({},r),{date:new Date(r.date)}))||[]}))}handleError(e){console.error("Error:",e),this.error="Error al cargar proyectos. Verifica la consola para m\xE1s detalles.",this.isLoading=!1,this.projects=[],this.filteredProjects=[]}applyFilters(){if(this.filteredProjects=this.selectedCategory==="Todos"?[...this.projects]:this.projects.filter(e=>e.category===this.selectedCategory),this.searchTerm.trim()){let e=this.searchTerm.toLowerCase().trim();this.filteredProjects=this.filteredProjects.filter(t=>t.title.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)||t.category.toLowerCase().includes(e))}}onCategoryChange(){this.applyFilters()}onSearch(){this.applyFilters()}getDaysRemaining(e){if(!e)return 0;let r=(typeof e=="string"?new Date(e):e).getTime()-new Date().getTime();return Math.max(0,Math.ceil(r/(1e3*60*60*24)))}getProgressPercentage(e){return!e.goal||e.goal<=0?0:Math.min(100,e.collected/e.goal*100)}viewDetails(e){this.router.navigate(["/project",e])}refreshProjects(){this.searchTerm="",this.selectedCategory="Todos",this.loadProjects()}trackByProjectId(e,t){return t.id}static \u0275fac=function(t){return new(t||n)(j(Ae),j(Ln))};static \u0275cmp=Pe({type:n,selectors:[["app-dashboard"]],decls:17,vars:6,consts:[[1,"dashboard-container"],[1,"header"],[1,"refresh-button",3,"click"],[1,"refresh-icon"],[1,"filters"],[1,"search-filter"],["type","text","placeholder","Buscar proyectos...",3,"ngModelChange","input","ngModel"],[1,"category-filter"],[3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","loading-spinner",4,"ngIf"],["class","error-message",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"loading-spinner"],[1,"error-message"],[3,"click"],["class","no-projects",4,"ngIf"],[1,"projects-grid"],["class","project-card",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"no-projects"],[1,"project-card",3,"click"],[1,"project-image"],["alt","Imagen del proyecto",3,"src"],[1,"project-content"],[1,"description"],[1,"category-tag"],[1,"progress-container"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-info"],[1,"percentage"],[1,"days-left"],[1,"stats"],[1,"stat"],[1,"label"],[1,"value"],[1,"button-primary",3,"click"]],template:function(t,r){t&1&&(v(0,"div",0)(1,"div",1)(2,"h1"),b(3,"Proyectos Destacados"),m(),v(4,"button",2),G("click",function(){return r.refreshProjects()}),v(5,"i",3),b(6,"\u21BB"),m(),b(7," Actualizar "),m()(),v(8,"div",4)(9,"div",5)(10,"input",6),mt("ngModelChange",function(o){return yt(r.searchTerm,o)||(r.searchTerm=o),o}),G("input",function(){return r.onSearch()}),m()(),v(11,"div",7)(12,"select",8),mt("ngModelChange",function(o){return yt(r.selectedCategory,o)||(r.selectedCategory=o),o}),G("change",function(){return r.onCategoryChange()}),W(13,fG,2,2,"option",9),m()()(),W(14,pG,3,0,"div",10)(15,mG,5,1,"div",11)(16,_G,4,3,"div",12),m()),t&2&&(E(10),pt("ngModel",r.searchTerm),E(2),pt("ngModel",r.selectedCategory),E(),F("ngForOf",r.categories),E(),F("ngIf",r.isLoading),E(),F("ngIf",r.error),E(),F("ngIf",!r.isLoading&&!r.error))},dependencies:[lt,Vt,gt,_s,Hr,kn,wo,Eo,jt,Zr,un,qn,As],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#2c3e50}.filters[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:2rem}.filters[_ngcontent-%COMP%]   .search-filter[_ngcontent-%COMP%]{flex:1}.filters[_ngcontent-%COMP%]   .search-filter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #ddd;border-radius:4px}.filters[_ngcontent-%COMP%]   .category-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #ddd;border-radius:4px;background-color:#fff}.projects-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:2rem}.project-card[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:8px;overflow:hidden;transition:transform .2s,box-shadow .2s;cursor:pointer}.project-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 15px #0000001a}.project-card[_ngcontent-%COMP%]   .project-image[_ngcontent-%COMP%]{height:160px;overflow:hidden}.project-card[_ngcontent-%COMP%]   .project-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.project-card[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]{padding:1.5rem}.project-card[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#2c3e50}.project-card[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#666;margin-bottom:1rem}.project-card[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .category-tag[_ngcontent-%COMP%]{display:inline-block;background-color:#f0f0f0;padding:.25rem .5rem;border-radius:4px;font-size:.8rem;margin-bottom:1rem}.progress-container[_ngcontent-%COMP%]{margin:1rem 0}.progress-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:8px;background-color:#f0f0f0;border-radius:4px;overflow:hidden}.progress-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background-color:#42b983;transition:width .3s}.progress-container[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:.5rem;font-size:.9rem}.progress-container[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]{font-weight:700;color:#42b983}.progress-container[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]   .days-left[_ngcontent-%COMP%]{color:#666}.stats[_ngcontent-%COMP%]{display:flex;gap:1rem;margin:1rem 0}.stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{flex:1}.stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;font-size:.8rem;color:#666}.stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700}.button-primary[_ngcontent-%COMP%]{width:100%;padding:.75rem;background-color:#42b983;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .2s}.button-primary[_ngcontent-%COMP%]:hover{background-color:#369f73}.loading-spinner[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%], .no-projects[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#666}.error-message[_ngcontent-%COMP%]{color:#e74c3c}.error-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1rem;padding:.5rem 1rem;background-color:#e74c3c;color:#fff;border:none;border-radius:4px;cursor:pointer}.refresh-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;display:flex;align-items:center;gap:.5rem;color:#666}.refresh-button[_ngcontent-%COMP%]:hover{color:#42b983}.refresh-button[_ngcontent-%COMP%]   .refresh-icon[_ngcontent-%COMP%]{font-size:1.2rem}"]})};var ev=class n{constructor(e,t){this.http=e;this.authService=t}apiUrl=`${fi.apiUrl}`;getHeaders(){let e=this.authService.getToken();if(!e)return console.error("No se encontr\xF3 token JWT"),new cn;let t=e.startsWith("Bearer ")?e:`Bearer ${e}`;return new cn({Authorization:t,"Content-Type":"application/json"})}getUsers(){return this.http.get(`${this.apiUrl}/usuario/listarUsuarios`,{headers:this.getHeaders(),withCredentials:!0})}updateUserRole(e,t){return this.http.put(`${this.apiUrl}/usuario/actualizarUsuario/${e}`,{role:t},{headers:this.getHeaders(),withCredentials:!0})}banUser(e){return this.http.put(`${this.apiUrl}/usuario/actualizarUsuario/${e}`,{status:"banned"},{headers:this.getHeaders(),withCredentials:!0})}unbanUser(e){return this.http.put(`${this.apiUrl}/usuario/actualizarUsuario/${e}`,{status:"active"},{headers:this.getHeaders(),withCredentials:!0})}approveProject(e){return this.http.put(`${this.apiUrl}/proyecto/aprobarProyecto/${e}`,{},{headers:this.getHeaders(),withCredentials:!0})}rejectProject(e){return this.http.put(`${this.apiUrl}/proyecto/rechazarProyecto/${e}`,{},{headers:this.getHeaders(),withCredentials:!0})}getPendingProjects(){return this.http.get(`${this.apiUrl}/proyecto/listarProyectosStatus/pending`,{headers:this.getHeaders(),withCredentials:!0})}getAllProjects(){return this.http.get(`${this.apiUrl}/proyecto/listarProyectos`,{headers:this.getHeaders(),withCredentials:!0})}static \u0275fac=function(t){return new(t||n)(Y(sr),Y(Be))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};var bG=n=>["/project",n];function wG(n,e){n&1&&(v(0,"div",4)(1,"p"),b(2,"Cargando datos..."),m()())}function EG(n,e){if(n&1){let t=je();v(0,"div",5)(1,"p"),b(2),m(),v(3,"button",6),G("click",function(){ae(t);let i=H();return ce(i.refreshData())}),b(4,"Reintentar"),m()()}if(n&2){let t=H();E(2),te(t.error)}}function CG(n,e){n&1&&(v(0,"span",26),b(1,"Baneado"),m())}function IG(n,e){n&1&&(v(0,"span",27),b(1,"Activo"),m())}function DG(n,e){if(n&1){let t=je();v(0,"button",28),G("click",function(){ae(t);let i=H().$implicit,o=H(2);return ce(o.banUser(i.id))}),b(1," Banear "),m()}}function TG(n,e){if(n&1){let t=je();v(0,"button",29),G("click",function(){ae(t);let i=H().$implicit,o=H(2);return ce(o.unbanUser(i.id))}),b(1," Desbanear "),m()}}function SG(n,e){if(n&1){let t=je();v(0,"tr")(1,"td"),b(2),m(),v(3,"td"),b(4),m(),v(5,"td")(6,"select",11),mt("ngModelChange",function(i){let o=ae(t).$implicit;return yt(o.role,i)||(o.role=i),ce(i)}),G("change",function(){let i=ae(t).$implicit,o=H(2);return ce(o.updateUserRole(i.id,i.role))}),v(7,"option",13),b(8,"Usuario"),m(),v(9,"option",14),b(10,"Administrador"),m()()(),v(11,"td"),W(12,CG,2,0,"span",22)(13,IG,2,0,"span",23),m(),v(14,"td"),W(15,DG,2,0,"button",24)(16,TG,2,0,"button",25),m()()}if(n&2){let t=e.$implicit;E(2),te(t.name),E(2),te(t.email),E(2),pt("ngModel",t.role),E(6),F("ngIf",t.status==="banned"),E(),F("ngIf",t.status!=="banned"),E(2),F("ngIf",t.status!=="banned"),E(),F("ngIf",t.status==="banned")}}function AG(n,e){n&1&&(v(0,"div",30),b(1," No se encontraron usuarios con los filtros aplicados. "),m())}function xG(n,e){if(n&1){let t=je();v(0,"tr")(1,"td"),b(2),m(),v(3,"td"),b(4),m(),v(5,"td"),b(6),m(),v(7,"td")(8,"span"),b(9),ct(10,"uppercase"),m()(),v(11,"td")(12,"div",31)(13,"button",29),G("click",function(){let i=ae(t).$implicit,o=H(2);return ce(o.approveProject(i.id))}),b(14,"Aprobar"),m(),v(15,"button",28),G("click",function(){let i=ae(t).$implicit,o=H(2);return ce(o.rejectProject(i.id))}),b(16,"Rechazar"),m(),v(17,"a",32),b(18,"Ver"),m()()()()}if(n&2){let t=e.$implicit;E(2),te(t.title),E(2),te((t.creator==null?null:t.creator.name)||t.creator),E(2),te(t.category),E(2),Ke("pending",t.status==="pending")("approved",t.status==="approved")("rejected",t.status==="rejected"),E(),oe(" ",Qt(10,11,t.status)," "),E(8),F("routerLink",DM(13,bG,t.id))}}function MG(n,e){n&1&&(v(0,"div",30),b(1," No se encontraron proyectos con los filtros aplicados o para ser aprobados o rechazados. "),m())}function PG(n,e){if(n&1){let t=je();v(0,"div",7)(1,"div",8)(2,"h2"),b(3,"Gesti\xF3n de Usuarios"),m(),v(4,"div",9)(5,"input",10),mt("ngModelChange",function(i){ae(t);let o=H();return yt(o.searchUserTerm,i)||(o.searchUserTerm=i),ce(i)}),G("input",function(){ae(t);let i=H();return ce(i.filterUsers())}),m(),v(6,"select",11),mt("ngModelChange",function(i){ae(t);let o=H();return yt(o.selectedUserRole,i)||(o.selectedUserRole=i),ce(i)}),G("change",function(){ae(t);let i=H();return ce(i.filterUsers())}),v(7,"option",12),b(8,"Todos los roles"),m(),v(9,"option",13),b(10,"Usuario"),m(),v(11,"option",14),b(12,"Administrador"),m()()(),v(13,"div",15)(14,"table")(15,"thead")(16,"tr")(17,"th"),b(18,"Nombre"),m(),v(19,"th"),b(20,"Email"),m(),v(21,"th"),b(22,"Rol"),m(),v(23,"th"),b(24,"Estado"),m(),v(25,"th"),b(26,"Acciones"),m()()(),v(27,"tbody"),W(28,SG,17,7,"tr",16),m()(),W(29,AG,2,0,"div",17),m()(),v(30,"div",8)(31,"h2"),b(32,"Gesti\xF3n de Proyectos"),m(),v(33,"div",9)(34,"input",18),mt("ngModelChange",function(i){ae(t);let o=H();return yt(o.searchProjectTerm,i)||(o.searchProjectTerm=i),ce(i)}),G("input",function(){ae(t);let i=H();return ce(i.filterProjects())}),m(),v(35,"select",11),mt("ngModelChange",function(i){ae(t);let o=H();return yt(o.selectedProjectStatus,i)||(o.selectedProjectStatus=i),ce(i)}),G("change",function(){ae(t);let i=H();return ce(i.filterProjects())}),v(36,"option",19),b(37,"Pendientes"),m(),v(38,"option",20),b(39,"Aprobados"),m(),v(40,"option",21),b(41,"Rechazados"),m(),v(42,"option",12),b(43,"Todos"),m()()(),v(44,"div",15)(45,"table")(46,"thead")(47,"tr")(48,"th"),b(49,"T\xEDtulo"),m(),v(50,"th"),b(51,"Creador"),m(),v(52,"th"),b(53,"Categor\xEDa"),m(),v(54,"th"),b(55,"Estado"),m(),v(56,"th"),b(57,"Acciones"),m()()(),v(58,"tbody"),W(59,xG,19,15,"tr",16),m()(),W(60,MG,2,0,"div",17),m()()()}if(n&2){let t=H();E(5),pt("ngModel",t.searchUserTerm),E(),pt("ngModel",t.selectedUserRole),E(22),F("ngForOf",t.filteredUsers),E(),F("ngIf",t.filteredUsers.length===0),E(5),pt("ngModel",t.searchProjectTerm),E(),pt("ngModel",t.selectedProjectStatus),E(24),F("ngForOf",t.filteredProjects),E(),F("ngIf",t.filteredProjects.length===0)}}var tv=class n{constructor(e,t,r){this.adminService=e;this.authService=t;this.router=r}users=[];pendingProjects=[];allProjects=[];filteredUsers=[];filteredProjects=[];searchUserTerm="";searchProjectTerm="";selectedUserRole="all";selectedProjectStatus="pending";isLoading=!0;error=null;ngOnInit(){if(!this.authService.isAdmin()){this.router.navigate(["/dashboard"]);return}this.loadData()}loadData(){this.isLoading=!0,this.error=null,this.adminService.getUsers().subscribe({next:e=>{this.users=e,this.filteredUsers=[...e],this.adminService.getAllProjects().subscribe({next:t=>{this.allProjects=t,this.filteredProjects=[...t],this.isLoading=!1},error:t=>{console.error("Error loading projects:",t),this.error="Error al cargar proyectos: "+this.getErrorMessage(t),this.isLoading=!1}})},error:e=>{console.error("Error loading users:",e),this.error="Error al cargar usuarios",this.isLoading=!1}})}getErrorMessage(e){return e.status===403?"Acceso denegado. No tienes permisos de administrador.":e.status===401?"Sesi\xF3n expirada. Por favor inicia sesi\xF3n nuevamente.":"Error en el servidor. Intenta nuevamente m\xE1s tarde."}filterUsers(){this.filteredUsers=this.users.filter(e=>{let t=e.name.toLowerCase().includes(this.searchUserTerm.toLowerCase())||e.email.toLowerCase().includes(this.searchUserTerm.toLowerCase()),r=this.selectedUserRole==="all"||e.role===this.selectedUserRole;return t&&r})}filterProjects(){this.filteredProjects=this.allProjects.filter(e=>{let t=e.title.toLowerCase().includes(this.searchProjectTerm.toLowerCase())||e.description.toLowerCase().includes(this.searchProjectTerm.toLowerCase()),r=this.selectedProjectStatus==="all"||e.status===this.selectedProjectStatus;return t&&r})}updateUserRole(e,t){this.adminService.updateUserRole(e,t).subscribe({next:()=>{let r=this.users.find(i=>i.id===e);r&&(r.role=t),this.filterUsers()},error:r=>{console.error("Error updating user role:",r),this.error="Error al actualizar rol del usuario: "+this.getErrorMessage(r)}})}banUser(e){confirm("\xBFEst\xE1s seguro de que quieres banear a este usuario?")&&this.adminService.banUser(e).subscribe({next:()=>{let t=this.users.find(r=>r.id===e);t&&(t.status="banned"),this.filterUsers()},error:t=>{console.error("Error banning user:",t),this.error="Error al banear usuario: "+this.getErrorMessage(t)}})}unbanUser(e){this.adminService.unbanUser(e).subscribe({next:()=>{let t=this.users.find(r=>r.id===e);t&&(t.status="active"),this.filterUsers()},error:t=>{console.error("Error unbanning user:",t),this.error="Error al desbanear usuario: "+this.getErrorMessage(t)}})}approveProject(e){this.adminService.approveProject(e).subscribe({next:()=>{let t=this.allProjects.findIndex(r=>r.id===e);t!==-1&&(this.allProjects[t].status="approved"),this.filterProjects()},error:t=>{console.error("Error approving project:",t),this.error="Error al aprobar proyecto"}})}rejectProject(e){this.adminService.rejectProject(e).subscribe({next:()=>{let t=this.allProjects.findIndex(r=>r.id===e);t!==-1&&(this.allProjects[t].status="rejected"),this.filterProjects()},error:t=>{console.error("Error rejecting project:",t),this.error="Error al rechazar proyecto: "+this.getErrorMessage(t)}})}refreshData(){this.loadData()}static \u0275fac=function(t){return new(t||n)(j(ev),j(Be),j(Ae))};static \u0275cmp=Pe({type:n,selectors:[["app-admin"]],decls:6,vars:3,consts:[[1,"admin-container"],["class","loading-spinner",4,"ngIf"],["class","error-message",4,"ngIf"],["class","admin-content",4,"ngIf"],[1,"loading-spinner"],[1,"error-message"],[3,"click"],[1,"admin-content"],[1,"admin-section"],[1,"filters"],["type","text","placeholder","Buscar usuarios...",3,"ngModelChange","input","ngModel"],[3,"ngModelChange","change","ngModel"],["value","all"],["value","usuario"],["value","admin"],[1,"table-container"],[4,"ngFor","ngForOf"],["class","no-results",4,"ngIf"],["type","text","placeholder","Buscar proyectos...",3,"ngModelChange","input","ngModel"],["value","pending"],["value","approved"],["value","rejected"],["class","banned-status",4,"ngIf"],["class","active-status",4,"ngIf"],["class","danger",3,"click",4,"ngIf"],["class","success",3,"click",4,"ngIf"],[1,"banned-status"],[1,"active-status"],[1,"danger",3,"click"],[1,"success",3,"click"],[1,"no-results"],[1,"action-buttons"],[1,"button",3,"routerLink"]],template:function(t,r){t&1&&(v(0,"div",0)(1,"h1"),b(2,"Panel de Administraci\xF3n"),m(),W(3,wG,3,0,"div",1)(4,EG,5,1,"div",2)(5,PG,61,8,"div",3),m()),t&2&&(E(3),F("ngIf",r.isLoading),E(),F("ngIf",r.error),E(),F("ngIf",!r.isLoading&&!r.error))},dependencies:[lt,Vt,gt,_s,kn,wo,Eo,jt,Zr,un,qn,As,nm],styles:[".admin-container[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:1rem}.admin-section[_ngcontent-%COMP%]{margin-bottom:3rem;background:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 10px #0000001a}h2[_ngcontent-%COMP%]{color:#333;margin-bottom:1.5rem;padding-bottom:.5rem;border-bottom:1px solid #eee}.filters[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1.5rem}.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #ddd;border-radius:4px;font-size:1rem}.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;max-width:400px}.table-container[_ngcontent-%COMP%]{overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;text-align:left;border-bottom:1px solid #eee}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f5f5f5;font-weight:600}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}table[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.25rem;border:1px solid #ddd;border-radius:4px}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.35rem .75rem;border:none;border-radius:4px;cursor:pointer;font-size:.9rem;text-decoration:none;display:inline-flex;align-items:center;justify-content:center}.action-buttons[_ngcontent-%COMP%]   button.success[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   a.success[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.action-buttons[_ngcontent-%COMP%]   button.danger[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   a.danger[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.action-buttons[_ngcontent-%COMP%]   button.button[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   a.button[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.no-results[_ngcontent-%COMP%]{padding:1.5rem;text-align:center;color:#666;background-color:#f9f9f9;border-radius:4px;margin-top:1rem}.loading-spinner[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%]{text-align:center;padding:2rem}.error-message[_ngcontent-%COMP%]{color:#d32f2f}.banned-status[_ngcontent-%COMP%]{color:#f44336;font-weight:700}.active-status[_ngcontent-%COMP%]{color:#4caf50;font-weight:700}.pending[_ngcontent-%COMP%]{color:#ff9800;font-weight:700}.approved[_ngcontent-%COMP%]{color:#4caf50;font-weight:700}.rejected[_ngcontent-%COMP%]{color:#f44336;font-weight:700}"]})};var nv=class n{constructor(e){this.http=e}apiUrl=`${fi.apiUrl}`;getCurrentUser(e){let t=localStorage.getItem("custom_user");if(!t)return Dn(()=>new Error("No user data available"));let r=JSON.parse(t),i=r?.token;if(!i)return Dn(()=>new Error("No authentication token available"));let o=new cn({Authorization:`Bearer ${i}`,"Content-Type":"application/json"});return this.http.get(`${this.apiUrl}/usuario/obtenerUsuario/${e}`,{headers:o,withCredentials:!0}).pipe(ot(s=>{if(console.error("Error fetching user:",s),s.status===404){let a={uid:e,email:r.email,name:r.name||r.email.split("@")[0],role:"usuario",status:"active"};return X(a)}return Dn(()=>s)}))}updateUser(e,t){return this.http.put(`${this.apiUrl}/${e}`,t)}promoteToAdmin(e){return this.http.put(`${this.apiUrl}/usuario/actualizarUsuario/${e}`,{rol:"admin"},{withCredentials:!0})}banUser(e){return this.http.put(`${this.apiUrl}/usuario/actualizarUsuario/${e}`,{status:"banned"},{withCredentials:!0})}static \u0275fac=function(t){return new(t||n)(Y(sr))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};function OG(n,e){n&1&&(v(0,"div",4)(1,"p"),b(2,"Cargando perfil..."),m()())}function kG(n,e){if(n&1){let t=je();v(0,"div",5)(1,"p"),b(2),m(),v(3,"button",6),G("click",function(){ae(t);let i=H();return ce(i.loadUserProfile())}),b(4,"Reintentar"),m()()}if(n&2){let t=H();E(2),te(t.error)}}function NG(n,e){if(n&1){let t=je();v(0,"button",21),G("click",function(){ae(t);let i=H(2);return ce(i.navigateToProjectCreation())}),b(1," Crear Nuevo Proyecto "),m()}}function FG(n,e){if(n&1){let t=je();v(0,"div",25)(1,"h3"),b(2),m(),v(3,"p",26),b(4),m(),v(5,"p"),b(6),m(),v(7,"div",27)(8,"span"),b(9),ct(10,"number"),ct(11,"number"),m(),v(12,"span"),b(13),m()(),v(14,"div",28)(15,"button",29),G("click",function(){let i=ae(t).$implicit,o=H(3);return ce(o.navigateToProjectAnalytics(i.id))}),b(16," Ver An\xE1lisis "),m()()()}if(n&2){let t=e.$implicit;E(2),te(t.title),E(2),te(t.category),E(2),te(t.description),E(3),ms("Recaudado: $",Qt(10,6,t.collected)," / $",Qt(11,8,t.goal),""),E(4),oe("",(t.collected/t.goal*100).toFixed(0),"%")}}function LG(n,e){if(n&1&&(v(0,"div",22)(1,"h2"),b(2),m(),v(3,"div",23),W(4,FG,17,10,"div",24),m()()),n&2){let t=H(2);E(2),oe("Mis Proyectos (",t.userProjects.length,")"),E(2),F("ngForOf",t.userProjects)}}function VG(n,e){if(n&1){let t=je();v(0,"div",30)(1,"p"),b(2,"A\xFAn no has creado ning\xFAn proyecto."),m(),v(3,"button",21),G("click",function(){ae(t);let i=H(2);return ce(i.navigateToProjectCreation())}),b(4," Crear mi primer proyecto "),m()()}}function jG(n,e){if(n&1&&(v(0,"div",7)(1,"div",8)(2,"div",9),ne(3,"img",10),m(),v(4,"div",11)(5,"h1"),b(6),m(),v(7,"p",12),b(8),m(),v(9,"p",13),b(10),m(),v(11,"p",14),b(12),m(),v(13,"p",15),b(14),m(),v(15,"p",16),b(16),m()()(),v(17,"div",17),W(18,NG,2,0,"button",18),m(),W(19,LG,5,2,"div",19)(20,VG,5,0,"div",20),m()),n&2){let t=H();E(3),F("src","https://help.seesaw.me/hc/article_attachments/29802779436429",ho),E(3),te(t.user.name),E(2),te(t.user.email),E(2),oe("Estado: ",t.user.status||"active",""),E(2),oe("Rol: ",t.user.role||"usuario",""),E(2),oe("Verificacion: ",t.user.email_verified||"Falsee",""),E(2),oe("Visitas: ",t.user.login_count||0,""),E(2),F("ngIf",t.isCurrentUser),E(),F("ngIf",t.userProjects.length>0),E(),F("ngIf",t.userProjects.length===0&&t.isCurrentUser)}}var rv=class n{constructor(e,t,r,i){this.userService=e;this.projectService=t;this.authService=r;this.router=i}user=null;userProjects=[];isLoading=!0;error=null;isCurrentUser=!1;ngOnInit(){this.loadUserProfile()}loadUserProfile(){return w(this,null,function*(){this.isLoading=!0,this.error=null;try{let e=localStorage.getItem("custom_user");if(!e){this.router.navigate(["/login"]);return}let t=JSON.parse(e),r=t.id||t.uid;if(!r)throw new Error("ID de usuario no disponible");let i=this.userService.getCurrentUser(r).pipe(ot(a=>(console.error("Error loading user:",a),t?X(ee(L({},t),{role:t.role||"usuario",status:t.status||"active",email_verified:t.email_verified||"False"})):Dn(()=>a))));this.user=yield $h(i),this.isCurrentUser=t.email===this.user.email;let o=this.projectService.getProjects().pipe(ot(a=>(console.error("Error loading projects:",a),X([])))),s=yield $h(o);this.userProjects=(s||[]).filter(a=>a.creator&&a.creator.email===this.user.email)}catch(e){console.error("Error loading profile:",e),this.error="Error al cargar el perfil. Por favor intenta nuevamente.",e.status===401&&(this.authService.logout(),this.router.navigate(["/login"]))}finally{this.isLoading=!1}})}navigateToProjectCreation(){this.router.navigate(["/project-creation"])}navigateToProjectAnalytics(e){this.router.navigate(["/project-analytics",e])}static \u0275fac=function(t){return new(t||n)(j(nv),j(Ln),j(Be),j(Ae))};static \u0275cmp=Pe({type:n,selectors:[["app-user-profile"]],decls:4,vars:3,consts:[[1,"profile-container"],["class","loading-spinner",4,"ngIf"],["class","error-message",4,"ngIf"],["class","profile-content",4,"ngIf"],[1,"loading-spinner"],[1,"error-message"],[3,"click"],[1,"profile-content"],[1,"profile-header"],[1,"avatar-container"],["alt","Avatar",1,"profile-avatar",3,"src"],[1,"profile-info"],[1,"email"],[1,"status"],[1,"role"],[1,"verificacion"],[1,"login-count"],[1,"profile-actions"],["class","button-primary",3,"click",4,"ngIf"],["class","projects-section",4,"ngIf"],["class","no-projects",4,"ngIf"],[1,"button-primary",3,"click"],[1,"projects-section"],[1,"projects-grid"],["class","project-card",4,"ngFor","ngForOf"],[1,"project-card"],[1,"category"],[1,"project-stats"],[1,"project-actions"],[1,"button-secondary",3,"click"],[1,"no-projects"]],template:function(t,r){t&1&&(v(0,"div",0),W(1,OG,3,0,"div",1)(2,kG,5,1,"div",2)(3,jG,21,10,"div",3),m()),t&2&&(E(),F("ngIf",r.isLoading),E(),F("ngIf",r.error),E(),F("ngIf",!r.isLoading&&!r.error&&r.user))},dependencies:[lt,Vt,gt,Hr,kn,lc],styles:[".profile-container[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:1rem}.profile-container[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]{display:flex;gap:2rem;align-items:center;margin-bottom:2rem}.profile-container[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .avatar-container[_ngcontent-%COMP%]   .profile-avatar[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;object-fit:cover;border:3px solid #4caf50}.profile-container[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2e7d32;margin:0}.profile-container[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{color:#52bf57;margin:.5rem 0}.profile-container[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .bio[_ngcontent-%COMP%]{color:#2e7d32;max-width:600px}.profile-container[_ngcontent-%COMP%]   .profile-actions[_ngcontent-%COMP%]{margin:2rem 0}.profile-container[_ngcontent-%COMP%]   .projects-section[_ngcontent-%COMP%]{margin-top:3rem}.profile-container[_ngcontent-%COMP%]   .projects-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2e7d32;border-bottom:2px solid #c8e6c9;padding-bottom:.5rem}.profile-container[_ngcontent-%COMP%]   .projects-section[_ngcontent-%COMP%]   .projects-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.5rem;margin-top:1.5rem}.profile-container[_ngcontent-%COMP%]   .projects-section[_ngcontent-%COMP%]   .projects-grid[_ngcontent-%COMP%]   .project-card[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:8px;box-shadow:0 2px 8px #0000001a}.profile-container[_ngcontent-%COMP%]   .projects-section[_ngcontent-%COMP%]   .projects-grid[_ngcontent-%COMP%]   .project-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#4caf50;margin-top:0}.profile-container[_ngcontent-%COMP%]   .projects-section[_ngcontent-%COMP%]   .projects-grid[_ngcontent-%COMP%]   .project-card[_ngcontent-%COMP%]   .project-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:1rem 0;color:#2e7d32}.profile-container[_ngcontent-%COMP%]   .no-projects[_ngcontent-%COMP%]{text-align:center;margin:3rem 0;color:#2e7d32}.profile-container[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{background:#4caf50;color:#fff;border:none;padding:.8rem 1.5rem;border-radius:5px;cursor:pointer;font-weight:700;transition:background .3s}.profile-container[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]:hover{background:#3d8b40}.profile-container[_ngcontent-%COMP%]   .button-secondary[_ngcontent-%COMP%]{background:#fff;color:#4caf50;border:2px solid #4caf50;padding:.6rem 1.2rem;border-radius:5px;cursor:pointer;font-weight:700;transition:all .3s}.profile-container[_ngcontent-%COMP%]   .button-secondary[_ngcontent-%COMP%]:hover{background:#4caf50;color:#fff}@media (max-width: 768px){.profile-header[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}"]})};var Oo=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.isAuthenticated$.pipe(ht(1),de(e=>e?!0:(this.router.navigate(["/login"]),!1)))}static \u0275fac=function(t){return new(t||n)(Y(Be),Y(Ae))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})},iv=class n{constructor(e){this.router=e}canActivate(){return localStorage.getItem("projectCreationData")?(this.router.navigate(["/user-profile"]),!1):!0}static \u0275fac=function(t){return new(t||n)(Y(Ae))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};var ov=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.isAuthenticated$.pipe(dt(e=>e!==null),ht(1),qt(()=>this.authService.currentUser$),de(e=>e&&e.role?.toLowerCase()==="admin"?!0:(this.router.navigate(["/dashboard"],{queryParams:{message:"No tienes permisos de administrador"}}),!1)),ot(()=>(this.router.navigate(["/dashboard"]),X(!1))))}static \u0275fac=function(t){return new(t||n)(Y(Be),Y(Ae))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};function BG(n,e){n&1&&(v(0,"span"),b(1,"Registrarse"),m())}function UG(n,e){n&1&&ne(0,"span",32)}function $G(n,e){if(n&1&&(v(0,"div",33)(1,"i",34),b(2,"\u26A0\uFE0F"),m(),b(3),m()),n&2){let t=H();E(3),oe(" ",t.errorMessage," ")}}var sv=class n{constructor(e,t){this.authService=e;this.router=t}name="";email="";password="";confirmPassword="";errorMessage="";loading=!1;activeField="";showPassword=!1;showConfirmPassword=!1;togglePasswordVisibility(e){e==="password"?this.showPassword=!this.showPassword:this.showConfirmPassword=!this.showConfirmPassword}onSubmit(){return w(this,null,function*(){if(!this.name||!this.email||!this.password||!this.confirmPassword){this.errorMessage="Por favor completa todos los campos";return}if(!this.validateEmail(this.email)){this.errorMessage="Por favor ingresa un correo electr\xF3nico v\xE1lido";return}if(this.password!==this.confirmPassword){this.errorMessage="Las contrase\xF1as no coinciden";return}if(this.password.length<6){this.errorMessage="La contrase\xF1a debe tener al menos 6 caracteres";return}this.loading=!0,this.errorMessage="";try{(yield this.authService.register(this.name,this.email,this.password))?(alert("Se ha enviado un Correo Electr\xF3nico de Verificaci\xF3n."),this.router.navigate(["/dashboard"])):this.errorMessage="Error al registrar el usuario"}catch(e){console.error("Registration error:",e),this.errorMessage=this.getErrorMessage(e)}finally{this.loading=!1}})}getErrorMessage(e){return e.error?.message?e.error.message:e.status===0?"No se pudo conectar al servidor":"Ocurri\xF3 un error durante el registro. Por favor int\xE9ntalo m\xE1s tarde."}navigateTo(e){this.router.navigate([e])}validateEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}static \u0275fac=function(t){return new(t||n)(j(Be),j(Ae))};static \u0275cmp=Pe({type:n,selectors:[["app-register"]],decls:61,vars:20,consts:[[1,"login-wrapper"],[1,"login-container"],[1,"login-header"],["src","https://w7.pngwing.com/pngs/95/245/png-transparent-green-leaf-computer-icons-green-leaf-green-leaf-icon-leaf-plant-stem-grass-thumbnail.png","alt","CoCreando Logo",1,"logo"],[1,"login-form",3,"ngSubmit"],[1,"form-group","floating"],["type","text","id","name","name","name","required","","placeholder"," ",3,"ngModelChange","focus","blur","ngModel"],["for","name"],[1,"icon"],["type","email","id","email","name","email","required","","placeholder"," ",3,"ngModelChange","focus","blur","ngModel"],["for","email"],["id","password","name","password","required","","placeholder"," ",3,"ngModelChange","focus","blur","type","ngModel"],["for","password"],["type","button",1,"toggle-password",3,"click"],["id","confirmPassword","name","confirmPassword","required","","placeholder"," ",3,"ngModelChange","focus","blur","type","ngModel"],["for","confirmPassword"],["type","submit",1,"login-button",3,"disabled"],[4,"ngIf"],["class","spinner",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"social-login"],[1,"social-buttons"],["type","button",1,"social-button","google"],["src","https://w7.pngwing.com/pngs/326/85/png-transparent-google-logo-google-text-trademark-logo-thumbnail.png","alt","Google"],["type","button",1,"social-button","github"],["src","https://w7.pngwing.com/pngs/646/324/png-transparent-github-computer-icons-github-logo-monochrome-head-thumbnail.png","alt","GitHub"],[1,"register-link"],["routerLink","/login"],[1,"login-background"],[1,"shape","shape-1"],[1,"shape","shape-2"],[1,"shape","shape-3"],[1,"spinner"],[1,"error-message"],[1,"error-icon"]],template:function(t,r){t&1&&(v(0,"div",0)(1,"div",1)(2,"div",2),ne(3,"img",3),v(4,"h1"),b(5,"Reg\xEDstrate en "),v(6,"span"),b(7,"CoCreando"),m()(),v(8,"p"),b(9,"Crea tu cuenta para empezar a colaborar"),m()(),v(10,"form",4),G("ngSubmit",function(){return r.onSubmit()}),v(11,"div",5)(12,"input",6),mt("ngModelChange",function(o){return yt(r.name,o)||(r.name=o),o}),G("focus",function(){return r.activeField="name"})("blur",function(){return r.activeField=""}),m(),v(13,"label",7),b(14,"Nombre completo"),m(),v(15,"i",8),b(16,"\u{1F464}"),m()(),v(17,"div",5)(18,"input",9),mt("ngModelChange",function(o){return yt(r.email,o)||(r.email=o),o}),G("focus",function(){return r.activeField="email"})("blur",function(){return r.activeField=""}),m(),v(19,"label",10),b(20,"Correo electr\xF3nico"),m(),v(21,"i",8),b(22,"\u2709\uFE0F"),m()(),v(23,"div",5)(24,"input",11),mt("ngModelChange",function(o){return yt(r.password,o)||(r.password=o),o}),G("focus",function(){return r.activeField="password"})("blur",function(){return r.activeField=""}),m(),v(25,"label",12),b(26,"Contrase\xF1a"),m(),v(27,"i",8),b(28,"\u{1F512}"),m(),v(29,"button",13),G("click",function(){return r.togglePasswordVisibility("password")}),b(30),m()(),v(31,"div",5)(32,"input",14),mt("ngModelChange",function(o){return yt(r.confirmPassword,o)||(r.confirmPassword=o),o}),G("focus",function(){return r.activeField="confirmPassword"})("blur",function(){return r.activeField=""}),m(),v(33,"label",15),b(34,"Confirmar contrase\xF1a"),m(),v(35,"i",8),b(36,"\u{1F512}"),m(),v(37,"button",13),G("click",function(){return r.togglePasswordVisibility("confirmPassword")}),b(38),m()(),v(39,"button",16),W(40,BG,2,0,"span",17)(41,UG,1,0,"span",18),m(),W(42,$G,4,1,"div",19),v(43,"div",20)(44,"p"),b(45,"O reg\xEDstrate con"),m(),v(46,"div",21)(47,"button",22),ne(48,"img",23),b(49," Google "),m(),v(50,"button",24),ne(51,"img",25),b(52," GitHub "),m()()(),v(53,"div",26),b(54," \xBFYa tienes una cuenta? "),v(55,"a",27),b(56,"Inicia sesi\xF3n"),m()()()(),v(57,"div",28),ne(58,"div",29)(59,"div",30)(60,"div",31),m()()),t&2&&(E(12),pt("ngModel",r.name),E(),Ke("active",r.activeField==="name"||r.name),E(5),pt("ngModel",r.email),E(),Ke("active",r.activeField==="email"||r.email),E(5),F("type",r.showPassword?"text":"password"),pt("ngModel",r.password),E(),Ke("active",r.activeField==="password"||r.password),E(5),oe(" ",r.showPassword?"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F":"\u{1F441}\uFE0F"," "),E(2),F("type",r.showConfirmPassword?"text":"password"),pt("ngModel",r.confirmPassword),E(),Ke("active",r.activeField==="confirmPassword"||r.confirmPassword),E(5),oe(" ",r.showConfirmPassword?"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F":"\u{1F441}\uFE0F"," "),E(),F("disabled",r.loading),E(),F("ngIf",!r.loading),E(),F("ngIf",r.loading),E(),F("ngIf",r.errorMessage))},dependencies:[kn,Qr,jt,un,Yr,Rs,qn,Ps,lt,gt],styles:['.login-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f8f9fa;position:relative;overflow:hidden;padding:2rem}.login-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 25px -5px #0000001a;width:100%;max-width:450px;z-index:2;overflow:hidden;transition:all .3s ease-in-out}.login-container[_ngcontent-%COMP%]:hover{box-shadow:0 15px 30px -5px #00000026}.login-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#426e28,#146b08);color:#fff;padding:2.5rem 2rem;text-align:center}.login-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:50px;margin-bottom:1rem}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.8rem;font-weight:600}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#88c9a1}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0 0;opacity:.9;font-size:.95rem}.login-form[_ngcontent-%COMP%]{padding:2rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:1.5rem}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;left:3rem;top:1rem;color:#718096;pointer-events:none;transition:all .3s ease-in-out}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   label.active[_ngcontent-%COMP%]{top:-.6rem;left:2.8rem;font-size:.75rem;background:#fff;padding:0 .3rem;color:#426e28}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:3rem;height:3rem}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#426e28;box-shadow:0 0 0 2px #426e2833}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:1rem;font-size:1rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:1px solid #e2e8f0;border-radius:8px;font-size:1rem;transition:all .3s ease-in-out}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem;background:none;border:none;cursor:pointer;opacity:.5;transition:all .3s ease-in-out}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover{opacity:1}.form-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:1.5rem 0}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;color:#718096;font-size:.9rem}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{display:inline-block;width:18px;height:18px;margin-right:8px;border:1px solid #cbd5e0;border-radius:4px;position:relative;transition:all .3s ease-in-out}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none;left:6px;top:2px;width:5px;height:10px;border:solid white;border-width:0 2px 2px 0;transform:rotate(45deg)}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#426e28;border-color:#426e28}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.form-options[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{color:#426e28;text-decoration:none;font-size:.9rem;transition:all .3s ease-in-out}.form-options[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-button[_ngcontent-%COMP%]{width:100%;padding:1rem;background:linear-gradient(135deg,#426e28,#146b08);color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease-in-out}.login-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#375b21,#105306);transform:translateY(-2px)}.login-button[_ngcontent-%COMP%]:disabled{background:#cbd5e0;cursor:not-allowed;transform:none}.login-button[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;border:3px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.error-message[_ngcontent-%COMP%]{color:#e53e3e;background:#e53e3e1a;padding:.8rem;border-radius:8px;margin:1rem 0;display:flex;align-items:center;font-size:.9rem}.error-message[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-right:.5rem}.social-login[_ngcontent-%COMP%]{margin:2rem 0 1rem;text-align:center}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;font-size:.9rem;position:relative;margin:1rem 0}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before, .social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:after{content:"";display:inline-block;width:30%;height:1px;background:#e2e8f0;position:absolute;top:50%}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before{left:0}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:after{right:0}.social-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem}.social-buttons[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]{flex:1;padding:.7rem;border:1px solid #e2e8f0;border-radius:8px;background:#fff;display:flex;align-items:center;justify-content:center;gap:.5rem;font-size:.9rem;cursor:pointer;transition:all .3s ease-in-out}.social-buttons[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:hover{background:#f8fafc;transform:translateY(-2px)}.social-buttons[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:18px;height:18px}.social-buttons[_ngcontent-%COMP%]   .social-button.google[_ngcontent-%COMP%]{color:#db4437}.social-buttons[_ngcontent-%COMP%]   .social-button.github[_ngcontent-%COMP%]{color:#333}.register-link[_ngcontent-%COMP%]{text-align:center;color:#718096;font-size:.9rem;margin-top:1.5rem}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#426e28;text-decoration:none;font-weight:500;transition:all .3s ease-in-out}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}.login-background[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{position:absolute;border-radius:50%;background:#88c9a11a;transition:all 15s linear}.login-background[_ngcontent-%COMP%]   .shape.shape-1[_ngcontent-%COMP%]{width:300px;height:300px;top:-100px;left:-100px;animation:_ngcontent-%COMP%_float 12s ease-in-out infinite}.login-background[_ngcontent-%COMP%]   .shape.shape-2[_ngcontent-%COMP%]{width:200px;height:200px;bottom:-50px;right:-50px;animation:_ngcontent-%COMP%_float 8s ease-in-out infinite reverse}.login-background[_ngcontent-%COMP%]   .shape.shape-3[_ngcontent-%COMP%]{width:150px;height:150px;top:30%;right:20%;animation:_ngcontent-%COMP%_float 10s ease-in-out infinite 2s}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-20px) rotate(5deg)}}@media (max-width: 576px){.login-wrapper[_ngcontent-%COMP%]{padding:1rem}.login-header[_ngcontent-%COMP%]{padding:1.5rem 1rem}.login-form[_ngcontent-%COMP%]{padding:1.5rem}.social-buttons[_ngcontent-%COMP%]{flex-direction:column}}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.7rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.3rem}']})};function HG(n,e){if(n&1&&(v(0,"div",37)(1,"h3"),b(2),v(3,"span",38),b(4),ct(5,"date"),m()(),v(6,"p"),b(7),m()()),n&2){let t=e.$implicit;E(2),oe("",t.title," "),E(2),te(Qt(5,3,t.date)),E(3),te(t.content)}}function zG(n,e){n&1&&(v(0,"span"),b(1,"Invertir ahora"),m())}function qG(n,e){n&1&&(v(0,"span"),b(1,"Procesando pago..."),m())}function WG(n,e){if(n&1&&(v(0,"div",39)(1,"h4"),b(2),m(),v(3,"h5"),b(4),m(),v(5,"p"),b(6),m()()),n&2){let t=e.$implicit;E(2),oe("$",t.minimumAmount," o m\xE1s"),E(2),te(t.title),E(2),te(t.description)}}function GG(n,e){if(n&1&&(v(0,"div",40)(1,"span",41),b(2),m(),v(3,"span",42),b(4),m()()),n&2){let t=e.$implicit;E(2),te(t.name),E(2),oe("$",t.amount,"")}}function KG(n,e){if(n&1){let t=je();v(0,"div",1)(1,"div",2)(2,"h1"),b(3),m(),v(4,"p",3),b(5),m(),v(6,"p",4),b(7),m()(),v(8,"div",5)(9,"div",6)(10,"div",7)(11,"h2"),b(12,"Acerca de este proyecto"),m(),v(13,"p"),b(14),m()(),v(15,"div",8)(16,"h2"),b(17,"Retos y desaf\xEDos"),m(),v(18,"p"),b(19),m()(),v(20,"div",9)(21,"h2"),b(22,"Actualizaciones"),m(),W(23,HG,8,5,"div",10),m(),v(24,"button",11),G("click",function(){ae(t);let i=H();return ce(i.navigateAnalisis())}),b(25,"Analisis de Proyecto"),m()(),v(26,"div",12)(27,"div",13)(28,"h3"),b(29),ct(30,"uppercase"),m()(),v(31,"div",14)(32,"div",15),ne(33,"div",16),m(),v(34,"div",17)(35,"span",18),b(36),m(),v(37,"span",19),b(38),m()(),v(39,"div",20)(40,"span"),b(41),m()()(),v(42,"div",21)(43,"h3"),b(44,"Invertir en este proyecto"),m(),v(45,"div",22)(46,"label",23),b(47,"Monto a invertir ($)"),m(),v(48,"input",24),mt("ngModelChange",function(i){ae(t);let o=H();return yt(o.investmentAmount,i)||(o.investmentAmount=i),ce(i)}),m()(),v(49,"button",25),G("click",function(){ae(t);let i=H();return ce(i.invest())}),W(50,zG,2,0,"span",26)(51,qG,2,0,"span",26),m(),v(52,"p",27),b(53,"Ser\xE1s redirigido a PayU para completar el pago de forma segura"),m()(),v(54,"div",28)(55,"h3"),b(56,"Recompensas"),m(),W(57,WG,7,3,"div",29),m(),v(58,"div",30)(59,"h3"),b(60,"Creador del proyecto"),m(),v(61,"div",31),ne(62,"img",32),v(63,"div",33)(64,"h4"),b(65),m(),v(66,"p"),b(67),m(),v(68,"a",34),b(69,"Contactar"),m()()()(),v(70,"div",35)(71,"h3"),b(72,"Principales aportantes"),m(),W(73,GG,5,2,"div",36),m()()()()}if(n&2){let t=H();E(3),te(t.project.title),E(2),oe("\u{1F4CD} ",t.project.location,""),E(2),te(t.project.category),E(7),te(t.project.longDescription),E(5),te(t.project.risksAndChallenges),E(4),F("ngForOf",t.project.updates),E(4),Ke("pending",t.project.status==="pending")("approved",t.project.status==="approved")("rejected",t.project.status==="rejected"),E(2),oe("Estado: ",Qt(30,32,t.project.status),""),E(4),Ri("width",t.project.collected/t.project.goal*100+"%"),E(3),oe("",(t.project.collected/t.project.goal*100).toFixed(0),"%"),E(2),ms("$",t.project.collected," recaudados de $",t.project.goal,""),E(3),oe("",t.getDaysRemaining(t.project.deadline)," d\xEDas restantes"),E(7),pt("ngModel",t.investmentAmount),F("max",t.project.goal-t.project.collected)("disabled",t.isProcessingPayment),E(),F("disabled",t.isProcessingPayment),E(),F("ngIf",!t.isProcessingPayment),E(),F("ngIf",t.isProcessingPayment),E(6),F("ngForOf",t.project.rewards),E(5),F("src",t.project.creator.avatar,ho),E(3),te(t.project.creator.name),E(2),te(t.project.creator.bio),E(),r0("href","mailto:",t.project.creator.email,"",ho),E(5),F("ngForOf",t.getTopSupporters())}}var av=class n{constructor(e,t,r,i,o){this.route=e;this.router=t;this.projectService=r;this.authService=i;this.http=o}projectId="";project=null;investmentAmount=0;currentUser;isLoading=!0;error=null;isProcessingPayment=!1;ngOnInit(){this.route.paramMap.subscribe(e=>{this.projectId=e.get("id")||"",this.authService.currentUser$.subscribe(t=>{this.currentUser=t}),this.projectId?this.loadProject(this.projectId):this.router.navigate(["/dashboard"],{replaceUrl:!0})})}loadProject(e){this.isLoading=!0,this.error=null,this.projectService.getProjectById(e).subscribe({next:t=>{if(!t){this.router.navigate(["/dashboard"],{replaceUrl:!0});return}this.project=ee(L({},t),{deadline:new Date(t.deadline),longDescription:t.longDescription||`Este proyecto busca ${t.description.toLowerCase()} a trav\xE9s de un enfoque innovador y colaborativo.`,location:t.location||"Ubicaci\xF3n no especificada",creator:t.creator||this.getDefaultCreator(),risksAndChallenges:t.risksAndChallenges||"No se han especificado los retos y desaf\xEDos de este proyecto.",rewards:t.rewards||this.getDefaultRewards(),updates:(t.updates||[]).map(r=>ee(L({},r),{date:new Date(r.date)})),supporters:(t.supporters||[]).map(r=>ee(L({},r),{date:new Date(r.date)}))}),this.isLoading=!1},error:t=>{console.error("Error loading project",t),this.error="No se pudo cargar el proyecto. Por favor intenta m\xE1s tarde.",this.isLoading=!1}})}invest(){if(this.investmentAmount<=0){alert("Por favor ingresa un monto v\xE1lido");return}if(!this.currentUser){alert("Debes iniciar sesi\xF3n para invertir"),this.router.navigate(["/login"]);return}if(this.investmentAmount>this.project.goal-this.project.collected){alert("El monto ingresado supera lo que falta para alcanzar la meta del proyecto");return}this.isProcessingPayment=!0;let e={id_proyecto:this.projectId,descripcion:`Inversi\xF3n en ${this.project.title}`,valor:this.investmentAmount,email:this.currentUser.email};this.http.post(`${fi.apiUrl}/pasarela/crear-pago`,e,{responseType:"text"}).subscribe({next:t=>{let r=window.open("","PayU","width=800,height=600");if(r)r.document.write(t);else{let i=document.createElement("div");i.innerHTML=t,document.body.appendChild(i);let o=i.querySelector("form");o&&o.submit()}},error:t=>{console.error("Error al procesar el pago",t),alert("Ocurri\xF3 un error al procesar tu pago. Por favor intenta nuevamente."),this.isProcessingPayment=!1},complete:()=>{this.isProcessingPayment=!1}})}navigateAnalisis(){this.router.navigate(["/project-analytics",this.projectId])}getDefaultCreator(){return{name:"Creador An\xF3nimo",email:"contacto@proyecto.com",bio:"Informaci\xF3n no disponible sobre el creador de este proyecto.",avatar:"https://randomuser.me/api/portraits/lego/0.jpg"}}getDefaultRewards(){return[{title:"Agradecimiento p\xFAblico",description:"Menci\xF3n en nuestras redes sociales y p\xE1gina web.",minimumAmount:10},{title:"Kit del proyecto",description:"Recibir\xE1s un kit con productos relacionados al proyecto.",minimumAmount:50}]}getDaysRemaining(e){return Math.floor((e.getTime()-new Date().getTime())/(1e3*60*60*24))}getTopSupporters(){return[...this.project.supporters].sort((e,t)=>t.amount-e.amount).slice(0,3)}static \u0275fac=function(t){return new(t||n)(j(ln),j(Ae),j(Ln),j(Be),j(sr))};static \u0275cmp=Pe({type:n,selectors:[["app-project-details"]],decls:1,vars:1,consts:[["class","project-details-container",4,"ngIf"],[1,"project-details-container"],[1,"project-header"],[1,"location"],[1,"category"],[1,"project-content"],[1,"main-content"],[1,"project-description"],[1,"project-risks"],[1,"project-updates"],["class","update",4,"ngFor","ngForOf"],[1,"analisisPro",3,"click"],[1,"sidebar"],[1,"project-status"],[1,"progress-container"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-stats"],[1,"percentage"],[1,"amount"],[1,"time-remaining"],[1,"investment-section"],[1,"form-group"],["for","amount"],["type","number","id","amount","min","1",3,"ngModelChange","ngModel","max","disabled"],[1,"invest-button",3,"click","disabled"],[4,"ngIf"],[1,"note"],[1,"rewards-section"],["class","reward",4,"ngFor","ngForOf"],[1,"creator-section"],[1,"creator-info"],["alt","Avatar del creador",1,"creator-avatar",3,"src"],[1,"creator-details"],[3,"href"],[1,"supporters-section"],["class","supporter",4,"ngFor","ngForOf"],[1,"update"],[1,"date"],[1,"reward"],[1,"supporter"],[1,"supporter-name"],[1,"supporter-amount"]],template:function(t,r){t&1&&W(0,KG,74,34,"div",0),t&2&&F("ngIf",r.project)},dependencies:[lt,Vt,gt,_s,po,kn,jt,ju,un,Uu,ww,qn],styles:[".project-details-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem}.project-details-container[_ngcontent-%COMP%]   .project-header[_ngcontent-%COMP%]{margin-bottom:2rem}.project-details-container[_ngcontent-%COMP%]   .project-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#4caf50;margin-bottom:.5rem}.project-details-container[_ngcontent-%COMP%]   .project-header[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{color:#52bf57;font-size:1.1rem;margin-bottom:.5rem}.project-details-container[_ngcontent-%COMP%]   .project-header[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{display:inline-block;background:#c8e6c9;color:#2e7d32;padding:.3rem .8rem;border-radius:20px;font-size:.9rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]{display:flex;gap:2rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{flex:2}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#4caf50;margin:1.5rem 0 1rem;border-bottom:2px solid #c8e6c9;padding-bottom:.5rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .project-updates[_ngcontent-%COMP%]   .update[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:8px;margin-bottom:1rem;box-shadow:0 2px 4px #0000001a}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .project-updates[_ngcontent-%COMP%]   .update[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#77cd7b;font-size:.9rem;margin-left:1rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{flex:1}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:8px;margin-bottom:1.5rem;box-shadow:0 2px 4px #0000001a}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#4caf50;margin-top:0;margin-bottom:1rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:10px;background:#c8e6c9;border-radius:5px;margin-bottom:.5rem;overflow:hidden}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:#88c9a1;transition:width .5s ease}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:.5rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]{font-weight:700;color:#4caf50}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .time-remaining[_ngcontent-%COMP%]{text-align:center;color:#52bf57;font-size:.9rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .investment-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .investment-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#2e7d32}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .investment-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:2px solid #c8e6c9;border-radius:5px}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .investment-section[_ngcontent-%COMP%]   .invest-button[_ngcontent-%COMP%]{width:100%;padding:.8rem;background:#4caf50;color:#fff;border:none;border-radius:5px;font-weight:700;cursor:pointer;transition:background .3s}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .investment-section[_ngcontent-%COMP%]   .invest-button[_ngcontent-%COMP%]:hover{background:#3d8b40}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .rewards-section[_ngcontent-%COMP%]   .reward[_ngcontent-%COMP%]{margin-bottom:1rem;padding-bottom:1rem;border-bottom:1px dashed #c8e6c9}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .rewards-section[_ngcontent-%COMP%]   .reward[_ngcontent-%COMP%]:last-child{border-bottom:none}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .rewards-section[_ngcontent-%COMP%]   .reward[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#4caf50;margin:.5rem 0}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .rewards-section[_ngcontent-%COMP%]   .reward[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:.5rem 0;color:#2e7d32}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .creator-section[_ngcontent-%COMP%]   .creator-info[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .creator-section[_ngcontent-%COMP%]   .creator-info[_ngcontent-%COMP%]   .creator-avatar[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;object-fit:cover}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .creator-section[_ngcontent-%COMP%]   .creator-info[_ngcontent-%COMP%]   .creator-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .3rem;color:#2e7d32}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .creator-section[_ngcontent-%COMP%]   .creator-info[_ngcontent-%COMP%]   .creator-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4caf50;text-decoration:none;font-size:.9rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .creator-section[_ngcontent-%COMP%]   .creator-info[_ngcontent-%COMP%]   .creator-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .supporters-section[_ngcontent-%COMP%]   .supporter[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.5rem 0;border-bottom:1px dashed #c8e6c9}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .supporters-section[_ngcontent-%COMP%]   .supporter[_ngcontent-%COMP%]:last-child{border-bottom:none}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .supporters-section[_ngcontent-%COMP%]   .supporter[_ngcontent-%COMP%]   .supporter-name[_ngcontent-%COMP%]{color:#2e7d32}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .supporters-section[_ngcontent-%COMP%]   .supporter[_ngcontent-%COMP%]   .supporter-amount[_ngcontent-%COMP%]{color:#4caf50;font-weight:700}@media (max-width: 768px){.project-content[_ngcontent-%COMP%]{flex-direction:column!important}}.analisisPro[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:4px;cursor:pointer;font-size:1rem}.analisisPro[_ngcontent-%COMP%]:hover{background-color:#3e8e41}"]})};function YG(n,e){n&1&&(v(0,"div",31),b(1," El t\xEDtulo debe tener al menos 5 caracteres "),m())}function QG(n,e){n&1&&(v(0,"div",31),b(1," La descripci\xF3n debe tener al menos 20 caracteres "),m())}function ZG(n,e){n&1&&(v(0,"div",31),b(1," La descripci\xF3n detallada debe tener al menos 100 caracteres "),m())}function XG(n,e){n&1&&(v(0,"div",31),b(1," La meta m\xEDnima es $100 "),m())}function JG(n,e){if(n&1&&(v(0,"option",32),b(1),m()),n&2){let t=e.$implicit;F("value",t),E(),te(t)}}function e7(n,e){n&1&&(v(0,"div",31),b(1," Debes seleccionar una categor\xEDa "),m())}function t7(n,e){n&1&&(v(0,"div",31),b(1," Debes establecer una fecha l\xEDmite "),m())}function n7(n,e){n&1&&(v(0,"div",31),b(1," Debes especificar una ubicaci\xF3n "),m())}function r7(n,e){if(n&1){let t=je();v(0,"button",39),G("click",function(){ae(t);let i=H().index,o=H();return ce(o.removeReward(i))}),b(1," Eliminar Recompensa "),m()}}function i7(n,e){if(n&1&&(v(0,"div",33)(1,"div",11)(2,"div",3)(3,"label",34),b(4,"T\xEDtulo de la Recompensa *"),m(),ne(5,"input",35),m(),v(6,"div",3)(7,"label",34),b(8,"Monto M\xEDnimo ($) *"),m(),ne(9,"input",36),m()(),v(10,"div",3)(11,"label",34),b(12,"Descripci\xF3n *"),m(),ne(13,"textarea",37),m(),W(14,r7,2,0,"button",38),m()),n&2){let t=e.index,r=H();F("formGroupName",t),E(3),F("for","reward-title-"+t),E(2),F("id","reward-title-"+t),E(2),F("for","reward-amount-"+t),E(2),F("id","reward-amount-"+t),E(2),F("for","reward-desc-"+t),E(2),F("id","reward-desc-"+t),E(),F("ngIf",r.rewards.length>1)}}function o7(n,e){if(n&1){let t=je();v(0,"button",39),G("click",function(){ae(t);let i=H().index,o=H();return ce(o.removeUpdate(i))}),b(1," Eliminar Actualizaci\xF3n "),m()}}function s7(n,e){if(n&1&&(v(0,"div",40)(1,"div",11)(2,"div",3)(3,"label",34),b(4,"T\xEDtulo *"),m(),ne(5,"input",41),m(),v(6,"div",3)(7,"label",34),b(8,"Fecha *"),m(),ne(9,"input",42),m()(),v(10,"div",3)(11,"label",34),b(12,"Contenido *"),m(),ne(13,"textarea",43),m(),W(14,o7,2,0,"button",38),m()),n&2){let t=e.index,r=H();F("formGroupName",t),E(3),F("for","update-title-"+t),E(2),F("id","update-title-"+t),E(2),F("for","update-date-"+t),E(2),F("id","update-date-"+t),E(2),F("for","update-content-"+t),E(2),F("id","update-content-"+t),E(),F("ngIf",r.updates.length>1)}}function a7(n,e){n&1&&(v(0,"div",31),b(1," Debes describir los riesgos y desaf\xEDos de tu proyecto "),m())}function c7(n,e){n&1&&(v(0,"span"),b(1,"Publicar Proyecto"),m())}function l7(n,e){n&1&&(v(0,"span"),b(1,"Enviando..."),m())}function u7(n,e){if(n&1&&(v(0,"div",31),b(1),m()),n&2){let t=H();E(),oe(" ",t.error," ")}}var cv=class n{constructor(e,t,r,i){this.fb=e;this.projectService=t;this.authService=r;this.router=i;this.projectForm=this.fb.group({title:["",[He.required,He.minLength(5)]],description:["",[He.required,He.minLength(20)]],longDescription:["",[He.required,He.minLength(100)]],goal:[0,[He.required,He.min(100)]],category:["",He.required],deadline:["",He.required],location:["",He.required],risksAndChallenges:["",He.required],rewards:this.fb.array([this.createReward()]),updates:this.fb.array([this.createUpdate()])})}projectForm;categories=["Tecnolog\xEDa","Social","Medio Ambiente","Educaci\xF3n","Arte"];isLoading=!1;error=null;get rewards(){return this.projectForm.get("rewards")}get updates(){return this.projectForm.get("updates")}createReward(){return this.fb.group({title:["",He.required],description:["",He.required],minimumAmount:[0,[He.required,He.min(1)]]})}createUpdate(){return this.fb.group({title:["",He.required],content:["",He.required],date:[new Date().toISOString().split("T")[0]]})}addReward(){this.rewards.push(this.createReward())}removeReward(e){this.rewards.removeAt(e)}addUpdate(){this.updates.push(this.createUpdate())}removeUpdate(e){this.updates.removeAt(e)}onSubmit(){this.projectForm.invalid||this.isLoading||(this.isLoading=!0,this.error=null,this.authService.currentUser$.pipe(ht(1)).subscribe(e=>{if(!e){this.error="Debes iniciar sesi\xF3n para crear un proyecto",this.isLoading=!1;return}let t=this.projectForm.get("deadline")?.value;if(!t){this.error="La fecha l\xEDmite es requerida",this.isLoading=!1;return}let r=new Date(t).toISOString(),i=this.projectForm.get("updates")?.value,o=i?i.map(u=>ee(L({},u),{date:u.date?new Date(u.date).toISOString():new Date().toISOString()})):[],s=["https://projectcor.com/es/wp-content/uploads/2019/05/gestion-de-proyectos.jpg","https://d2fl3xywvvllvq.cloudfront.net/wp-content/uploads/2019/10/nutcache-image-2-600x360.jpg","https://eadic.com/wp-content/uploads/2020/05/Proyecto-2-1.jpg","https://www.ceupe.com.ve/images/easyblog_articles/230/ges_proyec.png","https://acortar.link/25ILfh"];function a(){let u=Math.floor(Math.random()*s.length);return s[u]}let c=ee(L({},this.projectForm.value),{deadline:r,updates:o,creator:{name:e.name,email:e.email,bio:e.bio||"",avatar:a()},collected:0,status:"pending",createdAt:new Date().toISOString(),supporters:[]});this.projectService.createProject(c).pipe(ht(1)).subscribe({next:u=>{this.projectForm.reset();let d=u?.projectId||"";d?this.router.navigate(["/project",d],{replaceUrl:!0}):this.router.navigate(["/user-profile"])},error:u=>{console.error("Error creating project",u),this.error="Error al crear el proyecto. Por favor intenta nuevamente.",this.isLoading=!1}})}))}static \u0275fac=function(t){return new(t||n)(j(wm),j(Ln),j(Be),j(Ae))};static \u0275cmp=Pe({type:n,selectors:[["app-project-creation"]],decls:78,vars:16,consts:[[1,"creation-container"],[1,"project-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"form-group"],["for","title"],["type","text","id","title","formControlName","title","placeholder","Nombre de tu proyecto"],["class","error-message",4,"ngIf"],["for","description"],["id","description","formControlName","description","placeholder","Describe tu proyecto brevemente (m\xEDnimo 20 caracteres)"],["for","longDescription"],["id","longDescription","formControlName","longDescription","placeholder","Explica tu proyecto en detalle (m\xEDnimo 100 caracteres)"],[1,"form-row"],["for","goal"],["type","number","id","goal","formControlName","goal","min","100"],["for","category"],["id","category","formControlName","category"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","deadline"],["type","date","id","deadline","formControlName","deadline"],["for","location"],["type","text","id","location","formControlName","location","placeholder","Ciudad, Pa\xEDs"],["formArrayName","rewards"],["class","reward-item",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"button-add",3,"click"],["formArrayName","updates"],["class","update-item",3,"formGroupName",4,"ngFor","ngForOf"],["id","risks","formControlName","risksAndChallenges","placeholder","Describe los posibles retos de tu proyecto y c\xF3mo planeas superarlos"],[1,"form-actions"],["type","submit",1,"button-primary",3,"disabled"],[4,"ngIf"],[1,"error-message"],[3,"value"],[1,"reward-item",3,"formGroupName"],[3,"for"],["type","text","formControlName","title","placeholder","Ej: Certificado digital",3,"id"],["type","number","formControlName","minimumAmount","min","1",3,"id"],["formControlName","description","placeholder","Describe qu\xE9 recibir\xE1 el patrocinador",3,"id"],["type","button","class","button-remove",3,"click",4,"ngIf"],["type","button",1,"button-remove",3,"click"],[1,"update-item",3,"formGroupName"],["type","text","formControlName","title","placeholder","Ej: Campa\xF1a lanzada",3,"id"],["type","date","formControlName","date",3,"id"],["formControlName","content","placeholder","Detalles de la actualizaci\xF3n",3,"id"]],template:function(t,r){if(t&1&&(v(0,"div",0)(1,"h2"),b(2,"Crear Nuevo Proyecto"),m(),v(3,"form",1),G("ngSubmit",function(){return r.onSubmit()}),v(4,"div",2)(5,"h3"),b(6,"Informaci\xF3n B\xE1sica"),m(),v(7,"div",3)(8,"label",4),b(9,"T\xEDtulo del Proyecto *"),m(),ne(10,"input",5),W(11,YG,2,0,"div",6),m(),v(12,"div",3)(13,"label",7),b(14,"Descripci\xF3n Corta *"),m(),ne(15,"textarea",8),W(16,QG,2,0,"div",6),m(),v(17,"div",3)(18,"label",9),b(19,"Descripci\xF3n Detallada *"),m(),ne(20,"textarea",10),W(21,ZG,2,0,"div",6),m()(),v(22,"div",2)(23,"h3"),b(24,"Financiaci\xF3n y Categor\xEDa"),m(),v(25,"div",11)(26,"div",3)(27,"label",12),b(28,"Meta de financiaci\xF3n ($) *"),m(),ne(29,"input",13),W(30,XG,2,0,"div",6),m(),v(31,"div",3)(32,"label",14),b(33,"Categor\xEDa *"),m(),v(34,"select",15)(35,"option",16),b(36,"Selecciona una categor\xEDa"),m(),W(37,JG,2,2,"option",17),m(),W(38,e7,2,0,"div",6),m()()(),v(39,"div",2)(40,"h3"),b(41,"Fechas y Ubicaci\xF3n"),m(),v(42,"div",11)(43,"div",3)(44,"label",18),b(45,"Fecha L\xEDmite *"),m(),ne(46,"input",19),W(47,t7,2,0,"div",6),m(),v(48,"div",3)(49,"label",20),b(50,"Ubicaci\xF3n *"),m(),ne(51,"input",21),W(52,n7,2,0,"div",6),m()()(),v(53,"div",2)(54,"h3"),b(55,"Recompensas para Patrocinadores"),m(),v(56,"div",22),W(57,i7,15,8,"div",23),m(),v(58,"button",24),G("click",function(){return r.addReward()}),b(59," + A\xF1adir Otra Recompensa "),m()(),v(60,"div",2)(61,"h3"),b(62,"Actualizaciones Iniciales"),m(),v(63,"div",25),W(64,s7,15,8,"div",26),m(),v(65,"button",24),G("click",function(){return r.addUpdate()}),b(66," + A\xF1adir Otra Actualizaci\xF3n "),m()(),v(67,"div",2)(68,"h3"),b(69,"Riesgos y Desaf\xEDos *"),m(),v(70,"div",3),ne(71,"textarea",27),W(72,a7,2,0,"div",6),m()(),v(73,"div",28)(74,"button",29),W(75,c7,2,0,"span",30)(76,l7,2,0,"span",30),m(),W(77,u7,2,1,"div",6),m()()()),t&2){let i,o,s,a,c,u,d,p;E(3),F("formGroup",r.projectForm),E(8),F("ngIf",((i=r.projectForm.get("title"))==null?null:i.invalid)&&((i=r.projectForm.get("title"))==null?null:i.touched)),E(5),F("ngIf",((o=r.projectForm.get("description"))==null?null:o.invalid)&&((o=r.projectForm.get("description"))==null?null:o.touched)),E(5),F("ngIf",((s=r.projectForm.get("longDescription"))==null?null:s.invalid)&&((s=r.projectForm.get("longDescription"))==null?null:s.touched)),E(9),F("ngIf",((a=r.projectForm.get("goal"))==null?null:a.invalid)&&((a=r.projectForm.get("goal"))==null?null:a.touched)),E(7),F("ngForOf",r.categories),E(),F("ngIf",((c=r.projectForm.get("category"))==null?null:c.invalid)&&((c=r.projectForm.get("category"))==null?null:c.touched)),E(9),F("ngIf",((u=r.projectForm.get("deadline"))==null?null:u.invalid)&&((u=r.projectForm.get("deadline"))==null?null:u.touched)),E(5),F("ngIf",((d=r.projectForm.get("location"))==null?null:d.invalid)&&((d=r.projectForm.get("location"))==null?null:d.touched)),E(5),F("ngForOf",r.rewards.controls),E(7),F("ngForOf",r.updates.controls),E(8),F("ngIf",((p=r.projectForm.get("risksAndChallenges"))==null?null:p.invalid)&&((p=r.projectForm.get("risksAndChallenges"))==null?null:p.touched)),E(2),F("disabled",r.projectForm.invalid||r.isLoading),E(),F("ngIf",!r.isLoading),E(),F("ngIf",r.isLoading),E(),F("ngIf",r.error)}},dependencies:[lt,Vt,gt,lc,Qr,wo,Eo,jt,ju,Zr,un,Yr,Uu,cc,Bu,_m,ym],styles:[".creation-container[_ngcontent-%COMP%]{max-width:900px;margin:2rem auto;padding:2rem;background-color:#fff;border-radius:12px;box-shadow:0 4px 20px #00000014}.creation-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2e7d32;text-align:center;margin-bottom:2rem;font-size:2rem}.project-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.form-section[_ngcontent-%COMP%]{padding:1.5rem;border-radius:8px;background-color:#e4f3e5}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2e7d32;margin-top:0;margin-bottom:1.5rem;font-size:1.3rem;border-bottom:2px solid #88c9a1;padding-bottom:.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#205823}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:6px;font-size:1rem;transition:border-color .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#88c9a1;box-shadow:0 0 0 2px #88c9a133}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:100px;resize:vertical}.form-row[_ngcontent-%COMP%]{display:flex;gap:1.5rem}.form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1}@media (max-width: 600px){.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}}.reward-item[_ngcontent-%COMP%], .update-item[_ngcontent-%COMP%]{background-color:#fff;padding:1.5rem;border-radius:8px;margin-bottom:1.5rem;box-shadow:0 2px 8px #0000000d}.button-primary[_ngcontent-%COMP%]{background-color:#88c9a1;color:#fff;border:none;padding:1rem 2rem;font-size:1rem;border-radius:6px;cursor:pointer;transition:background-color .3s;font-weight:600}.button-primary[_ngcontent-%COMP%]:hover{background-color:#65b985}.button-primary[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.button-add[_ngcontent-%COMP%]{background-color:#c8e6c9;color:#2e7d32;border:1px dashed #88c9a1;padding:.75rem 1.5rem;font-size:.9rem;border-radius:6px;cursor:pointer;transition:all .3s;display:flex;align-items:center;gap:.5rem;margin:0 auto}.button-add[_ngcontent-%COMP%]:hover{background-color:#b6deb8}.button-remove[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828;border:1px solid #ef9a9a;padding:.5rem 1rem;font-size:.8rem;border-radius:4px;cursor:pointer;transition:all .3s}.button-remove[_ngcontent-%COMP%]:hover{background-color:#ffcdd2}.error-message[_ngcontent-%COMP%]{color:#d32f2f;font-size:.85rem;margin-top:.5rem}.form-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;margin-top:1rem}"]})};function d7(n,e){if(n&1&&(v(0,"div",5),b(1),m()),n&2){let t=H(2);E(),oe(" ",t.error," ")}}function h7(n,e){if(n&1){let t=je();v(0,"button",26),G("click",function(){ae(t);let i=H(3);return ce(i.navigateToEdit())}),b(1,"Editar Proyecto"),m()}}function f7(n,e){if(n&1&&(v(0,"p",34),b(1),m()),n&2){let t=H().$implicit;E(),te(t.reward)}}function p7(n,e){if(n&1&&(v(0,"div",27)(1,"div",28),b(2),m(),v(3,"div",29)(4,"p",30),b(5),m(),v(6,"p",31),b(7),ct(8,"number"),m(),v(9,"p",32),b(10),m(),W(11,f7,2,1,"p",33),m()()),n&2){let t=e.$implicit;E(2),te(t.name.charAt(0)),E(3),te(t.name),E(2),oe("$",gs(8,5,t.amount,"1.0-0"),""),E(3),te(t.date),E(),F("ngIf",t.reward)}}function m7(n,e){if(n&1&&(v(0,"div",35)(1,"h4"),b(2),m(),v(3,"p"),b(4),m(),v(5,"p"),b(6),ct(7,"number"),m(),v(8,"div",36),ne(9,"div",37),m()()),n&2){let t=e.$implicit,r=H(3);E(2),te(t.reward),E(2),oe("",t.count," personas"),E(2),oe("Total: $",gs(7,5,t.totalAmount,"1.0-0"),""),E(3),Ri("width",t.count/r.analyticsData.basicStats.supportersCount*100,"%")}}function g7(n,e){if(n&1&&(v(0,"div",38)(1,"div",39),b(2),m(),v(3,"div",40)(4,"p",41),b(5),m(),v(6,"p",42),b(7),ct(8,"date"),m()()()),n&2){let t=e.$implicit;E(),Ke("update",t.type==="update")("support",t.type==="support"),E(),oe(" ",t.type==="update"?"\u{1F504}":"\u{1F49A}"," "),E(3),te(t.description),E(2),te(gs(8,7,t.date,"mediumDate"))}}function v7(n,e){if(n&1&&(v(0,"div")(1,"h2"),b(2,"An\xE1lisis del Proyecto"),m(),v(3,"p",6),b(4),m(),W(5,h7,2,0,"button",7),v(6,"div",8)(7,"div",9)(8,"h3"),b(9,"Recaudado"),m(),v(10,"p",10),b(11),ct(12,"number"),m(),v(13,"p",11),b(14),m()(),ne(15,"div",12),v(16,"div",9)(17,"h3"),b(18,"Apoyos"),m(),v(19,"p",10),b(20),m(),v(21,"p",11),b(22,"personas han apoyado"),m()(),v(23,"div",9)(24,"h3"),b(25,"Tiempo restante"),m(),v(26,"p",10),b(27),m(),v(28,"p",11),b(29,"d\xEDas para finalizar"),m()(),v(30,"div",9)(31,"h3"),b(32,"Recompensas"),m(),v(33,"p",10),b(34),m(),v(35,"p",11),b(36,"recompensas reclamadas"),m()()(),v(37,"div",13)(38,"h3"),b(39,"Progreso de financiaci\xF3n"),m(),v(40,"div",14),ne(41,"div",15),m(),v(42,"p",16),b(43),ct(44,"number"),ct(45,"number"),m()(),v(46,"div",17)(47,"h3"),b(48,"Apoyos recientes"),m(),v(49,"div",18),W(50,p7,12,8,"div",19),m()(),v(51,"div",20)(52,"h3"),b(53,"Distribuci\xF3n de recompensas"),m(),v(54,"div",21),W(55,m7,10,8,"div",22),m()(),v(56,"div",23)(57,"h3"),b(58,"Actividad reciente"),m(),v(59,"div",24),W(60,g7,9,10,"div",25),m()()()),n&2){let t=H(2);E(4),te(t.project.title),E(),F("ngIf",t.isCreator),E(6),oe("$",gs(12,15,t.analyticsData.basicStats.totalCollected,"1.0-0"),""),E(3),oe("",t.analyticsData.basicStats.percentageFunded,"% de la meta"),E(6),te(t.analyticsData.basicStats.supportersCount),E(7),te(t.analyticsData.basicStats.daysRemaining),E(7),te(t.analyticsData.basicStats.rewardsClaimed),E(7),Ri("width",t.analyticsData.basicStats.percentageFunded,"%"),E(2),i0(" $",gs(44,18,t.analyticsData.basicStats.totalCollected,"1.0-0")," de $",gs(45,21,t.project.goal,"1.0-0")," (",t.analyticsData.basicStats.percentageFunded,"%) "),E(7),F("ngForOf",t.analyticsData.supporters.slice(0,5)),E(5),F("ngForOf",t.analyticsData.rewardsDistribution),E(5),F("ngForOf",t.analyticsData.recentActivity.slice(0,5))}}function _7(n,e){if(n&1&&(v(0,"div",2),W(1,d7,2,1,"div",3)(2,v7,61,24,"div",4),m()),n&2){let t=H();E(),F("ngIf",t.error),E(),F("ngIf",!t.error)}}function y7(n,e){n&1&&(v(0,"div",43)(1,"p"),b(2,"Cargando an\xE1lisis..."),m()())}var lv=class n{constructor(e,t,r,i,o,s){this.route=e;this.projectService=t;this.router=r;this.authService=i;this.decimalPipe=o;this.datePipe=s}projectId="";project=null;analyticsData=null;isLoading=!0;error=null;currentUserEmail="";isCreator=!1;ngOnInit(){this.projectId=this.route.snapshot.paramMap.get("id")||"",this.authService.currentUser$.subscribe(e=>{this.currentUserEmail=e?.email||"",this.loadProjectData()})}loadProjectData(){this.isLoading=!0,this.projectService.getProjectById(this.projectId).subscribe({next:e=>{if(!e){this.error="Proyecto no encontrado",this.isLoading=!1;return}this.project=e,this.isCreator=e.creator?.email===this.currentUserEmail,this.generateAnalytics(e)},error:e=>{console.error("Error loading project",e),this.error="Error al cargar el proyecto",this.isLoading=!1}})}generateAnalytics(e){let t=e.collected||0,r=Math.min(Math.round(t/e.goal*100),100),i=new Date(e.deadline),o=new Date,s=Math.max(0,Math.ceil((i.getTime()-o.getTime())/(1e3*60*60*24))),a=e.supporters?.map(p=>({name:p.name,amount:p.amount,date:new Date(p.date).toLocaleDateString(),reward:this.getRewardName(e.rewards,p.amount)}))||[],c=this.generateFundingProgress(e),u=this.calculateRewardsDistribution(e),d=this.generateRecentActivity(e);this.analyticsData={basicStats:{totalCollected:t,percentageFunded:r,daysRemaining:s,supportersCount:a.length,rewardsClaimed:u.reduce((p,g)=>p+g.count,0)},supporters:a,fundingProgress:c,rewardsDistribution:u,recentActivity:d},this.isLoading=!1}navigateToEdit(){this.router.navigate(["/project-edit",this.projectId])}getRewardName(e,t){return e&&e.filter(i=>t>=i.minimumAmount).sort((i,o)=>o.minimumAmount-i.minimumAmount)[0]?.title||"Sin recompensa"}generateFundingProgress(e){if(e.fundingProgress)return e.fundingProgress;let t=[],r=new Date(e.createdAt),o=Math.ceil((new Date().getTime()-r.getTime())/(1e3*60*60*24)),s=0;for(let a=0;a<=o;a++){let c=new Date(r);c.setDate(r.getDate()+a),s+=Math.random()*(e.goal/10),s>e.collected&&(s=e.collected),t.push({date:c.toISOString().split("T")[0],amount:Math.round(s)})}return t}calculateRewardsDistribution(e){return!e.rewards||!e.supporters?[]:e.rewards.map(t=>{let r=e.supporters.filter(i=>i.amount>=t.minimumAmount);return{reward:t.title,count:r.length,totalAmount:r.reduce((i,o)=>i+o.amount,0)}})}generateRecentActivity(e){let t=[];return e.updates&&e.updates.forEach(r=>{t.push({type:"update",description:r.title,date:r.date})}),e.supporters&&e.supporters.slice(-5).forEach(r=>{t.push({type:"support",description:`Nuevo apoyo de ${r.name} ($${r.amount})`,date:r.date})}),t.sort((r,i)=>new Date(i.date).getTime()-new Date(r.date).getTime())}static \u0275fac=function(t){return new(t||n)(j(ln),j(Ln),j(Ae),j(Be),j(Hr),j(po))};static \u0275cmp=Pe({type:n,selectors:[["app-project-analytics"]],features:[Tt([Hr,po])],decls:2,vars:2,consts:[["class","analytics-container",4,"ngIf"],["class","loading-container",4,"ngIf"],[1,"analytics-container"],["class","error-message",4,"ngIf"],[4,"ngIf"],[1,"error-message"],[1,"project-title"],["class","edit-button",3,"click",4,"ngIf"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-value"],[1,"stat-label"],[1,"action-buttons"],[1,"chart-container"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"],[1,"supporters-section"],[1,"supporters-grid"],["class","supporter-card",4,"ngFor","ngForOf"],[1,"rewards-section"],[1,"rewards-grid"],["class","reward-card",4,"ngFor","ngForOf"],[1,"activity-section"],[1,"activity-timeline"],["class","activity-item",4,"ngFor","ngForOf"],[1,"edit-button",3,"click"],[1,"supporter-card"],[1,"supporter-avatar"],[1,"supporter-info"],[1,"supporter-name"],[1,"supporter-amount"],[1,"supporter-date"],["class","supporter-reward",4,"ngIf"],[1,"supporter-reward"],[1,"reward-card"],[1,"reward-bar"],[1,"reward-fill"],[1,"activity-item"],[1,"activity-icon"],[1,"activity-content"],[1,"activity-description"],[1,"activity-date"],[1,"loading-container"]],template:function(t,r){t&1&&W(0,_7,3,2,"div",0)(1,y7,3,0,"div",1),t&2&&(F("ngIf",!r.isLoading&&r.analyticsData&&r.project),E(),F("ngIf",r.isLoading))},dependencies:[lt,Vt,gt,Hr,po],styles:[".analytics-container[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:1rem}.error-message[_ngcontent-%COMP%]{color:#d32f2f;background-color:#ffebee;padding:1rem;border-radius:4px;margin-bottom:1rem}.project-title[_ngcontent-%COMP%]{font-size:1.5rem;color:#2e7d32;margin-bottom:2rem;text-align:center}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 8px #0000001a;text-align:center}.stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#2e7d32;margin:.5rem 0}.stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:#666;margin:0}.chart-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.5rem;margin-bottom:2rem;box-shadow:0 2px 8px #0000001a}.chart-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.progress-bar[_ngcontent-%COMP%]{height:20px;background-color:#e0e0e0;border-radius:10px;margin:1rem 0;overflow:hidden}.progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background-color:#4caf50;transition:width .5s ease}.progress-text[_ngcontent-%COMP%]{text-align:center;color:#666}.supporters-section[_ngcontent-%COMP%], .rewards-section[_ngcontent-%COMP%], .activity-section[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.5rem;margin-bottom:2rem;box-shadow:0 2px 8px #0000001a}.supporters-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .rewards-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .activity-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.supporters-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1rem}.supporter-card[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1rem;border:1px solid #e0e0e0;border-radius:8px}.supporter-card[_ngcontent-%COMP%]   .supporter-avatar[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#4caf50;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-right:1rem;font-weight:700}.supporter-card[_ngcontent-%COMP%]   .supporter-name[_ngcontent-%COMP%]{font-weight:700;margin:0}.supporter-card[_ngcontent-%COMP%]   .supporter-amount[_ngcontent-%COMP%]{color:#2e7d32;font-weight:700;margin:.25rem 0}.supporter-card[_ngcontent-%COMP%]   .supporter-date[_ngcontent-%COMP%], .supporter-card[_ngcontent-%COMP%]   .supporter-reward[_ngcontent-%COMP%]{color:#666;font-size:.8rem;margin:.1rem 0}.rewards-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1rem}.reward-card[_ngcontent-%COMP%]{padding:1rem;border:1px solid #e0e0e0;border-radius:8px}.reward-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0;color:#2e7d32}.reward-card[_ngcontent-%COMP%]   .reward-bar[_ngcontent-%COMP%]{height:8px;background-color:#e0e0e0;border-radius:4px;margin-top:.5rem;overflow:hidden}.reward-card[_ngcontent-%COMP%]   .reward-bar[_ngcontent-%COMP%]   .reward-fill[_ngcontent-%COMP%]{height:100%;background-color:#4caf50}.activity-timeline[_ngcontent-%COMP%]{border-left:2px solid #e0e0e0;padding-left:1.5rem;margin-left:1rem}.activity-item[_ngcontent-%COMP%]{display:flex;margin-bottom:1.5rem;position:relative}.activity-item[_ngcontent-%COMP%]   .activity-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background-color:#e8f5e9;display:flex;align-items:center;justify-content:center;margin-right:1rem;position:absolute;left:-17px}.activity-item[_ngcontent-%COMP%]   .activity-icon.update[_ngcontent-%COMP%]{background-color:#e3f2fd}.activity-item[_ngcontent-%COMP%]   .activity-icon.support[_ngcontent-%COMP%]{background-color:#f1f8e9}.activity-item[_ngcontent-%COMP%]   .activity-content[_ngcontent-%COMP%]{margin-left:2rem}.activity-item[_ngcontent-%COMP%]   .activity-content[_ngcontent-%COMP%]   .activity-description[_ngcontent-%COMP%]{margin:0 0 .25rem}.activity-item[_ngcontent-%COMP%]   .activity-content[_ngcontent-%COMP%]   .activity-date[_ngcontent-%COMP%]{color:#666;font-size:.8rem;margin:0}.loading-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#666}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.supporters-grid[_ngcontent-%COMP%], .rewards-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.action-buttons[_ngcontent-%COMP%]{margin-bottom:2rem;text-align:right}.edit-button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:4px;cursor:pointer;font-size:1rem}.edit-button[_ngcontent-%COMP%]:hover{background-color:#3e8e41}"]})};function b7(n,e){n&1&&(v(0,"div",3)(1,"p"),b(2,"Cargando datos del proyecto..."),m()())}function w7(n,e){n&1&&(v(0,"div",24),b(1," El t\xEDtulo debe tener al menos 5 caracteres "),m())}function E7(n,e){n&1&&(v(0,"div",24),b(1," La descripci\xF3n debe tener al menos 20 caracteres "),m())}function C7(n,e){if(n&1&&(v(0,"option",25),b(1),m()),n&2){let t=e.$implicit,r=H(2);F("value",t)("selected",t===r.projectForm.value.category),E(),oe(" ",t," ")}}function I7(n,e){if(n&1&&(v(0,"div",24),b(1),m()),n&2){let t=H(2);E(),oe(" ",t.error," ")}}function D7(n,e){if(n&1){let t=je();v(0,"form",4),G("ngSubmit",function(){ae(t);let i=H();return ce(i.onSubmit())}),v(1,"div",5)(2,"label",6),b(3,"T\xEDtulo del Proyecto *"),m(),ne(4,"input",7),W(5,w7,2,0,"div",8),m(),v(6,"div",5)(7,"label",9),b(8,"Descripci\xF3n Corta *"),m(),v(9,"textarea",10),b(10),m(),W(11,E7,2,0,"div",8),m(),v(12,"div",5)(13,"label",11),b(14,"Descripci\xF3n Detallada *"),m(),v(15,"textarea",12),b(16),m()(),v(17,"div",5)(18,"label",13),b(19,"Categor\xEDa *"),m(),v(20,"select",14)(21,"option",15),b(22,"Selecciona una categor\xEDa"),m(),W(23,C7,2,3,"option",16),m()(),v(24,"div",5)(25,"label",17),b(26,"Ubicaci\xF3n *"),m(),ne(27,"input",18),m(),v(28,"div",5)(29,"label",19),b(30,"Retos y desaf\xEDos *"),m(),v(31,"textarea",20),b(32),m()(),v(33,"div",21)(34,"button",22),b(35),m(),v(36,"button",23),G("click",function(){ae(t);let i=H();return ce(i.onCancel())}),b(37," Cancelar "),m()(),W(38,I7,2,1,"div",8),m()}if(n&2){let t,r,i=H();F("formGroup",i.projectForm),E(4),F("value",i.projectForm.value.title),E(),F("ngIf",((t=i.projectForm.get("title"))==null?null:t.invalid)&&((t=i.projectForm.get("title"))==null?null:t.touched)),E(5),te(i.projectForm.value.description),E(),F("ngIf",((r=i.projectForm.get("description"))==null?null:r.invalid)&&((r=i.projectForm.get("description"))==null?null:r.touched)),E(5),te(i.projectForm.value.longDescription),E(7),F("ngForOf",i.categories),E(4),F("value",i.projectForm.value.location),E(5),te(i.projectForm.value.risksAndChallenges),E(2),F("disabled",i.projectForm.invalid||i.isLoading),E(),oe(" ",i.isLoading?"Guardando...":"Guardar Cambios"," "),E(3),F("ngIf",i.error)}}var uv=class n{constructor(e,t,r,i,o){this.fb=e;this.route=t;this.router=r;this.projectService=i;this.authService=o;this.projectForm=this.fb.group({title:["",[He.required,He.minLength(5)]],description:["",[He.required,He.minLength(20)]],longDescription:["",[He.required,He.minLength(100)]],category:["",He.required],location:["",He.required],risksAndChallenges:["",He.required]})}projectId="";projectForm;isLoading=!0;error=null;categories=["Tecnolog\xEDa","Social","Medio Ambiente","Educaci\xF3n","Arte"];ngOnInit(){this.projectId=this.route.snapshot.paramMap.get("id")||"",this.loadProjectData()}loadProjectData(){this.authService.currentUser$.pipe(ht(1)).subscribe(e=>{this.projectService.getProjectById(this.projectId).subscribe({next:t=>{if(!t){this.error="Proyecto no encontrado",this.isLoading=!1;return}if(t.creator?.email!==e?.email){this.error="No tienes permiso para editar este proyecto",this.isLoading=!1;return}this.projectForm.patchValue({title:t.title,description:t.description,longDescription:t.longDescription||"",category:t.category,location:t.location||"",risksAndChallenges:t.risksAndChallenges||""}),this.isLoading=!1},error:t=>{console.error("Error loading project",t),this.error="Error al cargar el proyecto",this.isLoading=!1}})})}onSubmit(){if(this.projectForm.invalid||this.isLoading)return;this.isLoading=!0,this.error=null;let e=L({},this.projectForm.value);this.projectService.updateProject(this.projectId,e).subscribe({next:()=>{this.router.navigate(["/project-analytics",this.projectId])},error:t=>{console.error("Error updating project",t),this.error="Error al actualizar el proyecto",this.isLoading=!1}})}onCancel(){this.router.navigate(["/project-analytics",this.projectId])}static \u0275fac=function(t){return new(t||n)(j(wm),j(ln),j(Ae),j(Ln),j(Be))};static \u0275cmp=Pe({type:n,selectors:[["app-project-edit"]],decls:5,vars:2,consts:[[1,"edit-container"],["class","loading-message",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"loading-message"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","title"],["type","text","id","title","formControlName","title",3,"value"],["class","error-message",4,"ngIf"],["for","description"],["id","description","formControlName","description"],["for","longDescription"],["id","longDescription","formControlName","longDescription"],["for","category"],["id","category","formControlName","category"],["value",""],[3,"value","selected",4,"ngFor","ngForOf"],["for","location"],["type","text","id","location","formControlName","location",3,"value"],["for","risks"],["id","risks","formControlName","risksAndChallenges"],[1,"form-actions"],["type","submit",3,"disabled"],["type","button",3,"click"],[1,"error-message"],[3,"value","selected"]],template:function(t,r){t&1&&(v(0,"div",0)(1,"h2"),b(2,"Editar Proyecto"),m(),W(3,b7,3,0,"div",1)(4,D7,39,12,"form",2),m()),t&2&&(E(3),F("ngIf",r.isLoading),E(),F("ngIf",!r.isLoading))},dependencies:[lc,Qr,wo,Eo,jt,Zr,un,Yr,cc,Bu,lt,Vt,gt],styles:[`@charset "UTF-8";.edit-container[_ngcontent-%COMP%]{max-width:800px;margin:2rem auto;padding:2rem;background:#fff;border-radius:8px;box-shadow:0 2px 10px #0000001a}.edit-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2e7d32;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:4px;font-size:1rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#4caf50}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:120px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:2rem}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:4px;cursor:pointer;font-size:1rem}.form-actions[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none}.form-actions[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:disabled{background-color:#ccc}.form-actions[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd}.error-message[_ngcontent-%COMP%]{color:#d32f2f;margin-top:.5rem}.loading-message[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#666}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#333}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;transition:border-color .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#4caf50;box-shadow:0 0 0 2px #4caf5033}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:120px;resize:vertical}select[_ngcontent-%COMP%]{appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .5rem center;background-size:1em}`]})};function Sd(n){return n.buttons===0||n.detail===0}function Ad(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var HI;function zN(){if(HI==null){let n=typeof document<"u"?document.head:null;HI=!!(n&&(n.createShadowRoot||n.attachShadow))}return HI}function zI(n){if(zN()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Vn(n){return n.composedPath?n.composedPath()[0]:n.target}function ur(n,e,t,r,i){let o=parseInt(Yl.major),s=parseInt(Yl.minor);return o>19||o===19&&s>0||o===0&&s===0?n.listen(e,t,r,i):(e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)})}var qI;try{qI=typeof Intl<"u"&&Intl.v8BreakIterator}catch{qI=!1}var Ht=(()=>{class n{_platformId=I(Br);isBrowser=this._platformId?_0(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||qI)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var xd;function qN(){if(xd==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>xd=!0}))}finally{xd=xd||!1}return xd}function Bc(n){return qN()?n:!!n.capture}function pi(n){return n instanceof Je?n.nativeElement:n}var WN=new $("cdk-input-modality-detector-options"),GN={ignoreKeys:[18,17,224,91,16]},KN=650,WI={passive:!0,capture:!0},YN=(()=>{class n{_platform=I(Ht);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new tt(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(r=>r===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Vn(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<KN||(this._modality.next(Sd(t)?"keyboard":"mouse"),this._mostRecentTarget=Vn(t))};_onTouchstart=t=>{if(Ad(t)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Vn(t)};constructor(){let t=I(se),r=I(Ie),i=I(WN,{optional:!0});if(this._options=L(L({},GN),i),this.modalityDetected=this._modality.pipe(Dl(1)),this.modalityChanged=this.modalityDetected.pipe(Kh()),this._platform.isBrowser){let o=I(Gt).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[ur(o,r,"keydown",this._onKeydown,WI),ur(o,r,"mousedown",this._onMousedown,WI),ur(o,r,"touchstart",this._onTouchstart,WI)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t())}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Md=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(Md||{}),QN=new $("cdk-focus-monitor-default-options"),dv=Bc({passive:!0,capture:!0}),GI=(()=>{class n{_ngZone=I(se);_platform=I(Ht);_inputModalityDetector=I(YN);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=I(Ie,{optional:!0});_stopInputModalityDetector=new he;constructor(){let t=I(QN,{optional:!0});this._detectionMode=t?.detectionMode||Md.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{let r=Vn(t);for(let i=r;i;i=i.parentElement)t.type==="focus"?this._onFocus(t,i):this._onBlur(t,i)};monitor(t,r=!1){let i=pi(t);if(!this._platform.isBrowser||i.nodeType!==1)return X();let o=zI(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;let a={checkChildren:r,subject:new he,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){let r=pi(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){let o=pi(t),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,r,c)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===Md.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused",r==="touch"),t.classList.toggle("cdk-keyboard-focused",r==="keyboard"),t.classList.toggle("cdk-mouse-focused",r==="mouse"),t.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&r,this._detectionMode===Md.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?KN:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(t,r){let i=this._elementInfo.get(r),o=Vn(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){let i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,dv),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,dv)}),this._rootNodeFocusListenerCount.set(r,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Qn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,dv),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,dv),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){let r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!r||r===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0}return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var hv=new WeakMap,ko=(()=>{class n{_appRef;_injector=I(Fe);_environmentInjector=I(at);load(t){let r=this._appRef=this._appRef||this._injector.get(yr),i=hv.get(r);i||(i={loaders:new Set,refs:[]},hv.set(r,i),r.onDestroy(()=>{hv.get(r)?.refs.forEach(o=>o.destroy()),hv.delete(r)})),i.loaders.has(t)||(i.loaders.add(t),i.refs.push(tp(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Uc(n){return Array.isArray(n)?n:[n]}var ZN=new Set,Zs,JN=(()=>{class n{_platform=I(Ht);_nonce=I($l,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):S7}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&T7(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function T7(n,e){if(!ZN.has(n))try{Zs||(Zs=document.createElement("style"),e&&Zs.setAttribute("nonce",e),Zs.setAttribute("type","text/css"),document.head.appendChild(Zs)),Zs.sheet&&(Zs.sheet.insertRule(`@media ${n} {body{ }}`,0),ZN.add(n))}catch(t){console.error(t)}}function S7(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var KI=(()=>{class n{_mediaMatcher=I(JN);_zone=I(se);_queries=new Map;_destroySubject=new he;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return XN(Uc(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let i=XN(Uc(t)).map(s=>this._registerQuery(s).observable),o=Wo(i);return o=so(o.pipe(ht(1)),o.pipe(Dl(1),W_(0))),o.pipe(de(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:u})=>{a.matches=a.matches||c,a.breakpoints[u]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let r=this._mediaMatcher.matchMedia(t),o={observable:new me(s=>{let a=c=>this._zone.run(()=>s.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(wa(r),de(({matches:s})=>({query:t,matches:s})),Qn(this._destroySubject)),mql:r};return this._queries.set(t,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function XN(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var eF=new $("liveAnnouncerElement",{providedIn:"root",factory:tF});function tF(){return null}var nF=new $("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),A7=0,YI=(()=>{class n{_ngZone=I(se);_defaultOptions=I(nF,{optional:!0});_liveElement;_document=I(Ie);_previousTimeout;_currentPromise;_currentResolve;constructor(){let t=I(eF,{optional:!0});this._liveElement=t||this._createLiveElement()}announce(t,...r){let i=this._defaultOptions,o,s;return r.length===1&&typeof r[0]=="number"?s=r[0]:[o,s]=r,this.clear(),clearTimeout(this._previousTimeout),o||(o=i&&i.politeness?i.politeness:"polite"),s==null&&i&&(s=i.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let o=0;o<r.length;o++)r[o].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id=`cdk-live-announcer-${A7++}`,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(t){let r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){let o=r[i],s=o.getAttribute("aria-owns");s?s.indexOf(t)===-1&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var QI={},Pd=(()=>{class n{_appId=I(Ul);getId(t){return this._appId!=="ng"&&(t+=this._appId),QI.hasOwnProperty(t)||(QI[t]=0),`${t}${QI[t]++}`}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Xs;function rF(){if(Xs==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Xs=!1,Xs;if("scrollBehavior"in document.documentElement.style)Xs=!0;else{let n=Element.prototype.scrollTo;n?Xs=!/\{\s*\[native code\]\s*\}/.test(n.toString()):Xs=!1}}return Xs}function ZI(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function It(n){return n==null?"":typeof n=="string"?n:`${n}px`}var dr=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(dr||{}),XI=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=dr.HIDDEN;constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i}fadeOut(){this._renderer.fadeOutRipple(this)}},iF=Bc({passive:!0,capture:!0}),JI=class{_events=new Map;addHandler(e,t,r,i){let o=this._events.get(t);if(o){let s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,iF)})}removeHandler(e,t,r){let i=this._events.get(e);if(!i)return;let o=i.get(t);o&&(o.delete(r),o.size===0&&i.delete(t),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,iF)))}_delegateEventHandler=e=>{let t=Vn(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(o=>o.handleEvent(e))})}},Rd={enterDuration:225,exitDuration:150},M7=800,oF=Bc({passive:!0,capture:!0}),sF=["mousedown","touchstart"],aF=["mouseup","mouseleave","touchend","touchcancel"],P7=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Pe({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return n})(),fv=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new JI;constructor(e,t,r,i,o){this._target=e,this._ngZone=t,this._platform=i,i.isBrowser&&(this._containerElement=pi(r)),o&&o.get(ko).load(P7)}fadeInRipple(e,t,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=L(L({},Rd),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);let s=r.radius||R7(e,t,i),a=e-i.left,c=t-i.top,u=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${c-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,r.color!=null&&(d.style.backgroundColor=r.color),d.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(d);let p=window.getComputedStyle(d),g=p.transitionProperty,_=p.transitionDuration,S=g==="none"||_==="0s"||_==="0s, 0s"||i.width===0&&i.height===0,R=new XI(this,d,r,S);d.style.transform="scale3d(1, 1, 1)",R.state=dr.FADING_IN,r.persistent||(this._mostRecentTransientRipple=R);let k=null;return!S&&(u||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let q=()=>{k&&(k.fallbackTimer=null),clearTimeout(Z),this._finishRippleTransition(R)},J=()=>this._destroyRipple(R),Z=setTimeout(J,u+100);d.addEventListener("transitionend",q),d.addEventListener("transitioncancel",J),k={onTransitionEnd:q,onTransitionCancel:J,fallbackTimer:Z}}),this._activeRipples.set(R,k),(S||!u)&&this._finishRippleTransition(R),R}fadeOutRipple(e){if(e.state===dr.FADING_OUT||e.state===dr.HIDDEN)return;let t=e.element,r=L(L({},Rd),e.config.animation);t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=dr.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=pi(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,sF.forEach(r=>{n._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{aF.forEach(t=>{this._triggerElement.addEventListener(t,this,oF)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===dr.FADING_IN?this._startFadeOutTransition(e):e.state===dr.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=dr.VISIBLE,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=dr.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=Sd(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+M7;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Ad(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===dr.VISIBLE||e.config.terminateOnPointerUp&&e.state===dr.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(sF.forEach(t=>n._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(aF.forEach(t=>e.removeEventListener(t,this,oF)),this._pointerUpEventsRegistered=!1))}};function R7(n,e,t){let r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}var cF=new $("mat-ripple-global-options");var O7={capture:!0},k7=["focus","mousedown","mouseenter","touchstart"],eD="mat-ripple-loader-uninitialized",tD="mat-ripple-loader-class-name",lF="mat-ripple-loader-centered",pv="mat-ripple-loader-disabled",uF=(()=>{class n{_document=I(Ie);_animationMode=I(Pi,{optional:!0});_globalRippleOptions=I(cF,{optional:!0});_platform=I(Ht);_ngZone=I(se);_injector=I(Fe);_eventCleanups;_hosts=new Map;constructor(){let t=I(Gt).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>k7.map(r=>ur(t,this._document,r,this._onInteraction,O7)))}ngOnDestroy(){let t=this._hosts.keys();for(let r of t)this.destroyRipple(r);this._eventCleanups.forEach(r=>r())}configureRipple(t,r){t.setAttribute(eD,this._globalRippleOptions?.namespace??""),(r.className||!t.hasAttribute(tD))&&t.setAttribute(tD,r.className||""),r.centered&&t.setAttribute(lF,""),r.disabled&&t.setAttribute(pv,"")}setDisabled(t,r){let i=this._hosts.get(t);i?(i.target.rippleDisabled=r,!r&&!i.hasSetUpEvents&&(i.hasSetUpEvents=!0,i.renderer.setupTriggerEvents(t))):r?t.setAttribute(pv,""):t.removeAttribute(pv)}_onInteraction=t=>{let r=Vn(t);if(r instanceof HTMLElement){let i=r.closest(`[${eD}="${this._globalRippleOptions?.namespace??""}"]`);i&&this._createRipple(i)}};_createRipple(t){if(!this._document||this._hosts.has(t))return;t.querySelector(".mat-ripple")?.remove();let r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(tD)),t.append(r);let i=this._animationMode==="NoopAnimations",o=this._globalRippleOptions,s=i?0:o?.animation?.enterDuration??Rd.enterDuration,a=i?0:o?.animation?.exitDuration??Rd.exitDuration,c={rippleDisabled:i||o?.disabled||t.hasAttribute(pv),rippleConfig:{centered:t.hasAttribute(lF),terminateOnPointerUp:o?.terminateOnPointerUp,animation:{enterDuration:s,exitDuration:a}}},u=new fv(c,this._ngZone,r,this._platform,this._injector),d=!c.rippleDisabled;d&&u.setupTriggerEvents(t),this._hosts.set(t,{target:c,renderer:u,hasSetUpEvents:d}),t.removeAttribute(eD)}destroyRipple(t){let r=this._hosts.get(t);r&&(r.renderer._removeTriggerEvents(),this._hosts.delete(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var dF=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Pe({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(r,i){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return n})();var N7=new $("MAT_BUTTON_CONFIG");var F7=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],hF=(()=>{class n{_elementRef=I(Je);_ngZone=I(se);_animationMode=I(Pi,{optional:!0});_focusMonitor=I(GI);_rippleLoader=I(uF);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){I(ko).load(dF);let t=I(N7,{optional:!0}),r=this._elementRef.nativeElement,i=r.classList;this.disabledInteractive=t?.disabledInteractive??!1,this.color=t?.color??null,this._rippleLoader?.configureRipple(r,{className:"mat-mdc-button-ripple"});for(let{attribute:o,mdcClasses:s}of F7)r.hasAttribute(o)&&i.add(...s)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=fe({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Zt],disabled:[2,"disabled","disabled",Zt],ariaDisabled:[2,"aria-disabled","ariaDisabled",Zt],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Zt]}})}return n})();var L7=new $("cdk-dir-doc",{providedIn:"root",factory:V7});function V7(){return I(Ie)}var j7=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function B7(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?j7.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var fF=(()=>{class n{value="ltr";change=new Ze;constructor(){let t=I(L7,{optional:!0});if(t){let r=t.body?t.body.dir:null,i=t.documentElement?t.documentElement.dir:null;this.value=B7(r||i||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var U7=["mat-button",""],$7=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],H7=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var pF=(()=>{class n extends hF{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ct(n)))(i||n)}})();static \u0275cmp=Pe({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,i){r&2&&(tr("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled()),e0(i.color?"mat-"+i.color:""),Ke("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable",i._animationMode==="NoopAnimations")("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[qe],attrs:U7,ngContentSelectors:H7,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(Xf($7),ne(0,"span",0),Ba(1),v(2,"span",1),Ba(3,1),m(),Ba(4,2),ne(5,"span",2)(6,"span",3)),r&2&&Ke("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();var $c=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Js=class extends $c{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(e,t,r,i,o){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.projectableNodes=o}},ea=class extends $c{templateRef;viewContainerRef;context;injector;constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},mv=class extends $c{element;constructor(e){super(),this.element=e instanceof Je?e.nativeElement:e}},ta=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Js)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof ea)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof mv)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Od=class extends ta{outletElement;_appRef;_defaultInjector;_document;constructor(e,t,r,i,o){super(),this.outletElement=e,this._appRef=r,this._defaultInjector=i,this._document=o}attachComponentPortal(e){let t;if(e.viewContainerRef){let r=e.injector||e.viewContainerRef.injector,i=r.get(Ii,null,{optional:!0})||void 0;t=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:r,ngModuleRef:i,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{let r=this._appRef,i=e.injector||this._defaultInjector||Fe.NULL,o=i.get(at,r.injector);t=tp(e.component,{elementInjector:i,environmentInjector:o,projectableNodes:e.projectableNodes||void 0}),r.attachView(t.hostView),this.setDisposeFn(()=>{r.viewCount>0&&r.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);i!==-1&&t.remove(i)}),this._attachedPortal=e,r}attachDomPortal=e=>{let t=e.element;t.parentNode;let r=this._document.createComment("dom-portal");t.parentNode.insertBefore(r,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(t,r)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var gv=(()=>{class n extends ta{_moduleRef=I(Ii,{optional:!0});_document=I(Ie);_viewContainerRef=I(er);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}attached=new Ze;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let r=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,i=r.createComponent(t.component,{index:r.length,injector:t.injector||r.injector,projectableNodes:t.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return r!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachDomPortal=t=>{let r=t.element;r.parentNode;let i=this._document.createComment("dom-portal");t.setAttachedHost(this),r.parentNode.insertBefore(i,r),this._getRootNode().appendChild(r),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(r,i)})};_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static \u0275fac=function(r){return new(r||n)};static \u0275dir=fe({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[qe]})}return n})();var gF={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var z7=20,vF=(()=>{class n{_ngZone=I(se);_platform=I(Ht);_renderer=I(Gt).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new he;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=z7){return this._platform.isBrowser?new me(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=t>0?this._scrolled.pipe(Gh(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):X()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){let i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(dt(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){let r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_scrollableContainsElement(t,r){let i=pi(r),o=t.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var q7=20,nD=(()=>{class n{_platform=I(Ht);_listeners;_viewportSize;_change=new he;_document=I(Ie,{optional:!0});constructor(){let t=I(se),r=I(Gt).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect(),s=-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,a=-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:s,left:a}}change(t=q7){return t>0?this._change.pipe(Gh(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _F=rF(),vv=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,t){this._viewportRuler=e,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=It(-this._previousScrollPosition.left),e.style.top=It(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,r=e.style,i=t.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),_F&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),_F&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.documentElement,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}};var _v=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(dt(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},kd=class{enable(){}disable(){}attach(){}};function rD(n,e){return e.some(t=>{let r=n.bottom<t.top,i=n.top>t.bottom,o=n.right<t.left,s=n.left>t.right;return r||i||o||s})}function yF(n,e){return e.some(t=>{let r=n.top<t.top,i=n.bottom>t.bottom,o=n.left<t.left,s=n.right>t.right;return r||i||o||s})}var yv=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();rD(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},DF=(()=>{class n{_scrollDispatcher=I(vF);_viewportRuler=I(nD);_ngZone=I(se);_document=I(Ie);constructor(){}noop=()=>new kd;close=t=>new _v(this._scrollDispatcher,this._ngZone,this._viewportRuler,t);block=()=>new vv(this._viewportRuler,this._document);reposition=t=>new yv(this._scrollDispatcher,this._viewportRuler,this._ngZone,t);static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hc=class{positionStrategy;scrollStrategy=new kd;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(e){if(e){let t=Object.keys(e);for(let r of t)e[r]!==void 0&&(this[r]=e[r])}}};var bv=class{connectionPair;scrollableViewProperties;constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var TF=(()=>{class n{_attachedOverlays=[];_document=I(Ie);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),SF=(()=>{class n extends TF{_ngZone=I(se);_renderer=I(Gt).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=t=>{let r=this._attachedOverlays;for(let i=r.length-1;i>-1;i--)if(r[i]._keydownEvents.observers.length>0){this._ngZone.run(()=>r[i]._keydownEvents.next(t));break}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ct(n)))(i||n)}})();static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),AF=(()=>{class n extends TF{_platform=I(Ht);_ngZone=I(se);_renderer=I(Gt).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(t){if(super.add(t),!this._isAttached){let r=this._document.body,i={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[ur(this._renderer,r,"pointerdown",this._pointerDownListener,i),ur(this._renderer,r,"click",this._clickListener,i),ur(this._renderer,r,"auxclick",this._clickListener,i),ur(this._renderer,r,"contextmenu",this._clickListener,i)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=t=>{this._pointerDownEventTarget=Vn(t)};_clickListener=t=>{let r=Vn(t),i=t.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:r;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(bF(a.overlayElement,r)||bF(a.overlayElement,i))break;let c=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>c.next(t)):c.next(t)}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ct(n)))(i||n)}})();static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bF(n,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,r=e;for(;r;){if(r===n)return!0;r=t&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}var xF=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Pe({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return n})(),MF=(()=>{class n{_platform=I(Ht);_containerElement;_document=I(Ie);_styleLoader=I(ko);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||ZI()){let i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}let r=this._document.createElement("div");r.classList.add(t),ZI()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}_loadStyles(){this._styleLoader.load(xF)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),iD=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,t,r,i){this._renderer=t,this._ngZone=r,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",i)}detach(){this._ngZone.runOutsideAngular(()=>{let e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},wv=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new he;_attachments=new he;_detachments=new he;_positionStrategy;_scrollStrategy;_locationChanges=et.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new he;_outsidePointerEvents=new he;_renders=new he;_afterRenderRef;_afterNextRenderRef;constructor(e,t,r,i,o,s,a,c,u,d=!1,p,g){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=u,this._animationsDisabled=d,this._injector=p,this._renderer=g,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy,this._afterRenderRef=bn(()=>Hl(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=fs(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=L(L({},this._config),e),this._updateElementSize()}setDirection(e){this._config=ee(L({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=It(this._config.width),e.height=It(this._config.height),e.minWidth=It(this._config.minWidth),e.minHeight=It(this._config.minHeight),e.maxWidth=It(this._config.maxWidth),e.maxHeight=It(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new iD(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,t,r){let i=Uc(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(Qn(q_(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e?.disable(),e?.detach?.()}},wF="cdk-overlay-connected-position-bounding-box",W7=/([A-Za-z%]+)$/,Ev=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new he;_resizeSubscription=et.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(wF),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[],s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,i,a),u=this._getOverlayPoint(c,t,a),d=this._getOverlayFit(u,t,r,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(d,u,r)){o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:u,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(let u of o){let d=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);d>c&&(c=d,a=u)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&na(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(wF),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i;if(r.originX=="center")i=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i=r.originX=="start"?s:a}t.left<0&&(i-=t.left);let o;return r.originY=="center"?o=e.top+e.height/2:o=r.originY=="top"?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i;r.overlayX=="center"?i=-t.width/2:r.overlayX==="start"?i=this._isRtl()?-t.width:0:i=this._isRtl()?0:-t.width;let o;return r.overlayY=="center"?o=-t.height/2:o=r.overlayY=="top"?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){let o=CF(t),{x:s,y:a}=e,c=this._getOffset(i,"x"),u=this._getOffset(i,"y");c&&(s+=c),u&&(a+=u);let d=0-s,p=s+o.width-r.width,g=0-a,_=a+o.height-r.height,S=this._subtractOverflows(o.width,d,p),R=this._subtractOverflows(o.height,g,_),k=S*R;return{visibleArea:k,isCompletelyWithinViewport:o.width*o.height===k,fitsInViewportVertically:R===o.height,fitsInViewportHorizontally:S==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){let i=r.bottom-t.y,o=r.right-t.x,s=EF(this._overlayRef.getConfig().minHeight),a=EF(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportVertically||s!=null&&s<=i,u=e.fitsInViewportHorizontally||a!=null&&a<=o;return c&&u}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let i=CF(t),o=this._viewportRect,s=Math.max(e.x+i.width-o.width,0),a=Math.max(e.y+i.height-o.height,0),c=Math.max(o.top-r.top-e.y,0),u=Math.max(o.left-r.left-e.x,0),d=0,p=0;return i.width<=o.width?d=u||-s:d=e.x<this._viewportMargin?o.left-r.left-e.x:0,i.height<=o.height?p=c||-a:p=e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:d,y:p},{x:e.x+d,y:e.y+p}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!G7(this._lastScrollVisibility,r)){let i=new bv(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=e.overlayY;e.overlayX==="center"?r="center":this._isRtl()?r=e.overlayX==="start"?"right":"left":r=e.overlayX==="start"?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){let r=this._viewportRect,i=this._isRtl(),o,s,a;if(t.overlayY==="top")s=e.y,o=r.height-s+this._viewportMargin;else if(t.overlayY==="bottom")a=r.height-e.y+this._viewportMargin*2,o=r.height-a+this._viewportMargin;else{let _=Math.min(r.bottom-e.y+r.top,e.y),S=this._lastBoundingBoxSize.height;o=_*2,s=e.y-_,o>S&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-S/2)}let c=t.overlayX==="start"&&!i||t.overlayX==="end"&&i,u=t.overlayX==="end"&&!i||t.overlayX==="start"&&i,d,p,g;if(u)g=r.width-e.x+this._viewportMargin*2,d=e.x-this._viewportMargin;else if(c)p=e.x,d=r.right-e.x;else{let _=Math.min(r.right-e.x+r.left,e.x),S=this._lastBoundingBoxSize.width;d=_*2,p=e.x-_,d>S&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-S/2)}return{top:s,left:p,bottom:a,right:g,width:d,height:o}}_setBoundingBoxStyles(e,t){let r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=It(r.height),i.top=It(r.top),i.bottom=It(r.bottom),i.width=It(r.width),i.left=It(r.left),i.right=It(r.right),t.overlayX==="center"?i.alignItems="center":i.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?i.justifyContent="center":i.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",o&&(i.maxHeight=It(o)),s&&(i.maxWidth=It(s))}this._lastBoundingBoxSize=r,na(this._boundingBox.style,i)}_resetBoundingBoxStyles(){na(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){na(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){let d=this._viewportRuler.getViewportScrollPosition();na(r,this._getExactOverlayY(t,e,d)),na(r,this._getExactOverlayX(t,e,d))}else r.position="static";let a="",c=this._getOffset(t,"x"),u=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),u&&(a+=`translateY(${u}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=It(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=It(s.maxWidth):o&&(r.maxWidth="")),na(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;i.bottom=`${s-(o.y+this._overlayRect.height)}px`}else i.top=It(o.y);return i}_getExactOverlayX(e,t,r){let i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;i.right=`${a-(o.x+this._overlayRect.width)}px`}else i.left=It(o.x);return i}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:yF(e,r),isOriginOutsideView:rD(e,r),isOverlayClipped:yF(t,r),isOverlayOutsideView:rD(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Uc(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Je)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}};function na(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function EF(n){if(typeof n!="number"&&n!=null){let[e,t]=n.split(W7);return!t||t==="px"?parseFloat(e):null}return n||null}function CF(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function G7(n,e){return n===e?!0:n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}var IF="cdk-global-overlay-wrapper",Cv=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(IF),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,c=(i==="100%"||i==="100vw")&&(!s||s==="100%"||s==="100vw"),u=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,p=this._xOffset,g=this._overlayRef.getConfig().direction==="rtl",_="",S="",R="";c?R="flex-start":d==="center"?(R="center",g?S=p:_=p):g?d==="left"||d==="end"?(R="flex-end",_=p):(d==="right"||d==="start")&&(R="flex-start",S=p):d==="left"||d==="start"?(R="flex-start",_=p):(d==="right"||d==="end")&&(R="flex-end",S=p),e.position=this._cssPosition,e.marginLeft=c?"0":_,e.marginTop=u?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":S,t.justifyContent=R,t.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(IF),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},PF=(()=>{class n{_viewportRuler=I(nD);_document=I(Ie);_platform=I(Ht);_overlayContainer=I(MF);constructor(){}global(){return new Cv}flexibleConnectedTo(t){return new Ev(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oD=(()=>{class n{scrollStrategies=I(DF);_overlayContainer=I(MF);_positionBuilder=I(PF);_keyboardDispatcher=I(SF);_injector=I(Fe);_ngZone=I(se);_document=I(Ie);_directionality=I(fF);_location=I(Ur);_outsideClickDispatcher=I(AF);_animationsModuleType=I(Pi,{optional:!0});_idGenerator=I(Pd);_renderer=I(Gt).createRenderer(null,null);_appRef;_styleLoader=I(ko);constructor(){}create(t){this._styleLoader.load(xF);let r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),s=new Hc(t);return s.direction=s.direction||this._directionality.value,new wv(o,r,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(at),this._renderer)}position(){return this._positionBuilder}_createPaneElement(t){let r=this._document.createElement("div");return r.id=this._idGenerator.getId("cdk-overlay-"),r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){let t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(yr)),new Od(t,null,this._appRef,this._injector,this._document)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Y7(n,e){if(n&1){let t=je();v(0,"div",1)(1,"button",2),G("click",function(){ae(t);let i=H();return ce(i.action())}),b(2),m()()}if(n&2){let t=H();E(2),oe(" ",t.data.action," ")}}var Q7=["label"];function Z7(n,e){}var X7=Math.pow(2,31)-1,Nd=class{_overlayRef;instance;containerInstance;_afterDismissed=new he;_afterOpened=new he;_onAction=new he;_durationTimeoutId;_dismissedByAction=!1;constructor(e,t){this._overlayRef=t,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,X7))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},RF=new $("MatSnackBarData"),zc=class{politeness="assertive";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},J7=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=fe({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return n})(),eK=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=fe({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return n})(),tK=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=fe({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return n})(),nK=(()=>{class n{snackBarRef=I(Nd);data=I(RF);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Pe({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(r,i){r&1&&(v(0,"div",0),b(1),m(),W(2,Y7,3,1,"div",1)),r&2&&(E(),oe(" ",i.data.message,`
`),E(),EM(i.hasAction?2:-1))},dependencies:[pF,J7,eK,tK],styles:[`.mat-mdc-simple-snack-bar{display:flex}
`],encapsulation:2,changeDetection:0})}return n})(),sD="_mat-snack-bar-enter",aD="_mat-snack-bar-exit",rK=(()=>{class n extends ta{_ngZone=I(se);_elementRef=I(Je);_changeDetectorRef=I(wr);_platform=I(Ht);_rendersRef;_animationsDisabled=I(Pi,{optional:!0})==="NoopAnimations";snackBarConfig=I(zc);_document=I(Ie);_trackedModals=new Set;_enterFallback;_exitFallback;_renders=new he;_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new he;_onExit=new he;_onEnter=new he;_animationState="void";_live;_label;_role;_liveElementId=I(Pd).getId("mat-snack-bar-container-live-");constructor(){super();let t=this.snackBarConfig;t.politeness==="assertive"&&!t.announcementMessage?this._live="assertive":t.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert")),this._rendersRef=Hl(()=>this._renders.next(),{manualCleanup:!0})}attachComponentPortal(t){this._assertNotAttached();let r=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),r}attachTemplatePortal(t){this._assertNotAttached();let r=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),r}attachDomPortal=t=>{this._assertNotAttached();let r=this._portalOutlet.attachDomPortal(t);return this._afterPortalAttached(),r};onAnimationEnd(t){t===aD?this._completeExit():t===sD&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?this._renders.pipe(ht(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(sD)))}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(sD)},200)))}exit(){return this._destroyed?X(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?this._renders.pipe(ht(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(aD)))}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(aD),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit(),this._renders.complete(),this._rendersRef.destroy()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let t=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(s=>t.classList.add(s)):t.classList.add(r)),this._exposeToModals();let i=this._label.nativeElement,o="mdc-snackbar__label";i.classList.toggle(o,!i.querySelector(`.${o}`))}_exposeToModals(){let t=this._liveElementId,r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){let o=r[i],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?s.indexOf(t)===-1&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{let r=t.getAttribute("aria-owns");if(r){let i=r.replace(this._liveElementId,"").trim();i.length>0?t.setAttribute("aria-owns",i):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let t=this._elementRef.nativeElement,r=t.querySelector("[aria-hidden]"),i=t.querySelector("[aria-live]");if(r&&i){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&r.contains(document.activeElement)&&(o=document.activeElement),r.removeAttribute("aria-hidden"),i.appendChild(r),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Pe({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(r,i){if(r&1&&(Jf(gv,7),Jf(Q7,7)),r&2){let o;Gl(o=Kl())&&(i._portalOutlet=o.first),Gl(o=Kl())&&(i._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(r,i){r&1&&G("animationend",function(s){return i.onAnimationEnd(s.animationName)})("animationcancel",function(s){return i.onAnimationEnd(s.animationName)}),r&2&&Ke("mat-snack-bar-container-enter",i._animationState==="visible")("mat-snack-bar-container-exit",i._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!i._animationsDisabled)},features:[qe],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(r,i){r&1&&(v(0,"div",1)(1,"div",2,0)(3,"div",3),W(4,Z7,0,0,"ng-template",4),m(),ne(5,"div"),m()()),r&2&&(E(5),tr("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[gv],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return n})();function iK(){return new zc}var oK=new $("mat-snack-bar-default-options",{providedIn:"root",factory:iK}),OF=(()=>{class n{_overlay=I(oD);_live=I(YI);_injector=I(Fe);_breakpointObserver=I(KI);_parentSnackBar=I(n,{optional:!0,skipSelf:!0});_defaultConfig=I(oK);_snackBarRefAtThisLevel=null;simpleSnackBarComponent=nK;snackBarContainerComponent=rK;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(){}openFromComponent(t,r){return this._attach(t,r)}openFromTemplate(t,r){return this._attach(t,r)}open(t,r="",i){let o=L(L({},this._defaultConfig),i);return o.data={message:t,action:r},o.announcementMessage===t&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,r){let i=r&&r.viewContainerRef&&r.viewContainerRef.injector,o=Fe.create({parent:i||this._injector,providers:[{provide:zc,useValue:r}]}),s=new Js(this.snackBarContainerComponent,r.viewContainerRef,o),a=t.attach(s);return a.instance.snackBarConfig=r,a.instance}_attach(t,r){let i=L(L(L({},new zc),this._defaultConfig),r),o=this._createOverlay(i),s=this._attachSnackBarContainer(o,i),a=new Nd(s,o);if(t instanceof Jn){let c=new ea(t,null,{$implicit:i.data,snackBarRef:a});a.instance=s.attachTemplatePortal(c)}else{let c=this._createInjector(i,a),u=new Js(t,void 0,c),d=s.attachComponentPortal(u);a.instance=d.instance}return this._breakpointObserver.observe(gF.HandsetPortrait).pipe(Qn(o.detachments())).subscribe(c=>{o.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),i.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(a,i),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(t,r){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),r.duration&&r.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(r.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter()}_createOverlay(t){let r=new Hc;r.direction=t.direction;let i=this._overlay.position().global(),o=t.direction==="rtl",s=t.horizontalPosition==="left"||t.horizontalPosition==="start"&&!o||t.horizontalPosition==="end"&&o,a=!s&&t.horizontalPosition!=="center";return s?i.left("0"):a?i.right("0"):i.centerHorizontally(),t.verticalPosition==="top"?i.top("0"):i.bottom("0"),r.positionStrategy=i,this._overlay.create(r)}_createInjector(t,r){let i=t&&t.viewContainerRef&&t.viewContainerRef.injector;return Fe.create({parent:i||this._injector,providers:[{provide:Nd,useValue:r},{provide:RF,useValue:t.data}]})}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function aK(n,e){if(n&1&&(v(0,"div",11),b(1),m()),n&2){let t=H();E(),te(t.successMessage)}}function cK(n,e){if(n&1&&(v(0,"div",12),b(1),m()),n&2){let t=H();E(),te(t.errorMessage)}}function lK(n,e){n&1&&(v(0,"small"),b(1,"El correo es obligatorio."),m())}function uK(n,e){n&1&&(v(0,"small"),b(1,"Correo no v\xE1lido."),m())}function dK(n,e){if(n&1&&(v(0,"div",13),W(1,lK,2,0,"small",14)(2,uK,2,0,"small",14),m()),n&2){H();let t=Ua(11);E(),F("ngIf",t.errors==null?null:t.errors.required),E(),F("ngIf",t.errors==null?null:t.errors.email)}}var Iv=class n{constructor(e,t){this.authService=e;this.snackBar=t}email="";isLoading=!1;successMessage="";errorMessage="";onSubmit(){this.successMessage="",this.errorMessage="",this.isLoading=!0,this.authService.sendPasswordResetEmail(this.email).then(()=>{this.successMessage="Correo de recuperaci\xF3n enviado. Revisa tu bandeja de entrada.",this.email=""}).catch(e=>{e.code==="auth/invalid-email"?this.errorMessage="El correo ingresado no es v\xE1lido.":e.code==="auth/user-not-found"?this.errorMessage="No hay usuario registrado con ese correo.":this.errorMessage="Ocurri\xF3 un error. Intenta de nuevo."}).finally(()=>{this.isLoading=!1})}static \u0275fac=function(t){return new(t||n)(j(Be),j(OF))};static \u0275cmp=Pe({type:n,selectors:[["app-forgot-password"]],decls:15,vars:6,consts:[["form","ngForm"],["emailInput","ngModel"],[1,"forgot-password-container"],["class","alert alert-success",4,"ngIf"],["class","alert alert-error",4,"ngIf"],["novalidate","",3,"ngSubmit"],[1,"form-group"],["for","email"],["id","email","type","email","name","email","required","","email","","placeholder","ejemplo@gmail.com",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["type","submit",3,"disabled"],[1,"alert","alert-success"],[1,"alert","alert-error"],[1,"error"],[4,"ngIf"]],template:function(t,r){if(t&1){let i=je();v(0,"div",2)(1,"h2"),b(2,"Recuperar Contrase\xF1a"),m(),W(3,aK,2,1,"div",3)(4,cK,2,1,"div",4),v(5,"form",5,0),G("ngSubmit",function(){return ae(i),ce(r.onSubmit())}),v(7,"div",6)(8,"label",7),b(9,"Correo Electr\xF3nico"),m(),v(10,"input",8,1),mt("ngModelChange",function(s){return ae(i),yt(r.email,s)||(r.email=s),ce(s)}),m(),W(12,dK,3,2,"div",9),m(),v(13,"button",10),b(14),m()()()}if(t&2){let i=Ua(6),o=Ua(11);E(3),F("ngIf",r.successMessage),E(),F("ngIf",r.errorMessage),E(6),pt("ngModel",r.email),E(2),F("ngIf",o.invalid&&o.touched),E(),F("disabled",i.invalid||r.isLoading),E(),oe(" ",r.isLoading?"Enviando...":"Enviar enlace"," ")}},dependencies:[kn,Qr,jt,un,Yr,Rs,Ew,qn,Ps,lt,gt],styles:["body[_ngcontent-%COMP%]{background:#f0fdf4;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.forgot-password-container[_ngcontent-%COMP%]{max-width:400px;margin:4rem auto;padding:2rem;background-color:#fff;border-radius:12px;box-shadow:0 4px 12px #0000001a;text-align:center}h2[_ngcontent-%COMP%]{color:#2f855a;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]{text-align:left}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#2d3748;font-weight:600}input[type=email][_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #cbd5e0;border-radius:8px;font-size:1rem;outline:none;transition:border .3s}input[type=email][_ngcontent-%COMP%]:focus{border-color:#38a169}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:.75rem;margin-top:1rem;background-color:#38a169;color:#fff;border:none;border-radius:8px;font-size:1rem;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2f855a}button[disabled][_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}.back-to-login[_ngcontent-%COMP%]{margin-top:1rem}.back-to-login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#2b6cb0;text-decoration:none}.back-to-login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.alert[_ngcontent-%COMP%]{padding:1rem;border-radius:6px;margin-bottom:1rem;font-weight:500}.alert-success[_ngcontent-%COMP%]{background-color:#f0fff4;border:1px solid #38a169;color:#276749}.alert-error[_ngcontent-%COMP%]{background-color:#fff5f5;border:1px solid #e53e3e;color:#c53030}"]})};var kF=[{path:"dashboard",component:Jg},{path:"project/:id",component:av},{path:"admin",component:tv,canActivate:[Oo,ov]},{path:"user-profile",component:rv,canActivate:[Oo]},{path:"login",component:Xg},{path:"register",component:sv},{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"project-creation",component:cv,canActivate:[Oo,iv]},{path:"project-analytics/:id",component:lv,canActivate:[Oo]},{path:"project-edit/:id",component:uv,canActivate:[Oo]},{path:"forgot-password",component:Iv},{path:"**",redirectTo:"/dashboard"}];var NF=(n,e)=>{let t=I(Be),r=I(Ae),i=t.getToken();return i&&(n=n.clone({setHeaders:{Authorization:`Bearer ${i}`}})),e(n).pipe(ot(o=>(o.status===401&&(t.logout(),r.navigate(["/login"])),Dn(()=>o))))};function cD(n){n===void 0&&(Ff(cD),n=I(Fe));let e=n.get(zf);return t=>new me(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Wc=new cs("ANGULARFIRE2_VERSION");function lD(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Tv=(n,e)=>{let t=e?[e]:xm(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},qc=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(qc||{}),FF=s0()&&typeof Zone<"u"?qc.WARN:qc.SILENT;var Dv=class{zone;delegate;constructor(e,t=U_){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Gc=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=I(se);this.outsideAngular=t.runOutsideAngular(()=>new Dv(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Dv(typeof Zone>"u"?void 0:Zone.current,no))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),LF=!1;function hK(n,e){!LF&&(FF>qc.SILENT||s0())&&(LF=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),FF>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function fK(n){let e=I(se,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function ra(n){let e=I(se,{optional:!0});return e?e.run(()=>n()):n()}var pK=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Lt(t,()=>ra(()=>n.apply(void 0,r)))),Fd=(n,e,t)=>(t||=e?qc.WARN:qc.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=I(Gc),s=I(zf),a=I(at)}catch{return hK(n,t),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=ra(()=>s.add())),i[u]=pK(i[u],r,a));let c=fK(()=>n.apply(this,i));return e?c instanceof me?c.pipe(io(o.outsideAngular),ro(o.insideAngular),cD(a)):c instanceof Promise?ra(()=>new Promise((u,d)=>{s.run(()=>c).then(p=>Lt(a,()=>ra(()=>u(p))),p=>Lt(a,()=>ra(()=>d(p))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:ra(()=>c):c instanceof me?c.pipe(io(o.outsideAngular),ro(o.insideAngular)):ra(()=>c)});var ia=class{constructor(e){return e}},Ld=class{constructor(){return xm()}};function mK(n){return n&&n.length===1?n[0]:new ia(Fs())}var uD=new $("angularfire2._apps"),gK={provide:ia,useFactory:mK,deps:[[new Di,uD]]},vK={provide:Ld,deps:[[new Di,uD]]};function _K(n){return(e,t)=>{let r=t.get(Br);At("angularfire",Wc.full,"core"),At("angularfire",Wc.full,"app"),At("angular",Yl.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new ia(i)}}function VF(n,...e){return Ti([gK,vK,{provide:uD,useFactory:_K(n),multi:!0,deps:[se,Fe,Gc,...e]}])}var jF=Fd(Ku,!0);var yK=new Map,bK={activated:!1,tokenObservers:[]},wK={initialized:!1,enabled:!1};function xr(n){return yK.get(n)||Object.assign({},bK)}function HF(){return wK}var EK="https://content-firebaseappcheck.googleapis.com/v1";var CK="exchangeDebugToken",BF={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Lpe=24*60*60*1e3;var fD=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return w(this,null,function*(){this.stop();try{this.pending=new Os,this.pending.promise.catch(t=>{}),yield IK(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Os,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function IK(n){return new Promise(e=>{setTimeout(e,n)})}var DK={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},No=new Dr("appCheck","AppCheck",DK);function zF(n){if(!xr(n).activated)throw No.create("use-before-activation",{appName:n.name})}function qF(r,i){return w(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let _=yield s.getHeartbeatsHeader();_&&(o["X-Firebase-Client"]=_)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(_){throw No.create("fetch-network-error",{originalErrorMessage:_?.message})}if(c.status!==200)throw No.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(_){throw No.create("fetch-parse-error",{originalErrorMessage:_?.message})}let d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw No.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let p=Number(d[1])*1e3,g=Date.now();return{token:u.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function WF(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${EK}/projects/${t}/apps/${r}:${CK}?key=${i}`,body:{debug_token:e}}}var TK="firebase-app-check-database",SK=1,pD="firebase-app-check-store";var Sv=null;function AK(){return Sv||(Sv=new Promise((n,e)=>{try{let t=indexedDB.open(TK,SK);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(No.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(pD,{keyPath:"compositeKey"})}}}catch(t){e(No.create("storage-open",{originalErrorMessage:t?.message}))}}),Sv)}function xK(n,e){return MK(PK(n),e)}function MK(n,e){return w(this,null,function*(){let r=(yield AK()).transaction(pD,"readwrite"),o=r.objectStore(pD).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(No.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function PK(n){return`${n.options.appId}-${n.name}`}var Vd=new Jr("@firebase/app-check");function dD(n,e){return zu()?xK(n,e).catch(t=>{Vd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function GF(){return HF().enabled}function KF(){return w(this,null,function*(){let n=HF();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var RK={error:"UNKNOWN_ERROR"};function OK(n){return Em.encodeString(JSON.stringify(n),!1)}function mD(n,e=!1,t=!1){return w(this,null,function*(){let r=n.app;zF(r);let i=xr(r),o=i.token,s;if(o&&!jd(o)&&(i.token=void 0,o=void 0),!o){let u=yield i.cachedTokenPromise;u&&(jd(u)?o=u:yield dD(r,void 0))}if(!e&&o&&jd(o))return{token:o.token};let a=!1;if(GF())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=qF(WF(r,yield KF()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield dD(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Vd.warn(u.message):t&&Vd.error(u),hD(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield xr(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Vd.warn(u.message):t&&Vd.error(u),s=u}let c;return o?s?jd(o)?c={token:o.token,internalError:s}:c=hD(s):(c={token:o.token},i.token=o,yield dD(r,o)):c=hD(s),a&&LK(r,c),c})}function kK(n){return w(this,null,function*(){let e=n.app;zF(e);let{provider:t}=xr(e);if(GF()){let r=yield KF(),{token:i}=yield qF(WF(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function NK(n,e,t,r){let{app:i}=n,o=xr(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&jd(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),UF(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>UF(n))}function YF(n,e){let t=xr(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function UF(n){let{app:e}=n,t=xr(e),r=t.tokenRefresher;r||(r=FK(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function FK(n){let{app:e}=n;return new fD(()=>w(null,null,function*(){let t=xr(e),r;if(t.token?r=yield mD(n,!0):r=yield mD(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=xr(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},BF.RETRIAL_MIN_WAIT,BF.RETRIAL_MAX_WAIT)}function LK(n,e){let t=xr(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function jd(n){return n.expireTimeMillis-Date.now()>0}function hD(n){return{token:OK(RK),error:n}}var gD=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=xr(this.app);for(let t of e)YF(this.app,t.next);return Promise.resolve()}};function VK(n,e){return new gD(n,e)}function jK(n){return{getToken:e=>mD(n,e),getLimitedUseToken:()=>kK(n),addTokenListener:e=>NK(n,"INTERNAL",e),removeTokenListener:e=>YF(n.app,e)}}var BK="@firebase/app-check",UK="0.10.0";var $K="app-check",$F="app-check-internal";function HK(){Tr(new En($K,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return VK(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider($F).initialize()})),Tr(new En($F,n=>{let e=n.getProvider("app-check").getImmediate();return jK(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),At(BK,UK)}HK();var zK="app-check";var Av=class{constructor(){return Tv(zK)}};var qK=["localhost","0.0.0.0","127.0.0.1"],Qpe=typeof window<"u"&&qK.includes(window.location.hostname);var QF="auth",Bd=class{constructor(e){return e}},vD=class{constructor(){return Tv(QF)}};var _D=new $("angularfire2.auth-instances");function WK(n,e){let t=lD(QF,n,e);return t&&new Bd(t)}function GK(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Bd(r)}}var KK={provide:vD,deps:[[new Di,_D]]},YK={provide:Bd,useFactory:WK,deps:[[new Di,_D],ia]};function ZF(n,...e){return At("angularfire",Wc.full,"auth"),Ti([YK,KK,{provide:_D,useFactory:GK(n),multi:!0,deps:[se,Fe,Gc,Ld,[new Di,Av],...e]}])}var XF=Fd(ii,!0);var JF={providers:[aw(kF,rm(),lw()),R0(O0([NF])),VF(()=>jF(fi.firebaseConfig)),ZF(()=>XF())]};var xv=class n{transform(e){return e&&(e?.name||e?.email?.split("@")[0])||"Usuario"}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=ps({name:"userDisplay",type:n,pure:!0})};var Mr=Object.create(null);Mr.open="0";Mr.close="1";Mr.ping="2";Mr.pong="3";Mr.message="4";Mr.upgrade="5";Mr.noop="6";var Ud=Object.create(null);Object.keys(Mr).forEach(n=>{Ud[Mr[n]]=n});var $d={type:"error",data:"parser error"};var nL=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",rL=typeof ArrayBuffer=="function",iL=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,Hd=({type:n,data:e},t,r)=>nL&&e instanceof Blob?t?r(e):eL(e,r):rL&&(e instanceof ArrayBuffer||iL(e))?t?r(e):eL(new Blob([e]),r):r(Mr[n]+(e||"")),eL=(n,e)=>{let t=new FileReader;return t.onload=function(){let r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)};function tL(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}var yD;function oL(n,e){if(nL&&n.data instanceof Blob)return n.data.arrayBuffer().then(tL).then(e);if(rL&&(n.data instanceof ArrayBuffer||iL(n.data)))return e(tL(n.data));Hd(n,!1,t=>{yD||(yD=new TextEncoder),e(yD.encode(t))})}var sL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<sL.length;n++)zd[sL.charCodeAt(n)]=n;var aL=n=>{let e=n.length*.75,t=n.length,r,i=0,o,s,a,c;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);let u=new ArrayBuffer(e),d=new Uint8Array(u);for(r=0;r<t;r+=4)o=zd[n.charCodeAt(r)],s=zd[n.charCodeAt(r+1)],a=zd[n.charCodeAt(r+2)],c=zd[n.charCodeAt(r+3)],d[i++]=o<<2|s>>4,d[i++]=(s&15)<<4|a>>2,d[i++]=(a&3)<<6|c&63;return u};var QK=typeof ArrayBuffer=="function",qd=(n,e)=>{if(typeof n!="string")return{type:"message",data:cL(n,e)};let t=n.charAt(0);return t==="b"?{type:"message",data:ZK(n.substring(1),e)}:Ud[t]?n.length>1?{type:Ud[t],data:n.substring(1)}:{type:Ud[t]}:$d},ZK=(n,e)=>{if(QK){let t=aL(n);return cL(t,e)}else return{base64:!0,data:n}},cL=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}};var lL="",uL=(n,e)=>{let t=n.length,r=new Array(t),i=0;n.forEach((o,s)=>{Hd(o,!1,a=>{r[s]=a,++i===t&&e(r.join(lL))})})},dL=(n,e)=>{let t=n.split(lL),r=[];for(let i=0;i<t.length;i++){let o=qd(t[i],e);if(r.push(o),o.type==="error")break}return r};function hL(){return new TransformStream({transform(n,e){oL(n,t=>{let r=t.length,i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);let o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);let o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}n.data&&typeof n.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}var bD;function Mv(n){return n.reduce((e,t)=>e+t.length,0)}function Pv(n,e){if(n[0].length===e)return n.shift();let t=new Uint8Array(e),r=0;for(let i=0;i<e;i++)t[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),t}function fL(n,e){bD||(bD=new TextDecoder);let t=[],r=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(t.push(s);;){if(r===0){if(Mv(t)<1)break;let c=Pv(t,1);o=(c[0]&128)===128,i=c[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Mv(t)<2)break;let c=Pv(t,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(Mv(t)<8)break;let c=Pv(t,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){a.enqueue($d);break}i=d*Math.pow(2,32)+u.getUint32(4),r=3}else{if(Mv(t)<i)break;let c=Pv(t,i);a.enqueue(qd(o?c:bD.decode(c),e)),r=0}if(i===0||i>n){a.enqueue($d);break}}}})}var wD=4;function rt(n){if(n)return XK(n)}function XK(n){for(var e in rt.prototype)n[e]=rt.prototype[e];return n}rt.prototype.on=rt.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};rt.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};rt.prototype.off=rt.prototype.removeListener=rt.prototype.removeAllListeners=rt.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if(r=t[i],r===e||r.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+n],this};rt.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,i=t.length;r<i;++r)t[r].apply(this,e)}return this};rt.prototype.emitReserved=rt.prototype.emit;rt.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};rt.prototype.hasListeners=function(n){return!!this.listeners(n).length};var Ki=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Cn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),pL="arraybuffer";function Rv(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}var JK=Cn.setTimeout,eY=Cn.clearTimeout;function Yi(n,e){e.useNativeTimers?(n.setTimeoutFn=JK.bind(Cn),n.clearTimeoutFn=eY.bind(Cn)):(n.setTimeoutFn=Cn.setTimeout.bind(Cn),n.clearTimeoutFn=Cn.clearTimeout.bind(Cn))}var tY=1.33;function mL(n){return typeof n=="string"?nY(n):Math.ceil((n.byteLength||n.size)*tY)}function nY(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}function Ov(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function gL(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function vL(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let o=t[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}var kv=class extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}},Qi=class extends rt{constructor(e){super(),this.writable=!1,Yi(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new kv(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=qd(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let t=gL(e);return t.length?"?"+t:""}};var Wd=class extends Qi{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};dL(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,uL(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Ov()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}};var _L=!1;try{_L=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var yL=_L;function rY(){}var ED=class extends Wd{constructor(e){if(super(e),typeof location<"u"){let t=location.protocol==="https:",r=location.port;r||(r=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){let r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}},Nv=(()=>{class n extends rt{constructor(t,r,i){super(),this.createRequest=t,Yi(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var t;let r=Rv(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;let i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=n.requestsCount++,n.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=rY,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this._index],this._xhr=null}}_onLoad(){let t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return n.requestsCount=0,n.requests={},n})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",bL);else if(typeof addEventListener=="function"){let n="onpagehide"in Cn?"pagehide":"unload";addEventListener(n,bL,!1)}}function bL(){for(let n in Nv.requests)Nv.requests.hasOwnProperty(n)&&Nv.requests[n].abort()}var iY=function(){let n=wL({xdomain:!1});return n&&n.responseType!==null}(),Fo=class extends ED{constructor(e){super(e);let t=e&&e.forceBase64;this.supportsBinary=iY&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Nv(wL,this.uri(),e)}};function wL(n){let e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||yL))return new XMLHttpRequest}catch{}if(!e)try{return new Cn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var EL=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",ID=class extends Qi{get name(){return"websocket"}doOpen(){let e=this.uri(),t=this.opts.protocols,r=EL?{}:Rv(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;Hd(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}i&&Ki(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Ov()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}},CD=Cn.WebSocket||Cn.MozWebSocket,Lo=class extends ID{createSocket(e,t,r){return EL?new CD(e,t,r):t?new CD(e,t):new CD(e)}doWrite(e,t){this.ws.send(t)}};var Kc=class extends Qi{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let t=fL(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),i=hL();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();let o=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),o())}).catch(a=>{})};o();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;this._writer.write(r).then(()=>{i&&Ki(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}};var DD={websocket:Lo,webtransport:Kc,polling:Fo};var oY=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,sY=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Yc(n){if(n.length>8e3)throw"URI too long";let e=n,t=n.indexOf("["),r=n.indexOf("]");t!=-1&&r!=-1&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=oY.exec(n||""),o={},s=14;for(;s--;)o[sY[s]]=i[s]||"";return t!=-1&&r!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=aY(o,o.path),o.queryKey=cY(o,o.query),o}function aY(n,e){let t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function cY(n,e){let t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(t[i]=o)}),t}var TD=typeof addEventListener=="function"&&typeof removeEventListener=="function",Fv=[];TD&&addEventListener("offline",()=>{Fv.forEach(n=>n())},!1);var Lv=(()=>{class n extends rt{constructor(t,r){if(super(),this.binaryType=pL,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){let i=Yc(t);r.hostname=i.host,r.secure=i.protocol==="https"||i.protocol==="wss",r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=Yc(r.host).host);Yi(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{let o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=vL(this.opts.query)),TD&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Fv.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){let r=Object.assign({},this.opts.query);r.EIO=wD,r.transport=t,this.id&&(r.sid=this.id);let i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let t=this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",n.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){let o=this.writeBuffer[i].data;if(o&&(r+=mL(o)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Ki(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,i){return this._sendPacket("message",t,r,i),this}send(t,r,i){return this._sendPacket("message",t,r,i),this}_sendPacket(t,r,i,o){if(typeof r=="function"&&(o=r,r=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;let s={type:t,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){let t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}_onError(t){if(n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),TD&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let i=Fv.indexOf(this._offlineEventListener);i!==-1&&Fv.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}return n.protocol=wD,n})(),Vv=class extends Lv{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;Lv.priorWebsocketSuccess=!1;let i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",p=>{if(!r)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Lv.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{let g=new Error("probe error");g.transport=t.name,this.emitReserved("upgradeError",g)}}))};function o(){r||(r=!0,d(),t.close(),t=null)}let s=p=>{let g=new Error("probe error: "+p);g.transport=t.name,o(),this.emitReserved("upgradeError",g)};function a(){s("transport closed")}function c(){s("socket closed")}function u(p){t&&p.name!==t.name&&o()}let d=()=>{t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",a),this.off("close",c),this.off("upgrading",u)};t.once("open",i),t.once("error",s),t.once("close",a),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}},Qc=class extends Vv{constructor(e,t={}){let r=typeof e=="object"?e:t;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>DD[i]).filter(i=>!!i)),super(e,r)}};var wge=Qc.protocol;function CL(n,e="",t){let r=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),r=Yc(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(t&&t.port===r.port?"":":"+r.port),r}var RD={};mV(RD,{Decoder:()=>MD,Encoder:()=>xD,PacketType:()=>Ne,protocol:()=>AL});var uY=typeof ArrayBuffer=="function",dY=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,IL=Object.prototype.toString,hY=typeof Blob=="function"||typeof Blob<"u"&&IL.call(Blob)==="[object BlobConstructor]",fY=typeof File=="function"||typeof File<"u"&&IL.call(File)==="[object FileConstructor]";function Kd(n){return uY&&(n instanceof ArrayBuffer||dY(n))||hY&&n instanceof Blob||fY&&n instanceof File}function Gd(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(Gd(n[t]))return!0;return!1}if(Kd(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return Gd(n.toJSON(),!0);for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&Gd(n[t]))return!0;return!1}function DL(n){let e=[],t=n.data,r=n;return r.data=SD(t,e),r.attachments=e.length,{packet:r,buffers:e}}function SD(n,e){if(!n)return n;if(Kd(n)){let t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){let t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=SD(n[r],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){let t={};for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=SD(n[r],e));return t}return n}function TL(n,e){return n.data=AD(n.data,e),delete n.attachments,n}function AD(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=AD(n[t],e);else if(typeof n=="object")for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=AD(n[t],e));return n}var pY=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],AL=5,Ne=function(n){return n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",n}(Ne||{}),xD=class{constructor(e){this.replacer=e}encode(e){return(e.type===Ne.EVENT||e.type===Ne.ACK)&&Gd(e)?this.encodeAsBinary({type:e.type===Ne.EVENT?Ne.BINARY_EVENT:Ne.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===Ne.BINARY_EVENT||e.type===Ne.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){let t=DL(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}};function SL(n){return Object.prototype.toString.call(n)==="[object Object]"}var MD=class n extends rt{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let r=t.type===Ne.BINARY_EVENT;r||t.type===Ne.BINARY_ACK?(t.type=r?Ne.EVENT:Ne.ACK,this.reconstructor=new PD(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(Kd(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0,r={type:Number(e.charAt(0))};if(Ne[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Ne.BINARY_EVENT||r.type===Ne.BINARY_ACK){let o=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let s=e.substring(o,t);if(s!=Number(s)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(e.charAt(t+1)==="/"){let o=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(o,t)}else r.nsp="/";let i=e.charAt(t+1);if(i!==""&&Number(i)==i){let o=t+1;for(;++t;){let s=e.charAt(t);if(s==null||Number(s)!=s){--t;break}if(t===e.length)break}r.id=Number(e.substring(o,t+1))}if(e.charAt(++t)){let o=this.tryParse(e.substr(t));if(n.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case Ne.CONNECT:return SL(t);case Ne.DISCONNECT:return t===void 0;case Ne.CONNECT_ERROR:return typeof t=="string"||SL(t);case Ne.EVENT:case Ne.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&pY.indexOf(t[0])===-1);case Ne.ACK:case Ne.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},PD=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=TL(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function Kn(n,e,t){return n.on(e,t),function(){n.off(e,t)}}var mY=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Zc=class extends rt{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[Kn(e,"open",this.onopen.bind(this)),Kn(e,"packet",this.onpacket.bind(this)),Kn(e,"error",this.onerror.bind(this)),Kn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var r,i,o;if(mY.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let s={type:Ne.EVENT,data:t};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){let d=this.ids++,p=t.pop();this._registerAckCallback(d,p),s.id=d}let a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var r;let i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},i),s=(...a)=>{this.io.clearTimeoutFn(o),t.apply(this,a)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...t){return new Promise((r,i)=>{let o=(s,a)=>s?i(s):r(a);o.withError=!0,t.push(o),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Ne.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){let r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ne.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ne.EVENT:case Ne.BINARY_EVENT:this.onevent(e);break;case Ne.ACK:case Ne.BINARY_ACK:this.onack(e);break;case Ne.DISCONNECT:this.ondisconnect();break;case Ne.CONNECT_ERROR:this.destroy();let r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){let t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,r=!1;return function(...i){r||(r=!0,t.packet({type:Ne.ACK,id:e,data:i}))}}onack(e){let t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ne.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let r of t)r.apply(this,e.data)}}};function oa(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}oa.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=(Math.floor(e*10)&1)==0?n-t:n+t}return Math.min(n,this.max)|0};oa.prototype.reset=function(){this.attempts=0};oa.prototype.setMin=function(n){this.ms=n};oa.prototype.setMax=function(n){this.max=n};oa.prototype.setJitter=function(n){this.jitter=n};var Xc=class extends rt{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,Yi(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new oa({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;let i=t.parser||RD;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Qc(this.uri,this.opts);let t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let i=Kn(t,"open",function(){r.onopen(),e&&e()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},s=Kn(t,"error",o);if(this._timeout!==!1){let a=this._timeout,c=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),t.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(Kn(e,"ping",this.onping.bind(this)),Kn(e,"data",this.ondata.bind(this)),Kn(e,"error",this.onerror.bind(this)),Kn(e,"close",this.onclose.bind(this)),Kn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Ki(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Zc(this,e,t),this.nsps[e]=r),r}_destroy(e){let t=Object.keys(this.nsps);for(let r of t)if(this.nsps[r].active)return;this._close()}_packet(e){let t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};var Yd={};function Qd(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};let t=CL(n,e.path||"/socket.io"),r=t.source,i=t.id,o=t.path,s=Yd[i]&&o in Yd[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||s,c;return a?c=new Xc(r,e):(Yd[i]||(Yd[i]=new Xc(r,e)),c=Yd[i]),t.query&&!e.query&&(e.query=t.queryKey),c.socket(t.path,e)}Object.assign(Qd,{Manager:Xc,Socket:Zc,io:Qd,connect:Qd});var jv=class n{socket;notificationsSubject=new tt([]);notifications$=this.notificationsSubject.asObservable();userId=null;constructor(){this.userId=localStorage.getItem("user_id"),this.socket=Qd("https://cocreandoback.onrender.com",{transports:["websocket"],autoConnect:!0,reconnectionAttempts:3}),this.cleanupSocketListeners(),this.setupBaseListeners(),console.log(this.userId),this.userId&&(this.joinUserRoom(),console.log("Hola"),this.socket.on("confirmacion_join",e=>{console.log("\u{1F514} Unido a la sala:",e.room,"| Socket ID:",e.socket_id,"| Mi user_id:",this.userId)}),console.log("Hola2"),this.socket.on("connect",()=>{console.log("\u{1F7E2} ID de conexi\xF3n actual:",this.socket.id)}),this.socket.on("join_error",e=>{console.error("\u274C Error al unirse a la sala:",e)}),this.cargarNotificaciones())}cleanupSocketListeners(){this.socket.off("connect"),this.socket.off("nueva_notificacion"),this.socket.off("lista_notificaciones"),this.socket.off("notificaciones_actualizadas")}setupBaseListeners(){this.socket.on("nueva_notificacion",e=>{this.handleNewNotification(e)}),this.socket.on("connect",()=>{console.log("Conectado al servidor Socket.IO"),this.userId&&this.joinUserRoom()})}joinUserRoom(){this.socket.emit("join",{user_id:this.userId})}handleNewNotification(e){let t=ee(L({},e),{date:e.date?new Date(e.date):new Date(e.timestamp)}),r=this.notificationsSubject.value;this.notificationsSubject.next([t,...r])}cargarNotificaciones(){this.userId&&(this.socket.off("lista_notificaciones"),this.socket.emit("obtener_notificaciones",{user_id:this.userId}),this.socket.on("lista_notificaciones",e=>{let t=e.filter(r=>r.user_id===this.userId).map(r=>ee(L({},r),{date:r.date?new Date(r.date):new Date(r.timestamp)}));this.notificationsSubject.next(t)}))}marcarComoLeidas(){this.userId&&(this.socket.off("notificaciones_actualizadas"),this.socket.emit("marcar_como_leidas",{user_id:this.userId}),this.socket.on("notificaciones_actualizadas",e=>{let t=e.map(r=>ee(L({},r),{date:r.date?new Date(r.date):new Date(r.timestamp),read:!0}));this.notificationsSubject.next(t)}))}marcarComoLeida(e){if(!this.userId)return;this.socket.emit("marcar_como_leida",{user_id:this.userId,notification_id:e});let t=this.notificationsSubject.value.map(r=>r.id===e?ee(L({},r),{read:!0}):r);this.notificationsSubject.next(t)}ngOnDestroy(){this.cleanupSocketListeners(),this.socket.disconnect(),console.log("Socket.IO desconectado")}static \u0275fac=function(t){return new(t||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};function vY(n,e){n&1&&(v(0,"div",12)(1,"div",13),ne(2,"div",14),v(3,"p"),b(4,"Cargando..."),m()()())}function _Y(n,e){if(n&1){let t=je();v(0,"a",22),G("click",function(){ae(t);let i=H(2);return ce(i.navigateTo("/admin"))}),b(1," Panel Admin"),m()}}function yY(n,e){if(n&1&&(v(0,"span",23),b(1),m()),n&2){let t=H(2);E(),te(t.unreadNotifications)}}function bY(n,e){n&1&&(v(0,"strong"),b(1,"\u2022"),m())}function wY(n,e){if(n&1&&(v(0,"div",27),b(1),W(2,bY,2,0,"strong",28),b(3),m()),n&2){let t=e.$implicit;E(),oe(" ",t.message," "),E(),F("ngIf",!t.read),E(),ms(" ",t.title,": ",t.message," ")}}function EY(n,e){n&1&&(v(0,"div",29),b(1," No hay notificaciones "),m())}function CY(n,e){if(n&1&&(v(0,"div",24),W(1,wY,4,4,"div",25)(2,EY,2,0,"div",26),m()),n&2){let t=H(2);E(),F("ngForOf",t.notifications),E(),F("ngIf",t.notifications.length===0)}}function IY(n,e){if(n&1){let t=je();t0(0),W(1,_Y,2,0,"a",15),v(2,"div",16)(3,"div",17),G("click",function(){ae(t);let i=H();return ce(i.toggleNotifications())}),b(4," \u{1F514} "),W(5,yY,2,1,"span",18)(6,CY,3,2,"div",19),m(),v(7,"a",20),G("click",function(){ae(t);let i=H();return ce(i.navigateTo("/dashboard"))}),b(8,"Proyectos"),m(),v(9,"a",20),G("click",function(){ae(t);let i=H();return ce(i.navigateTo("/user-profile"))}),b(10),ct(11,"async"),ct(12,"userDisplay"),m(),v(13,"a",21),G("click",function(){ae(t);let i=H();return ce(i.logout())}),b(14,"Cerrar Sesi\xF3n"),m()(),n0()}if(n&2){let t=H();E(),F("ngIf",t.authService.isAdmin()),E(4),F("ngIf",t.unreadNotifications>0),E(),F("ngIf",t.showNotifications),E(4),te(Qt(12,6,Qt(11,4,t.authService.currentUser$)))}}function DY(n,e){if(n&1){let t=je();v(0,"a",20),G("click",function(){ae(t);let i=H();return ce(i.navigateTo("/login"))}),b(1,"Iniciar Sesi\xF3n"),m(),v(2,"a",20),G("click",function(){ae(t);let i=H();return ce(i.navigateTo("/register"))}),b(3,"Registrarse"),m()}}var Bv=class n{constructor(e,t,r){this.authService=e;this.router=t;this.notificationService=r}title="CoCreando";showNotifications=!1;unreadNotifications=0;notifications=[];notificationsSub;authSub;isLoading$=new tt(!0);ngOnInit(){this.notificationsSub=this.notificationService.notifications$.subscribe(e=>{this.notifications=e.sort((t,r)=>new Date(r.date).getTime()-new Date(t.date).getTime()),this.unreadNotifications=e.filter(t=>!t.read).length}),this.isLoading$.next(!0),this.authSub=this.authService.isAuthenticated$.subscribe(e=>{if(this.isLoading$.next(!1),e){let t=this.authService.getCurrentUserValue()?.uid}else this.notifications=[],this.unreadNotifications=0})}ngOnDestroy(){this.notificationsSub.unsubscribe(),this.authSub.unsubscribe()}navigateTo(e){this.router.navigate([e]),this.showNotifications=!1}logout(){this.authService.logout(),this.router.navigate(["/dashboard"]),this.showNotifications=!1}toggleNotifications(){this.showNotifications=!this.showNotifications,this.showNotifications&&this.unreadNotifications>0&&this.markAllAsRead()}markAllAsRead(){this.authService.getCurrentUserValue()?.uid&&this.notificationService.marcarComoLeidas()}handleNotificationClick(e){e.link&&this.router.navigate([e.link]),e.read||this.authService.getCurrentUserValue()?.uid&&this.notificationService.marcarComoLeida(e.id),this.showNotifications=!1}static \u0275fac=function(t){return new(t||n)(j(Be),j(Ae),j(jv))};static \u0275cmp=Pe({type:n,selectors:[["app-root"]],decls:19,vars:7,consts:[["notAuthenticated",""],[1,"main-container"],["class","global-loader",4,"ngIf"],[1,"navbar"],[1,"container"],[1,"logo"],["src","https://res.cloudinary.com/dtg8i6j9f/image/upload/v1748278102/2-removebg-preview_orvlqt.png","alt","",1,"logo-img"],[1,"nav-links"],[4,"ngIf","ngIfElse"],[1,"content"],[1,"app-footer"],[1,"footer-content"],[1,"global-loader"],[1,"loader-content"],[1,"spinner"],["class","admin-link",3,"click",4,"ngIf"],[1,"user-notifications"],[1,"notification-icon",3,"click"],["class","notification-badge",4,"ngIf"],["class","notifications-dropdown",4,"ngIf"],[3,"click"],[2,"cursor","pointer",3,"click"],[1,"admin-link",3,"click"],[1,"notification-badge"],[1,"notifications-dropdown"],["class","notification-item",4,"ngFor","ngForOf"],["class","notification-empty",4,"ngIf"],[1,"notification-item"],[4,"ngIf"],[1,"notification-empty"]],template:function(t,r){if(t&1&&(v(0,"div",1),W(1,vY,5,0,"div",2),ct(2,"async"),v(3,"nav",3)(4,"div",4)(5,"span",5),ne(6,"img",6),b(7," CoCreando "),m(),v(8,"div",7),W(9,IY,15,8,"ng-container",8),ct(10,"async"),W(11,DY,4,0,"ng-template",null,0,xM),m()()(),v(13,"div",9),ne(14,"router-outlet"),m(),v(15,"footer",10)(16,"div",11)(17,"span"),b(18,"\xA9 2025 CoCreando - Todos los derechos reservados"),m()()()()),t&2){let i=Ua(12);E(),F("ngIf",Qt(2,3,r.isLoading$)),E(8),F("ngIf",Qt(10,5,r.authService.isAuthenticated$))("ngIfElse",i)}},dependencies:[lt,Vt,gt,v0,As,Su,xv],styles:['.main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.navbar[_ngcontent-%COMP%]{background-color:#fff;padding:0;box-shadow:0 4px 12px #0000001a;position:sticky;top:0;z-index:1000}.navbar[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto;padding:1rem 2rem}.navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#4caf50;letter-spacing:-.5px;display:flex;align-items:center}.navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .logo-img[_ngcontent-%COMP%]{width:70px;height:auto;margin-right:.5rem}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#2e7d32;text-decoration:none;font-weight:500;font-size:1.1rem;position:relative;padding:.5rem 0;transition:all .3s ease}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:0;height:2px;background-color:#4caf50;transition:width .3s ease}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#4caf50}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{width:100%}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#4caf50;font-weight:600}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:after{width:100%}.content[_ngcontent-%COMP%]{flex:1;padding:2rem;max-width:1200px;margin:0 auto;width:100%}.app-footer[_ngcontent-%COMP%]{background-color:#c8e6c9;padding:1.5rem;text-align:center;margin-top:auto}.app-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#2e7d32;font-size:.9rem;display:block}@media (max-width: 768px){.navbar[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:1rem;flex-direction:column}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]{margin-top:1rem;gap:1.5rem}}.user-notifications[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;position:relative}.user-notifications[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-weight:500;color:#2e7d32;margin-right:.5rem}.user-notifications[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{position:relative;cursor:pointer;font-size:1.2rem}.user-notifications[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   .notification-badge[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;background-color:red;color:#fff;border-radius:50%;width:18px;height:18px;display:flex;align-items:center;justify-content:center;font-size:.7rem}.user-notifications[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   .notifications-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;background-color:#fff;border:1px solid #c8e6c9;border-radius:4px;box-shadow:0 4px 8px #0000001a;width:300px;max-height:400px;overflow-y:auto;z-index:1001}.user-notifications[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   .notifications-dropdown[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #c8e6c9;cursor:pointer;transition:background-color .2s}.user-notifications[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   .notifications-dropdown[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]:hover{background-color:#f8fffa}.user-notifications[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   .notifications-dropdown[_ngcontent-%COMP%]   .notification-empty[_ngcontent-%COMP%]{padding:1rem;text-align:center;color:#77cd7b}.global-loader[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#fffc;display:flex;justify-content:center;align-items:center;z-index:1000}.loader-content[_ngcontent-%COMP%]{text-align:center;background:#fff;padding:2rem;border-radius:8px;box-shadow:0 2px 10px #0000001a}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-radius:50%;border-top:4px solid #3498db;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})};S0(Bv,JF).catch(n=>console.error(n));
