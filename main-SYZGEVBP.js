var FD=Object.defineProperty,uV=Object.defineProperties;var dV=Object.getOwnPropertyDescriptors;var kD=Object.getOwnPropertySymbols,hV=Object.getPrototypeOf,fV=Object.prototype.hasOwnProperty,pV=Object.prototype.propertyIsEnumerable,mV=Reflect.get;var ND=(n,e,t)=>e in n?FD(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,L=(n,e)=>{for(var t in e||={})fV.call(e,t)&&ND(n,t,e[t]);if(kD)for(var t of kD(e))pV.call(e,t)&&ND(n,t,e[t]);return n},ee=(n,e)=>uV(n,dV(e));var gV=(n,e)=>{for(var t in e)FD(n,t,{get:e[t],enumerable:!0})};var ro=(n,e,t)=>mV(hV(n),t,e);var w=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(u){i(u)}},s=c=>{try{a(t.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});function m_(n,e){return Object.is(n,e)}var Rt=null,ph=!1,g_=1,Yn=Symbol("SIGNAL");function Me(n){let e=Rt;return Rt=n,e}function v_(){return Rt}var _l={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function yl(n){if(ph)throw new Error("");if(Rt===null)return;Rt.consumerOnSignalRead(n);let e=Rt.nextProducerIndex++;if(_h(Rt),e<Rt.producerNode.length&&Rt.producerNode[e]!==n&&vl(Rt)){let t=Rt.producerNode[e];vh(t,Rt.producerIndexOfThis[e])}Rt.producerNode[e]!==n&&(Rt.producerNode[e]=n,Rt.producerIndexOfThis[e]=vl(Rt)?VD(n,Rt,e):0),Rt.producerLastReadVersion[e]=n.version}function LD(){g_++}function __(n){if(!(vl(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===g_)){if(!n.producerMustRecompute(n)&&!E_(n)){p_(n);return}n.producerRecomputeValue(n),p_(n)}}function y_(n){if(n.liveConsumerNode===void 0)return;let e=ph;ph=!0;try{for(let t of n.liveConsumerNode)t.dirty||vV(t)}finally{ph=e}}function b_(){return Rt?.consumerAllowSignalWrites!==!1}function vV(n){n.dirty=!0,y_(n),n.consumerMarkedDirty?.(n)}function p_(n){n.dirty=!1,n.lastCleanEpoch=g_}function gh(n){return n&&(n.nextProducerIndex=0),Me(n)}function w_(n,e){if(Me(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(vl(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)vh(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function E_(n){_h(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(__(t),r!==t.version))return!0}return!1}function C_(n){if(_h(n),vl(n))for(let e=0;e<n.producerNode.length;e++)vh(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function VD(n,e,t){if(jD(n),n.liveConsumerNode.length===0&&BD(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=VD(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function vh(n,e){if(jD(n),n.liveConsumerNode.length===1&&BD(n))for(let r=0;r<n.producerNode.length;r++)vh(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];_h(i),i.producerIndexOfThis[r]=e}}function vl(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function _h(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function jD(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function BD(n){return n.producerNode!==void 0}function I_(n,e){let t=Object.create(_V);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(__(t),yl(t),t.value===mh)throw t.error;return t.value};return r[Yn]=t,r}var h_=Symbol("UNSET"),f_=Symbol("COMPUTING"),mh=Symbol("ERRORED"),_V=ee(L({},_l),{value:h_,dirty:!0,error:null,equal:m_,kind:"computed",producerMustRecompute(n){return n.value===h_||n.value===f_},producerRecomputeValue(n){if(n.value===f_)throw new Error("Detected cycle in computations.");let e=n.value;n.value=f_;let t=gh(n),r,i=!1;try{r=n.computation(),Me(null),i=e!==h_&&e!==mh&&r!==mh&&n.equal(e,r)}catch(o){r=mh,n.error=o}finally{w_(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function yV(){throw new Error}var UD=yV;function $D(n){UD(n)}function T_(n){UD=n}var bV=null;function D_(n,e){let t=Object.create(yh);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(yl(t),t.value);return r[Yn]=t,r}function bl(n,e){b_()||$D(n),n.equal(n.value,e)||(n.value=e,wV(n))}function S_(n,e){b_()||$D(n),bl(n,e(n.value))}var yh=ee(L({},_l),{equal:m_,value:void 0,kind:"signal"});function wV(n){n.version++,LD(),y_(n),bV?.()}function A_(n){let e=Me(null);try{return n()}finally{Me(e)}}var x_;function wl(){return x_}function yi(n){let e=x_;return x_=n,e}var bh=Symbol("NotFound");function _e(n){return typeof n=="function"}function la(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var wh=la(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ho(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var et=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(_e(r))try{r()}catch(o){e=o instanceof wh?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{HD(o)}catch(s){e=e??[],s instanceof wh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new wh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)HD(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ho(t,e)}remove(e){let{_finalizers:t}=this;t&&Ho(t,e),e instanceof n&&e._removeParent(this)}};et.EMPTY=(()=>{let n=new et;return n.closed=!0,n})();var M_=et.EMPTY;function Eh(n){return n instanceof et||n&&"closed"in n&&_e(n.remove)&&_e(n.add)&&_e(n.unsubscribe)}function HD(n){_e(n)?n():n.unsubscribe()}var fr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ua={setTimeout(n,e,...t){let{delegate:r}=ua;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ua;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ch(n){ua.setTimeout(()=>{let{onUnhandledError:e}=fr;if(e)e(n);else throw n})}function El(){}var zD=P_("C",void 0,void 0);function qD(n){return P_("E",void 0,n)}function WD(n){return P_("N",n,void 0)}function P_(n,e,t){return{kind:n,value:e,error:t}}var zo=null;function da(n){if(fr.useDeprecatedSynchronousErrorHandling){let e=!zo;if(e&&(zo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=zo;if(zo=null,t)throw r}}else n()}function GD(n){fr.useDeprecatedSynchronousErrorHandling&&zo&&(zo.errorThrown=!0,zo.error=n)}var qo=class extends et{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Eh(e)&&e.add(this)):this.destination=SV}static create(e,t,r){return new ha(e,t,r)}next(e){this.isStopped?O_(WD(e),this):this._next(e)}error(e){this.isStopped?O_(qD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?O_(zD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},TV=Function.prototype.bind;function R_(n,e){return TV.call(n,e)}var k_=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ih(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ih(r)}else Ih(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ih(t)}}},ha=class extends qo{constructor(e,t,r){super();let i;if(_e(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&fr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&R_(e.next,o),error:e.error&&R_(e.error,o),complete:e.complete&&R_(e.complete,o)}):i=e}this.destination=new k_(i)}};function Ih(n){fr.useDeprecatedSynchronousErrorHandling?GD(n):Ch(n)}function DV(n){throw n}function O_(n,e){let{onStoppedNotification:t}=fr;t&&ua.setTimeout(()=>t(n,e))}var SV={closed:!0,next:El,error:DV,complete:El};var fa=typeof Symbol=="function"&&Symbol.observable||"@@observable";function mn(n){return n}function N_(...n){return F_(n)}function F_(n){return n.length===0?mn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var me=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=xV(t)?t:new ha(t,r,i);return da(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=KD(r),new r((i,o)=>{let s=new ha({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[fa](){return this}pipe(...t){return F_(t)(this)}toPromise(t){return t=KD(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function KD(n){var e;return(e=n??fr.Promise)!==null&&e!==void 0?e:Promise}function AV(n){return n&&_e(n.next)&&_e(n.error)&&_e(n.complete)}function xV(n){return n&&n instanceof qo||AV(n)&&Eh(n)}function L_(n){return _e(n?.lift)}function Te(n){return e=>{if(L_(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(n,e,t,r,i){return new V_(n,e,t,r,i)}var V_=class extends qo{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function pa(){return Te((n,e)=>{let t=null;n._refCount++;let r=ye(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var ma=class extends me{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,L_(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new et;let t=this.getSubject();e.add(this.source.subscribe(ye(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=et.EMPTY)}return e}refCount(){return pa()(this)}};var YD=la(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=(()=>{class n extends me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Th(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new YD}next(t){da(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){da(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){da(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?M_:(this.currentObservers=null,o.push(t),new et(()=>{this.currentObservers=null,Ho(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new me;return t.source=this,t}}return n.create=(e,t)=>new Th(e,t),n})(),Th=class extends he{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:M_}};var tt=class extends he{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var j_={now(){return(j_.delegate||Date).now()},delegate:void 0};var Dh=class extends et{constructor(e,t){super()}schedule(e,t=0){return this}};var Cl={setInterval(n,e,...t){let{delegate:r}=Cl;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Cl;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ga=class extends Dh{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Cl.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Cl.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ho(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var va=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};va.now=j_.now;var _a=class extends va{constructor(e,t=va.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var io=new _a(ga),B_=io;var Sh=class extends ga{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Ah=class extends _a{};var U_=new Ah(Sh);var on=new me(n=>n.complete());function xh(n){return n&&_e(n.schedule)}function $_(n){return n[n.length-1]}function Mh(n){return _e($_(n))?n.pop():void 0}function Pr(n){return xh($_(n))?n.pop():void 0}function QD(n,e){return typeof $_(n)=="number"?n.pop():e}function H_(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function XD(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(p){s(p)}}function c(d){try{u(r.throw(d))}catch(p){s(p)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function ZD(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wo(n){return this instanceof Wo?(this.v=n,this):new Wo(n)}function JD(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(_){return function(S){return Promise.resolve(S).then(_,p)}}function a(_,S){r[_]&&(i[_]=function(R){return new Promise(function(k,W){o.push([_,R,k,W])>1||c(_,R)})},S&&(i[_]=S(i[_])))}function c(_,S){try{u(r[_](S))}catch(R){v(o[0][3],R)}}function u(_){_.value instanceof Wo?Promise.resolve(_.value.v).then(d,p):v(o[0][2],_)}function d(_){c("next",_)}function p(_){c("throw",_)}function v(_,S){_(S),o.shift(),o.length&&c(o[0][0],o[0][1])}}function eS(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof ZD=="function"?ZD(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var Ph=n=>n&&typeof n.length=="number"&&typeof n!="function";function Rh(n){return _e(n?.then)}function Oh(n){return _e(n[fa])}function kh(n){return Symbol.asyncIterator&&_e(n?.[Symbol.asyncIterator])}function Nh(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function MV(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Fh=MV();function Lh(n){return _e(n?.[Fh])}function Vh(n){return JD(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Wo(t.read());if(i)return yield Wo(void 0);yield yield Wo(r)}}finally{t.releaseLock()}})}function jh(n){return _e(n?.getReader)}function at(n){if(n instanceof me)return n;if(n!=null){if(Oh(n))return PV(n);if(Ph(n))return RV(n);if(Rh(n))return OV(n);if(kh(n))return tS(n);if(Lh(n))return kV(n);if(jh(n))return NV(n)}throw Nh(n)}function PV(n){return new me(e=>{let t=n[fa]();if(_e(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function RV(n){return new me(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function OV(n){return new me(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ch)})}function kV(n){return new me(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function tS(n){return new me(e=>{FV(n,e).catch(t=>e.error(t))})}function NV(n){return tS(Vh(n))}function FV(n,e){var t,r,i,o;return XD(this,void 0,void 0,function*(){try{for(t=eS(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function In(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function oo(n,e=0){return Te((t,r)=>{t.subscribe(ye(r,i=>In(r,n,()=>r.next(i),e),()=>In(r,n,()=>r.complete(),e),i=>In(r,n,()=>r.error(i),e)))})}function so(n,e=0){return Te((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function nS(n,e){return at(n).pipe(so(e),oo(e))}function rS(n,e){return at(n).pipe(so(e),oo(e))}function iS(n,e){return new me(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function oS(n,e){return new me(t=>{let r;return In(t,e,()=>{r=n[Fh](),In(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>_e(r?.return)&&r.return()})}function Bh(n,e){if(!n)throw new Error("Iterable cannot be null");return new me(t=>{In(t,e,()=>{let r=n[Symbol.asyncIterator]();In(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function sS(n,e){return Bh(Vh(n),e)}function aS(n,e){if(n!=null){if(Oh(n))return nS(n,e);if(Ph(n))return iS(n,e);if(Rh(n))return rS(n,e);if(kh(n))return Bh(n,e);if(Lh(n))return oS(n,e);if(jh(n))return sS(n,e)}throw Nh(n)}function Ge(n,e){return e?aS(n,e):at(n)}function X(...n){let e=Pr(n);return Ge(n,e)}function Tn(n,e){let t=_e(n)?n:()=>n,r=i=>i.error(t());return new me(e?i=>e.schedule(r,0,i):r)}function Uh(n){return!!n&&(n instanceof me||_e(n.lift)&&_e(n.subscribe))}var pr=la(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function $h(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let o=!1,s;n.subscribe({next:a=>{s=a,o=!0},error:i,complete:()=>{o?r(s):t?r(e.defaultValue):i(new pr)}})})}function cS(n){return n instanceof Date&&!isNaN(n)}function de(n,e){return Te((t,r)=>{let i=0;t.subscribe(ye(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:LV}=Array;function VV(n,e){return LV(e)?n(...e):n(e)}function Hh(n){return de(e=>VV(n,e))}var{isArray:jV}=Array,{getPrototypeOf:BV,prototype:UV,keys:$V}=Object;function zh(n){if(n.length===1){let e=n[0];if(jV(e))return{args:e,keys:null};if(HV(e)){let t=$V(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function HV(n){return n&&typeof n=="object"&&BV(n)===UV}function qh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Go(...n){let e=Pr(n),t=Mh(n),{args:r,keys:i}=zh(n);if(r.length===0)return Ge([],e);let o=new me(zV(r,e,i?s=>qh(i,s):mn));return t?o.pipe(Hh(t)):o}function zV(n,e,t=mn){return r=>{lS(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)lS(e,()=>{let u=Ge(n[c],e),d=!1;u.subscribe(ye(r,p=>{o[c]=p,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function lS(n,e,t){n?In(t,n,e):e()}function uS(n,e,t,r,i,o,s,a){let c=[],u=0,d=0,p=!1,v=()=>{p&&!c.length&&!u&&e.complete()},_=R=>u<r?S(R):c.push(R),S=R=>{o&&e.next(R),u++;let k=!1;at(t(R,d++)).subscribe(ye(e,W=>{i?.(W),o?_(W):e.next(W)},()=>{k=!0},void 0,()=>{if(k)try{for(u--;c.length&&u<r;){let W=c.shift();s?In(e,s,()=>S(W)):S(W)}v()}catch(W){e.error(W)}}))};return n.subscribe(ye(e,_,()=>{p=!0,v()})),()=>{a?.()}}function wt(n,e,t=1/0){return _e(e)?wt((r,i)=>de((o,s)=>e(r,o,i,s))(at(n(r,i))),t):(typeof e=="number"&&(t=e),Te((r,i)=>uS(r,i,n,t)))}function ao(n=1/0){return wt(mn,n)}function dS(){return ao(1)}function co(...n){return dS()(Ge(n,Pr(n)))}function Wh(n){return new me(e=>{at(n()).subscribe(e)})}function z_(...n){let e=Mh(n),{args:t,keys:r}=zh(n),i=new me(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let d=0;d<s;d++){let p=!1;at(t[d]).subscribe(ye(o,v=>{p||(p=!0,u--),a[d]=v},()=>c--,void 0,()=>{(!c||!p)&&(u||o.next(r?qh(r,a):a),o.complete())}))}});return e?i.pipe(Hh(e)):i}function hS(n=0,e,t=B_){let r=-1;return e!=null&&(xh(e)?t=e:r=e),new me(i=>{let o=cS(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function q_(...n){let e=Pr(n),t=QD(n,1/0),r=n;return r.length?r.length===1?at(r[0]):ao(t)(Ge(r,e)):on}function dt(n,e){return Te((t,r)=>{let i=0;t.subscribe(ye(r,o=>n.call(e,o,i++)&&r.next(o)))})}function fS(n){return Te((e,t)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let u=i;i=null,t.next(u)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(ye(t,u=>{r=!0,i=u,o||at(n(u)).subscribe(o=ye(t,a,c))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}function Gh(n,e=io){return fS(()=>hS(n,e))}function ot(n){return Te((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ye(t,void 0,void 0,s=>{o=at(n(s,ot(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function pS(n,e,t,r,i){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(ye(s,d=>{let p=u++;c=a?n(c,d,p):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Rr(n,e){return _e(e)?wt(n,e,1):wt(n,1)}function W_(n,e=io){return Te((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let u=o;o=null,r.next(u)}};function c(){let u=s+n,d=e.now();if(d<u){i=this.schedule(void 0,u-d),r.add(i);return}a()}t.subscribe(ye(r,u=>{o=u,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function lo(n){return Te((e,t)=>{let r=!1;e.subscribe(ye(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ht(n){return n<=0?()=>on:Te((e,t)=>{let r=0;e.subscribe(ye(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Kh(n,e=mn){return n=n??qV,Te((t,r)=>{let i,o=!0;t.subscribe(ye(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function qV(n,e){return n===e}function Yh(n=WV){return Te((e,t)=>{let r=!1;e.subscribe(ye(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function WV(){return new pr}function Ko(n){return Te((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function bi(n,e){let t=arguments.length>=2;return r=>r.pipe(n?dt((i,o)=>n(i,o,r)):mn,ht(1),t?lo(e):Yh(()=>new pr))}function ya(n){return n<=0?()=>on:Te((e,t)=>{let r=[];e.subscribe(ye(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function G_(n,e){let t=arguments.length>=2;return r=>r.pipe(n?dt((i,o)=>n(i,o,r)):mn,ya(1),t?lo(e):Yh(()=>new pr))}function K_(n,e){return Te(pS(n,e,arguments.length>=2,!0))}function Il(n){return dt((e,t)=>n<=t)}function ba(...n){let e=Pr(n);return Te((t,r)=>{(e?co(n,t,e):co(n,t)).subscribe(r)})}function qt(n,e){return Te((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ye(r,c=>{i?.unsubscribe();let u=0,d=o++;at(n(c,d)).subscribe(i=ye(r,p=>r.next(e?e(c,p,d,u++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Qn(n){return Te((e,t)=>{at(n).subscribe(ye(t,()=>t.complete(),El)),!t.closed&&e.subscribe(t)})}function Wt(n,e,t){let r=_e(n)||e||t?{next:n,error:e,complete:t}:n;return r?Te((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ye(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):mn}var eA="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",K=class extends Error{code;constructor(e,t){super(tA(e,t)),this.code=e}};function GV(n){return`NG0${Math.abs(n)}`}function tA(n,e){return`${GV(n)}${e?": "+e:""}`}var nA=Symbol("InputSignalNode#UNSET"),KV=ee(L({},yh),{transformFn:void 0,applyValueToInputSignal(n,e){bl(n,e)}});function rA(n,e){let t=Object.create(KV);t.value=n,t.transformFn=e?.transform;function r(){if(yl(t),t.value===nA){let i=null;throw new K(-950,i)}return t.value}return r[Yn]=t,r}function Fl(n){return{toString:n}.toString()}var Qh="__parameters__";function YV(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function iA(n,e,t){return Fl(()=>{let r=YV(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,d){let p=c.hasOwnProperty(Qh)?c[Qh]:Object.defineProperty(c,Qh,{value:[]})[Qh];for(;p.length<=d;)p.push(null);return(p[d]=p[d]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Qo=globalThis;function Xe(n){for(let e in n)if(n[e]===Xe)return e;throw Error("Could not find renamed property on target object.")}function QV(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function An(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(An).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function ly(n,e){return n?e?`${n} ${e}`:n:e||""}var ZV=Xe({__forward_ref__:Xe});function Ot(n){return n.__forward_ref__=Ot,n.toString=function(){return An(this())},n}function gn(n){return oA(n)?n():n}function oA(n){return typeof n=="function"&&n.hasOwnProperty(ZV)&&n.__forward_ref__===Ot}function V(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Kt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Rf(n){return mS(n,aA)||mS(n,cA)}function sA(n){return Rf(n)!==null}function mS(n,e){return n.hasOwnProperty(e)?n[e]:null}function XV(n){let e=n&&(n[aA]||n[cA]);return e||null}function gS(n){return n&&(n.hasOwnProperty(vS)||n.hasOwnProperty(JV))?n[vS]:null}var aA=Xe({\u0275prov:Xe}),vS=Xe({\u0275inj:Xe}),cA=Xe({ngInjectableDef:Xe}),JV=Xe({ngInjectorDef:Xe}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=V({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function lA(n){return n&&!!n.\u0275providers}var e2=Xe({\u0275cmp:Xe}),t2=Xe({\u0275dir:Xe}),n2=Xe({\u0275pipe:Xe}),r2=Xe({\u0275mod:Xe}),sf=Xe({\u0275fac:Xe}),Al=Xe({__NG_ELEMENT_ID__:Xe}),_S=Xe({__NG_ENV_ID__:Xe});function wi(n){return typeof n=="string"?n:n==null?"":String(n)}function i2(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():wi(n)}function uA(n,e){throw new K(-200,n)}function ob(n,e){throw new K(-201,!1)}var Ee=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ee||{}),uy;function dA(){return uy}function Dn(n){let e=uy;return uy=n,e}function hA(n,e,t){let r=Rf(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&Ee.Optional)return null;if(e!==void 0)return e;ob(n,"Injector")}var o2={},Zo=o2,dy="__NG_DI_FLAG__",af=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?bh:Zo,r)}},cf="ngTempTokenPath",s2="ngTokenPath",a2=/\n/gm,c2="\u0275",yS="__source";function l2(n,e=Ee.Default){if(wl()===void 0)throw new K(-203,!1);if(wl()===null)return hA(n,void 0,e);{let t=wl(),r;return t instanceof af?r=t.injector:r=t,r.get(n,e&Ee.Optional?null:void 0,e)}}function Y(n,e=Ee.Default){return(dA()||l2)(gn(n),e)}function I(n,e=Ee.Default){return Y(n,Of(e))}function Of(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function hy(n){let e=[];for(let t=0;t<n.length;t++){let r=gn(n[t]);if(Array.isArray(r)){if(r.length===0)throw new K(900,!1);let i,o=Ee.Default;for(let s=0;s<r.length;s++){let a=r[s],c=u2(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(Y(i,o))}else e.push(Y(r))}return e}function fA(n,e){return n[dy]=e,n.prototype[dy]=e,n}function u2(n){return n[dy]}function d2(n,e,t,r){let i=n[cf];throw e[yS]&&i.unshift(e[yS]),n.message=h2(`
`+n.message,i,t,r),n[s2]=i,n[cf]=null,n}function h2(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==c2?n.slice(2):n;let i=An(e);if(Array.isArray(e))i=e.map(An).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):An(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(a2,`
  `)}`}var Di=fA(iA("Optional"),8);var f2=fA(iA("SkipSelf"),4);function Jo(n,e){let t=n.hasOwnProperty(sf);return t?n[sf]:null}function p2(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function m2(n){return n.flat(Number.POSITIVE_INFINITY)}function sb(n,e){n.forEach(t=>Array.isArray(t)?sb(t,e):e(t))}function pA(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function lf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function g2(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function v2(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function ab(n,e,t){let r=Ll(n,e);return r>=0?n[r|1]=t:(r=~r,v2(n,r,e,t)),r}function Y_(n,e){let t=Ll(n,e);if(t>=0)return n[t|1]}function Ll(n,e){return _2(n,e,1)}function _2(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var es={},Sn=[],xl=new $(""),mA=new $("",-1),gA=new $(""),uf=class{get(e,t=Zo){if(t===Zo){let r=new Error(`NullInjectorError: No provider for ${An(e)}!`);throw r.name="NullInjectorError",r}return t}};function vA(n,e){let t=n[r2]||null;if(!t&&e===!0)throw new Error(`Type ${An(n)} does not have '\u0275mod' property.`);return t}function fo(n){return n[e2]||null}function y2(n){return n[t2]||null}function b2(n){return n[n2]||null}function Si(n){return{\u0275providers:n}}function w2(...n){return{\u0275providers:_A(!0,n),\u0275fromNgModule:!0}}function _A(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return sb(e,s=>{let a=s;fy(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&yA(i,o),t}function yA(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];cb(i,o=>{e(o,r)})}}function fy(n,e,t,r){if(n=gn(n),!n)return!1;let i=null,o=gS(n),s=!o&&fo(n);if(!o&&!s){let c=n.ngModule;if(o=gS(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)fy(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{sb(o.imports,d=>{fy(d,e,t,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&yA(u,e)}if(!a){let u=Jo(i)||(()=>new i);e({provide:i,useFactory:u,deps:Sn},i),e({provide:gA,useValue:i,multi:!0},i),e({provide:xl,useValue:()=>Y(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=n;cb(c,d=>{e(d,u)})}}else return!1;return i!==n&&n.providers!==void 0}function cb(n,e){for(let t of n)lA(t)&&(t=t.\u0275providers),Array.isArray(t)?cb(t,e):e(t)}var E2=Xe({provide:String,useValue:Xe});function bA(n){return n!==null&&typeof n=="object"&&E2 in n}function C2(n){return!!(n&&n.useExisting)}function I2(n){return!!(n&&n.useFactory)}function Sa(n){return typeof n=="function"}function T2(n){return!!n.useClass}var kf=new $(""),Jh={},bS={},Q_;function Nf(){return Q_===void 0&&(Q_=new uf),Q_}var ct=class{},Ml=class extends ct{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,my(e,s=>this.processProvider(s)),this.records.set(mA,wa(void 0,this)),i.has("environment")&&this.records.set(ct,wa(void 0,this));let o=this.records.get(kf);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(gA,Sn,Ee.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?bh:Zo,r)}destroy(){Dl(this),this._destroyed=!0;let e=Me(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Me(e)}}onDestroy(e){return Dl(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Dl(this);let t=yi(this),r=Dn(void 0),i;try{return e()}finally{yi(t),Dn(r)}}get(e,t=Zo,r=Ee.Default){if(Dl(this),e.hasOwnProperty(_S))return e[_S](this);r=Of(r);let i,o=yi(this),s=Dn(void 0);try{if(!(r&Ee.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=M2(e)&&Rf(e);u&&this.injectableDefInScope(u)?c=wa(py(e),Jh):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,r)}let a=r&Ee.Self?Nf():this.parent;return t=r&Ee.Optional&&t===Zo?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[cf]=a[cf]||[]).unshift(An(e)),o)throw a;return d2(a,e,"R3InjectorError",this.source)}else throw a}finally{Dn(s),yi(o)}}resolveInjectorInitializers(){let e=Me(null),t=yi(this),r=Dn(void 0),i;try{let o=this.get(xl,Sn,Ee.Self);for(let s of o)s()}finally{yi(t),Dn(r),Me(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(An(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=gn(e);let t=Sa(e)?e:gn(e&&e.provide),r=S2(e);if(!Sa(e)&&e.multi===!0){let i=this.records.get(t);i||(i=wa(void 0,Jh,!0),i.factory=()=>hy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Me(null);try{return t.value===bS?uA(An(e)):t.value===Jh&&(t.value=bS,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&x2(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Me(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=gn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function py(n){let e=Rf(n),t=e!==null?e.factory:Jo(n);if(t!==null)return t;if(n instanceof $)throw new K(204,!1);if(n instanceof Function)return D2(n);throw new K(204,!1)}function D2(n){if(n.length>0)throw new K(204,!1);let t=XV(n);return t!==null?()=>t.factory(n):()=>new n}function S2(n){if(bA(n))return wa(void 0,n.useValue);{let e=wA(n);return wa(e,Jh)}}function wA(n,e,t){let r;if(Sa(n)){let i=gn(n);return Jo(i)||py(i)}else if(bA(n))r=()=>gn(n.useValue);else if(I2(n))r=()=>n.useFactory(...hy(n.deps||[]));else if(C2(n))r=(i,o)=>Y(gn(n.useExisting),o!==void 0&&o&Ee.Optional?Ee.Optional:void 0);else{let i=gn(n&&(n.useClass||n.provide));if(A2(n))r=()=>new i(...hy(n.deps));else return Jo(i)||py(i)}return r}function Dl(n){if(n.destroyed)throw new K(205,!1)}function wa(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function A2(n){return!!n.deps}function x2(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function M2(n){return typeof n=="function"||typeof n=="object"&&n instanceof $}function my(n,e){for(let t of n)Array.isArray(t)?my(t,e):t&&lA(t)?my(t.\u0275providers,e):e(t)}function Lt(n,e){let t;n instanceof Ml?(Dl(n),t=n):t=new af(n);let r,i=yi(t),o=Dn(void 0);try{return e()}finally{yi(i),Dn(o)}}function EA(){return dA()!==void 0||wl()!=null}function Ff(n){if(!EA())throw new K(-203,!1)}function P2(n){return typeof n=="function"}var Ai=0,Ce=1,ge=2,sn=3,vr=4,Mn=5,Pl=6,df=7,vn=8,Aa=9,Ei=10,ft=11,Rl=12,wS=13,Oa=14,Xn=15,ts=16,Ea=17,Ci=18,Lf=19,CA=20,uo=21,Z_=22,hf=23,Zn=24,Ta=25,Ft=26,IA=1;var ns=7,ff=8,xa=9,xn=10;function ho(n){return Array.isArray(n)&&typeof n[IA]=="object"}function xi(n){return Array.isArray(n)&&n[IA]===!0}function lb(n){return(n.flags&4)!==0}function ka(n){return n.componentOffset>-1}function Vf(n){return(n.flags&1)===1}function kr(n){return!!n.template}function pf(n){return(n[ge]&512)!==0}function Na(n){return(n[ge]&256)===256}var gy=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function TA(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Bn=(()=>{let n=()=>DA;return n.ngInherit=!0,n})();function DA(n){return n.type.prototype.ngOnChanges&&(n.setInput=O2),R2}function R2(){let n=AA(this),e=n?.current;if(e){let t=n.previous;if(t===es)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function O2(n,e,t,r,i){let o=this.declaredInputs[r],s=AA(n)||k2(n,{previous:es,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new gy(u&&u.currentValue,t,c===es),TA(n,e,i,t)}var SA="__ngSimpleChanges__";function AA(n){return n[SA]||null}function k2(n,e){return n[SA]=e}var ES=null;var Ke=function(n,e=null,t){ES?.(n,e,t)},N2="svg",F2="math";function Nr(n){for(;Array.isArray(n);)n=n[Ai];return n}function xA(n,e){return Nr(e[n])}function jr(n,e){return Nr(e[n.index])}function ub(n,e){return n.data[e]}function db(n,e){return n[e]}function L2(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Fr(n,e){let t=e[n];return ho(t)?t:t[Ai]}function V2(n){return(n[ge]&4)===4}function hb(n){return(n[ge]&128)===128}function j2(n){return xi(n[sn])}function Ma(n,e){return e==null?null:n[e]}function MA(n){n[Ea]=0}function PA(n){n[ge]&1024||(n[ge]|=1024,hb(n)&&Vl(n))}function B2(n,e){for(;n>0;)e=e[Oa],n--;return e}function jf(n){return!!(n[ge]&9216||n[Zn]?.dirty)}function vy(n){n[Ei].changeDetectionScheduler?.notify(8),n[ge]&64&&(n[ge]|=1024),jf(n)&&Vl(n)}function Vl(n){n[Ei].changeDetectionScheduler?.notify(0);let e=rs(n);for(;e!==null&&!(e[ge]&8192||(e[ge]|=8192,!hb(e)));)e=rs(e)}function RA(n,e){if(Na(n))throw new K(911,!1);n[uo]===null&&(n[uo]=[]),n[uo].push(e)}function U2(n,e){if(n[uo]===null)return;let t=n[uo].indexOf(e);t!==-1&&n[uo].splice(t,1)}function rs(n){let e=n[sn];return xi(e)?e[sn]:e}function fb(n){return n[df]??=[]}function pb(n){return n.cleanup??=[]}function $2(n,e,t,r){let i=fb(e);i.push(t),n.firstCreatePass&&pb(n).push(r,i.length-1)}var De={lFrame:BA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var _y=!1;function H2(){return De.lFrame.elementDepthCount}function z2(){De.lFrame.elementDepthCount++}function q2(){De.lFrame.elementDepthCount--}function mb(){return De.bindingsEnabled}function OA(){return De.skipHydrationRootTNode!==null}function W2(n){return De.skipHydrationRootTNode===n}function G2(){De.skipHydrationRootTNode=null}function Se(){return De.lFrame.lView}function Et(){return De.lFrame.tView}function re(n){return De.lFrame.contextLView=n,n[vn]}function ie(n){return De.lFrame.contextLView=null,n}function _n(){let n=kA();for(;n!==null&&n.type===64;)n=n.parent;return n}function kA(){return De.lFrame.currentTNode}function K2(){let n=De.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function us(n,e){let t=De.lFrame;t.currentTNode=n,t.isParent=e}function gb(){return De.lFrame.isParent}function vb(){De.lFrame.isParent=!1}function Y2(){return De.lFrame.contextLView}function NA(){return _y}function CS(n){let e=_y;return _y=n,e}function _b(){let n=De.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function FA(){return De.lFrame.bindingIndex}function Q2(n){return De.lFrame.bindingIndex=n}function jl(){return De.lFrame.bindingIndex++}function Bf(n){let e=De.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Z2(){return De.lFrame.inI18n}function X2(n,e){let t=De.lFrame;t.bindingIndex=t.bindingRootIndex=n,yy(e)}function J2(){return De.lFrame.currentDirectiveIndex}function yy(n){De.lFrame.currentDirectiveIndex=n}function ej(n){let e=De.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function LA(){return De.lFrame.currentQueryIndex}function yb(n){De.lFrame.currentQueryIndex=n}function tj(n){let e=n[Ce];return e.type===2?e.declTNode:e.type===1?n[Mn]:null}function VA(n,e,t){if(t&Ee.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&Ee.Host);)if(i=tj(o),i===null||(o=o[Oa],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=De.lFrame=jA();return r.currentTNode=e,r.lView=n,!0}function bb(n){let e=jA(),t=n[Ce];De.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function jA(){let n=De.lFrame,e=n===null?null:n.child;return e===null?BA(n):e}function BA(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function UA(){let n=De.lFrame;return De.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var $A=UA;function wb(){let n=UA();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function nj(n){return(De.lFrame.contextLView=B2(n,De.lFrame.contextLView))[vn]}function Mi(){return De.lFrame.selectedIndex}function is(n){De.lFrame.selectedIndex=n}function Uf(){let n=De.lFrame;return ub(n.tView,n.selectedIndex)}function rj(){return De.lFrame.currentNamespace}var HA=!0;function $f(){return HA}function Hf(n){HA=n}function ij(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=DA(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Eb(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function ef(n,e,t){zA(n,e,3,t)}function tf(n,e,t,r){(n[ge]&3)===t&&zA(n,e,t,r)}function X_(n,e){let t=n[ge];(t&3)===e&&(t&=16383,t+=1,n[ge]=t)}function zA(n,e,t,r){let i=r!==void 0?n[Ea]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Ea]+=65536),(a<o||o==-1)&&(oj(n,t,e,c),n[Ea]=(n[Ea]&4294901760)+c+2),c++}function IS(n,e){Ke(4,n,e);let t=Me(null);try{e.call(n)}finally{Me(t),Ke(5,n,e)}}function oj(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ge]>>14<n[Ea]>>16&&(n[ge]&3)===e&&(n[ge]+=16384,IS(a,o)):IS(a,o)}var Da=-1,os=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function sj(n){return(n.flags&8)!==0}function aj(n){return(n.flags&16)!==0}function cj(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];lj(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function qA(n){return n===3||n===4||n===6}function lj(n){return n.charCodeAt(0)===64}function Pa(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?TS(n,t,i,null,e[++r]):TS(n,t,i,null,null))}}return n}function TS(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function WA(n){return n!==Da}function mf(n){return n&32767}function uj(n){return n>>16}function gf(n,e){let t=uj(n),r=e;for(;t>0;)r=r[Oa],t--;return r}var by=!0;function vf(n){let e=by;return by=n,e}var dj=256,GA=dj-1,KA=5,hj=0,Or={};function fj(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Al)&&(r=t[Al]),r==null&&(r=t[Al]=hj++);let i=r&GA,o=1<<i;e.data[n+(i>>KA)]|=o}function _f(n,e){let t=YA(n,e);if(t!==-1)return t;let r=e[Ce];r.firstCreatePass&&(n.injectorIndex=e.length,J_(r.data,n),J_(e,null),J_(r.blueprint,null));let i=Cb(n,e),o=n.injectorIndex;if(WA(i)){let s=mf(i),a=gf(i,e),c=a[Ce].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function J_(n,e){n.push(0,0,0,0,0,0,0,0,e)}function YA(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Cb(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=ex(i),r===null)return Da;if(t++,i=i[Oa],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Da}function wy(n,e,t){fj(n,e,t)}function pj(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(qA(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function QA(n,e,t){if(t&Ee.Optional||n!==void 0)return n;ob(e,"NodeInjector")}function ZA(n,e,t,r){if(t&Ee.Optional&&r===void 0&&(r=null),(t&(Ee.Self|Ee.Host))===0){let i=n[Aa],o=Dn(void 0);try{return i?i.get(e,r,t&Ee.Optional):hA(e,r,t&Ee.Optional)}finally{Dn(o)}}return QA(r,e,t)}function XA(n,e,t,r=Ee.Default,i){if(n!==null){if(e[ge]&2048&&!(r&Ee.Self)){let s=_j(n,e,t,r,Or);if(s!==Or)return s}let o=JA(n,e,t,r,Or);if(o!==Or)return o}return ZA(e,t,r,i)}function JA(n,e,t,r,i){let o=gj(t);if(typeof o=="function"){if(!VA(e,n,r))return r&Ee.Host?QA(i,t,r):ZA(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&Ee.Optional))ob(t);else return s}finally{$A()}}else if(typeof o=="number"){let s=null,a=YA(n,e),c=Da,u=r&Ee.Host?e[Xn][Mn]:null;for((a===-1||r&Ee.SkipSelf)&&(c=a===-1?Cb(n,e):e[a+8],c===Da||!SS(r,!1)?a=-1:(s=e[Ce],a=mf(c),e=gf(c,e)));a!==-1;){let d=e[Ce];if(DS(o,a,d.data)){let p=mj(a,e,t,s,r,u);if(p!==Or)return p}c=e[a+8],c!==Da&&SS(r,e[Ce].data[a+8]===u)&&DS(o,a,e)?(s=d,a=mf(c),e=gf(c,e)):a=-1}}return i}function mj(n,e,t,r,i,o){let s=e[Ce],a=s.data[n+8],c=r==null?ka(a)&&by:r!=s&&(a.type&3)!==0,u=i&Ee.Host&&o===a,d=nf(a,s,t,c,u);return d!==null?Ol(e,s,d,a,i):Or}function nf(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,u=n.directiveEnd,d=o>>20,p=r?a:a+d,v=i?a+d:u;for(let _=p;_<v;_++){let S=s[_];if(_<c&&t===S||_>=c&&S.type===t)return _}if(i){let _=s[c];if(_&&kr(_)&&_.type===t)return c}return null}function Ol(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof os){let a=o;a.resolving&&uA(i2(s[t]));let c=vf(a.canSeeViewProviders);a.resolving=!0;let u,d=a.injectImpl?Dn(a.injectImpl):null,p=VA(n,r,Ee.Default);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&ij(t,s[t],e)}finally{d!==null&&Dn(d),vf(c),a.resolving=!1,$A()}}return o}function gj(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Al)?n[Al]:void 0;return typeof e=="number"?e>=0?e&GA:vj:e}function DS(n,e,t){let r=1<<n;return!!(t[e+(n>>KA)]&r)}function SS(n,e){return!(n&Ee.Self)&&!(n&Ee.Host&&e)}var Xo=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return XA(this._tNode,this._lView,e,Of(r),t)}};function vj(){return new Xo(_n(),Se())}function Ct(n){return Fl(()=>{let e=n.prototype.constructor,t=e[sf]||Ey(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[sf]||Ey(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ey(n){return oA(n)?()=>{let e=Ey(gn(n));return e&&e()}:Jo(n)}function _j(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ge]&2048&&!pf(s);){let a=JA(o,s,t,r|Ee.Self,Or);if(a!==Or)return a;let c=o.parent;if(!c){let u=s[CA];if(u){let d=u.get(t,Or,r);if(d!==Or)return d}c=ex(s),s=s[Oa]}o=c}return i}function ex(n){let e=n[Ce],t=e.type;return t===2?e.declTNode:t===1?n[Mn]:null}function Ib(n){return pj(_n(),n)}function AS(n,e=null,t=null,r){let i=tx(n,e,t,r);return i.resolveInjectorInitializers(),i}function tx(n,e=null,t=null,r,i=new Set){let o=[t||Sn,w2(n)];return r=r||(typeof n=="object"?void 0:An(n)),new Ml(o,e||Nf(),r||null,i)}var Le=class n{static THROW_IF_NOT_FOUND=Zo;static NULL=new uf;static create(e,t){if(Array.isArray(e))return AS({name:""},t,e,"");{let r=e.name??"";return AS({name:r},e.parent,e.providers,r)}}static \u0275prov=V({token:n,providedIn:"any",factory:()=>Y(mA)});static __NG_ELEMENT_ID__=-1};var yj=new $("");yj.__NG_ELEMENT_ID__=n=>{let e=_n();if(e===null)throw new K(204,!1);if(e.type&2)return e.value;if(n&Ee.Optional)return null;throw new K(204,!1)};var nx=!1,ds=(()=>{class n{static __NG_ELEMENT_ID__=bj;static __NG_ENV_ID__=t=>t}return n})(),Cy=class extends ds{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return Na(t)?(e(),()=>{}):(RA(t,e),()=>U2(t,e))}};function bj(){return new Cy(Se())}var ss=class{},rx=new $("",{providedIn:"root",factory:()=>!1});var ix=new $(""),ox=new $(""),Pi=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new tt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}return n})(),zf=(()=>{class n{internalPendingTasks=I(Pi);scheduler=I(ss);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return w(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}return n})(),Iy=class extends he{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,EA()&&(this.destroyRef=I(ds,{optional:!0})??void 0,this.pendingTasks=I(Pi,{optional:!0})??void 0)}emit(e){let t=Me(null);try{super.next(e)}finally{Me(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof et&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ze=Iy;function yf(...n){}function sx(n){let e,t;function r(){n=yf;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function xS(n){return queueMicrotask(()=>n()),()=>{n=yf}}var Tb="isAngularZone",bf=Tb+"_ID",wj=0,ce=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ze(!1);onMicrotaskEmpty=new Ze(!1);onStable=new Ze(!1);onError=new Ze(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=nx}=e;if(typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Ij(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Tb)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new K(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Ej,yf,yf);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Ej={};function Db(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Cj(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){sx(()=>{n.callbackScheduled=!1,Ty(n),n.isCheckStableRunning=!0,Db(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Ty(n)}function Ij(n){let e=()=>{Cj(n)},t=wj++;n._inner=n._inner.fork({name:"angular",properties:{[Tb]:!0,[bf]:t,[bf+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(Tj(c))return r.invokeTask(o,s,a,c);try{return MS(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),PS(n)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return MS(n),r.invoke(o,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Dj(c)&&e(),PS(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Ty(n),Db(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Ty(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function MS(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function PS(n){n._nesting--,Db(n)}var Dy=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ze;onMicrotaskEmpty=new Ze;onStable=new Ze;onError=new Ze;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function Tj(n){return ax(n,"__ignore_ng_zone__")}function Dj(n){return ax(n,"__scheduler_tick__")}function ax(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Lr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Sj=new $("",{providedIn:"root",factory:()=>{let n=I(ce),e=I(Lr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function RS(n,e){return rA(n,e)}function Aj(n){return rA(nA,n)}var cx=(RS.required=Aj,RS);function xj(){return Fa(_n(),Se())}function Fa(n,e){return new Je(jr(n,e))}var Je=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=xj}return n})();function Mj(n){return n instanceof Je?n.nativeElement:n}function Pj(n){return typeof n=="function"&&n[Yn]!==void 0}function hs(n,e){let t=D_(n,e?.equal),r=t[Yn];return t.set=i=>bl(r,i),t.update=i=>S_(r,i),t.asReadonly=Rj.bind(t),t}function Rj(){let n=this[Yn];if(n.readonlyFn===void 0){let e=()=>this();e[Yn]=n,n.readonlyFn=e}return n.readonlyFn}function lx(n){return Pj(n)&&typeof n.set=="function"}function Oj(){return this._results[Symbol.iterator]()}var Sy=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new he}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=m2(e);(this._changesDetected=!p2(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Oj};function ux(n){return(n.flags&128)===128}var dx=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(dx||{}),hx=new Map,kj=0;function Nj(){return kj++}function Fj(n){hx.set(n[Lf],n)}function Ay(n){hx.delete(n[Lf])}var OS="__ngContext__";function La(n,e){ho(e)?(n[OS]=e[Lf],Fj(e)):n[OS]=e}function fx(n){return mx(n[Rl])}function px(n){return mx(n[vr])}function mx(n){for(;n!==null&&!xi(n);)n=n[vr];return n}var xy;function gx(n){xy=n}function Lj(){if(xy!==void 0)return xy;if(typeof document<"u")return document;throw new K(210,!1)}var Bl=new $("",{providedIn:"root",factory:()=>Vj}),Vj="ng",Sb=new $(""),Br=new $("",{providedIn:"platform",factory:()=>"unknown"});var Ri=new $(""),Ul=new $("",{providedIn:"root",factory:()=>Lj().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var jj="h",Bj="b";var vx=!1,Uj=new $("",{providedIn:"root",factory:()=>vx});var Ab=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Ab||{}),Va=new $(""),kS=new Set;function fs(n){kS.has(n)||(kS.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var _x=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=$j}return n})();function $j(){return new _x(Se(),_n())}var Ca=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Ca||{}),yx=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}return n})(),Hj=[Ca.EarlyRead,Ca.Write,Ca.MixedReadWrite,Ca.Read],zj=(()=>{class n{ngZone=I(ce);scheduler=I(ss);errorHandler=I(Lr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){I(Va,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Ke(16),this.executing=!0;for(let r of Hj)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Ke(17)}register(t){let{view:r}=t;r!==void 0?((r[Ta]??=[]).push(t),Vl(r),r[ge]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Ab.AFTER_NEXT_RENDER,t):t()}static \u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}return n})(),My=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Ta];e&&(this.view[Ta]=e.filter(t=>t!==this))}};function $l(n,e){!e?.injector&&Ff($l);let t=e?.injector??I(Le);return fs("NgAfterRender"),bx(n,t,e,!1)}function ps(n,e){!e?.injector&&Ff(ps);let t=e?.injector??I(Le);return fs("NgAfterNextRender"),bx(n,t,e,!0)}function qj(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function bx(n,e,t,r){let i=e.get(yx);i.impl??=e.get(zj);let o=e.get(Va,null,{optional:!0}),s=t?.phase??Ca.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(ds):null,c=e.get(_x,null,{optional:!0}),u=new My(i.impl,qj(n,s),c?.view,r,a,o?.snapshot(null));return i.impl.register(u),u}var Wj=(n,e,t,r)=>{};function Gj(n,e,t,r){Wj(n,e,t,r)}var Kj=()=>null;function wx(n,e,t=!1){return Kj(n,e,t)}function Ex(n,e){let t=n.contentQueries;if(t!==null){let r=Me(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];yb(o),a.contentQueries(2,e[s],s)}}}finally{Me(r)}}}function Py(n,e,t){yb(0);let r=Me(null);try{e(n,t)}finally{Me(r)}}function xb(n,e,t){if(lb(e)){let r=Me(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{Me(r)}}}var Vr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Vr||{});var Zh;function Yj(){if(Zh===void 0&&(Zh=null,Qo.trustedTypes))try{Zh=Qo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Zh}function NS(n){return Yj()?.createScriptURL(n)||n}var wf=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${eA})`}};function Hl(n){return n instanceof wf?n.changingThisBreaksApplicationSecurity:n}function Cx(n,e){let t=Qj(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${eA})`)}return t===e}function Qj(n){return n instanceof wf&&n.getTypeName()||null}var Zj=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Xj(n){return n=String(n),n.match(Zj)?n:"unsafe:"+n}var Mb=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Mb||{});function po(n){let e=Tx();return e?e.sanitize(Mb.URL,n)||"":Cx(n,"URL")?Hl(n):Xj(wi(n))}function Jj(n){let e=Tx();if(e)return NS(e.sanitize(Mb.RESOURCE_URL,n)||"");if(Cx(n,"ResourceURL"))return NS(Hl(n));throw new K(904,!1)}function eB(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?Jj:po}function Ix(n,e,t){return eB(e,t)(n)}function Tx(){let n=Se();return n&&n[Ei].sanitizer}var tB=/^>|^->|<!--|-->|--!>|<!-$/g,nB=/(<|>)/g,rB="\u200B$1\u200B";function iB(n){return n.replace(tB,e=>e.replace(nB,rB))}function Dx(n){return n.ownerDocument}function Sx(n){return n instanceof Function?n():n}function oB(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var Ax="ng-template";function sB(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&oB(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Pb(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Pb(n){return n.type===4&&n.value!==Ax}function aB(n,e,t){let r=n.type===4&&!t?Ax:n.value;return e===r}function cB(n,e,t){let r=4,i=n.attrs,o=i!==null?dB(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!mr(r)&&!mr(c))return!1;if(s&&mr(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!aB(n,c,t)||c===""&&e.length===1){if(mr(r))return!1;s=!0}}else if(r&8){if(i===null||!sB(n,i,c,t)){if(mr(r))return!1;s=!0}}else{let u=e[++a],d=lB(c,i,Pb(n),t);if(d===-1){if(mr(r))return!1;s=!0;continue}if(u!==""){let p;if(d>o?p="":p=i[d+1].toLowerCase(),r&2&&u!==p){if(mr(r))return!1;s=!0}}}}return mr(r)||s}function mr(n){return(n&1)===0}function lB(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return hB(e,n)}function xx(n,e,t=!1){for(let r=0;r<e.length;r++)if(cB(n,e[r],t))return!0;return!1}function uB(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function dB(n){for(let e=0;e<n.length;e++){let t=n[e];if(qA(t))return e}return n.length}function hB(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function fB(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function FS(n,e){return n?":not("+e.trim()+")":e}function pB(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!mr(s)&&(e+=FS(o,i),i=""),r=s,o=o||!mr(r);t++}return i!==""&&(e+=FS(o,i)),e}function mB(n){return n.map(pB).join(",")}function gB(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!mr(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var yn={};function vB(n,e){return n.createText(e)}function _B(n,e,t){n.setValue(e,t)}function yB(n,e){return n.createComment(iB(e))}function Mx(n,e,t){return n.createElement(e,t)}function Ef(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Px(n,e,t){n.appendChild(e,t)}function LS(n,e,t,r,i){r!==null?Ef(n,e,t,r,i):Px(n,e,t)}function bB(n,e,t){n.removeChild(null,e,t)}function wB(n,e,t){n.setAttribute(e,"style",t)}function EB(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Rx(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&cj(n,e,r),i!==null&&EB(n,e,i),o!==null&&wB(n,e,o)}function Rb(n,e,t,r,i,o,s,a,c,u,d){let p=Ft+r,v=p+i,_=CB(p,v),S=typeof u=="function"?u():u;return _[Ce]={type:n,blueprint:_,template:t,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:S,incompleteFirstPass:!1,ssrId:d}}function CB(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:yn);return t}function IB(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Rb(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Ob(n,e,t,r,i,o,s,a,c,u,d){let p=e.blueprint.slice();return p[Ai]=i,p[ge]=r|4|128|8|64|1024,(u!==null||n&&n[ge]&2048)&&(p[ge]|=2048),MA(p),p[sn]=p[Oa]=n,p[vn]=t,p[Ei]=s||n&&n[Ei],p[ft]=a||n&&n[ft],p[Aa]=c||n&&n[Aa]||null,p[Mn]=o,p[Lf]=Nj(),p[Pl]=d,p[CA]=u,p[Xn]=e.type==2?n[Xn]:p,p}function TB(n,e,t){let r=jr(e,n),i=IB(t),o=n[Ei].rendererFactory,s=kb(n,Ob(n,i,null,Ox(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function Ox(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function kx(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function kb(n,e){return n[Rl]?n[wS][vr]=e:n[Rl]=e,n[wS]=e,e}function E(n=1){Nx(Et(),Se(),Mi()+n,!1)}function Nx(n,e,t,r){if(!r)if((e[ge]&3)===3){let o=n.preOrderCheckHooks;o!==null&&ef(e,o,t)}else{let o=n.preOrderHooks;o!==null&&tf(e,o,0,t)}is(t)}var qf=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(qf||{});function Ry(n,e,t,r){let i=Me(null);try{let[o,s,a]=n.inputs[t],c=null;(s&qf.SignalBased)!==0&&(c=e[o][Yn]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):TA(e,c,o,r)}finally{Me(i)}}function Fx(n,e,t,r,i){let o=Mi(),s=r&2;try{is(-1),s&&e.length>Ft&&Nx(n,e,Ft,!1),Ke(s?2:0,i),t(r,i)}finally{is(o),Ke(s?3:1,i)}}function Wf(n,e,t){PB(n,e,t),(t.flags&64)===64&&RB(n,e,t)}function Nb(n,e,t=jr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function DB(n,e,t,r){let o=r.get(Uj,vx)||t===Vr.ShadowDom,s=n.selectRootElement(e,o);return SB(s),s}function SB(n){AB(n)}var AB=()=>null;function xB(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Fb(n,e,t,r,i,o,s,a){if(!a&&Vb(e,n,t,r,i)){ka(e)&&MB(t,e.index);return}if(e.type&3){let c=jr(e,t);r=xB(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)}else e.type&12}function MB(n,e){let t=Fr(e,n);t[ge]&16||(t[ge]|=64)}function PB(n,e,t){let r=t.directiveStart,i=t.directiveEnd;ka(t)&&TB(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||_f(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=Ol(e,n,s,t);if(La(c,e),o!==null&&FB(e,s-r,c,a,t,o),kr(a)){let u=Fr(t.index,e);u[vn]=Ol(e,n,s,t)}}}function RB(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=J2();try{is(o);for(let a=r;a<i;a++){let c=n.data[a],u=e[a];yy(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&OB(c,u)}}finally{is(-1),yy(s)}}function OB(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Lb(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];xx(e,o.selectors,!1)&&(r??=[],kr(o)?r.unshift(o):r.push(o))}return r}function kB(n,e,t,r,i,o){let s=jr(n,e);NB(e[ft],s,o,n.value,t,r,i)}function NB(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?wi(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function FB(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];Ry(r,t,c,u)}}function LB(n,e){let t=n[Aa],r=t?t.get(Lr,null):null;r&&r.handleError(e)}function Vb(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],d=s[c+1],p=e.data[u];Ry(p,t[u],d,i),a=!0}if(o)for(let c of o){let u=t[c],d=e.data[c];Ry(d,u,r,i),a=!0}return a}function VB(n,e){let t=Fr(e,n),r=t[Ce];jB(r,t);let i=t[Ai];i!==null&&t[Pl]===null&&(t[Pl]=wx(i,t[Aa])),Ke(18),jb(r,t,t[vn]),Ke(19,t[vn])}function jB(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function jb(n,e,t){bb(e);try{let r=n.viewQuery;r!==null&&Py(1,r,t);let i=n.template;i!==null&&Fx(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ci]?.finishViewCreation(n),n.staticContentQueries&&Ex(n,e),n.staticViewQueries&&Py(2,n.viewQuery,t);let o=n.components;o!==null&&BB(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ge]&=-5,wb()}}function BB(n,e){for(let t=0;t<e.length;t++)VB(n,e[t])}function Bb(n,e,t,r){let i=Me(null);try{let o=e.tView,a=n[ge]&4096?4096:16,c=Ob(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[ts]=u;let d=n[Ci];return d!==null&&(c[Ci]=d.createEmbeddedView(o)),jb(o,c,t),c}finally{Me(i)}}function Cf(n,e){return!e||e.firstChild===null||ux(n)}var UB;function Ub(n,e){return UB(n,e)}var Ii=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ii||{});function $b(n){return(n.flags&32)===32}function Ia(n,e,t,r,i){if(r!=null){let o,s=!1;xi(r)?o=r:ho(r)&&(s=!0,r=r[Ai]);let a=Nr(r);n===0&&t!==null?i==null?Px(e,t,a):Ef(e,t,a,i||null,!0):n===1&&t!==null?Ef(e,t,a,i||null,!0):n===2?bB(e,a,s):n===3&&e.destroyNode(a),o!=null&&ZB(e,n,o,t,i)}}function $B(n,e){Lx(n,e),e[Ai]=null,e[Mn]=null}function HB(n,e,t,r,i,o){r[Ai]=i,r[Mn]=e,Kf(n,r,t,1,i,o)}function Lx(n,e){e[Ei].changeDetectionScheduler?.notify(9),Kf(n,e,e[ft],2,null,null)}function zB(n){let e=n[Rl];if(!e)return ey(n[Ce],n);for(;e;){let t=null;if(ho(e))t=e[Rl];else{let r=e[xn];r&&(t=r)}if(!t){for(;e&&!e[vr]&&e!==n;)ho(e)&&ey(e[Ce],e),e=e[sn];e===null&&(e=n),ho(e)&&ey(e[Ce],e),t=e&&e[vr]}e=t}}function Hb(n,e){let t=n[xa],r=t.indexOf(e);t.splice(r,1)}function zb(n,e){if(Na(e))return;let t=e[ft];t.destroyNode&&Kf(n,e,t,3,null,null),zB(e)}function ey(n,e){if(Na(e))return;let t=Me(null);try{e[ge]&=-129,e[ge]|=256,e[Zn]&&C_(e[Zn]),WB(n,e),qB(n,e),e[Ce].type===1&&e[ft].destroy();let r=e[ts];if(r!==null&&xi(e[sn])){r!==e[sn]&&Hb(r,e);let i=e[Ci];i!==null&&i.detachView(n)}Ay(e)}finally{Me(t)}}function qB(n,e){let t=n.cleanup,r=e[df];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[df]=null);let i=e[uo];if(i!==null){e[uo]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[hf];if(o!==null){e[hf]=null;for(let s of o)s.destroy()}}function WB(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof os)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Ke(4,a,c);try{c.call(a)}finally{Ke(5,a,c)}}else{Ke(4,i,o);try{o.call(i)}finally{Ke(5,i,o)}}}}}function Vx(n,e,t){return GB(n,e.parent,t)}function GB(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Ai];if(ka(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Vr.None||i===Vr.Emulated)return null}return jr(r,t)}function jx(n,e,t){return YB(n,e,t)}function KB(n,e,t){return n.type&40?jr(n,t):null}var YB=KB,VS;function Gf(n,e,t,r){let i=Vx(n,r,e),o=e[ft],s=r.parent||e[Mn],a=jx(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)LS(o,i,t[c],a,!1);else LS(o,i,t,a,!1);VS!==void 0&&VS(o,r,e,t,i)}function Sl(n,e){if(e!==null){let t=e.type;if(t&3)return jr(e,n);if(t&4)return Oy(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Sl(n,r);{let i=n[e.index];return xi(i)?Oy(-1,i):Nr(i)}}else{if(t&128)return Sl(n,e.next);if(t&32)return Ub(e,n)()||Nr(n[e.index]);{let r=Bx(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=rs(n[Xn]);return Sl(i,r)}else return Sl(n,e.next)}}}return null}function Bx(n,e){if(e!==null){let r=n[Xn][Mn],i=e.projection;return r.projection[i]}return null}function Oy(n,e){let t=xn+n+1;if(t<e.length){let r=e[t],i=r[Ce].firstChild;if(i!==null)return Sl(r,i)}return e[ns]}function qb(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&La(Nr(a),r),t.flags|=2),!$b(t))if(c&8)qb(n,e,t.child,r,i,o,!1),Ia(e,n,i,a,o);else if(c&32){let u=Ub(t,r),d;for(;d=u();)Ia(e,n,i,d,o);Ia(e,n,i,a,o)}else c&16?Ux(n,e,r,t,i,o):Ia(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Kf(n,e,t,r,i,o){qb(t,r,n.firstChild,e,i,o,!1)}function QB(n,e,t){let r=e[ft],i=Vx(n,t,e),o=t.parent||e[Mn],s=jx(o,t,e);Ux(r,0,e,t,i,s)}function Ux(n,e,t,r,i,o){let s=t[Xn],c=s[Mn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];Ia(e,n,i,d,o)}else{let u=c,d=s[sn];ux(r)&&(u.flags|=128),qb(n,e,u,d,i,o,!0)}}function ZB(n,e,t,r,i){let o=t[ns],s=Nr(t);o!==s&&Ia(e,n,r,o,i);for(let a=xn;a<t.length;a++){let c=t[a];Kf(c[Ce],c,n,e,r,o)}}function XB(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Ii.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ii.Important),n.setStyle(t,r,i,o))}}function If(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Nr(o)),xi(o)&&JB(o,r);let s=t.type;if(s&8)If(n,e,t.child,r);else if(s&32){let a=Ub(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=Bx(e,t);if(Array.isArray(a))r.push(...a);else{let c=rs(e[Xn]);If(c[Ce],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function JB(n,e){for(let t=xn;t<n.length;t++){let r=n[t],i=r[Ce].firstChild;i!==null&&If(r[Ce],r,i,e)}n[ns]!==n[Ai]&&e.push(n[ns])}function $x(n){if(n[Ta]!==null){for(let e of n[Ta])e.impl.addSequence(e);n[Ta].length=0}}var Hx=[];function eU(n){return n[Zn]??tU(n)}function tU(n){let e=Hx.pop()??Object.create(rU);return e.lView=n,e}function nU(n){n.lView[Zn]!==n&&(n.lView=null,Hx.push(n))}var rU=ee(L({},_l),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Vl(n.lView)},consumerOnSignalRead(){this.lView[Zn]=this}});function iU(n){let e=n[Zn]??Object.create(oU);return e.lView=n,e}var oU=ee(L({},_l),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=rs(n.lView);for(;e&&!zx(e[Ce]);)e=rs(e);e&&PA(e)},consumerOnSignalRead(){this.lView[Zn]=this}});function zx(n){return n.type!==2}function qx(n){if(n[hf]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[hf])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ge]&8192)}}var sU=100;function Wx(n,e=!0,t=0){let i=n[Ei].rendererFactory,o=!1;o||i.begin?.();try{aU(n,t)}catch(s){throw e&&LB(n,s),s}finally{o||i.end?.()}}function aU(n,e){let t=NA();try{CS(!0),ky(n,e);let r=0;for(;jf(n);){if(r===sU)throw new K(103,!1);r++,ky(n,1)}}finally{CS(t)}}function cU(n,e,t,r){if(Na(e))return;let i=e[ge],o=!1,s=!1;bb(e);let a=!0,c=null,u=null;o||(zx(n)?(u=eU(e),c=gh(u)):v_()===null?(a=!1,u=iU(e),c=gh(u)):e[Zn]&&(C_(e[Zn]),e[Zn]=null));try{MA(e),Q2(n.bindingStartIndex),t!==null&&Fx(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let _=n.preOrderCheckHooks;_!==null&&ef(e,_,null)}else{let _=n.preOrderHooks;_!==null&&tf(e,_,0,null),X_(e,0)}if(s||lU(e),qx(e),Gx(e,0),n.contentQueries!==null&&Ex(n,e),!o)if(d){let _=n.contentCheckHooks;_!==null&&ef(e,_)}else{let _=n.contentHooks;_!==null&&tf(e,_,1),X_(e,1)}dU(n,e);let p=n.components;p!==null&&Yx(e,p,0);let v=n.viewQuery;if(v!==null&&Py(2,v,r),!o)if(d){let _=n.viewCheckHooks;_!==null&&ef(e,_)}else{let _=n.viewHooks;_!==null&&tf(e,_,2),X_(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Z_]){for(let _ of e[Z_])_();e[Z_]=null}o||($x(e),e[ge]&=-73)}catch(d){throw o||Vl(e),d}finally{u!==null&&(w_(u,c),a&&nU(u)),wb()}}function Gx(n,e){for(let t=fx(n);t!==null;t=px(t))for(let r=xn;r<t.length;r++){let i=t[r];Kx(i,e)}}function lU(n){for(let e=fx(n);e!==null;e=px(e)){if(!(e[ge]&2))continue;let t=e[xa];for(let r=0;r<t.length;r++){let i=t[r];PA(i)}}}function uU(n,e,t){Ke(18);let r=Fr(e,n);Kx(r,t),Ke(19,r[vn])}function Kx(n,e){hb(n)&&ky(n,e)}function ky(n,e){let r=n[Ce],i=n[ge],o=n[Zn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&E_(o)),s||=!1,o&&(o.dirty=!1),n[ge]&=-9217,s)cU(r,n,r.template,n[vn]);else if(i&8192){qx(n),Gx(n,1);let a=r.components;a!==null&&Yx(n,a,1),$x(n)}}function Yx(n,e,t){for(let r=0;r<e.length;r++)uU(n,e[r],t)}function dU(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)is(~i);else{let o=i,s=t[++r],a=t[++r];X2(s,o);let c=e[o];Ke(24,c),a(2,c),Ke(25,c)}}}finally{is(-1)}}function Wb(n,e){let t=NA()?64:1088;for(n[Ei].changeDetectionScheduler?.notify(e);n;){n[ge]|=t;let r=rs(n);if(pf(n)&&!r)return n;n=r}return null}function Qx(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function hU(n,e){let t=xn+e;if(t<n.length)return n[t]}function Gb(n,e,t,r=!0){let i=e[Ce];if(pU(i,e,n,t),r){let s=Oy(t,n),a=e[ft],c=a.parentNode(n[ns]);c!==null&&HB(i,n[Mn],a,e,c,s)}let o=e[Pl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function fU(n,e){let t=Tf(n,e);return t!==void 0&&zb(t[Ce],t),t}function Tf(n,e){if(n.length<=xn)return;let t=xn+e,r=n[t];if(r){let i=r[ts];i!==null&&i!==n&&Hb(i,r),e>0&&(n[t-1][vr]=r[vr]);let o=lf(n,xn+e);$B(r[Ce],r);let s=o[Ci];s!==null&&s.detachView(o[Ce]),r[sn]=null,r[vr]=null,r[ge]&=-129}return r}function pU(n,e,t,r){let i=xn+r,o=t.length;r>0&&(t[i-1][vr]=e),r<o-xn?(e[vr]=t[i],pA(t,xn+r,e)):(t.push(e),e[vr]=null),e[sn]=t;let s=e[ts];s!==null&&t!==s&&Zx(s,e);let a=e[Ci];a!==null&&a.insertView(n),vy(e),e[ge]|=128}function Zx(n,e){let t=n[xa],r=e[sn];if(ho(r))n[ge]|=2;else{let i=r[sn][Xn];e[Xn]!==i&&(n[ge]|=2)}t===null?n[xa]=[e]:t.push(e)}var kl=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[Ce];return If(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[vn]}set context(e){this._lView[vn]=e}get destroyed(){return Na(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[sn];if(xi(e)){let t=e[ff],r=t?t.indexOf(this):-1;r>-1&&(Tf(e,r),lf(t,r))}this._attachedToViewContainer=!1}zb(this._lView[Ce],this._lView)}onDestroy(e){RA(this._lView,e)}markForCheck(){Wb(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ge]&=-129}reattach(){vy(this._lView),this._lView[ge]|=128}detectChanges(){this._lView[ge]|=1024,Wx(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=pf(this._lView),t=this._lView[ts];t!==null&&!e&&Hb(t,this._lView),Lx(this._lView[Ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=e;let t=pf(this._lView),r=this._lView[ts];r!==null&&!t&&Zx(r,this._lView),vy(this._lView)}};var Jn=(()=>{class n{static __NG_ELEMENT_ID__=vU}return n})(),mU=Jn,gU=class extends mU{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Bb(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new kl(i)}};function vU(){return Yf(_n(),Se())}function Yf(n,e){return n.type&4?new gU(e,n,Fa(n,e)):null}function zl(n,e,t,r,i){let o=n.data[e];if(o===null)o=_U(n,e,t,r,i),Z2()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=K2();o.injectorIndex=s===null?-1:s.injectorIndex}return us(o,!0),o}function _U(n,e,t,r,i){let o=kA(),s=gb(),a=s?o:o&&o.parent,c=n.data[e]=bU(n,a,t,e,r,i);return yU(n,c,o,s),c}function yU(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function bU(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return OA()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var jne=new RegExp(`^(\\d+)*(${Bj}|${jj})*(.*)`);var wU=()=>null;function Df(n,e){return wU(n,e)}var EU=class{},Xx=class{},Ny=class{resolveComponentFactory(e){throw Error(`No component factory found for ${An(e)}.`)}},Qf=class{static NULL=new Ny},Gt=class{},br=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>CU()}return n})();function CU(){let n=Se(),e=_n(),t=Fr(e.index,n);return(ho(t)?t:n)[ft]}var IU=(()=>{class n{static \u0275prov=V({token:n,providedIn:"root",factory:()=>null})}return n})();var ty={},Fy=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Of(r);let i=this.injector.get(e,ty,r);return i!==ty||t===ty?i:this.parentInjector.get(e,t,r)}};function Ly(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=ly(i,a);else if(o==2){let c=a,u=e[++s];r=ly(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function j(n,e=Ee.Default){let t=Se();if(t===null)return Y(n,e);let r=_n();return XA(r,t,gn(n),e)}function Jx(){let n="invalid";throw new Error(n)}function Kb(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,c=null,u=null,d=DU(s);d===null?a=s:[a,c,u]=d,xU(n,e,t,a,o,c,u)}o!==null&&r!==null&&TU(t,r,o)}function TU(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new K(-301,!1);r.push(e[i],o)}}function DU(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&kr(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,SU(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function SU(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function AU(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function xU(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let v=0;v<a;v++){let _=r[v];!c&&kr(_)&&(c=!0,AU(n,t,v)),wy(_f(t,e),n,_.type)}NU(t,n.data.length,a);for(let v=0;v<a;v++){let _=r[v];_.providersResolver&&_.providersResolver(_)}let u=!1,d=!1,p=kx(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let v=0;v<a;v++){let _=r[v];if(t.mergedAttrs=Pa(t.mergedAttrs,_.hostAttrs),PU(n,t,e,p,_),kU(p,_,i),s!==null&&s.has(_)){let[R,k]=s.get(_);t.directiveToIndex.set(_.type,[p,R+t.directiveStart,k+t.directiveStart])}else(o===null||!o.has(_))&&t.directiveToIndex.set(_.type,p);_.contentQueries!==null&&(t.flags|=4),(_.hostBindings!==null||_.hostAttrs!==null||_.hostVars!==0)&&(t.flags|=64);let S=_.type.prototype;!u&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!d&&(S.ngOnChanges||S.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),p++}MU(n,t,o)}function MU(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))jS(0,e,i,r),jS(1,e,i,r),US(e,r,!1);else{let o=t.get(i);BS(0,e,o,r),BS(1,e,o,r),US(e,r,!0)}}}function jS(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),eM(e,o)}}function BS(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),eM(e,s)}}function eM(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function US(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Pb(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let u=i[c];for(let d of u)if(d===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let u=o[c];for(let d=0;d<u.length;d+=2)if(u[d]===e){s??=[],s.push(u[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function PU(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Jo(i.type,!0)),s=new os(o,kr(i),j);n.blueprint[r]=s,t[r]=s,RU(n,e,r,kx(n,t,i.hostVars,yn),i)}function RU(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;OU(s)!=a&&s.push(a),s.push(t,r,o)}}function OU(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function kU(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;kr(e)&&(t[""]=n)}}function NU(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function tM(n,e,t,r,i,o,s,a){let c=e.consts,u=Ma(c,s),d=zl(e,n,2,r,u);return o&&Kb(e,t,d,Ma(c,a),i),d.mergedAttrs=Pa(d.mergedAttrs,d.attrs),d.attrs!==null&&Ly(d,d.attrs,!1),d.mergedAttrs!==null&&Ly(d,d.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,d),d}function nM(n,e){Eb(n,e),lb(e)&&n.queries.elementEnd(e)}var Sf=class extends Qf{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=fo(e);return new as(t,this.ngModule)}};function FU(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&qf.SignalBased)!==0};return i&&(o.transform=i),o})}function LU(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function VU(n,e,t){let r=e instanceof ct?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Fy(t,r):t}function jU(n){let e=n.get(Gt,null);if(e===null)throw new K(407,!1);let t=n.get(IU,null),r=n.get(ss,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function BU(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return Mx(e,t,t==="svg"?N2:t==="math"?F2:null)}var as=class extends Xx{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=FU(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=LU(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=mB(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Ke(22);let o=Me(null);try{let s=this.componentDef,a=r?["ng-version","19.2.13"]:gB(this.componentDef.selectors[0]),c=Rb(0,null,null,1,0,null,null,null,null,[a],null),u=VU(s,i||this.ngModule,e),d=jU(u),p=d.rendererFactory.createRenderer(null,s),v=r?DB(p,r,s.encapsulation,u):BU(s,p),_=Ob(null,c,null,512|Ox(s),null,null,d,p,u,null,wx(v,u,!0));_[Ft]=v,bb(_);let S=null;try{let R=tM(Ft,c,_,"#host",()=>[this.componentDef],!0,0);v&&(Rx(p,v,R),La(v,_)),Wf(c,_,R),xb(c,R,_),nM(c,R),t!==void 0&&UU(R,this.ngContentSelectors,t),S=Fr(R.index,_),_[vn]=S[vn],jb(c,_,null)}catch(R){throw S!==null&&Ay(S),Ay(_),R}finally{Ke(23),wb()}return new Vy(this.componentType,_)}finally{Me(o)}}},Vy=class extends EU{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=ub(t[Ce],Ft),this.location=Fa(this._tNode,t),this.instance=Fr(this._tNode.index,t)[vn],this.hostView=this.changeDetectorRef=new kl(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Vb(r,i[Ce],i,e,t);this.previousInputValues.set(e,t);let s=Fr(r.index,i);Wb(s,1)}get injector(){return new Xo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function UU(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var er=(()=>{class n{static __NG_ELEMENT_ID__=$U}return n})();function $U(){let n=_n();return iM(n,Se())}var HU=er,rM=class extends HU{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Fa(this._hostTNode,this._hostLView)}get injector(){return new Xo(this._hostTNode,this._hostLView)}get parentInjector(){let e=Cb(this._hostTNode,this._hostLView);if(WA(e)){let t=gf(e,this._hostLView),r=mf(e),i=t[Ce].data[r+8];return new Xo(i,t)}else return new Xo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=$S(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-xn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Df(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Cf(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!P2(e),a;if(s)a=t;else{let S=t||{};a=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let c=s?e:new as(fo(e)),u=r||this.parentInjector;if(!o&&c.ngModule==null){let R=(s?u:this.parentInjector).get(ct,null);R&&(o=R)}let d=fo(c.componentType??{}),p=Df(this._lContainer,d?.id??null),v=p?.firstChild??null,_=c.create(u,i,v,o);return this.insertImpl(_.hostView,a,Cf(this._hostTNode,p)),_}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(j2(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[sn],u=new rM(c,c[Mn],c[sn]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Gb(s,i,o,r),e.attachToViewContainerRef(),pA(ny(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=$S(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Tf(this._lContainer,t);r&&(lf(ny(this._lContainer),t),zb(r[Ce],r))}detach(e){let t=this._adjustIndex(e,-1),r=Tf(this._lContainer,t);return r&&lf(ny(this._lContainer),t)!=null?new kl(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function $S(n){return n[ff]}function ny(n){return n[ff]||(n[ff]=[])}function iM(n,e){let t,r=e[n.index];return xi(r)?t=r:(t=Qx(r,e,null,n),e[n.index]=t,kb(e,t)),qU(t,e,n,r),new rM(t,n,e)}function zU(n,e){let t=n[ft],r=t.createComment(""),i=jr(e,n),o=t.parentNode(i);return Ef(t,o,r,t.nextSibling(i),!1),r}var qU=KU,WU=()=>!1;function GU(n,e,t){return WU(n,e,t)}function KU(n,e,t,r){if(n[ns])return;let i;t.type&8?i=Nr(r):i=zU(e,t),n[ns]=i}var jy=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},By=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Yb(e,t).matches!==null&&this.queries[t].setDirty()}},Uy=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=n3(e):this.predicate=e}},$y=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Hy=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,YU(t,o)),this.matchTNodeWithReadOption(e,t,nf(t,e,o,!1,!1))}else r===Jn?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,nf(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Je||i===er||i===Jn&&t.type&4)this.addMatch(t.index,-2);else{let o=nf(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function YU(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function QU(n,e){return n.type&11?Fa(n,e):n.type&4?Yf(n,e):null}function ZU(n,e,t,r){return t===-1?QU(e,n):t===-2?XU(n,e,r):Ol(n,n[Ce],t,e)}function XU(n,e,t){if(t===Je)return Fa(e,n);if(t===Jn)return Yf(e,n);if(t===er)return iM(e,n)}function oM(n,e,t,r){let i=e[Ci].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let d=o[u];a.push(ZU(e,d,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function zy(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=oM(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],d=e[-c];for(let p=xn;p<d.length;p++){let v=d[p];v[ts]===v[sn]&&zy(v[Ce],v,u,r)}if(d[xa]!==null){let p=d[xa];for(let v=0;v<p.length;v++){let _=p[v];zy(_[Ce],_,u,r)}}}}}return r}function JU(n,e){return n[Ci].queries[e].queryList}function e3(n,e,t){let r=new Sy((t&4)===4);return $2(n,e,r,r.destroy),(e[Ci]??=new By).queries.push(new jy(r))-1}function t3(n,e,t){let r=Et();return r.firstCreatePass&&(r3(r,new Uy(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),e3(r,Se(),e)}function n3(n){return n.split(",").map(e=>e.trim())}function r3(n,e,t){n.queries===null&&(n.queries=new $y),n.queries.track(new Hy(e,t))}function Yb(n,e){return n.queries.getByIndex(e)}function i3(n,e){let t=n[Ce],r=Yb(t,e);return r.crossesNgTemplate?zy(t,n,e,[]):oM(t,n,r,e)}var Ti=class{},Qb=class{};var qy=class extends Ti{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Sf(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=vA(e);this._bootstrapComponents=Sx(o.bootstrap),this._r3Injector=tx(e,t,[{provide:Ti,useValue:this},{provide:Qf,useValue:this.componentFactoryResolver},...r],An(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Wy=class extends Qb{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new qy(this.moduleType,e,[])}};var Af=class extends Ti{injector;componentFactoryResolver=new Sf(this);instance=null;constructor(e){super();let t=new Ml([...e.providers,{provide:Ti,useValue:this},{provide:Qf,useValue:this.componentFactoryResolver}],e.parent||Nf(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ql(n,e,t=null){return new Af({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var o3=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=_A(!1,t.type),i=r.length>0?ql([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=V({token:n,providedIn:"environment",factory:()=>new n(Y(ct))})}return n})();function Pe(n){return Fl(()=>{let e=sM(n),t=ee(L({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===dx.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(o3).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Vr.Emulated,styles:n.styles||Sn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&fs("NgStandalone"),aM(t);let r=n.dependencies;return t.directiveDefs=HS(r,!1),t.pipeDefs=HS(r,!0),t.id=u3(t),t})}function s3(n){return fo(n)||y2(n)}function a3(n){return n!==null}function Yt(n){return Fl(()=>({type:n.type,bootstrap:n.bootstrap||Sn,declarations:n.declarations||Sn,imports:n.imports||Sn,exports:n.exports||Sn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function c3(n,e){if(n==null)return es;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=qf.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function l3(n){if(n==null)return es;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function fe(n){return Fl(()=>{let e=sM(n);return aM(e),e})}function ms(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function sM(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||es,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Sn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:c3(n.inputs,e),outputs:l3(n.outputs),debugInfo:null}}function aM(n){n.features?.forEach(e=>e(n))}function HS(n,e){if(!n)return null;let t=e?b2:s3;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(a3)}function u3(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function d3(n){return Object.getPrototypeOf(n.prototype).constructor}function We(n){let e=d3(n.type),t=!0,r=[n];for(;e;){let i;if(kr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new K(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=ry(n.inputs),s.declaredInputs=ry(n.declaredInputs),s.outputs=ry(n.outputs);let a=i.hostBindings;a&&g3(n,a);let c=i.viewQuery,u=i.contentQueries;if(c&&p3(n,c),u&&m3(n,u),h3(n,i),QV(n.outputs,i.outputs),kr(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===We&&(t=!1)}}e=Object.getPrototypeOf(e)}f3(r)}function h3(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function f3(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Pa(i.hostAttrs,t=Pa(t,i.hostAttrs))}}function ry(n){return n===es?{}:n===Sn?[]:n}function p3(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function m3(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function g3(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function cM(n){return _3(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function v3(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function _3(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function lM(n,e,t){return n[e]=t}function _r(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Zb(n,e,t,r){let i=_r(n,e,t);return _r(n,e+1,r)||i}function y3(n,e,t,r,i){let o=Zb(n,e,t,r);return _r(n,e+2,i)||o}function b3(n,e,t,r,i,o,s,a,c){let u=e.consts,d=zl(e,n,4,s||null,a||null);mb()&&Kb(e,t,d,Ma(u,c),Lb),d.mergedAttrs=Pa(d.mergedAttrs,d.attrs),Eb(e,d);let p=d.tView=Rb(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),p.queries=e.queries.embeddedTView(d)),d}function uM(n,e,t,r,i,o,s,a,c,u){let d=t+Ft,p=e.firstCreatePass?b3(d,e,n,r,i,o,s,a,c):e.data[d];us(p,!1);let v=w3(e,n,p,t);$f()&&Gf(e,n,v,p),La(v,n);let _=Qx(v,n,v,p);return n[d]=_,kb(n,_),GU(_,p,n),Vf(p)&&Wf(e,n,p),c!=null&&Nb(n,p,u),p}function G(n,e,t,r,i,o,s,a){let c=Se(),u=Et(),d=Ma(u.consts,o);return uM(c,u,n,e,t,r,i,d,s,a),G}var w3=E3;function E3(n,e,t,r){return Hf(!0),e[ft].createComment("")}var dM=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var hM=new $("");var C3=(()=>{class n{static \u0275prov=V({token:n,providedIn:"root",factory:()=>new Gy})}return n})(),Gy=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function mo(n){return!!n&&typeof n.then=="function"}function Xb(n){return!!n&&typeof n.subscribe=="function"}var fM=new $("");function Jb(n){return Si([{provide:fM,multi:!0,useValue:n}])}var pM=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=I(fM,{optional:!0})??[];injector=I(Le);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Lt(this.injector,i);if(mo(o))t.push(o);else if(Xb(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zf=new $("");function I3(){T_(()=>{throw new K(600,!1)})}function T3(n){return n.isBoundToModule}var D3=10;var yr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=I(Sj);afterRenderManager=I(yx);zonelessEnabled=I(rx);rootEffectScheduler=I(C3);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new he;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=I(Pi).hasPendingTasks.pipe(de(t=>!t));constructor(){I(Va,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=I(ct);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Le.NULL){Ke(10);let o=t instanceof Xx;if(!this._injector.get(pM).done){let _="";throw new K(405,_)}let a;o?a=t:a=this._injector.get(Qf).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let c=T3(a)?void 0:this._injector.get(Ti),u=r||a.selector,d=a.create(i,[],u,c),p=d.location.nativeElement,v=d.injector.get(hM,null);return v?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),rf(this.components,d),v?.unregisterApplication(p)}),this._loadComponent(d),Ke(11,d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ke(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Ab.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new K(101,!1);let t=Me(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Me(t),this.afterTick.next(),Ke(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Gt,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<D3;)Ke(14),this.synchronizeOnce(),Ke(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)S3(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>jf(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;rf(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Zf,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>rf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new K(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rf(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function S3(n,e,t,r){if(!t&&!jf(n))return;Wx(n,e,t&&!r?0:1)}function tr(n,e,t,r){let i=Se(),o=jl();if(_r(i,o,e)){let s=Et(),a=Uf();kB(a,i,n,e,t,r)}return tr}function mM(n,e,t,r){return _r(n,jl(),t)?e+wi(t)+r:yn}function A3(n,e,t,r,i,o){let s=FA(),a=Zb(n,s,t,i);return Bf(2),a?e+wi(t)+r+wi(i)+o:yn}function x3(n,e,t,r,i,o,s,a){let c=FA(),u=y3(n,c,t,i,s);return Bf(3),u?e+wi(t)+r+wi(i)+o+wi(s)+a:yn}function Xh(n,e){return n<<17|e<<2}function cs(n){return n>>17&32767}function M3(n){return(n&2)==2}function P3(n,e){return n&131071|e<<17}function Ky(n){return n|2}function Ra(n){return(n&131068)>>2}function iy(n,e){return n&-131069|e<<2}function R3(n){return(n&1)===1}function Yy(n){return n|1}function O3(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=cs(s),c=Ra(s);n[r]=t;let u=!1,d;if(Array.isArray(t)){let p=t;d=p[1],(d===null||Ll(p,d)>0)&&(u=!0)}else d=t;if(i)if(c!==0){let v=cs(n[a+1]);n[r+1]=Xh(v,a),v!==0&&(n[v+1]=iy(n[v+1],r)),n[a+1]=P3(n[a+1],r)}else n[r+1]=Xh(a,0),a!==0&&(n[a+1]=iy(n[a+1],r)),a=r;else n[r+1]=Xh(c,0),a===0?a=r:n[c+1]=iy(n[c+1],r),c=r;u&&(n[r+1]=Ky(n[r+1])),zS(n,d,r,!0),zS(n,d,r,!1),k3(e,d,n,r,o),s=Xh(a,c),o?e.classBindings=s:e.styleBindings=s}function k3(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Ll(o,e)>=0&&(t[r+1]=Yy(t[r+1]))}function zS(n,e,t,r){let i=n[t+1],o=e===null,s=r?cs(i):Ra(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],u=n[s+1];N3(c,e)&&(a=!0,n[s+1]=r?Yy(u):Ky(u)),s=r?cs(u):Ra(u)}a&&(n[t+1]=r?Ky(i):Yy(i))}function N3(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ll(n,e)>=0:!1}var gr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function F3(n){return n.substring(gr.key,gr.keyEnd)}function L3(n){return V3(n),gM(n,vM(n,0,gr.textEnd))}function gM(n,e){let t=gr.textEnd;return t===e?-1:(e=gr.keyEnd=j3(n,gr.key=e,t),vM(n,e,t))}function V3(n){gr.key=0,gr.keyEnd=0,gr.value=0,gr.valueEnd=0,gr.textEnd=n.length}function vM(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function j3(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function F(n,e,t){let r=Se(),i=jl();if(_r(r,i,e)){let o=Et(),s=Uf();Fb(o,s,r,n,e,r[ft],t,!1)}return F}function Qy(n,e,t,r,i){Vb(e,n,t,i?"class":"style",r)}function Oi(n,e,t){return _M(n,e,t,!1),Oi}function $e(n,e){return _M(n,e,null,!0),$e}function e0(n){U3(G3,B3,n,!0)}function B3(n,e){for(let t=L3(e);t>=0;t=gM(e,t))ab(n,F3(e),!0)}function _M(n,e,t,r){let i=Se(),o=Et(),s=Bf(2);if(o.firstUpdatePass&&bM(o,n,s,r),e!==yn&&_r(i,s,e)){let a=o.data[Mi()];wM(o,a,i,i[ft],n,i[s+1]=Y3(e,t),r,s)}}function U3(n,e,t,r){let i=Et(),o=Bf(2);i.firstUpdatePass&&bM(i,null,o,r);let s=Se();if(t!==yn&&_r(s,o,t)){let a=i.data[Mi()];if(EM(a,r)&&!yM(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=ly(c,t||"")),Qy(i,a,s,t,r)}else K3(i,a,s,s[ft],s[o+1],s[o+1]=W3(n,e,t),r,o)}}function yM(n,e){return e>=n.expandoStartIndex}function bM(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Mi()],s=yM(n,t);EM(o,r)&&e===null&&!s&&(e=!1),e=$3(i,o,e,r),O3(i,o,e,t,s,r)}}function $3(n,e,t,r){let i=ej(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=oy(null,n,e,t,r),t=Nl(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=oy(i,n,e,t,r),o===null){let c=H3(n,e,r);c!==void 0&&Array.isArray(c)&&(c=oy(null,n,e,c[1],r),c=Nl(c,e.attrs,r),z3(n,e,r,c))}else o=q3(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function H3(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Ra(r)!==0)return n[cs(r)]}function z3(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[cs(i)]=r}function q3(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Nl(r,s,t)}return Nl(r,e.attrs,t)}function oy(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Nl(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Nl(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),ab(n,s,t?!0:e[++o]))}return n===void 0?null:n}function W3(n,e,t){if(t==null||t==="")return Sn;let r=[],i=Hl(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function G3(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&ab(n,r,t)}function K3(n,e,t,r,i,o,s,a){i===yn&&(i=Sn);let c=0,u=0,d=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;d!==null||p!==null;){let v=c<i.length?i[c+1]:void 0,_=u<o.length?o[u+1]:void 0,S=null,R;d===p?(c+=2,u+=2,v!==_&&(S=p,R=_)):p===null||d!==null&&d<p?(c+=2,S=d):(u+=2,S=p,R=_),S!==null&&wM(n,e,t,r,S,R,s,a),d=c<i.length?i[c]:null,p=u<o.length?o[u]:null}}function wM(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],d=R3(u)?qS(c,e,t,i,Ra(u),s):void 0;if(!xf(d)){xf(o)||M3(u)&&(o=qS(c,null,t,i,a,s));let p=xA(Mi(),t);XB(r,s,p,i,o)}}function qS(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],u=Array.isArray(c),d=u?c[1]:c,p=d===null,v=t[i+1];v===yn&&(v=p?Sn:void 0);let _=p?Y_(v,r):d===r?v:void 0;if(u&&!xf(_)&&(_=Y_(c,r)),xf(_)&&(a=_,s))return a;let S=n[i+1];i=s?cs(S):Ra(S)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Y_(c,r))}return a}function xf(n){return n!==void 0}function Y3(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=An(Hl(n)))),n}function EM(n,e){return(n.flags&(e?8:16))!==0}function CM(n,e){fs("NgControlFlow");let t=Se(),r=jl(),i=t[r]!==yn?t[r]:-1,o=i!==-1?WS(t,Ft+i):void 0,s=0;if(_r(t,r,n)){let a=Me(null);try{if(o!==void 0&&fU(o,s),n!==-1){let c=Ft+n,u=WS(t,c),d=Q3(t[Ce],c),p=Df(u,d.tView.ssrId),v=Bb(t,d,e,{dehydratedView:p});Gb(u,v,s,Cf(d,p))}}finally{Me(a)}}else if(o!==void 0){let a=hU(o,s);a!==void 0&&(a[vn]=e)}}function WS(n,e){return n[e]}function Q3(n,e){return ub(n,e)}function g(n,e,t,r){let i=Se(),o=Et(),s=Ft+n,a=i[ft],c=o.firstCreatePass?tM(s,o,i,e,Lb,mb(),t,r):o.data[s],u=Z3(o,i,c,a,e,n);i[s]=u;let d=Vf(c);return us(c,!0),Rx(a,u,c),!$b(c)&&$f()&&Gf(o,i,u,c),(H2()===0||d)&&La(u,i),z2(),d&&(Wf(o,i,c),xb(o,c,i)),r!==null&&Nb(i,c),g}function m(){let n=_n();gb()?vb():(n=n.parent,us(n,!1));let e=n;W2(e)&&G2(),q2();let t=Et();return t.firstCreatePass&&nM(t,e),e.classesWithoutHost!=null&&sj(e)&&Qy(t,e,Se(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&aj(e)&&Qy(t,e,Se(),e.stylesWithoutHost,!1),m}function te(n,e,t,r){return g(n,e,t,r),m(),te}var Z3=(n,e,t,r,i,o)=>(Hf(!0),Mx(r,i,rj()));function X3(n,e,t,r,i){let o=e.consts,s=Ma(o,r),a=zl(e,n,8,"ng-container",s);s!==null&&Ly(a,s,!0);let c=Ma(o,i);return mb()&&Kb(e,t,a,c,Lb),a.mergedAttrs=Pa(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function t0(n,e,t){let r=Se(),i=Et(),o=n+Ft,s=i.firstCreatePass?X3(o,i,r,e,t):i.data[o];us(s,!0);let a=J3(i,r,s,n);return r[o]=a,$f()&&Gf(i,r,a,s),La(a,r),Vf(s)&&(Wf(i,r,s),xb(i,s,r)),t!=null&&Nb(r,s),t0}function n0(){let n=_n(),e=Et();return gb()?vb():(n=n.parent,us(n,!1)),e.firstCreatePass&&(Eb(e,n),lb(n)&&e.queries.elementEnd(n)),n0}var J3=(n,e,t,r)=>(Hf(!0),yB(e[ft],""));function Ne(){return Se()}var Yo=void 0;function e4(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var t4=["en",[["a","p"],["AM","PM"],Yo],[["AM","PM"],Yo,Yo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yo,"{1} 'at' {0}",Yo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",e4],sy={};function Un(n){let e=n4(n),t=GS(e);if(t)return t;let r=e.split("-")[0];if(t=GS(r),t)return t;if(r==="en")return t4;throw new K(701,!1)}function GS(n){return n in sy||(sy[n]=Qo.ng&&Qo.ng.common&&Qo.ng.common.locales&&Qo.ng.common.locales[n]),sy[n]}var _t=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(_t||{});function n4(n){return n.toLowerCase().replace(/_/g,"-")}var Mf="en-US";var r4=Mf;function i4(n){typeof n=="string"&&(r4=n.toLowerCase().replace(/_/g,"-"))}function KS(n,e,t){return function r(i){if(i===Function)return t;let o=ka(n)?Fr(n.index,e):e;Wb(o,5);let s=e[vn],a=YS(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=YS(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function YS(n,e,t,r){let i=Me(null);try{return Ke(6,e,t),t(r)!==!1}catch(o){return o4(n,o),!1}finally{Ke(7,e,t),Me(i)}}function o4(n,e){let t=n[Aa],r=t?t.get(Lr,null):null;r&&r.handleError(e)}function QS(n,e,t,r,i,o){let s=e[t],a=e[Ce],u=a.data[t].outputs[r],d=s[u],p=a.firstCreatePass?pb(a):null,v=fb(e),_=d.subscribe(o),S=v.length;v.push(o,_),p&&p.push(i,n.index,S,-(S+1))}function z(n,e,t,r){let i=Se(),o=Et(),s=_n();return IM(o,i,i[ft],s,n,e,r),z}function s4(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[df],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function IM(n,e,t,r,i,o,s){let a=Vf(r),u=n.firstCreatePass?pb(n):null,d=fb(e),p=!0;if(r.type&3||s){let v=jr(r,e),_=s?s(v):v,S=d.length,R=s?W=>s(Nr(W[r.index])):r.index,k=null;if(!s&&a&&(k=s4(n,e,i,r.index)),k!==null){let W=k.__ngLastListenerFn__||k;W.__ngNextListenerFn__=o,k.__ngLastListenerFn__=o,p=!1}else{o=KS(r,e,o),Gj(e,_,i,o);let W=t.listen(_,i,o);d.push(o,W),u&&u.push(i,R,S,S+1)}}else o=KS(r,e,o);if(p){let v=r.outputs?.[i],_=r.hostDirectiveOutputs?.[i];if(_&&_.length)for(let S=0;S<_.length;S+=2){let R=_[S],k=_[S+1];QS(r,e,R,k,i,o)}if(v&&v.length)for(let S of v)QS(r,e,S,i,i,o)}}function H(n=1){return nj(n)}function a4(n,e){let t=null,r=uB(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?xx(n,o,!0):fB(r,o))return i}return t}function Xf(n){let e=Se()[Xn][Mn];if(!e.projection){let t=n?n.length:1,r=e.projection=g2(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?a4(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function ja(n,e=0,t,r,i,o){let s=Se(),a=Et(),c=r?n+1:null;c!==null&&uM(s,a,c,r,i,o,null,t);let u=zl(a,Ft+n,16,null,t||null);u.projection===null&&(u.projection=e),vb();let p=!s[Pl]||OA();s[Xn][Mn].projection[u.projection]===null&&c!==null?c4(s,a,c):p&&!$b(u)&&QB(a,s,u)}function c4(n,e,t){let r=Ft+t,i=e.data[r],o=n[r],s=Df(o,i.tView.ssrId),a=Bb(n,i,void 0,{dehydratedView:s});Gb(o,a,0,Cf(i,s))}function r0(n,e,t,r,i){let o=Se(),s=mM(o,e,t,r);if(s!==yn){let a=Et(),c=Uf();Fb(a,c,o,n,s,o[ft],i,!1)}return r0}function Jf(n,e,t){t3(n,e,t)}function Wl(n){let e=Se(),t=Et(),r=LA();yb(r+1);let i=Yb(t,r);if(n.dirty&&V2(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=i3(e,r);n.reset(o,Mj),n.notifyOnChanges()}return!0}return!1}function Gl(){return JU(Se(),LA())}function Ba(n){let e=Y2();return db(e,Ft+n)}function b(n,e=""){let t=Se(),r=Et(),i=n+Ft,o=r.firstCreatePass?zl(r,i,1,e,null):r.data[i],s=l4(r,t,o,e,n);t[i]=s,$f()&&Gf(r,t,s,o),us(o,!1)}var l4=(n,e,t,r,i)=>(Hf(!0),vB(e[ft],r));function ne(n){return oe("",n,""),ne}function oe(n,e,t){let r=Se(),i=mM(r,n,e,t);return i!==yn&&o0(r,Mi(),i),oe}function Kl(n,e,t,r,i){let o=Se(),s=A3(o,n,e,t,r,i);return s!==yn&&o0(o,Mi(),s),Kl}function i0(n,e,t,r,i,o,s){let a=Se(),c=x3(a,n,e,t,r,i,o,s);return c!==yn&&o0(a,Mi(),c),i0}function o0(n,e,t){let r=xA(e,n);_B(n[ft],r,t)}function pt(n,e,t){lx(e)&&(e=e());let r=Se(),i=jl();if(_r(r,i,e)){let o=Et(),s=Uf();Fb(o,s,r,n,e,r[ft],t,!1)}return pt}function yt(n,e){let t=lx(n);return t&&n.set(e),t}function mt(n,e){let t=Se(),r=Et(),i=_n();return IM(r,t,t[ft],i,n,e),mt}function u4(n,e,t){let r=Et();if(r.firstCreatePass){let i=kr(n);Zy(t,r.data,r.blueprint,i,!0),Zy(e,r.data,r.blueprint,i,!1)}}function Zy(n,e,t,r,i){if(n=gn(n),Array.isArray(n))for(let o=0;o<n.length;o++)Zy(n[o],e,t,r,i);else{let o=Et(),s=Se(),a=_n(),c=Sa(n)?n:gn(n.provide),u=wA(n),d=a.providerIndexes&1048575,p=a.directiveStart,v=a.providerIndexes>>20;if(Sa(n)||!n.multi){let _=new os(u,i,j),S=cy(c,e,i?d:d+v,p);S===-1?(wy(_f(a,s),o,c),ay(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(_),s.push(_)):(t[S]=_,s[S]=_)}else{let _=cy(c,e,d+v,p),S=cy(c,e,d,d+v),R=_>=0&&t[_],k=S>=0&&t[S];if(i&&!k||!i&&!R){wy(_f(a,s),o,c);let W=f4(i?h4:d4,t.length,i,r,u);!i&&k&&(t[S].providerFactory=W),ay(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(W),s.push(W)}else{let W=TM(t[i?S:_],u,!i&&r);ay(o,n,_>-1?_:S,W)}!i&&r&&k&&t[S].componentProviders++}}}function ay(n,e,t,r){let i=Sa(e),o=T2(e);if(i||o){let c=(o?gn(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[r,c]):u[d+1].push(r,c)}else u.push(t,c)}}}function TM(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function cy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function d4(n,e,t,r,i){return Xy(this.multi,[])}function h4(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Ol(r,r[Ce],this.providerFactory.index,i);s=c.slice(0,a),Xy(o,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],Xy(o,s);return s}function Xy(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function f4(n,e,t,r,i){let o=new os(n,t,j);return o.multi=[],o.index=e,o.componentProviders=0,TM(o,i,r&&!t),o}function Dt(n,e=[]){return t=>{t.providersResolver=(r,i)=>u4(r,i?i(n):n,e)}}function DM(n,e,t,r){return AM(Se(),_b(),n,e,t,r)}function SM(n,e){let t=n[e];return t===yn?void 0:t}function AM(n,e,t,r,i,o){let s=e+t;return _r(n,s,i)?lM(n,s+1,o?r.call(o,i):r(i)):SM(n,s+1)}function p4(n,e,t,r,i,o,s){let a=e+t;return Zb(n,a,i,o)?lM(n,a+2,s?r.call(s,i,o):r(i,o)):SM(n,a+2)}function st(n,e){let t=Et(),r,i=n+Ft;t.firstCreatePass?(r=m4(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Jo(r.type,!0)),s,a=Dn(j);try{let c=vf(!1),u=o();return vf(c),L2(t,Se(),i,u),u}finally{Dn(a)}}function m4(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Qt(n,e,t){let r=n+Ft,i=Se(),o=db(i,r);return xM(i,r)?AM(i,_b(),e,o.transform,t,o):o.transform(t)}function ki(n,e,t,r){let i=n+Ft,o=Se(),s=db(o,i);return xM(o,i)?p4(o,_b(),e,s.transform,t,r,s):s.transform(t,r)}function xM(n,e){return n[Ce].data[e].pure}function MM(n,e){return Yf(n,e)}var ls=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Yl=new ls("19.2.13"),Jy=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},PM=(()=>{class n{compileModuleSync(t){return new Wy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=vA(t),o=Sx(i.declarations).reduce((s,a)=>{let c=fo(a);return c&&s.push(new as(c)),s},[]);return new Jy(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var g4=(()=>{class n{zone=I(ce);changeDetectionScheduler=I(ss);applicationRef=I(yr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function v4({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ce(ee(L({},_4()),{scheduleInRootZone:t})),[{provide:ce,useFactory:n},{provide:xl,multi:!0,useFactory:()=>{let r=I(g4,{optional:!0});return()=>r.initialize()}},{provide:xl,multi:!0,useFactory:()=>{let r=I(y4);return()=>{r.initialize()}}},e===!0?{provide:ix,useValue:!0}:[],{provide:ox,useValue:t??nx}]}function _4(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var y4=(()=>{class n{subscription=new et;initialized=!1;zone=I(ce);pendingTasks=I(Pi);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ce.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ce.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var b4=(()=>{class n{appRef=I(yr);taskService=I(Pi);ngZone=I(ce);zonelessEnabled=I(rx);tracing=I(Va,{optional:!0});disableScheduling=I(ix,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new et;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(bf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(I(ox,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Dy||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?xS:sx;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(bf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,xS(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function w4(){return typeof $localize<"u"&&$localize.locale||Mf}var Ql=new $("",{providedIn:"root",factory:()=>I(Ql,Ee.Optional|Ee.SkipSelf)||w4()});var eb=new $(""),E4=new $("");function Tl(n){return!n.moduleRef}function C4(n){let e=Tl(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ce);return t.run(()=>{Tl(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Lr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Tl(n)){let o=()=>e.destroy(),s=n.platformInjector.get(eb);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(eb);s.add(o),n.moduleRef.onDestroy(()=>{rf(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return T4(r,t,()=>{let o=e.get(pM);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Ql,Mf);if(i4(s||Mf),!e.get(E4,!0))return Tl(n)?e.get(yr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Tl(n)){let c=e.get(yr);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return I4(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function I4(n,e){let t=n.injector.get(yr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new K(-403,!1);e.push(n)}function T4(n,e,t){try{let r=t();return mo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var of=null;function D4(n=[],e){return Le.create({name:e,providers:[{provide:kf,useValue:"platform"},{provide:eb,useValue:new Set([()=>of=null])},...n]})}function S4(n=[]){if(of)return of;let e=D4(n);return of=e,I3(),A4(e),e}function A4(n){let e=n.get(Sb,null);Lt(n,()=>{e?.forEach(t=>t())})}function s0(){return!1}var wr=(()=>{class n{static __NG_ELEMENT_ID__=x4}return n})();function x4(n){return M4(_n(),Se(),(n&16)===16)}function M4(n,e,t){if(ka(n)&&!t){let r=Fr(n.index,e);return new kl(r,r)}else if(n.type&175){let r=e[Xn];return new kl(r,e)}return null}var tb=class{constructor(){}supports(e){return cM(e)}create(e){return new nb(e)}},P4=(n,e)=>e,nb=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||P4}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<ZS(r,i,o)?t:r,a=ZS(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,d=c-i;if(u!=d){for(let v=0;v<u;v++){let _=v<o.length?o[v]:o[v]=0,S=_+v;d<=S&&S<u&&(o[v]=_+1)}let p=s.previousIndex;o[p]=d-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!cM(e))throw new K(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,v3(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new rb(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Pf),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Pf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},rb=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},ib=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Pf=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new ib,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function ZS(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function XS(){return new ep([new tb])}var ep=(()=>{class n{factories;static \u0275prov=V({token:n,providedIn:"root",factory:XS});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||XS()),deps:[[n,new f2,new Di]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new K(901,!1)}}return n})();function RM(n){Ke(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=S4(r),o=[v4({}),{provide:ss,useExisting:b4},...t||[]],s=new Af({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return C4({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Ke(9)}}function Zt(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function bn(n){return A_(n)}function gs(n,e){return I_(n,e?.equal)}var JS=class{[Yn];constructor(e){this[Yn]=e}destroy(){this[Yn].destroy()}};function tp(n,e){let t=fo(n),r=e.elementInjector||Nf();return new as(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}function OM(n){let e=fo(n);if(!e)return null;let t=new as(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Ie=new $("");var FM=null;function nr(){return FM}function a0(n){FM??=n}var Zl=class{},Xl=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>I(LM),providedIn:"platform"})}return n})(),c0=new $(""),LM=(()=>{class n extends Xl{_location;_history;_doc=I(Ie);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return nr().getBaseHref(this._doc)}onPopState(t){let r=nr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=nr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function np(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function kM(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Er(n){return n&&n[0]!=="?"?`?${n}`:n}var rr=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>I(ip),providedIn:"root"})}return n})(),rp=new $(""),ip=(()=>{class n extends rr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??I(Ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return np(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Er(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Er(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Er(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Y(Xl),Y(rp,8))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ur=(()=>{class n{_subject=new he;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=k4(kM(NM(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Er(r))}normalize(t){return n.stripTrailingSlash(O4(this._basePath,NM(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Er(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Er(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Er;static joinWithSlash=np;static stripTrailingSlash=kM;static \u0275fac=function(r){return new(r||n)(Y(rr))};static \u0275prov=V({token:n,factory:()=>R4(),providedIn:"root"})}return n})();function R4(){return new Ur(Y(rr))}function O4(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function NM(n){return n.replace(/\/index.html$/,"")}function k4(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var pp=(()=>{class n extends rr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=np(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Er(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Er(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Y(Xl),Y(rp,8))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();var g0=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(g0||{});var an=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(an||{}),Ye=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Ye||{}),Pn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Pn||{}),Rn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function $M(n){return Un(n)[_t.LocaleId]}function HM(n,e,t){let r=Un(n),i=[r[_t.DayPeriodsFormat],r[_t.DayPeriodsStandalone]],o=ir(i,e);return ir(o,t)}function zM(n,e,t){let r=Un(n),i=[r[_t.DaysFormat],r[_t.DaysStandalone]],o=ir(i,e);return ir(o,t)}function qM(n,e,t){let r=Un(n),i=[r[_t.MonthsFormat],r[_t.MonthsStandalone]],o=ir(i,e);return ir(o,t)}function WM(n,e){let r=Un(n)[_t.Eras];return ir(r,e)}function Jl(n,e){let t=Un(n);return ir(t[_t.DateFormat],e)}function eu(n,e){let t=Un(n);return ir(t[_t.TimeFormat],e)}function tu(n,e){let r=Un(n)[_t.DateTimeFormat];return ir(r,e)}function $r(n,e){let t=Un(n),r=t[_t.NumberSymbols][e];if(typeof r>"u"){if(e===Rn.CurrencyDecimal)return t[_t.NumberSymbols][Rn.Decimal];if(e===Rn.CurrencyGroup)return t[_t.NumberSymbols][Rn.Group]}return r}function GM(n,e){return Un(n)[_t.NumberFormats][e]}function KM(n){if(!n[_t.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[_t.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function YM(n){let e=Un(n);return KM(e),(e[_t.ExtraData][2]||[]).map(r=>typeof r=="string"?l0(r):[l0(r[0]),l0(r[1])])}function QM(n,e,t){let r=Un(n);KM(r);let i=[r[_t.ExtraData][0],r[_t.ExtraData][1]],o=ir(i,e)||[];return ir(o,t)||[]}function ir(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function l0(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var N4=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,op={},F4=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function ZM(n,e,t,r){let i=q4(n);e=Ni(t,e)||e;let s=[],a;for(;e;)if(a=F4.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=JM(r,c),i=z4(i,r));let u="";return s.forEach(d=>{let p=$4(d);u+=p?p(i,t,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function up(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Ni(n,e){let t=$M(n);if(op[t]??={},op[t][e])return op[t][e];let r="";switch(e){case"shortDate":r=Jl(n,Pn.Short);break;case"mediumDate":r=Jl(n,Pn.Medium);break;case"longDate":r=Jl(n,Pn.Long);break;case"fullDate":r=Jl(n,Pn.Full);break;case"shortTime":r=eu(n,Pn.Short);break;case"mediumTime":r=eu(n,Pn.Medium);break;case"longTime":r=eu(n,Pn.Long);break;case"fullTime":r=eu(n,Pn.Full);break;case"short":let i=Ni(n,"shortTime"),o=Ni(n,"shortDate");r=sp(tu(n,Pn.Short),[i,o]);break;case"medium":let s=Ni(n,"mediumTime"),a=Ni(n,"mediumDate");r=sp(tu(n,Pn.Medium),[s,a]);break;case"long":let c=Ni(n,"longTime"),u=Ni(n,"longDate");r=sp(tu(n,Pn.Long),[c,u]);break;case"full":let d=Ni(n,"fullTime"),p=Ni(n,"fullDate");r=sp(tu(n,Pn.Full),[d,p]);break}return r&&(op[t][e]=r),r}function sp(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Cr(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function L4(n,e){return Cr(n,3).substring(0,e)}function St(n,e,t=0,r=!1,i=!1){return function(o,s){let a=V4(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return L4(a,e);let c=$r(s,Rn.MinusSign);return Cr(a,e,c,r,i)}}function V4(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function nt(n,e,t=an.Format,r=!1){return function(i,o){return j4(i,o,n,e,t,r)}}function j4(n,e,t,r,i,o){switch(t){case 2:return qM(e,i,r)[n.getMonth()];case 1:return zM(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let u=YM(e),d=QM(e,i,r),p=u.findIndex(v=>{if(Array.isArray(v)){let[_,S]=v,R=s>=_.hours&&a>=_.minutes,k=s<S.hours||s===S.hours&&a<S.minutes;if(_.hours<S.hours){if(R&&k)return!0}else if(R||k)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(p!==-1)return d[p]}return HM(e,i,r)[s<12?0:1];case 3:return WM(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function ap(n){return function(e,t,r){let i=-1*r,o=$r(t,Rn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Cr(s,2,o)+Cr(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Cr(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Cr(s,2,o)+":"+Cr(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Cr(s,2,o)+":"+Cr(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var B4=0,lp=4;function U4(n){let e=up(n,B4,1).getDay();return up(n,0,1+(e<=lp?lp:lp+7)-e)}function XM(n){let e=n.getDay(),t=e===0?-3:lp-e;return up(n.getFullYear(),n.getMonth(),n.getDate()+t)}function u0(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=XM(t),s=U4(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Cr(i,n,$r(r,Rn.MinusSign))}}function cp(n,e=!1){return function(t,r){let o=XM(t).getFullYear();return Cr(o,n,$r(r,Rn.MinusSign),e)}}var d0={};function $4(n){if(d0[n])return d0[n];let e;switch(n){case"G":case"GG":case"GGG":e=nt(3,Ye.Abbreviated);break;case"GGGG":e=nt(3,Ye.Wide);break;case"GGGGG":e=nt(3,Ye.Narrow);break;case"y":e=St(0,1,0,!1,!0);break;case"yy":e=St(0,2,0,!0,!0);break;case"yyy":e=St(0,3,0,!1,!0);break;case"yyyy":e=St(0,4,0,!1,!0);break;case"Y":e=cp(1);break;case"YY":e=cp(2,!0);break;case"YYY":e=cp(3);break;case"YYYY":e=cp(4);break;case"M":case"L":e=St(1,1,1);break;case"MM":case"LL":e=St(1,2,1);break;case"MMM":e=nt(2,Ye.Abbreviated);break;case"MMMM":e=nt(2,Ye.Wide);break;case"MMMMM":e=nt(2,Ye.Narrow);break;case"LLL":e=nt(2,Ye.Abbreviated,an.Standalone);break;case"LLLL":e=nt(2,Ye.Wide,an.Standalone);break;case"LLLLL":e=nt(2,Ye.Narrow,an.Standalone);break;case"w":e=u0(1);break;case"ww":e=u0(2);break;case"W":e=u0(1,!0);break;case"d":e=St(2,1);break;case"dd":e=St(2,2);break;case"c":case"cc":e=St(7,1);break;case"ccc":e=nt(1,Ye.Abbreviated,an.Standalone);break;case"cccc":e=nt(1,Ye.Wide,an.Standalone);break;case"ccccc":e=nt(1,Ye.Narrow,an.Standalone);break;case"cccccc":e=nt(1,Ye.Short,an.Standalone);break;case"E":case"EE":case"EEE":e=nt(1,Ye.Abbreviated);break;case"EEEE":e=nt(1,Ye.Wide);break;case"EEEEE":e=nt(1,Ye.Narrow);break;case"EEEEEE":e=nt(1,Ye.Short);break;case"a":case"aa":case"aaa":e=nt(0,Ye.Abbreviated);break;case"aaaa":e=nt(0,Ye.Wide);break;case"aaaaa":e=nt(0,Ye.Narrow);break;case"b":case"bb":case"bbb":e=nt(0,Ye.Abbreviated,an.Standalone,!0);break;case"bbbb":e=nt(0,Ye.Wide,an.Standalone,!0);break;case"bbbbb":e=nt(0,Ye.Narrow,an.Standalone,!0);break;case"B":case"BB":case"BBB":e=nt(0,Ye.Abbreviated,an.Format,!0);break;case"BBBB":e=nt(0,Ye.Wide,an.Format,!0);break;case"BBBBB":e=nt(0,Ye.Narrow,an.Format,!0);break;case"h":e=St(3,1,-12);break;case"hh":e=St(3,2,-12);break;case"H":e=St(3,1);break;case"HH":e=St(3,2);break;case"m":e=St(4,1);break;case"mm":e=St(4,2);break;case"s":e=St(5,1);break;case"ss":e=St(5,2);break;case"S":e=St(6,1);break;case"SS":e=St(6,2);break;case"SSS":e=St(6,3);break;case"Z":case"ZZ":case"ZZZ":e=ap(0);break;case"ZZZZZ":e=ap(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ap(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=ap(2);break;default:return null}return d0[n]=e,e}function JM(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function H4(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function z4(n,e,t){let i=n.getTimezoneOffset(),o=JM(e,i);return H4(n,-1*(o-i))}function q4(n){if(VM(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return up(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(N4))return W4(r)}let e=new Date(n);if(!VM(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function W4(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,u),e}function VM(n){return n instanceof Date&&!isNaN(n.valueOf())}var G4=/^(\d+)?\.((\d+)(-(\d+))?)?$/,jM=22,dp=".",nu="0",K4=";",Y4=",",h0="#";function Q4(n,e,t,r,i,o,s=!1){let a="",c=!1;if(!isFinite(n))a=$r(t,Rn.Infinity);else{let u=J4(n);s&&(u=X4(u));let d=e.minInt,p=e.minFrac,v=e.maxFrac;if(o){let J=o.match(G4);if(J===null)throw new Error(`${o} is not a valid digit info`);let Z=J[1],ke=J[3],Tt=J[5];Z!=null&&(d=f0(Z)),ke!=null&&(p=f0(ke)),Tt!=null?v=f0(Tt):ke!=null&&p>v&&(v=p)}e$(u,p,v);let _=u.digits,S=u.integerLen,R=u.exponent,k=[];for(c=_.every(J=>!J);S<d;S++)_.unshift(0);for(;S<0;S++)_.unshift(0);S>0?k=_.splice(S,_.length):(k=_,_=[0]);let W=[];for(_.length>=e.lgSize&&W.unshift(_.splice(-e.lgSize,_.length).join(""));_.length>e.gSize;)W.unshift(_.splice(-e.gSize,_.length).join(""));_.length&&W.unshift(_.join("")),a=W.join($r(t,r)),k.length&&(a+=$r(t,i)+k.join("")),R&&(a+=$r(t,Rn.Exponential)+"+"+R)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function eP(n,e,t){let r=GM(e,g0.Decimal),i=Z4(r,$r(e,Rn.MinusSign));return Q4(n,i,e,Rn.Group,Rn.Decimal,t)}function Z4(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(K4),i=r[0],o=r[1],s=i.indexOf(dp)!==-1?i.split(dp):[i.substring(0,i.lastIndexOf(nu)+1),i.substring(i.lastIndexOf(nu)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(h0));for(let d=0;d<c.length;d++){let p=c.charAt(d);p===nu?t.minFrac=t.maxFrac=d+1:p===h0?t.maxFrac=d+1:t.posSuf+=p}let u=a.split(Y4);if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){let d=i.length-t.posPre.length-t.posSuf.length,p=o.indexOf(h0);t.negPre=o.substring(0,p).replace(/'/g,""),t.negSuf=o.slice(p+d).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function X4(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function J4(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(dp))>-1&&(e=e.replace(dp,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===nu;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===nu;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>jM&&(r=r.splice(0,jM-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function e$(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,u=e+n.integerLen,d=r.reduceRight(function(p,v,_,S){return v=v+p,S[_]=v<10?v:v-10,c&&(S[_]===0&&_>=u?S.pop():c=!1),v>=10?1:0},0);d&&(r.unshift(d),n.integerLen++)}function f0(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}var hp=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Vt=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new hp(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),BM(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);BM(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(j(er),j(Jn),j(ep))};static \u0275dir=fe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function BM(n,e){n.context.$implicit=e.item}var gt=(()=>{class n{_viewContainer;_context=new fp;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){UM(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){UM(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(j(er),j(Jn))};static \u0275dir=fe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),fp=class{$implicit=null;ngIf=null};function UM(n,e){if(n&&!n.createEmbeddedView)throw new K(2020,!1)}function mp(n,e){return new K(2100,!1)}var p0=class{createSubscription(e,t){return bn(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){bn(()=>e.unsubscribe())}},m0=class{createSubscription(e,t){return e.then(r=>t?.(r),r=>{throw r}),{unsubscribe:()=>{t=null}}}dispose(e){e.unsubscribe()}},t$=new m0,n$=new p0,v0=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(mo(t))return t$;if(Xb(t))return n$;throw mp(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(j(wr,16))};static \u0275pipe=ms({name:"async",type:n,pure:!1})}return n})();var vs=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw mp(n,t);return t.toUpperCase()}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=ms({name:"uppercase",type:n,pure:!0})}return n})(),r$="mediumDate",tP=new $(""),nP=new $(""),Hr=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??r$,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return ZM(t,s,o||this.locale,a)}catch(s){throw mp(n,s.message)}}static \u0275fac=function(r){return new(r||n)(j(Ql,16),j(tP,24),j(nP,24))};static \u0275pipe=ms({name:"date",type:n,pure:!0})}return n})();var zr=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!i$(t))return null;i||=this._locale;try{let o=o$(t);return eP(o,i,r)}catch(o){throw mp(n,o.message)}}static \u0275fac=function(r){return new(r||n)(j(Ql,16))};static \u0275pipe=ms({name:"number",type:n,pure:!0})}return n})();function i$(n){return!(n==null||n===""||n!==n)}function o$(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var lt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Kt({})}return n})();function ru(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var gp="browser",rP="server";function _0(n){return n===gp}function vp(n){return n===rP}var _s=class{};var iP=(()=>{class n{static \u0275prov=V({token:n,providedIn:"root",factory:()=>new y0(I(Ie),window)})}return n})(),y0=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=a$(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function a$(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var bp=new $(""),C0=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new K(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Y(bp),Y(ce))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),iu=class{_doc;constructor(e){this._doc=e}manager},_p="ng-app-id";function oP(n){for(let e of n)e.remove()}function sP(n,e){let t=e.createElement("style");return t.textContent=n,t}function c$(n,e,t,r){let i=n.head?.querySelectorAll(`style[${_p}="${e}"],link[${_p}="${e}"]`);if(i)for(let o of i)o.removeAttribute(_p),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function w0(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var I0=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=vp(o),c$(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,sP);r?.forEach(i=>this.addUsage(i,this.external,w0))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(oP(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])oP(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,sP(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,w0(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(_p,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Y(Ie),Y(Bl),Y(Ul,8),Y(Br))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),b0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},T0=/%COMP%/g;var cP="%COMP%",l$=`_nghost-${cP}`,u$=`_ngcontent-${cP}`,d$=!0,h$=new $("",{providedIn:"root",factory:()=>d$});function f$(n){return u$.replace(T0,n)}function p$(n){return l$.replace(T0,n)}function lP(n,e){return e.map(t=>t.replace(T0,n))}var D0=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,u=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=d,this.platformIsServer=vp(a),this.defaultRenderer=new ou(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Vr.ShadowDom&&(r=ee(L({},r),{encapsulation:Vr.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof yp?i.applyToHost(t):i instanceof su&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,p=this.platformIsServer,v=this.tracingService;switch(r.encapsulation){case Vr.Emulated:o=new yp(c,u,r,this.appId,d,s,a,p,v);break;case Vr.ShadowDom:return new E0(c,u,t,r,s,a,this.nonce,p,v);default:o=new su(c,u,r,d,s,a,p,v);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Y(C0),Y(I0),Y(Bl),Y(h$),Y(Ie),Y(Br),Y(ce),Y(Ul),Y(Va,8))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),ou=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(b0[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(aP(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(aP(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new K(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=b0[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=b0[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ii.DashCase|Ii.Important)?e.style.setProperty(t,r,i&Ii.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ii.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=nr().getGlobalEventTarget(this.doc,e),!e))throw new K(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function aP(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var E0=class extends ou{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,c,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=lP(i.id,d);for(let v of d){let _=document.createElement("style");a&&_.setAttribute("nonce",a),_.textContent=v,this.shadowRoot.appendChild(_)}let p=i.getExternalStyles?.();if(p)for(let v of p){let _=w0(v,o);a&&_.setAttribute("nonce",a),this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},su=class extends ou{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=u?lP(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},yp=class extends su{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,u){let d=i+"-"+r.id;super(e,t,r,o,s,a,c,u,d),this.contentAttr=f$(d),this.hostAttr=p$(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var wp=class n extends Zl{supportsDOMEvents=!0;static makeCurrent(){a0(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=m$();return t==null?null:g$(t)}resetBaseElement(){au=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ru(document.cookie,e)}},au=null;function m$(){return au=au||document.head.querySelector("base"),au?au.getAttribute("href"):null}function g$(n){return new URL(n,document.baseURI).pathname}var v$=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),dP=(()=>{class n extends iu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(Y(Ie))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),uP=["alt","control","meta","shift"],_$={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},y$={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},hP=(()=>{class n extends iu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>nr().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),uP.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=_$[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),uP.forEach(s=>{if(s!==i){let a=y$[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Y(Ie))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();function S0(n,e){return RM(L({rootComponent:n},b$(e)))}function b$(n){return{appProviders:[...T$,...n?.providers??[]],platformProviders:I$}}function w$(){wp.makeCurrent()}function E$(){return new Lr}function C$(){return gx(document),document}var I$=[{provide:Br,useValue:gp},{provide:Sb,useValue:w$,multi:!0},{provide:Ie,useFactory:C$}];var T$=[{provide:kf,useValue:"root"},{provide:Lr,useFactory:E$},{provide:bp,useClass:dP,multi:!0,deps:[Ie]},{provide:bp,useClass:hP,multi:!0,deps:[Ie]},D0,I0,C0,{provide:Gt,useExisting:D0},{provide:_s,useClass:v$},[]];var $a=class{},cu=class{},cn=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Cp=class{encodeKey(e){return fP(e)}encodeValue(e){return fP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function D$(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var S$=/%(\d[a-f0-9])/gi,A$={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function fP(n){return encodeURIComponent(n).replace(S$,(e,t)=>A$[t]??e)}function Ep(n){return`${n}`}var Fi=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Cp,e.fromString){if(e.fromObject)throw new K(2805,!1);this.map=D$(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Ep):[Ep(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Ep(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Ep(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Ip=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function x$(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function pP(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function mP(n){return typeof Blob<"u"&&n instanceof Blob}function gP(n){return typeof FormData<"u"&&n instanceof FormData}function M$(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var vP="Content-Type",_P="Accept",yP="X-Request-URL",bP="text/plain",wP="application/json",P$=`${wP}, ${bP}, */*`,Ua=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(x$(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new cn,this.context??=new Ip,!this.params)this.params=new Fi,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||pP(this.body)||mP(this.body)||gP(this.body)||M$(this.body)?this.body:this.body instanceof Fi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||gP(this.body)?null:mP(this.body)?this.body.type||null:pP(this.body)?null:typeof this.body=="string"?bP:this.body instanceof Fi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?wP:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,d=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((v,_)=>v.set(_,e.setHeaders[_]),u)),e.setParams&&(d=Object.keys(e.setParams).reduce((v,_)=>v.set(_,e.setParams[_]),d)),new n(t,r,s,{params:d,headers:u,context:p,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},ys=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ys||{}),Ha=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new cn,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Tp=class n extends Ha{constructor(e={}){super(e)}type=ys.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},lu=class n extends Ha{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=ys.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},uu=class extends Ha{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},R$=200,O$=204;function A0(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var sr=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Ua)o=t;else{let c;i.headers instanceof cn?c=i.headers:c=new cn(i.headers);let u;i.params&&(i.params instanceof Fi?u=i.params:u=new Fi({fromObject:i.params})),o=new Ua(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=X(o).pipe(Rr(c=>this.handler.handle(c)));if(t instanceof Ua||i.observe==="events")return s;let a=s.pipe(dt(c=>c instanceof lu));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(de(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new K(2806,!1);return c.body}));case"blob":return a.pipe(de(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new K(2807,!1);return c.body}));case"text":return a.pipe(de(c=>{if(c.body!==null&&typeof c.body!="string")throw new K(2808,!1);return c.body}));case"json":default:return a.pipe(de(c=>c.body))}case"response":return a;default:throw new K(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Fi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,A0(i,r))}post(t,r,i={}){return this.request("POST",t,A0(i,r))}put(t,r,i={}){return this.request("PUT",t,A0(i,r))}static \u0275fac=function(r){return new(r||n)(Y($a))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();var k$=new $("");function N$(n,e){return e(n)}function F$(n,e,t){return(r,i)=>Lt(t,()=>e(r,o=>n(o,i)))}var M0=new $(""),EP=new $(""),CP=new $("",{providedIn:"root",factory:()=>!0});var Dp=(()=>{class n extends $a{backend;injector;chain=null;pendingTasks=I(Pi);contributeToStability=I(CP);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(M0),...this.injector.get(EP,[])]));this.chain=r.reduceRight((i,o)=>F$(i,o,this.injector),N$)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Ko(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(Y(cu),Y(ct))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();var L$=/^\)\]\}',?\n/,V$=RegExp(`^${yP}:`,"m");function j$(n){return"responseURL"in n&&n.responseURL?n.responseURL:V$.test(n.getAllResponseHeaders())?n.getResponseHeader(yP):null}var x0=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new K(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ge(r.\u0275loadImpl()):X(null)).pipe(qt(()=>new me(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((R,k)=>s.setRequestHeader(R,k.join(","))),t.headers.has(_P)||s.setRequestHeader(_P,P$),!t.headers.has(vP)){let R=t.detectContentTypeHeader();R!==null&&s.setRequestHeader(vP,R)}if(t.responseType){let R=t.responseType.toLowerCase();s.responseType=R!=="json"?R:"text"}let a=t.serializeBody(),c=null,u=()=>{if(c!==null)return c;let R=s.statusText||"OK",k=new cn(s.getAllResponseHeaders()),W=j$(s)||t.url;return c=new Tp({headers:k,status:s.status,statusText:R,url:W}),c},d=()=>{let{headers:R,status:k,statusText:W,url:J}=u(),Z=null;k!==O$&&(Z=typeof s.response>"u"?s.responseText:s.response),k===0&&(k=Z?R$:0);let ke=k>=200&&k<300;if(t.responseType==="json"&&typeof Z=="string"){let Tt=Z;Z=Z.replace(L$,"");try{Z=Z!==""?JSON.parse(Z):null}catch(Ue){Z=Tt,ke&&(ke=!1,Z={error:Ue,text:Z})}}ke?(o.next(new lu({body:Z,headers:R,status:k,statusText:W,url:J||void 0})),o.complete()):o.error(new uu({error:Z,headers:R,status:k,statusText:W,url:J||void 0}))},p=R=>{let{url:k}=u(),W=new uu({error:R,status:s.status||0,statusText:s.statusText||"Unknown Error",url:k||void 0});o.error(W)},v=!1,_=R=>{v||(o.next(u()),v=!0);let k={type:ys.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(k.total=R.total),t.responseType==="text"&&s.responseText&&(k.partialText=s.responseText),o.next(k)},S=R=>{let k={type:ys.UploadProgress,loaded:R.loaded};R.lengthComputable&&(k.total=R.total),o.next(k)};return s.addEventListener("load",d),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",_),a!==null&&s.upload&&s.upload.addEventListener("progress",S)),s.send(a),o.next({type:ys.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",d),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",_),a!==null&&s.upload&&s.upload.removeEventListener("progress",S)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(Y(_s))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),IP=new $(""),B$="XSRF-TOKEN",U$=new $("",{providedIn:"root",factory:()=>B$}),$$="X-XSRF-TOKEN",H$=new $("",{providedIn:"root",factory:()=>$$}),du=class{},z$=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ru(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(Y(Ie),Y(U$))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();function q$(n,e){let t=n.url.toLowerCase();if(!I(IP)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=I(du).getToken(),i=I(H$);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var P0=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(P0||{});function W$(n,e){return{\u0275kind:n,\u0275providers:e}}function R0(...n){let e=[sr,x0,Dp,{provide:$a,useExisting:Dp},{provide:cu,useFactory:()=>I(k$,{optional:!0})??I(x0)},{provide:M0,useValue:q$,multi:!0},{provide:IP,useValue:!0},{provide:du,useClass:z$}];for(let t of n)e.push(...t.\u0275providers);return Si(e)}function O0(n){return W$(P0.Interceptors,n.map(e=>({provide:M0,useValue:e,multi:!0})))}var TP=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Y(Ie))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var we="primary",Tu=Symbol("RouteTitle"),V0=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Es(n){return new V0(n)}function OP(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function K$(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!qr(n[t],e[t]))return!1;return!0}function qr(n,e){let t=n?j0(n):void 0,r=e?j0(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!kP(n[i],e[i]))return!1;return!0}function j0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function kP(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function NP(n){return n.length>0?n[n.length-1]:null}function bo(n){return Uh(n)?n:mo(n)?Ge(Promise.resolve(n)):X(n)}var Y$={exact:LP,subset:VP},FP={exact:Q$,subset:Z$,ignored:()=>!0};function DP(n,e,t){return Y$[t.paths](n.root,e.root,t.matrixParams)&&FP[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function Q$(n,e){return qr(n,e)}function LP(n,e,t){if(!bs(n.segments,e.segments)||!xp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!LP(n.children[r],e.children[r],t))return!1;return!0}function Z$(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>kP(n[t],e[t]))}function VP(n,e,t){return jP(n,e,e.segments,t)}function jP(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!bs(i,t)||e.hasChildren()||!xp(i,t,r))}else if(n.segments.length===t.length){if(!bs(n.segments,t)||!xp(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!VP(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!bs(n.segments,i)||!xp(n.segments,i,r)||!n.children[we]?!1:jP(n.children[we],e,o,r)}}function xp(n,e,t){return e.every((r,i)=>FP[t](n[i].parameters,r.parameters))}var Gr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new He([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Es(this.queryParams),this._queryParamMap}toString(){return e5.serialize(this)}},He=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mp(this)}},go=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Es(this.parameters),this._parameterMap}toString(){return UP(this)}};function X$(n,e){return bs(n,e)&&n.every((t,r)=>qr(t.parameters,e[r].parameters))}function bs(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function J$(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===we&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==we&&(t=t.concat(e(i,r)))}),t}var Cs=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>new vo,providedIn:"root"})}return n})(),vo=class{parse(e){let t=new U0(e);return new Gr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${fu(e.root,!0)}`,r=r5(e.queryParams),i=typeof e.fragment=="string"?`#${t5(e.fragment)}`:"";return`${t}${r}${i}`}},e5=new vo;function Mp(n){return n.segments.map(e=>UP(e)).join("/")}function fu(n,e){if(!n.hasChildren())return Mp(n);if(e){let t=n.children[we]?fu(n.children[we],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==we&&r.push(`${i}:${fu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=J$(n,(r,i)=>i===we?[fu(n.children[we],!1)]:[`${i}:${fu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[we]!=null?`${Mp(n)}/${t[0]}`:`${Mp(n)}/(${t.join("//")})`}}function BP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sp(n){return BP(n).replace(/%3B/gi,";")}function t5(n){return encodeURI(n)}function B0(n){return BP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pp(n){return decodeURIComponent(n)}function SP(n){return Pp(n.replace(/\+/g,"%20"))}function UP(n){return`${B0(n.path)}${n5(n.parameters)}`}function n5(n){return Object.entries(n).map(([e,t])=>`;${B0(e)}=${B0(t)}`).join("")}function r5(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Sp(t)}=${Sp(i)}`).join("&"):`${Sp(t)}=${Sp(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var i5=/^[^\/()?;#]+/;function k0(n){let e=n.match(i5);return e?e[0]:""}var o5=/^[^\/()?;=#]+/;function s5(n){let e=n.match(o5);return e?e[0]:""}var a5=/^[^=?&#]+/;function c5(n){let e=n.match(a5);return e?e[0]:""}var l5=/^[^&#]+/;function u5(n){let e=n.match(l5);return e?e[0]:""}var U0=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new He([],{}):new He([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[we]=new He(e,t)),r}parseSegment(){let e=k0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new K(4009,!1);return this.capture(e),new go(Pp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=s5(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=k0(this.remaining);i&&(r=i,this.capture(r))}e[Pp(t)]=Pp(r)}parseQueryParam(e){let t=c5(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=u5(this.remaining);s&&(r=s,this.capture(r))}let i=SP(t),o=SP(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=k0(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new K(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=we);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[we]:new He([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new K(4011,!1)}};function $P(n){return n.segments.length>0?new He([],{[we]:n}):n}function HP(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=HP(i);if(r===we&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new He(n.segments,e);return d5(t)}function d5(n){if(n.numberOfChildren===1&&n.children[we]){let e=n.children[we];return new He(n.segments.concat(e.segments),e.children)}return n}function _o(n){return n instanceof Gr}function zP(n,e,t=null,r=null){let i=qP(n);return WP(i,e,t,r)}function qP(n){let e;function t(o){let s={};for(let c of o.children){let u=t(c);s[c.outlet]=u}let a=new He(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=$P(r);return e??i}function WP(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return N0(i,i,i,t,r);let o=h5(e);if(o.toRoot())return N0(i,i,new He([],{}),t,r);let s=f5(o,i,n),a=s.processChildren?mu(s.segmentGroup,s.index,o.commands):KP(s.segmentGroup,s.index,o.commands);return N0(i,s.segmentGroup,a,t,r)}function Op(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function vu(n){return typeof n=="object"&&n!=null&&n.outlets}function N0(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;n===e?s=t:s=GP(n,e,t);let a=$P(HP(s));return new Gr(a,o,i)}function GP(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=GP(o,e,t)}),new He(n.segments,r)}var kp=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Op(r[0]))throw new K(4003,!1);let i=r.find(vu);if(i&&i!==NP(r))throw new K(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function h5(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new kp(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new kp(t,e,r)}var Wa=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function f5(n,e,t){if(n.isAbsolute)return new Wa(e,!0,0);if(!t)return new Wa(e,!1,NaN);if(t.parent===null)return new Wa(t,!0,0);let r=Op(n.commands[0])?0:1,i=t.segments.length-1+r;return p5(t,i,n.numberOfDoubleDots)}function p5(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new K(4005,!1);i=r.segments.length}return new Wa(r,!1,i-o)}function m5(n){return vu(n[0])?n[0].outlets:{[we]:n}}function KP(n,e,t){if(n??=new He([],{}),n.segments.length===0&&n.hasChildren())return mu(n,e,t);let r=g5(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new He(n.segments.slice(0,r.pathIndex),{});return o.children[we]=new He(n.segments.slice(r.pathIndex),n.children),mu(o,0,i)}else return r.match&&i.length===0?new He(n.segments,{}):r.match&&!n.hasChildren()?$0(n,e,t):r.match?mu(n,0,i):$0(n,e,t)}function mu(n,e,t){if(t.length===0)return new He(n.segments,{});{let r=m5(t),i={};if(Object.keys(r).some(o=>o!==we)&&n.children[we]&&n.numberOfChildren===1&&n.children[we].segments.length===0){let o=mu(n.children[we],e,t);return new He(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=KP(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new He(n.segments,i)}}function g5(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(vu(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!xP(c,u,s))return o;r+=2}else{if(!xP(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function $0(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(vu(o)){let c=v5(o.outlets);return new He(r,c)}if(i===0&&Op(t[0])){let c=n.segments[e];r.push(new go(c.path,AP(t[0]))),i++;continue}let s=vu(o)?o.outlets[we]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Op(a)?(r.push(new go(s,AP(a))),i+=2):(r.push(new go(s,{})),i++)}return new He(r,{})}function v5(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=$0(new He([],{}),0,r))}),e}function AP(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function xP(n,e,t){return n==t.path&&qr(e,t.parameters)}var Rp="imperative",kt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(kt||{}),Hn=class{id;url;constructor(e,t){this.id=e,this.url=t}},yo=class extends Hn{type=kt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ar=class extends Hn{urlAfterRedirects;type=kt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},On=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(On||{}),Ka=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Ka||{}),Wr=class extends Hn{reason;code;type=kt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Kr=class extends Hn{reason;code;type=kt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Ya=class extends Hn{error;target;type=kt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},_u=class extends Hn{urlAfterRedirects;state;type=kt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Np=class extends Hn{urlAfterRedirects;state;type=kt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fp=class extends Hn{urlAfterRedirects;state;shouldActivate;type=kt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Lp=class extends Hn{urlAfterRedirects;state;type=kt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vp=class extends Hn{urlAfterRedirects;state;type=kt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jp=class{route;type=kt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Bp=class{route;type=kt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Up=class{snapshot;type=kt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$p=class{snapshot;type=kt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hp=class{snapshot;type=kt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zp=class{snapshot;type=kt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qa=class{routerEvent;position;anchor;type=kt.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},yu=class{},Za=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function _5(n,e){return n.providers&&!n._injector&&(n._injector=ql(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ir(n){return n.outlet||we}function y5(n,e){let t=n.filter(r=>Ir(r)===e);return t.push(...n.filter(r=>Ir(r)!==e)),t}function Du(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var qp=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Du(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Is(this.rootInjector)}},Is=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new qp(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Y(ct))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wp=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=H0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=H0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=z0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return z0(e,this._root).map(t=>t.value)}};function H0(n,e){if(n===e.value)return e;for(let t of e.children){let r=H0(n,t);if(r)return r}return null}function z0(n,e){if(n===e.value)return[e];for(let t of e.children){let r=z0(n,t);if(r.length)return r.unshift(e),r}return[]}var $n=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function qa(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var bu=class extends Wp{snapshot;constructor(e,t){super(e),this.snapshot=t,X0(this,e)}toString(){return this.snapshot.toString()}};function YP(n){let e=b5(n),t=new tt([new go("",{})]),r=new tt({}),i=new tt({}),o=new tt({}),s=new tt(""),a=new ln(t,r,o,s,i,we,n,e.root);return a.snapshot=e.root,new bu(new $n(a,[]),e)}function b5(n){let e={},t={},r={},i="",o=new ws([],e,r,i,t,we,n,null,{});return new wu("",new $n(o,[]))}var ln=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(de(u=>u[Tu]))??X(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(de(e=>Es(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(de(e=>Es(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Gp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),n.params),data:L(L({},e.data),n.data),resolve:L(L(L(L({},n.data),e.data),i?.data),n._resolvedData)}:r={params:L({},n.params),data:L({},n.data),resolve:L(L({},n.data),n._resolvedData??{})},i&&ZP(i)&&(r.resolve[Tu]=i.title),r}var ws=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Tu]}constructor(e,t,r,i,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Es(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Es(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},wu=class extends Wp{url;constructor(e,t){super(t),this.url=e,X0(this,t)}toString(){return QP(this._root)}};function X0(n,e){e.value._routerState=n,e.children.forEach(t=>X0(n,t))}function QP(n){let e=n.children.length>0?` { ${n.children.map(QP).join(", ")} } `:"";return`${n.value}${e}`}function F0(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,qr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),qr(e.params,t.params)||n.paramsSubject.next(t.params),K$(e.url,t.url)||n.urlSubject.next(t.url),qr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function q0(n,e){let t=qr(n.params,e.params)&&X$(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||q0(n.parent,e.parent))}function ZP(n){return typeof n.title=="string"||n.title===null}var XP=new $(""),Su=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=we;activateEvents=new Ze;deactivateEvents=new Ze;attachEvents=new Ze;detachEvents=new Ze;routerOutletData=cx(void 0);parentContexts=I(Is);location=I(er);changeDetector=I(wr);inputBinder=I(Au,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new K(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new W0(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=fe({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Bn]})}return n})(),W0=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===ln?this.route:e===Is?this.childContexts:e===XP?this.outletData:this.parent.get(e,t)}},Au=new $(""),J0=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Go([r.queryParams,r.params,r.data]).pipe(qt(([o,s,a],c)=>(a=L(L(L({},o),s),a),c===0?X(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=OM(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),ew=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Pe({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&te(0,"router-outlet")},dependencies:[Su],encapsulation:2})}return n})();function tw(n){let e=n.children&&n.children.map(tw),t=e?ee(L({},n),{children:e}):L({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==we&&(t.component=ew),t}function w5(n,e,t){let r=Eu(n,e._root,t?t._root:void 0);return new bu(r,e)}function Eu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=E5(n,e,t);return new $n(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Eu(n,a)),s}}let r=C5(e.value),i=e.children.map(o=>Eu(n,o));return new $n(r,i)}}function E5(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Eu(n,r,i);return Eu(n,r)})}function C5(n){return new ln(new tt(n.url),new tt(n.params),new tt(n.queryParams),new tt(n.fragment),new tt(n.data),n.outlet,n.component,n)}var Xa=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},JP="ngNavigationCancelingError";function Kp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=_o(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=eR(!1,On.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function eR(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[JP]=!0,t.cancellationCode=e,t}function I5(n){return tR(n)&&_o(n.url)}function tR(n){return!!n&&n[JP]}var T5=(n,e,t,r)=>de(i=>(new G0(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),G0=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),F0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=qa(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=qa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=qa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=qa(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new zp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new $p(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(F0(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),F0(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Yp=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ga=class{component;route;constructor(e,t){this.component=e,this.route=t}};function D5(n,e,t){let r=n._root,i=e?e._root:null;return pu(r,i,t,[r.value])}function S5(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ec(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!sA(n)?n:e.get(n):r}function pu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=qa(e);return n.children.forEach(s=>{A5(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>gu(a,t.getContext(s),i)),i}function A5(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=x5(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Yp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?pu(n,e,a?a.children:null,r,i):pu(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ga(a.outlet.component,s))}else s&&gu(e,a,i),i.canActivateChecks.push(new Yp(r)),o.component?pu(n,null,a?a.children:null,r,i):pu(n,null,t,r,i);return i}function x5(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!bs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!bs(n.url,e.url)||!qr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!q0(n,e)||!qr(n.queryParams,e.queryParams);case"paramsChange":default:return!q0(n,e)}}function gu(n,e,t){let r=qa(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?gu(s,e.children.getContext(o),t):gu(s,null,t):gu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ga(e.outlet.component,i)):t.canDeactivateChecks.push(new Ga(null,i)):t.canDeactivateChecks.push(new Ga(null,i))}function xu(n){return typeof n=="function"}function M5(n){return typeof n=="boolean"}function P5(n){return n&&xu(n.canLoad)}function R5(n){return n&&xu(n.canActivate)}function O5(n){return n&&xu(n.canActivateChild)}function k5(n){return n&&xu(n.canDeactivate)}function N5(n){return n&&xu(n.canMatch)}function nR(n){return n instanceof pr||n?.name==="EmptyError"}var Ap=Symbol("INITIAL_VALUE");function Ja(){return qt(n=>Go(n.map(e=>e.pipe(ht(1),ba(Ap)))).pipe(de(e=>{for(let t of e)if(t!==!0){if(t===Ap)return Ap;if(t===!1||F5(t))return t}return!0}),dt(e=>e!==Ap),ht(1)))}function F5(n){return _o(n)||n instanceof Xa}function L5(n,e){return wt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?X(ee(L({},t),{guardsResult:!0})):V5(s,r,i,n).pipe(wt(a=>a&&M5(a)?j5(r,o,n,e):X(a)),de(a=>ee(L({},t),{guardsResult:a})))})}function V5(n,e,t,r){return Ge(n).pipe(wt(i=>z5(i.component,i.route,t,e,r)),bi(i=>i!==!0,!0))}function j5(n,e,t,r){return Ge(e).pipe(Rr(i=>co(U5(i.route.parent,r),B5(i.route,r),H5(n,i.path,t),$5(n,i.route,t))),bi(i=>i!==!0,!0))}function B5(n,e){return n!==null&&e&&e(new Hp(n)),X(!0)}function U5(n,e){return n!==null&&e&&e(new Up(n)),X(!0)}function $5(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return X(!0);let i=r.map(o=>Wh(()=>{let s=Du(e)??t,a=ec(o,s),c=R5(a)?a.canActivate(e,n):Lt(s,()=>a(e,n));return bo(c).pipe(bi())}));return X(i).pipe(Ja())}function H5(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>S5(s)).filter(s=>s!==null).map(s=>Wh(()=>{let a=s.guards.map(c=>{let u=Du(s.node)??t,d=ec(c,u),p=O5(d)?d.canActivateChild(r,n):Lt(u,()=>d(r,n));return bo(p).pipe(bi())});return X(a).pipe(Ja())}));return X(o).pipe(Ja())}function z5(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return X(!0);let s=o.map(a=>{let c=Du(e)??i,u=ec(a,c),d=k5(u)?u.canDeactivate(n,e,t,r):Lt(c,()=>u(n,e,t,r));return bo(d).pipe(bi())});return X(s).pipe(Ja())}function q5(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return X(!0);let o=i.map(s=>{let a=ec(s,n),c=P5(a)?a.canLoad(e,t):Lt(n,()=>a(e,t));return bo(c)});return X(o).pipe(Ja(),rR(r))}function rR(n){return N_(Wt(e=>{if(typeof e!="boolean")throw Kp(n,e)}),de(e=>e===!0))}function W5(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return X(!0);let o=i.map(s=>{let a=ec(s,n),c=N5(a)?a.canMatch(e,t):Lt(n,()=>a(e,t));return bo(c)});return X(o).pipe(Ja(),rR(r))}var Cu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Iu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function za(n){return Tn(new Cu(n))}function G5(n){return Tn(new K(4e3,!1))}function K5(n){return Tn(eR(!1,On.GuardRejected))}var K0=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return X(r);if(i.numberOfChildren>1||!i.children[we])return G5(`${e.redirectTo}`);i=i.children[we]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:u,routeConfig:d,url:p,outlet:v,params:_,data:S,title:R}=i,k=Lt(o,()=>a({params:_,data:S,queryParams:c,fragment:u,routeConfig:d,url:p,outlet:v,title:R}));if(k instanceof Gr)throw new Iu(k);t=k}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Iu(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Gr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new He(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new K(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Y0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Y5(n,e,t,r,i){let o=iR(n,e,t);return o.matched?(r=_5(e,r),W5(r,e,t,i).pipe(de(s=>s===!0?o:L({},Y0)))):X(o)}function iR(n,e,t){if(e.path==="**")return Q5(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?L({},Y0):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||OP)(t,n,e);if(!i)return L({},Y0);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Q5(n){return{matched:!0,parameters:n.length>0?NP(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function MP(n,e,t,r){return t.length>0&&J5(n,t,r)?{segmentGroup:new He(e,X5(r,new He(t,n.children))),slicedSegments:[]}:t.length===0&&eH(n,t,r)?{segmentGroup:new He(n.segments,Z5(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new He(n.segments,n.children),slicedSegments:t}}function Z5(n,e,t,r){let i={};for(let o of t)if(Zp(n,e,o)&&!r[Ir(o)]){let s=new He([],{});i[Ir(o)]=s}return L(L({},r),i)}function X5(n,e){let t={};t[we]=e;for(let r of n)if(r.path===""&&Ir(r)!==we){let i=new He([],{});t[Ir(r)]=i}return t}function J5(n,e,t){return t.some(r=>Zp(n,e,r)&&Ir(r)!==we)}function eH(n,e,t){return t.some(r=>Zp(n,e,r))}function Zp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function tH(n,e,t){return e.length===0&&!n.children[t]}var Q0=class{};function nH(n,e,t,r,i,o,s="emptyOnly"){return new Z0(n,e,t,r,i,s,o).recognize()}var rH=31,Z0=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new K0(this.urlSerializer,this.urlTree)}noMatchError(e){return new K(4002,`'${e.segmentGroup}'`)}recognize(){let e=MP(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(de(({children:t,rootSnapshot:r})=>{let i=new $n(r,t),o=new wu("",i),s=zP(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new ws([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),we,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,we,t).pipe(de(r=>({children:r,rootSnapshot:t})),ot(r=>{if(r instanceof Iu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Cu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(de(s=>s instanceof $n?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ge(o).pipe(Rr(s=>{let a=r.children[s],c=y5(t,s);return this.processSegmentGroup(e,c,a,s,i)}),K_((s,a)=>(s.push(...a),s)),lo(null),G_(),wt(s=>{if(s===null)return za(r);let a=oR(s);return iH(a),X(a)}))}processSegment(e,t,r,i,o,s,a){return Ge(t).pipe(Rr(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(ot(u=>{if(u instanceof Cu)return X(null);throw u}))),bi(c=>!!c),ot(c=>{if(nR(c))return tH(r,i,o)?X(new Q0):za(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return Ir(r)!==s&&(s===we||!Zp(i,o,r))?za(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):za(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:p,remainingSegments:v}=iR(t,i,o);if(!c)return za(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>rH&&(this.allowRedirects=!1));let _=new ws(o,u,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,PP(i),Ir(i),i.component??i._loadedComponent??null,i,RP(i)),S=Gp(_,a,this.paramsInheritanceStrategy);_.params=Object.freeze(S.params),_.data=Object.freeze(S.data);let R=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,p,_,e);return this.applyRedirects.lineralizeSegments(i,R).pipe(wt(k=>this.processSegment(e,r,t,k.concat(v),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=Y5(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(qt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(qt(({routes:u})=>{let d=r._loadedInjector??e,{parameters:p,consumedSegments:v,remainingSegments:_}=c,S=new ws(v,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,PP(r),Ir(r),r.component??r._loadedComponent??null,r,RP(r)),R=Gp(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(R.params),S.data=Object.freeze(R.data);let{segmentGroup:k,slicedSegments:W}=MP(t,v,_,u);if(W.length===0&&k.hasChildren())return this.processChildren(d,u,k,S).pipe(de(Z=>new $n(S,Z)));if(u.length===0&&W.length===0)return X(new $n(S,[]));let J=Ir(r)===o;return this.processSegment(d,u,k,W,J?we:o,!0,S).pipe(de(Z=>new $n(S,Z instanceof $n?[Z]:[])))}))):za(t)))}getChildConfig(e,t,r){return t.children?X({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?X({routes:t._loadedRoutes,injector:t._loadedInjector}):q5(e,t,r,this.urlSerializer).pipe(wt(i=>i?this.configLoader.loadChildren(e,t).pipe(Wt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):K5(t))):X({routes:[],injector:e})}};function iH(n){n.sort((e,t)=>e.value.outlet===we?-1:t.value.outlet===we?1:e.value.outlet.localeCompare(t.value.outlet))}function oH(n){let e=n.value.routeConfig;return e&&e.path===""}function oR(n){let e=[],t=new Set;for(let r of n){if(!oH(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=oR(r.children);e.push(new $n(r.value,i))}return e.filter(r=>!t.has(r))}function PP(n){return n.data||{}}function RP(n){return n.resolve||{}}function sH(n,e,t,r,i,o){return wt(s=>nH(n,e,t,r,s.extractedUrl,i,o).pipe(de(({state:a,tree:c})=>ee(L({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function aH(n,e){return wt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return X(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of sR(c))s.add(u);let a=0;return Ge(s).pipe(Rr(c=>o.has(c)?cH(c,r,n,e):(c.data=Gp(c,c.parent,n).resolve,X(void 0))),Wt(()=>a++),ya(1),wt(c=>a===s.size?X(t):on))})}function sR(n){let e=n.children.map(t=>sR(t)).flat();return[n,...e]}function cH(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!ZP(i)&&(o[Tu]=i.title),lH(o,n,e,r).pipe(de(s=>(n._resolvedData=s,n.data=Gp(n,n.parent,t).resolve,null)))}function lH(n,e,t,r){let i=j0(n);if(i.length===0)return X({});let o={};return Ge(i).pipe(wt(s=>uH(n[s],e,t,r).pipe(bi(),Wt(a=>{if(a instanceof Xa)throw Kp(new vo,a);o[s]=a}))),ya(1),de(()=>o),ot(s=>nR(s)?on:Tn(s)))}function uH(n,e,t,r){let i=Du(e)??r,o=ec(n,i),s=o.resolve?o.resolve(e,t):Lt(i,()=>o(e,t));return bo(s)}function L0(n){return qt(e=>{let t=n(e);return t?Ge(t).pipe(de(()=>e)):X(e)})}var nw=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===we);return r}getResolvedTitleForRoute(t){return t.data[Tu]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>I(aR),providedIn:"root"})}return n})(),aR=(()=>{class n extends nw{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Y(TP))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ts=new $("",{providedIn:"root",factory:()=>({})}),Ds=new $(""),Xp=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=I(PM);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return X(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=bo(t.loadComponent()).pipe(de(lR),Wt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ko(()=>{this.componentLoaders.delete(t)})),i=new ma(r,()=>new he).pipe(pa());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return X({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=cR(r,this.compiler,t,this.onLoadEndListener).pipe(Ko(()=>{this.childrenLoaders.delete(r)})),s=new ma(o,()=>new he).pipe(pa());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cR(n,e,t,r){return bo(n.loadChildren()).pipe(de(lR),wt(i=>i instanceof Qb||Array.isArray(i)?X(i):Ge(e.compileModuleAsync(i))),de(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Ds,[],{optional:!0,self:!0}).flat()),{routes:s.map(tw),injector:o}}))}function dH(n){return n&&typeof n=="object"&&"default"in n}function lR(n){return dH(n)?n.default:n}var Jp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>I(hH),providedIn:"root"})}return n})(),hH=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rw=new $(""),iw=new $("");function uR(n,e,t){let r=n.get(iw),i=n.get(Ie);return n.get(ce).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),fH(n))),{onViewTransitionCreated:c}=r;return c&&Lt(n,()=>c({transition:a,from:e,to:t})),s})}function fH(n){return new Promise(e=>{ps({read:()=>setTimeout(e)},{injector:n})})}var ow=new $(""),em=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new he;transitionAbortSubject=new he;configLoader=I(Xp);environmentInjector=I(ct);destroyRef=I(ds);urlSerializer=I(Cs);rootContexts=I(Is);location=I(Ur);inputBindingEnabled=I(Au,{optional:!0})!==null;titleStrategy=I(nw);options=I(Ts,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=I(Jp);createViewTransition=I(rw,{optional:!0});navigationErrorHandler=I(ow,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>X(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new jp(i)),r=i=>this.events.next(new Bp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ee(L({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new tt(null),this.transitions.pipe(dt(r=>r!==null),qt(r=>{let i=!1,o=!1;return X(r).pipe(qt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",On.SupersededByNewNavigation),on;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ee(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&c!=="reload"){let u="";return this.events.next(new Kr(s.id,this.urlSerializer.serialize(s.rawUrl),u,Ka.IgnoredSameUrlNavigation)),s.resolve(!1),on}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return X(s).pipe(qt(u=>(this.events.next(new yo(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?on:Promise.resolve(u))),sH(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Wt(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=ee(L({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let d=new _u(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:d,source:p,restoredState:v,extras:_}=s,S=new yo(u,this.urlSerializer.serialize(d),p,v);this.events.next(S);let R=YP(this.rootComponentType).snapshot;return this.currentTransition=r=ee(L({},s),{targetSnapshot:R,urlAfterRedirects:d,extras:ee(L({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,X(r)}else{let u="";return this.events.next(new Kr(s.id,this.urlSerializer.serialize(s.extractedUrl),u,Ka.IgnoredByUrlHandlingStrategy)),s.resolve(!1),on}}),Wt(s=>{let a=new Np(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),de(s=>(this.currentTransition=r=ee(L({},s),{guards:D5(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),L5(this.environmentInjector,s=>this.events.next(s)),Wt(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Kp(this.urlSerializer,s.guardsResult);let a=new Fp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),dt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",On.GuardRejected),!1)),L0(s=>{if(s.guards.canActivateChecks.length!==0)return X(s).pipe(Wt(a=>{let c=new Lp(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),qt(a=>{let c=!1;return X(a).pipe(aH(this.paramsInheritanceStrategy,this.environmentInjector),Wt({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",On.NoDataFromResolver)}}))}),Wt(a=>{let c=new Vp(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),L0(s=>{let a=c=>{let u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(Wt(d=>{c.component=d}),de(()=>{})));for(let d of c.children)u.push(...a(d));return u};return Go(a(s.targetSnapshot.root)).pipe(lo(null),ht(1))}),L0(()=>this.afterPreactivation()),qt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?Ge(c).pipe(de(()=>r)):X(r)}),de(s=>{let a=w5(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ee(L({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Wt(()=>{this.events.next(new yu)}),T5(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),ht(1),Wt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ar(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Qn(this.transitionAbortSubject.pipe(Wt(s=>{throw s}))),Ko(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",On.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),ot(s=>{if(this.destroyed)return r.resolve(!1),on;if(o=!0,tR(s))this.events.next(new Wr(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),I5(s)?this.events.next(new Za(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Ya(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=Lt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Xa){let{message:u,cancellationCode:d}=Kp(this.urlSerializer,c);this.events.next(new Wr(r.id,this.urlSerializer.serialize(r.extractedUrl),u,d)),this.events.next(new Za(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return on}))}))}cancelNavigationTransition(t,r,i){let o=new Wr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pH(n){return n!==Rp}var dR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>I(mH),providedIn:"root"})}return n})(),Qp=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},mH=(()=>{class n extends Qp{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ct(n)))(i||n)}})();static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hR=(()=>{class n{urlSerializer=I(Cs);options=I(Ts,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=I(Ur);urlHandlingStrategy=I(Jp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Gr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Gr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=YP(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>I(gH),providedIn:"root"})}return n})(),gH=(()=>{class n extends hR{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof yo?this.updateStateMemento():t instanceof Kr?this.commitTransition(r):t instanceof _u?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof yu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Wr&&(t.code===On.GuardRejected||t.code===On.NoDataFromResolver)?this.restoreHistory(r):t instanceof Ya?this.restoreHistory(r,!0):t instanceof ar&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=L(L({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=L(L({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ct(n)))(i||n)}})();static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tm(n,e){n.events.pipe(dt(t=>t instanceof ar||t instanceof Wr||t instanceof Ya||t instanceof Kr),de(t=>t instanceof ar||t instanceof Kr?0:(t instanceof Wr?t.code===On.Redirect||t.code===On.SupersededByNewNavigation:!1)?2:1),dt(t=>t!==2),ht(1)).subscribe(()=>{e()})}var vH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_H={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ae=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=I(dM);stateManager=I(hR);options=I(Ts,{optional:!0})||{};pendingTasks=I(Pi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=I(em);urlSerializer=I(Cs);location=I(Ur);urlHandlingStrategy=I(Jp);_events=new he;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=I(dR);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=I(Ds,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!I(Au,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new et;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Wr&&r.code!==On.Redirect&&r.code!==On.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ar)this.navigated=!0;else if(r instanceof Za){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||pH(i.source)},s);this.scheduleNavigation(a,Rp,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}bH(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Rp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=L({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(tw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let p;try{let v=i?i.snapshot:this.routerState.snapshot.root;p=qP(v)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return WP(p,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=_o(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Rp,null,r)}navigate(t,r={skipLocationChange:!1}){return yH(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=L({},vH):r===!1?i=L({},_H):i=r,_o(t))return DP(this.currentUrlTree,t,i);let o=this.parseUrl(t);return DP(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((p,v)=>{a=p,c=v});let d=this.pendingTasks.add();return tm(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yH(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new K(4008,!1)}function bH(n){return!(n instanceof yu)&&!(n instanceof Za)}var nm=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new he;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof ar&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(_o(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:Ix(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:_o(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(j(Ae),j(ln),Ib("tabindex"),j(br),j(Je),j(rr))};static \u0275dir=fe({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&z("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&tr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Zt],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Zt],replaceUrl:[2,"replaceUrl","replaceUrl",Zt],routerLink:"routerLink"},features:[Bn]})}return n})();var Mu=class{};var fR=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(dt(t=>t instanceof ar),Rr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ql(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ge(i).pipe(ao())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=X(null);let o=i.pipe(wt(s=>s===null?X(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Ge([o,s]).pipe(ao())}else return o})}static \u0275fac=function(r){return new(r||n)(Y(Ae),Y(ct),Y(Mu),Y(Xp))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pR=new $(""),wH=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof yo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ar?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Kr&&t.code===Ka.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Qa&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Qa(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Jx()};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();function aw(n,...e){return Si([{provide:Ds,multi:!0,useValue:n},[],{provide:ln,useFactory:mR,deps:[Ae]},{provide:Zf,multi:!0,useFactory:gR},e.map(t=>t.\u0275providers)])}function mR(n){return n.routerState.root}function tc(n,e){return{\u0275kind:n,\u0275providers:e}}function gR(){let n=I(Le);return e=>{let t=n.get(yr);if(e!==t.components[0])return;let r=n.get(Ae),i=n.get(vR);n.get(cw)===1&&r.initialNavigation(),n.get(bR,null,Ee.Optional)?.setUpPreloading(),n.get(pR,null,Ee.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var vR=new $("",{factory:()=>new he}),cw=new $("",{providedIn:"root",factory:()=>1});function _R(){let n=[{provide:cw,useValue:0},Jb(()=>{let e=I(Le);return e.get(c0,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(Ae),o=e.get(vR);tm(i,()=>{r(!0)}),e.get(em).afterPreactivation=()=>(r(!0),o.closed?X(void 0):o),i.initialNavigation()}))})];return tc(2,n)}function yR(){let n=[Jb(()=>{I(Ae).setUpLocationChangeListener()}),{provide:cw,useValue:2}];return tc(3,n)}var bR=new $("");function wR(n){return tc(0,[{provide:bR,useExisting:fR},{provide:Mu,useExisting:n}])}function lw(){return tc(6,[{provide:rr,useClass:pp}])}function rm(){return tc(8,[J0,{provide:Au,useExisting:J0}])}function ER(n){fs("NgRouterViewTransitions");let e=[{provide:rw,useValue:uR},{provide:iw,useValue:L({skipNextTransition:!!n?.skipInitialTransition},n)}];return tc(9,e)}var CR=[Ur,{provide:Cs,useClass:vo},Ae,Is,{provide:ln,useFactory:mR,deps:[Ae]},Xp,[]],Ss=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[CR,[],{provide:Ds,multi:!0,useValue:t},[],r?.errorHandler?{provide:ow,useValue:r.errorHandler}:[],{provide:Ts,useValue:r||{}},r?.useHash?CH():IH(),EH(),r?.preloadingStrategy?wR(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?TH(r):[],r?.bindToComponentInputs?rm().\u0275providers:[],r?.enableViewTransitions?ER().\u0275providers:[],DH()]}}static forChild(t){return{ngModule:n,providers:[{provide:Ds,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Kt({})}return n})();function EH(){return{provide:pR,useFactory:()=>{let n=I(iP),e=I(ce),t=I(Ts),r=I(em),i=I(Cs);return t.scrollOffset&&n.setOffset(t.scrollOffset),new wH(i,r,n,e,t)}}}function CH(){return{provide:rr,useClass:pp}}function IH(){return{provide:rr,useClass:ip}}function TH(n){return[n.initialNavigation==="disabled"?yR().\u0275providers:[],n.initialNavigation==="enabledBlocking"?_R().\u0275providers:[]]}var sw=new $("");function DH(){return[{provide:sw,useFactory:gR},{provide:Zf,multi:!0,useExisting:sw}]}var OR=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(j(br),j(Je))};static \u0275dir=fe({type:n})}return n})(),Lu=(()=>{class n extends OR{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ct(n)))(i||n)}})();static \u0275dir=fe({type:n,features:[We]})}return n})(),xs=new $(""),SH={provide:xs,useExisting:Ot(()=>fw),multi:!0},fw=(()=>{class n extends Lu{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ct(n)))(i||n)}})();static \u0275dir=fe({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&z("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Dt([SH]),We]})}return n})(),AH={provide:xs,useExisting:Ot(()=>jt),multi:!0};function xH(){let n=nr()?nr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var MH=new $(""),jt=(()=>{class n extends OR{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!xH())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(j(br),j(Je),j(MH,8))};static \u0275dir=fe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&z("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Dt([AH]),We]})}return n})();function pw(n){return n==null||mw(n)===0}function mw(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Yr=new $(""),sc=new $(""),PH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ze=class{static min(e){return kR(e)}static max(e){return NR(e)}static required(e){return FR(e)}static requiredTrue(e){return RH(e)}static email(e){return LR(e)}static minLength(e){return OH(e)}static maxLength(e){return kH(e)}static pattern(e){return NH(e)}static nullValidator(e){return om()}static compose(e){return HR(e)}static composeAsync(e){return zR(e)}};function kR(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function NR(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function FR(n){return pw(n.value)?{required:!0}:null}function RH(n){return n.value===!0?null:{required:!0}}function LR(n){return pw(n.value)||PH.test(n.value)?null:{email:!0}}function OH(n){return e=>{let t=e.value?.length??mw(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function kH(n){return e=>{let t=e.value?.length??mw(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function NH(n){if(!n)return om;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(pw(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function om(n){return null}function VR(n){return n!=null}function jR(n){return mo(n)?Ge(n):n}function BR(n){let e={};return n.forEach(t=>{e=t!=null?L(L({},e),t):e}),Object.keys(e).length===0?null:e}function UR(n,e){return e.map(t=>t(n))}function FH(n){return!n.validate}function $R(n){return n.map(e=>FH(e)?e:t=>e.validate(t))}function HR(n){if(!n)return null;let e=n.filter(VR);return e.length==0?null:function(t){return BR(UR(t,e))}}function gw(n){return n!=null?HR($R(n)):null}function zR(n){if(!n)return null;let e=n.filter(VR);return e.length==0?null:function(t){let r=UR(t,e).map(jR);return z_(r).pipe(de(BR))}}function vw(n){return n!=null?zR($R(n)):null}function IR(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function qR(n){return n._rawValidators}function WR(n){return n._rawAsyncValidators}function uw(n){return n?Array.isArray(n)?n:[n]:[]}function sm(n,e){return Array.isArray(n)?n.includes(e):n===e}function TR(n,e){let t=uw(e);return uw(n).forEach(i=>{sm(t,i)||t.push(i)}),t}function DR(n,e){return uw(e).filter(t=>!sm(n,t))}var am=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=gw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},wn=class extends am{name;get formDirective(){return null}get path(){return null}},As=class extends am{_parent=null;name=null;valueAccessor=null},cm=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},LH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ase=ee(L({},LH),{"[class.ng-submitted]":"isSubmitted"}),un=(()=>{class n extends cm{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(j(As,2))};static \u0275dir=fe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&$e("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[We]})}return n})(),Qr=(()=>{class n extends cm{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(j(wn,10))};static \u0275dir=fe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&$e("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[We]})}return n})();var Pu="VALID",im="INVALID",nc="PENDING",Ru="DISABLED",wo=class{},lm=class extends wo{value;source;constructor(e,t){super(),this.value=e,this.source=t}},ku=class extends wo{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Nu=class extends wo{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},rc=class extends wo{status;source;constructor(e,t){super(),this.status=e,this.source=t}},um=class extends wo{source;constructor(e){super(),this.source=e}},dm=class extends wo{source;constructor(e){super(),this.source=e}};function _w(n){return(mm(n)?n.validators:n)||null}function VH(n){return Array.isArray(n)?gw(n):n||null}function yw(n,e){return(mm(e)?e.asyncValidators:n)||null}function jH(n){return Array.isArray(n)?vw(n):n||null}function mm(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function GR(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new K(1e3,"");if(!r[t])throw new K(1001,"")}function KR(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new K(1002,"")})}var ic=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return bn(this.statusReactive)}set status(e){bn(()=>this.statusReactive.set(e))}_status=gs(()=>this.statusReactive());statusReactive=hs(void 0);get valid(){return this.status===Pu}get invalid(){return this.status===im}get pending(){return this.status==nc}get disabled(){return this.status===Ru}get enabled(){return this.status!==Ru}errors;get pristine(){return bn(this.pristineReactive)}set pristine(e){bn(()=>this.pristineReactive.set(e))}_pristine=gs(()=>this.pristineReactive());pristineReactive=hs(!0);get dirty(){return!this.pristine}get touched(){return bn(this.touchedReactive)}set touched(e){bn(()=>this.touchedReactive.set(e))}_touched=gs(()=>this.touchedReactive());touchedReactive=hs(!1);get untouched(){return!this.touched}_events=new he;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(TR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(TR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(DR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(DR(e,this._rawAsyncValidators))}hasValidator(e){return sm(this._rawValidators,e)}hasAsyncValidator(e){return sm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ee(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Nu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Nu(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ee(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ku(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new ku(!0,r))}markAsPending(e={}){this.status=nc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new rc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ee(L({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ru,this.errors=null,this._forEachChild(i=>{i.disable(ee(L({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new lm(this.value,r)),this._events.next(new rc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ee(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Pu,this._forEachChild(r=>{r.enable(ee(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ee(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pu||this.status===nc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new lm(this.value,t)),this._events.next(new rc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ee(L({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ru:Pu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=nc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=jR(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new rc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ze,this.statusChanges=new Ze}_calculateStatus(){return this._allControlsDisabled()?Ru:this.errors?im:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nc)?nc:this._anyControlsHaveStatus(im)?im:Pu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new ku(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Nu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){mm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=VH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=jH(this._rawAsyncValidators)}},oc=class extends ic{constructor(e,t,r){super(_w(t),yw(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){KR(this,!0,e),Object.keys(e).forEach(r=>{GR(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var dw=class extends oc{};var Vu=new $("",{providedIn:"root",factory:()=>gm}),gm="always";function vm(n,e){return[...e.path,n]}function hm(n,e,t=gm){bw(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),UH(n,e),HH(n,e),$H(n,e),BH(n,e)}function SR(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),pm(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function fm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function BH(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function bw(n,e){let t=qR(n);e.validator!==null?n.setValidators(IR(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=WR(n);e.asyncValidator!==null?n.setAsyncValidators(IR(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();fm(e._rawValidators,i),fm(e._rawAsyncValidators,i)}function pm(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=qR(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=WR(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return fm(e._rawValidators,r),fm(e._rawAsyncValidators,r),t}function UH(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&YR(n,e)})}function $H(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&YR(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function YR(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function HH(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function QR(n,e){n==null,bw(n,e)}function zH(n,e){return pm(n,e)}function ZR(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function qH(n){return Object.getPrototypeOf(n.constructor)===Lu}function XR(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function JR(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===jt?t=o:qH(o)?r=o:i=o}),i||r||t||null}function WH(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var GH={provide:wn,useExisting:Ot(()=>Ms)},Ou=Promise.resolve(),Ms=(()=>{class n extends wn{callSetDisabledState;get submitted(){return bn(this.submittedReactive)}_submitted=gs(()=>this.submittedReactive());submittedReactive=hs(!1);_directives=new Set;form;ngSubmit=new Ze;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new oc({},gw(t),vw(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ou.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),hm(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ou.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ou.then(()=>{let r=this._findContainer(t.path),i=new oc({});QR(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ou.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ou.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),XR(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new um(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new dm(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(j(Yr,10),j(sc,10),j(Vu,8))};static \u0275dir=fe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&z("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Dt([GH]),We]})}return n})();function AR(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function xR(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Fu=class extends ic{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(_w(t),yw(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(xR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){AR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){AR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){xR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var KH=n=>n instanceof Fu,YH=(()=>{class n extends wn{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return vm(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ct(n)))(i||n)}})();static \u0275dir=fe({type:n,standalone:!1,features:[We]})}return n})();var QH={provide:As,useExisting:Ot(()=>qn)},MR=Promise.resolve(),qn=(()=>{class n extends As{_changeDetectorRef;callSetDisabledState;control=new Fu;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ze;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=JR(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),ZR(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){hm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){MR.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Zt(r);MR.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?vm(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(j(wn,9),j(Yr,10),j(sc,10),j(xs,10),j(wr,8),j(Vu,8))};static \u0275dir=fe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Dt([QH]),We,Bn]})}return n})();var Zr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=fe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),ZH={provide:xs,useExisting:Ot(()=>ju),multi:!0},ju=(()=>{class n extends Lu{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ct(n)))(i||n)}})();static \u0275dir=fe({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&z("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Dt([ZH]),We]})}return n})();var eO=new $("");var XH={provide:wn,useExisting:Ot(()=>ac)},ac=(()=>{class n extends wn{callSetDisabledState;get submitted(){return bn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=gs(()=>this._submittedReactive());_submittedReactive=hs(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Ze;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(pm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return hm(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){SR(t.control||null,t,!1),WH(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),XR(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new um(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new dm(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(SR(r||null,t),KH(i)&&(hm(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);QR(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&zH(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bw(this.form,this),this._oldForm&&pm(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(j(Yr,10),j(sc,10),j(Vu,8))};static \u0275dir=fe({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&z("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Dt([XH]),We,Bn]})}return n})(),JH={provide:wn,useExisting:Ot(()=>_m)},_m=(()=>{class n extends YH{name=null;constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){tO(this._parent)}static \u0275fac=function(r){return new(r||n)(j(wn,13),j(Yr,10),j(sc,10))};static \u0275dir=fe({type:n,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[Dt([JH]),We]})}return n})(),ez={provide:wn,useExisting:Ot(()=>ym)},ym=(()=>{class n extends wn{_parent;name=null;constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){tO(this._parent),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective?.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return vm(this.name==null?this.name:this.name.toString(),this._parent)}static \u0275fac=function(r){return new(r||n)(j(wn,13),j(Yr,10),j(sc,10))};static \u0275dir=fe({type:n,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[Dt([ez]),We]})}return n})();function tO(n){return!(n instanceof _m)&&!(n instanceof ac)&&!(n instanceof ym)}var tz={provide:As,useExisting:Ot(()=>Bu)},Bu=(()=>{class n extends As{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new Ze;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=JR(this,o)}ngOnChanges(t){this._added||this._setUpControl(),ZR(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return vm(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(j(wn,13),j(Yr,10),j(sc,10),j(xs,10),j(eO,8))};static \u0275dir=fe({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Dt([tz]),We,Bn]})}return n})();var nz={provide:xs,useExisting:Ot(()=>Xr),multi:!0};function nO(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function rz(n){return n.split(":")[0]}var Xr=(()=>{class n extends Lu{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=nO(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=rz(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ct(n)))(i||n)}})();static \u0275dir=fe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&z("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Dt([nz]),We]})}return n})(),Eo=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(nO(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(j(Je),j(br),j(Xr,9))};static \u0275dir=fe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),iz={provide:xs,useExisting:Ot(()=>rO),multi:!0};function PR(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function oz(n){return n.split(":")[0]}var rO=(()=>{class n extends Lu{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=oz(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ct(n)))(i||n)}})();static \u0275dir=fe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&z("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Dt([iz]),We]})}return n})(),Co=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(PR(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(PR(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(j(Je),j(br),j(rO,9))};static \u0275dir=fe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function iO(n){return typeof n=="number"?n:parseFloat(n)}var bm=(()=>{class n{_validator=om;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):om,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=fe({type:n,features:[Bn]})}return n})(),sz={provide:Yr,useExisting:Ot(()=>ww),multi:!0},ww=(()=>{class n extends bm{max;inputName="max";normalizeInput=t=>iO(t);createValidator=t=>NR(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ct(n)))(i||n)}})();static \u0275dir=fe({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&tr("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[Dt([sz]),We]})}return n})(),az={provide:Yr,useExisting:Ot(()=>Uu),multi:!0},Uu=(()=>{class n extends bm{min;inputName="min";normalizeInput=t=>iO(t);createValidator=t=>kR(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ct(n)))(i||n)}})();static \u0275dir=fe({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&tr("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[Dt([az]),We]})}return n})(),cz={provide:Yr,useExisting:Ot(()=>Ps),multi:!0};var Ps=(()=>{class n extends bm{required;inputName="required";normalizeInput=Zt;createValidator=t=>FR;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ct(n)))(i||n)}})();static \u0275dir=fe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&tr("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Dt([cz]),We]})}return n})();var lz={provide:Yr,useExisting:Ot(()=>Ew),multi:!0},Ew=(()=>{class n extends bm{email;inputName="email";normalizeInput=Zt;createValidator=t=>LR;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ct(n)))(i||n)}})();static \u0275dir=fe({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},standalone:!1,features:[Dt([lz]),We]})}return n})();var oO=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Kt({})}return n})(),hw=class extends ic{constructor(e,t,r){super(_w(t),yw(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){KR(this,!1,e),e.forEach((r,i)=>{GR(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function RR(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var wm=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return RR(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new oc(i,o)}record(t,r=null){let i=this._reduceControls(t);return new dw(i,r)}control(t,r,i){let o={};return this.useNonNullable?(RR(r)?o=r:(o.validators=r,o.asyncValidators=i),new Fu(t,ee(L({},o),{nonNullable:!0}))):new Fu(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new hw(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Fu)return t;if(t instanceof ic)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var kn=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Vu,useValue:t.callSetDisabledState??gm}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Kt({imports:[oO]})}return n})(),cc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:eO,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Vu,useValue:t.callSetDisabledState??gm}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Kt({imports:[oO]})}return n})();var sO=()=>{};var lO=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},uz=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Em={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,d=o>>2,p=(o&3)<<4|a>>4,v=(a&15)<<2|u>>6,_=u&63;c||(_=64,s||(v=64)),r.push(t[d],t[p],t[v],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(lO(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):uz(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||p==null)throw new Iw;let v=o<<2|a>>4;if(r.push(v),u!==64){let _=a<<4&240|u>>2;if(r.push(_),p!==64){let S=u<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Iw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},dz=function(n){let e=lO(n);return Em.encodeByteArray(e,!0)},Hu=function(n){return dz(n).replace(/\./g,"")},Cm=function(n){try{return Em.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Dw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var hz=()=>Dw().__FIREBASE_DEFAULTS__,fz=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},pz=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Cm(n[1]);return e&&JSON.parse(e)},Im=()=>{try{return sO()||hz()||fz()||pz()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Sw=n=>{var e,t;return(t=(e=Im())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},uO=n=>{let e=Sw(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Aw=()=>{var n;return(n=Im())===null||n===void 0?void 0:n.config},xw=n=>{var e;return(e=Im())===null||e===void 0?void 0:e[`_${n}`]};var Rs=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Os(n){return n.endsWith(".cloudworkstations.dev")}function Tm(n){return w(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function dO(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Hu(JSON.stringify(t)),Hu(JSON.stringify(s)),""].join(".")}var $u={};function mz(){let n={prod:[],emulator:[]};for(let e of Object.keys($u))$u[e]?n.emulator.push(e):n.prod.push(e);return n}function gz(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var aO=!1;function Dm(n,e){if(typeof window>"u"||typeof document>"u"||!Os(window.location.host)||$u[n]===e||$u[n]||aO)return;$u[n]=e;function t(v){return`__firebase__banner__${v}`}let r="__firebase__banner",o=mz().prod.length>0;function s(){let v=document.getElementById(r);v&&v.remove()}function a(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function c(v,_){v.setAttribute("width","24"),v.setAttribute("id",_),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function u(){let v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{aO=!0,s()},v}function d(v,_){v.setAttribute("id",_),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){let v=gz(r),_=t("text"),S=document.getElementById(_)||document.createElement("span"),R=t("learnmore"),k=document.getElementById(R)||document.createElement("a"),W=t("preprendIcon"),J=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){let Z=v.element;a(Z),d(k,R);let ke=u();c(J,W),Z.append(J,S,k,ke),document.body.appendChild(Z)}o?(S.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function vz(){var n;let e=(n=Im())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pO(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function mO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gO(){let n=Bt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function vO(){return!vz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zu(){try{return typeof indexedDB=="object"}catch{return!1}}function _O(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var _z="FirebaseError",Wn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=_z,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tr.prototype.create)}},Tr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?yz(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Wn(i,a,r)}};function yz(n,e){return n.replace(bz,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var bz=/\{\$([^}]+)}/g;function yO(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Jr(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(cO(o)&&cO(s)){if(!Jr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function cO(n){return n!==null&&typeof n=="object"}function qu(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function lc(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function uc(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function bO(n,e){let t=new Tw(n,e);return t.subscribe.bind(t)}var Tw=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");wz(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Cw),i.error===void 0&&(i.error=Cw),i.complete===void 0&&(i.complete=Cw);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function wz(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Cw(){}var Ose=4*60*60*1e3;function Xt(n){return n&&n._delegate?n._delegate:n}var En=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ks="[DEFAULT]";var Mw=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Rs;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Cz(e))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ks){return this.instances.has(e)}getOptions(e=ks){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ez(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ks){return this.component?this.component.multipleInstances?e:ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Ez(n){return n===ks?void 0:n}function Cz(n){return n.instantiationMode==="EAGER"}var Sm=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Mw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Iz=[],Re=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Re||{}),Tz={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},Dz=Re.INFO,Sz={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},Az=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=Sz[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ei=class{constructor(e){this.name=e,this._logLevel=Dz,this._logHandler=Az,this._userLogHandler=null,Iz.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Tz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}};var xz=(n,e)=>e.some(t=>n instanceof t),wO,EO;function Mz(){return wO||(wO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Pz(){return EO||(EO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var CO=new WeakMap,Rw=new WeakMap,IO=new WeakMap,Pw=new WeakMap,kw=new WeakMap;function Rz(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(ti(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&CO.set(t,n)}).catch(()=>{}),kw.set(e,n),e}function Oz(n){if(Rw.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Rw.set(n,e)}var Ow={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Rw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||IO.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ti(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function TO(n){Ow=n(Ow)}function kz(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Am(this),e,...t);return IO.set(r,e.sort?e.sort():[e]),ti(r)}:Pz().includes(n)?function(...e){return n.apply(Am(this),e),ti(CO.get(this))}:function(...e){return ti(n.apply(Am(this),e))}}function Nz(n){return typeof n=="function"?kz(n):(n instanceof IDBTransaction&&Oz(n),xz(n,Mz())?new Proxy(n,Ow):n)}function ti(n){if(n instanceof IDBRequest)return Rz(n);if(Pw.has(n))return Pw.get(n);let e=Nz(n);return e!==n&&(Pw.set(n,e),kw.set(e,n)),e}var Am=n=>kw.get(n);function SO(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=ti(s);return r&&s.addEventListener("upgradeneeded",c=>{r(ti(s.result),c.oldVersion,c.newVersion,ti(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var Fz=["get","getKey","getAll","getAllKeys","count"],Lz=["put","add","delete","clear"],Nw=new Map;function DO(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Nw.get(e))return Nw.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Lz.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Fz.includes(t)))return;let o=function(s,...a){return w(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&c.done]))[0]})};return Nw.set(e,o),o}TO(n=>ee(L({},n),{get:(e,t,r)=>DO(e,t)||n.get(e,t,r),has:(e,t)=>!!DO(e,t)||n.has(e,t)}));var Lw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Vz(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Vz(n){let e=n.getComponent();return e?.type==="VERSION"}var Vw="@firebase/app",AO="0.13.0";var Li=new ei("@firebase/app"),jz="@firebase/app-compat",Bz="@firebase/analytics-compat",Uz="@firebase/analytics",$z="@firebase/app-check-compat",Hz="@firebase/app-check",zz="@firebase/auth",qz="@firebase/auth-compat",Wz="@firebase/database",Gz="@firebase/data-connect",Kz="@firebase/database-compat",Yz="@firebase/functions",Qz="@firebase/functions-compat",Zz="@firebase/installations",Xz="@firebase/installations-compat",Jz="@firebase/messaging",e8="@firebase/messaging-compat",t8="@firebase/performance",n8="@firebase/performance-compat",r8="@firebase/remote-config",i8="@firebase/remote-config-compat",o8="@firebase/storage",s8="@firebase/storage-compat",a8="@firebase/firestore",c8="@firebase/ai",l8="@firebase/firestore-compat",u8="firebase",d8="11.8.0";var jw="[DEFAULT]",h8={[Vw]:"fire-core",[jz]:"fire-core-compat",[Uz]:"fire-analytics",[Bz]:"fire-analytics-compat",[Hz]:"fire-app-check",[$z]:"fire-app-check-compat",[zz]:"fire-auth",[qz]:"fire-auth-compat",[Wz]:"fire-rtdb",[Gz]:"fire-data-connect",[Kz]:"fire-rtdb-compat",[Yz]:"fire-fn",[Qz]:"fire-fn-compat",[Zz]:"fire-iid",[Xz]:"fire-iid-compat",[Jz]:"fire-fcm",[e8]:"fire-fcm-compat",[t8]:"fire-perf",[n8]:"fire-perf-compat",[r8]:"fire-rc",[i8]:"fire-rc-compat",[o8]:"fire-gcs",[s8]:"fire-gcs-compat",[a8]:"fire-fst",[l8]:"fire-fst-compat",[c8]:"fire-vertex","fire-js":"fire-js",[u8]:"fire-js-all"};var Wu=new Map,f8=new Map,Bw=new Map;function xO(n,e){try{n.container.addComponent(e)}catch(t){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Dr(n){let e=n.name;if(Bw.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;Bw.set(e,n);for(let t of Wu.values())xO(t,n);for(let t of f8.values())xO(t,n);return!0}function dc(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Nn(n){return n==null?!1:n.settings!==void 0}var p8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},To=new Tr("app","Firebase",p8);var Uw=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new En("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw To.create("app-deleted",{appName:this._name})}};var Do=d8;function Ku(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:jw,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw To.create("bad-app-name",{appName:String(i)});if(t||(t=Aw()),!t)throw To.create("no-options");let o=Wu.get(i);if(o){if(Jr(t,o.options)&&Jr(r,o.config))return o;throw To.create("duplicate-app",{appName:i})}let s=new Sm(i);for(let c of Bw.values())s.addComponent(c);let a=new Uw(t,r,s);return Wu.set(i,a),a}function Ns(n=jw){let e=Wu.get(n);if(!e&&n===jw&&Aw())return Ku();if(!e)throw To.create("no-app",{appName:n});return e}function xm(){return Array.from(Wu.values())}function At(n,e,t){var r;let i=(r=h8[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Li.warn(a.join(" "));return}Dr(new En(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var m8="firebase-heartbeat-database",g8=1,Gu="firebase-heartbeat-store",Fw=null;function OO(){return Fw||(Fw=SO(m8,g8,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Gu)}catch(t){console.warn(t)}}}}).catch(n=>{throw To.create("idb-open",{originalErrorMessage:n.message})})),Fw}function v8(n){return w(this,null,function*(){try{let t=(yield OO()).transaction(Gu),r=yield t.objectStore(Gu).get(kO(n));return yield t.done,r}catch(e){if(e instanceof Wn)Li.warn(e.message);else{let t=To.create("idb-get",{originalErrorMessage:e?.message});Li.warn(t.message)}}})}function MO(n,e){return w(this,null,function*(){try{let r=(yield OO()).transaction(Gu,"readwrite");yield r.objectStore(Gu).put(e,kO(n)),yield r.done}catch(t){if(t instanceof Wn)Li.warn(t.message);else{let r=To.create("idb-set",{originalErrorMessage:t?.message});Li.warn(r.message)}}})}function kO(n){return`${n.name}!${n.options.appId}`}var _8=1024,y8=30,$w=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Hw(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=PO();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>y8){let s=w8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Li.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=PO(),{heartbeatsToSend:r,unsentEntries:i}=b8(this._heartbeatsCache.heartbeats),o=Hu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Li.warn(t),""}})}};function PO(){return new Date().toISOString().substring(0,10)}function b8(n,e=_8){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),RO(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),RO(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Hw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return zu()?_O().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield v8(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return MO(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return MO(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function RO(n){return Hu(JSON.stringify({version:2,heartbeats:n})).length}function w8(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function E8(n){Dr(new En("platform-logger",e=>new Lw(e),"PRIVATE")),Dr(new En("heartbeat",e=>new $w(e),"PRIVATE")),At(Vw,AO,n),At(Vw,AO,"esm2017"),At("fire-js","")}E8("");function QO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var ZO=QO,XO=new Tr("auth","Firebase",QO());var Nm=new ei("@firebase/auth");function C8(n,...e){Nm.logLevel<=Re.WARN&&Nm.warn(`Auth (${Do}): ${n}`,...e)}function Pm(n,...e){Nm.logLevel<=Re.ERROR&&Nm.error(`Auth (${Do}): ${n}`,...e)}function ri(n,...e){throw fE(n,...e)}function Fs(n,...e){return fE(n,...e)}function JO(n,e,t){let r=Object.assign(Object.assign({},ZO()),{[e]:t});return new Tr("auth","Firebase",r).create(e,{appName:n.name})}function Bi(n){return JO(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fE(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return XO.create(n,...e)}function se(n,e,...t){if(!n)throw fE(e,...t)}function Vi(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Pm(e),new Error(e)}function xo(n,e){n||Vi(e)}function Gw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function I8(){return NO()==="http:"||NO()==="https:"}function NO(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function T8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(I8()||pO()||"connection"in navigator)?navigator.onLine:!0}function D8(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ls=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,xo(t>e,"Short delay should be less than long delay!"),this.isMobile=hO()||mO()}get(){return T8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function pE(n,e){xo(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Fm=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var S8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var A8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],x8=new Ls(3e4,6e4);function Ui(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ii(o,s,a,c){return w(this,arguments,function*(n,e,t,r,i={}){return ek(n,i,()=>w(null,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let p=qu(Object.assign({key:n.config.apiKey},d)).slice(1),v=yield n._getAdditionalHeaders();v["Content-Type"]="application/json",n.languageCode&&(v["X-Firebase-Locale"]=n.languageCode);let _=Object.assign({method:e,headers:v},u);return fO()||(_.referrerPolicy="no-referrer"),n.emulatorConfig&&Os(n.emulatorConfig.host)&&(_.credentials="include"),Fm.fetch()(yield tk(n,n.config.apiHost,t,p),_)}))})}function ek(n,e,t){return w(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},S8),e);try{let i=new Kw(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Mm(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mm(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Mm(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw Mm(n,"user-disabled",s);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw JO(n,d,u);ri(n,d)}}catch(i){if(i instanceof Wn)throw i;ri(n,"network-request-failed",{message:String(i)})}})}function nd(o,s,a,c){return w(this,arguments,function*(n,e,t,r,i={}){let u=yield ii(n,e,t,r,i);return"mfaPendingCredential"in u&&ri(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function tk(n,e,t,r){return w(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?pE(n.config,i):`${n.config.apiScheme}://${i}`;return A8.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function M8(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Kw=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Fs(this.auth,"network-request-failed")),x8.get())})}};function Mm(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Fs(n,e,r);return i.customData._tokenResponse=t,i}function FO(n){return n!==void 0&&n.enterprise!==void 0}var Yw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return M8(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function P8(n,e){return w(this,null,function*(){return ii(n,"GET","/v2/recaptchaConfig",Ui(n,e))})}function R8(n,e){return w(this,null,function*(){return ii(n,"POST","/v1/accounts:delete",e)})}function Lm(n,e){return w(this,null,function*(){return ii(n,"POST","/v1/accounts:lookup",e)})}function Qu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function mE(n,e=!1){return w(this,null,function*(){let t=Xt(n),r=yield t.getIdToken(e),i=gE(r);se(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Qu(zw(i.auth_time)),issuedAtTime:Qu(zw(i.iat)),expirationTime:Qu(zw(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function zw(n){return Number(n)*1e3}function gE(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Pm("JWT malformed, contained fewer than 3 sections"),null;try{let i=Cm(t);return i?JSON.parse(i):(Pm("Failed to decode base64 JWT payload"),null)}catch(i){return Pm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function LO(n){let e=gE(n);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function hc(n,e,t=!1){return w(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Wn&&O8(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function O8({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Qw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),t)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Xu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qu(this.lastLoginAt),this.creationTime=Qu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Vm(n){return w(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield hc(n,Lm(t,{idToken:r}));se(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?nk(o.providerUserInfo):[],a=k8(n.providerData,s),c=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,d=c?u:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Xu(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,p)})}function vE(n){return w(this,null,function*(){let e=Xt(n);yield Vm(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function k8(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function nk(n){return n.map(e=>{var{providerId:t}=e,r=H_(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function N8(n,e){return w(this,null,function*(){let t=yield ek(n,{},()=>w(null,null,function*(){let r=qu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield tk(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Fm.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function F8(n,e){return w(this,null,function*(){return ii(n,"POST","/v2/accounts:revokeToken",Ui(n,e))})}var Zu=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){se(e.length!==0,"internal-error");let t=LO(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return w(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield N8(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(se(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(se(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Vi("not implemented")}};function So(n,e){se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Ao=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=H_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Xu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let t=yield hc(this,this.stsTokenManager.getToken(this.auth,e));return se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return mE(this,e)}reload(){return vE(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Vm(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(Nn(this.auth.app))return Promise.reject(Bi(this.auth));let e=yield this.getIdToken();return yield hc(this,R8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,u,d;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,_=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=t.photoURL)!==null&&s!==void 0?s:void 0,R=(a=t.tenantId)!==null&&a!==void 0?a:void 0,k=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,W=(u=t.createdAt)!==null&&u!==void 0?u:void 0,J=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:Z,emailVerified:ke,isAnonymous:Tt,providerData:Ue,stsTokenManager:x}=t;se(Z&&x,e,"internal-error");let C=Zu.fromJSON(this.name,x);se(typeof Z=="string",e,"internal-error"),So(p,e.name),So(v,e.name),se(typeof ke=="boolean",e,"internal-error"),se(typeof Tt=="boolean",e,"internal-error"),So(_,e.name),So(S,e.name),So(R,e.name),So(k,e.name),So(W,e.name),So(J,e.name);let D=new n({uid:Z,auth:e,email:v,emailVerified:ke,displayName:p,isAnonymous:Tt,photoURL:S,phoneNumber:_,tenantId:R,stsTokenManager:C,createdAt:W,lastLoginAt:J});return Ue&&Array.isArray(Ue)&&(D.providerData=Ue.map(A=>Object.assign({},A))),k&&(D._redirectEventId=k),D}static _fromIdTokenResponse(e,t,r=!1){return w(this,null,function*(){let i=new Zu;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Vm(o),o})}static _fromGetAccountInfoResponse(e,t,r){return w(this,null,function*(){let i=t.users[0];se(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?nk(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Zu;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Xu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var VO=new Map;function ji(n){xo(n instanceof Function,"Expected a class definition");let e=VO.get(n);return e?(xo(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,VO.set(n,e),e)}var L8=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(t,r){return w(this,null,function*(){this.storage[t]=r})}_get(t){return w(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return w(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Zw=L8;function Rm(n,e,t){return`firebase:${n}:${e}:${t}`}var jm=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Rm(this.userKey,i.apiKey,o),this.fullPersistenceKey=Rm("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Lm(this.auth,{idToken:e}).catch(()=>{});return t?Ao._fromGetAccountInfoResponse(this.auth,t,e):null}return Ao._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return w(this,null,function*(){if(!t.length)return new n(ji(Zw),e,r);let i=(yield Promise.all(t.map(u=>w(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||ji(Zw),s=Rm(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let d=yield u._get(s);if(d){let p;if(typeof d=="string"){let v=yield Lm(e,{idToken:d}).catch(()=>{});if(!v)break;p=yield Ao._fromGetAccountInfoResponse(e,v,d)}else p=Ao._fromJSON(e,d);u!==o&&(a=p),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>w(null,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function jO(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ck(e))return"Blackberry";if(lk(e))return"Webos";if(ik(e))return"Safari";if((e.includes("chrome/")||ok(e))&&!e.includes("edge/"))return"Chrome";if(ak(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function rk(n=Bt()){return/firefox\//i.test(n)}function ik(n=Bt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ok(n=Bt()){return/crios\//i.test(n)}function sk(n=Bt()){return/iemobile/i.test(n)}function ak(n=Bt()){return/android/i.test(n)}function ck(n=Bt()){return/blackberry/i.test(n)}function lk(n=Bt()){return/webos/i.test(n)}function _E(n=Bt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function V8(n=Bt()){var e;return _E(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function j8(){return gO()&&document.documentMode===10}function uk(n=Bt()){return _E(n)||ak(n)||lk(n)||ck(n)||/windows phone/i.test(n)||sk(n)}function dk(n,e=[]){let t;switch(n){case"Browser":t=jO(Bt());break;case"Worker":t=`${jO(Bt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Do}/${r}`}var Xw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function B8(t){return w(this,arguments,function*(n,e={}){return ii(n,"GET","/v2/passwordPolicy",Ui(n,e))})}var U8=6,Jw=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:U8,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var eE=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bm(this),this.idTokenSubscription=new Bm(this),this.beforeStateQueue=new Xw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ji(t)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield jm.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let t=yield Lm(this,{idToken:e}),r=yield Ao._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var t;if(Nn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Vm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=D8()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(Nn(this.app))return Promise.reject(Bi(this));let t=e?Xt(e):null;return t&&se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return w(this,null,function*(){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return Nn(this.app)?Promise.reject(Bi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Nn(this.app)?Promise.reject(Bi(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(ji(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield B8(this),t=new Jw(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield F8(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&ji(e)||this._popupRedirectResolver;se(t,this,"argument-error"),this.redirectPersistenceManager=yield jm.create(this,[ji(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return w(this,null,function*(){var e;if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&C8(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Mo(n){return Xt(n)}var Bm=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=bO(t=>this.observer=t)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Km={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $8(n){Km=n}function hk(n){return Km.loadJS(n)}function H8(){return Km.recaptchaEnterpriseScript}function z8(){return Km.gapiScript}function fk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var tE=class{constructor(){this.enterprise=new nE}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},nE=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var q8="recaptcha-enterprise",pk="NO_RECAPTCHA",rE=class{constructor(e){this.type=q8,this.auth=Mo(e)}verify(e="verify",t=!1){return w(this,null,function*(){function r(o){return w(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>w(null,null,function*(){P8(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new Yw(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;FO(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(pk)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tE().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&FO(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=H8();c.length!==0&&(c+=a),hk(c).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function Yu(n,e,t,r=!1,i=!1){return w(this,null,function*(){let o=new rE(n),s;if(i)s=pk;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Um(n,e,t,r,i){return w(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Yu(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>w(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield Yu(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Yu(n,e,t);return r(n,a).catch(c=>w(null,null,function*(){var u;if(((u=n._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let d=yield Yu(n,e,t,!1,!0);return r(n,d)}return Promise.reject(c)}))}else{let a=yield Yu(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function yE(n,e){let t=dc(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Jr(o,e??{}))return i;ri(i,"already-initialized")}return t.initialize({options:e})}function W8(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ji);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function bE(n,e,t){let r=Mo(n);se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=mk(e),{host:s,port:a}=G8(e),c=a===null?"":`:${a}`,u={url:`${o}//${s}${c}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),se(Jr(u,r.config.emulator)&&Jr(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Os(s)?(Tm(`${o}//${s}${c}`),Dm("Auth",!0)):i||K8()}function mk(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function G8(n){let e=mk(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:BO(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:BO(s)}}}function BO(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function K8(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Ju=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vi("not implemented")}_getIdTokenResponse(e){return Vi("not implemented")}_linkToIdToken(e,t){return Vi("not implemented")}_getReauthenticationResolver(e){return Vi("not implemented")}};function Y8(n,e){return w(this,null,function*(){return ii(n,"POST","/v1/accounts:signUp",e)})}function Q8(n,e){return w(this,null,function*(){return nd(n,"POST","/v1/accounts:signInWithPassword",Ui(n,e))})}function gk(n,e){return w(this,null,function*(){return ii(n,"POST","/v1/accounts:sendOobCode",Ui(n,e))})}function Z8(n,e){return w(this,null,function*(){return gk(n,e)})}function X8(n,e){return w(this,null,function*(){return gk(n,e)})}function J8(n,e){return w(this,null,function*(){return nd(n,"POST","/v1/accounts:signInWithEmailLink",Ui(n,e))})}function e6(n,e){return w(this,null,function*(){return nd(n,"POST","/v1/accounts:signInWithEmailLink",Ui(n,e))})}var ed=class n extends Ju{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Um(e,t,"signInWithPassword",Q8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return J8(e,{email:this._email,oobCode:this._password});default:ri(e,"internal-error")}})}_linkToIdToken(e,t){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Um(e,r,"signUpPassword",Y8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return e6(e,{idToken:t,email:this._email,oobCode:this._password});default:ri(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function qw(n,e){return w(this,null,function*(){return nd(n,"POST","/v1/accounts:signInWithIdp",Ui(n,e))})}function t6(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function n6(n){let e=lc(uc(n)).link,t=e?lc(uc(e)).deep_link_id:null,r=lc(uc(n)).deep_link_id;return(r?lc(uc(r)).link:null)||r||t||e||n}var $m=class n{constructor(e){var t,r,i,o,s,a;let c=lc(uc(e)),u=(t=c.apiKey)!==null&&t!==void 0?t:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,p=t6((i=c.mode)!==null&&i!==void 0?i:null);se(u&&d&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=d,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=n6(e);try{return new n(t)}catch{return null}}};var vk=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return ed._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=$m.parseLink(r);return se(i,"argument-error"),ed._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Hm=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var iE=class extends Hm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function r6(n,e){return w(this,null,function*(){return nd(n,"POST","/v1/accounts:signUp",Ui(n,e))})}var fc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return w(this,null,function*(){let o=yield Ao._fromIdTokenResponse(e,r,i),s=UO(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=UO(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function UO(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var oE=class n extends Wn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function _k(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?oE._fromErrorAndOperation(n,o,e,r):o})}function i6(n,e,t=!1){return w(this,null,function*(){let r=yield hc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return fc._forOperation(n,"link",r)})}function o6(n,e,t=!1){return w(this,null,function*(){let{auth:r}=n;if(Nn(r.app))return Promise.reject(Bi(r));let i="reauthenticate";try{let o=yield hc(n,_k(r,i,e,n),t);se(o.idToken,r,"internal-error");let s=gE(o.idToken);se(s,r,"internal-error");let{sub:a}=s;return se(n.uid===a,r,"user-mismatch"),fc._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&ri(r,"user-mismatch"),o}})}function yk(n,e,t=!1){return w(this,null,function*(){if(Nn(n.app))return Promise.reject(Bi(n));let r="signIn",i=yield _k(n,r,e),o=yield fc._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function wE(n,e){return w(this,null,function*(){return yk(Mo(n),e)})}function bk(n,e,t){var r;se(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),se(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),se(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(se(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(se(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function wk(n){return w(this,null,function*(){let e=Mo(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Ym(n,e,t){return w(this,null,function*(){let r=Mo(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&bk(r,i,t),yield Um(r,i,"getOobCode",X8,"EMAIL_PASSWORD_PROVIDER")})}function Qm(n,e,t){return w(this,null,function*(){if(Nn(n.app))return Promise.reject(Bi(n));let r=Mo(n),s=yield Um(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",r6,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&wk(n),c}),a=yield fc._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function Zm(n,e,t){return Nn(n.app)?Promise.reject(Bi(n)):wE(Xt(n),vk.credential(e,t)).catch(r=>w(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&wk(n),r}))}function Xm(n,e){return w(this,null,function*(){let t=Xt(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&bk(t.auth,i,e);let{email:o}=yield Z8(t.auth,i);o!==n.email&&(yield n.reload())})}function s6(n,e){return w(this,null,function*(){return ii(n,"POST","/v1/accounts:update",e)})}function Jm(r,i){return w(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let o=Xt(n),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=yield hc(o,s6(o.auth,a));o.displayName=c.displayName||null,o.photoURL=c.photoUrl||null;let u=o.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=o.displayName,u.photoURL=o.photoURL),yield o._updateTokensIfNecessary(c)})}function EE(n,e,t,r){return Xt(n).onIdTokenChanged(e,t,r)}function CE(n,e,t){return Xt(n).beforeAuthStateChanged(e,t)}function eg(n,e,t,r){return Xt(n).onAuthStateChanged(e,t,r)}var zm="__sak";var qm=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(zm,"1"),this.storage.removeItem(zm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var a6=1e3,c6=10,l6=(()=>{class n extends qm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uk(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);j8()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,c6):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},a6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return w(this,null,function*(){yield ro(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return w(this,null,function*(){let r=yield ro(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return w(this,null,function*(){yield ro(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),Ek=l6;var u6=(()=>{class n extends qm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),IE=u6;function d6(n){return Promise.all(n.map(e=>w(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var h6=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return w(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(d=>w(this,null,function*(){return d(r.origin,s)})),u=yield d6(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Ck(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var sE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=Ck("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let v=p;if(v.data.eventId===u)switch(v.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(v.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function ni(){return window}function f6(n){ni().location.href=n}function Ik(){return typeof ni().WorkerGlobalScope<"u"&&typeof ni().importScripts=="function"}function p6(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function m6(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function g6(){return Ik()?self:null}var Tk="firebaseLocalStorageDb",v6=1,Wm="firebaseLocalStorage",Dk="fbase_key",Vs=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function tg(n,e){return n.transaction([Wm],e?"readwrite":"readonly").objectStore(Wm)}function _6(){let n=indexedDB.deleteDatabase(Tk);return new Vs(n).toPromise()}function aE(){let n=indexedDB.open(Tk,v6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Wm,{keyPath:Dk})}catch(i){t(i)}}),n.addEventListener("success",()=>w(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Wm)?e(r):(r.close(),yield _6(),e(yield aE()))}))})}function $O(n,e,t){return w(this,null,function*(){let r=tg(n,!0).put({[Dk]:e,value:t});return new Vs(r).toPromise()})}function y6(n,e){return w(this,null,function*(){let t=tg(n,!1).get(e),r=yield new Vs(t).toPromise();return r===void 0?null:r.value})}function HO(n,e){let t=tg(n,!0).delete(e);return new Vs(t).toPromise()}var b6=800,w6=3,E6=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield aE(),this.db)})}_withRetries(t){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>w6)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return Ik()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=h6._getInstance(g6()),this.receiver._subscribe("keyChanged",(t,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var t,r;if(this.activeServiceWorker=yield p6(),!this.activeServiceWorker)return;this.sender=new sE(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||m6()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let t=yield aE();return yield $O(t,zm,"1"),yield HO(t,zm),!0}catch{}return!1})}_withPendingWrite(t){return w(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>$O(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return w(this,null,function*(){let r=yield this._withRetries(i=>y6(i,t));return this.localCache[t]=r,r})}_remove(t){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>HO(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return w(this,null,function*(){let t=yield this._withRetries(o=>{let s=tg(o,!1).getAll();return new Vs(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),b6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),Sk=E6;var aae=fk("rcb"),cae=new Ls(3e4,6e4);function C6(n,e){return e?ji(e):(se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var td=class extends Ju{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qw(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qw(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qw(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function I6(n){return yk(n.auth,new td(n),n.bypassAuthState)}function T6(n){let{auth:e,user:t}=n;return se(t,e,"internal-error"),o6(t,new td(n),n.bypassAuthState)}function D6(n){return w(this,null,function*(){let{auth:e,user:t}=n;return se(t,e,"internal-error"),i6(t,new td(n),n.bypassAuthState)})}var cE=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return I6;case"linkViaPopup":case"linkViaRedirect":return D6;case"reauthViaPopup":case"reauthViaRedirect":return T6;default:ri(this.auth,"internal-error")}}resolve(e){xo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var lae=new Ls(2e3,1e4);var S6="pendingRedirect",Om=new Map,lE=class n extends cE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=Om.get(this.auth._key());if(!e){try{let r=(yield A6(this.resolver,this.auth))?yield ro(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Om.set(this.auth._key(),e)}return this.bypassAuthState||Om.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return ro(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,ro(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function A6(n,e){return w(this,null,function*(){let t=P6(e),r=M6(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function x6(n,e){Om.set(n._key(),e)}function M6(n){return ji(n._redirectPersistence)}function P6(n){return Rm(S6,n.config.apiKey,n.name)}function R6(n,e,t=!1){return w(this,null,function*(){if(Nn(n.app))return Promise.reject(Bi(n));let r=Mo(n),i=C6(r,e),s=yield new lE(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var O6=10*60*1e3,uE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!k6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Ak(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Fs(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=O6&&this.cachedEventUids.clear(),this.cachedEventUids.has(zO(e))}saveEventToCache(e){this.cachedEventUids.add(zO(e)),this.lastProcessedEventTime=Date.now()}};function zO(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Ak({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function k6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ak(n);default:return!1}}function N6(t){return w(this,arguments,function*(n,e={}){return ii(n,"GET","/v1/projects",e)})}var F6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,L6=/^https?/;function V6(n){return w(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield N6(n);for(let t of e)try{if(j6(t))return}catch{}ri(n,"unauthorized-domain")})}function j6(n){let e=Gw(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!L6.test(t))return!1;if(F6.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var B6=new Ls(3e4,6e4);function qO(){let n=ni().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function U6(n){return new Promise((e,t)=>{var r,i,o;function s(){qO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qO(),t(Fs(n,"network-request-failed"))},timeout:B6.get()})}if(!((i=(r=ni().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ni().gapi)===null||o===void 0)&&o.load)s();else{let a=fk("iframefcb");return ni()[a]=()=>{gapi.load?s():t(Fs(n,"network-request-failed"))},hk(`${z8()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw km=null,e})}var km=null;function $6(n){return km=km||U6(n),km}var H6=new Ls(5e3,15e3),z6="__/auth/iframe",q6="emulator/auth/iframe",W6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},G6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K6(n){let e=n.config;se(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?pE(e,q6):`https://${n.config.authDomain}/${z6}`,r={apiKey:e.apiKey,appName:n.name,v:Do},i=G6.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${qu(r).slice(1)}`}function Y6(n){return w(this,null,function*(){let e=yield $6(n),t=ni().gapi;return se(t,n,"internal-error"),e.open({where:document.body,url:K6(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:W6,dontclear:!0},r=>new Promise((i,o)=>w(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Fs(n,"network-request-failed"),a=ni().setTimeout(()=>{o(s)},H6.get());function c(){ni().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var Q6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Z6=500,X6=600,J6="_blank",eq="http://localhost",Gm=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function tq(n,e,t,r=Z6,i=X6){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},Q6),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Bt().toLowerCase();t&&(a=ok(u)?J6:t),rk(u)&&(e=e||eq,c.scrollbars="yes");let d=Object.entries(c).reduce((v,[_,S])=>`${v}${_}=${S},`,"");if(V8(u)&&a!=="_self")return nq(e||"",a),new Gm(null);let p=window.open(e||"",a,d);se(p,n,"popup-blocked");try{p.focus()}catch{}return new Gm(p)}function nq(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var rq="__/auth/handler",iq="emulator/auth/handler",oq=encodeURIComponent("fac");function WO(n,e,t,r,i,o){return w(this,null,function*(){se(n.config.authDomain,n,"auth-domain-config-required"),se(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Do,eventId:i};if(e instanceof Hm){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",yO(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,p]of Object.entries(o||{}))s[d]=p}if(e instanceof iE){let d=e.getScopes().filter(p=>p!=="");d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield n._getAppCheckToken(),u=c?`#${oq}=${encodeURIComponent(c)}`:"";return`${sq(n)}?${qu(a).slice(1)}${u}`})}function sq({config:n}){return n.emulator?pE(n,iq):`https://${n.authDomain}/${rq}`}var Ww="webStorageSupport",dE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IE,this._completeRedirectFn=R6,this._overrideRedirectResult=x6}_openPopup(e,t,r,i){return w(this,null,function*(){var o;xo((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield WO(e,t,r,Gw(),i);return tq(e,s,Ck())})}_openRedirect(e,t,r,i){return w(this,null,function*(){yield this._originValidation(e);let o=yield WO(e,t,r,Gw(),i);return f6(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(xo(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return w(this,null,function*(){let t=yield Y6(e),r=new uE(e);return t.register("authEvent",i=>(se(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ww,{type:Ww},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Ww];s!==void 0&&t(!!s),ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=V6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return uk()||ik()||_E()}},xk=dE;var GO="@firebase/auth",KO="1.10.6";var hE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function aq(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cq(n){Dr(new En("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;se(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dk(n)},u=new eE(r,i,o,c);return W8(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Dr(new En("auth-internal",e=>{let t=Mo(e.getProvider("auth").getImmediate());return(r=>new hE(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),At(GO,KO,aq(n)),At(GO,KO,"esm2017")}var lq=5*60,uq=xw("authIdTokenMaxAge")||lq,YO=null,dq=n=>e=>w(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>uq)return;let i=t?.token;YO!==i&&(YO=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function oi(n=Ns()){let e=dc(n,"auth");if(e.isInitialized())return e.getImmediate();let t=yE(n,{popupRedirectResolver:xk,persistence:[Sk,Ek,IE]}),r=xw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=dq(o.toString());CE(t,s,()=>s(t.currentUser)),EE(t,a=>s(a))}}let i=Sw("auth");return i&&bE(t,`http://${i}`),t}function hq(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}$8({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Fs("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",hq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cq("Browser");var Xq="firebase",Jq="11.8.1";At(Xq,Jq,"app");var e9={apiKey:"AIzaSyDnCfzF5psHLcnmbeJGrBuWpxOkUp01Lfo",authDomain:"cocreando-2dbd1.firebaseapp.com",projectId:"cocreando-2dbd1",storageBucket:"cocreando-2dbd1.appspot.com",messagingSenderId:"862709485856",appId:"1:123456789:web:abcd1234"},t9=Ku(e9),Mk=oi(t9);var Pk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rk={};var $i,TE;(function(){var n;function e(x,C){function D(){}D.prototype=C.prototype,x.D=C.prototype,x.prototype=new D,x.prototype.constructor=x,x.C=function(A,M,O){for(var T=Array(arguments.length-2),gi=2;gi<arguments.length;gi++)T[gi-2]=arguments[gi];return C.prototype[M].apply(A,T)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,C,D){D||(D=0);var A=Array(16);if(typeof C=="string")for(var M=0;16>M;++M)A[M]=C.charCodeAt(D++)|C.charCodeAt(D++)<<8|C.charCodeAt(D++)<<16|C.charCodeAt(D++)<<24;else for(M=0;16>M;++M)A[M]=C[D++]|C[D++]<<8|C[D++]<<16|C[D++]<<24;C=x.g[0],D=x.g[1],M=x.g[2];var O=x.g[3],T=C+(O^D&(M^O))+A[0]+3614090360&4294967295;C=D+(T<<7&4294967295|T>>>25),T=O+(M^C&(D^M))+A[1]+3905402710&4294967295,O=C+(T<<12&4294967295|T>>>20),T=M+(D^O&(C^D))+A[2]+606105819&4294967295,M=O+(T<<17&4294967295|T>>>15),T=D+(C^M&(O^C))+A[3]+3250441966&4294967295,D=M+(T<<22&4294967295|T>>>10),T=C+(O^D&(M^O))+A[4]+4118548399&4294967295,C=D+(T<<7&4294967295|T>>>25),T=O+(M^C&(D^M))+A[5]+1200080426&4294967295,O=C+(T<<12&4294967295|T>>>20),T=M+(D^O&(C^D))+A[6]+2821735955&4294967295,M=O+(T<<17&4294967295|T>>>15),T=D+(C^M&(O^C))+A[7]+4249261313&4294967295,D=M+(T<<22&4294967295|T>>>10),T=C+(O^D&(M^O))+A[8]+1770035416&4294967295,C=D+(T<<7&4294967295|T>>>25),T=O+(M^C&(D^M))+A[9]+2336552879&4294967295,O=C+(T<<12&4294967295|T>>>20),T=M+(D^O&(C^D))+A[10]+4294925233&4294967295,M=O+(T<<17&4294967295|T>>>15),T=D+(C^M&(O^C))+A[11]+2304563134&4294967295,D=M+(T<<22&4294967295|T>>>10),T=C+(O^D&(M^O))+A[12]+1804603682&4294967295,C=D+(T<<7&4294967295|T>>>25),T=O+(M^C&(D^M))+A[13]+4254626195&4294967295,O=C+(T<<12&4294967295|T>>>20),T=M+(D^O&(C^D))+A[14]+2792965006&4294967295,M=O+(T<<17&4294967295|T>>>15),T=D+(C^M&(O^C))+A[15]+1236535329&4294967295,D=M+(T<<22&4294967295|T>>>10),T=C+(M^O&(D^M))+A[1]+4129170786&4294967295,C=D+(T<<5&4294967295|T>>>27),T=O+(D^M&(C^D))+A[6]+3225465664&4294967295,O=C+(T<<9&4294967295|T>>>23),T=M+(C^D&(O^C))+A[11]+643717713&4294967295,M=O+(T<<14&4294967295|T>>>18),T=D+(O^C&(M^O))+A[0]+3921069994&4294967295,D=M+(T<<20&4294967295|T>>>12),T=C+(M^O&(D^M))+A[5]+3593408605&4294967295,C=D+(T<<5&4294967295|T>>>27),T=O+(D^M&(C^D))+A[10]+38016083&4294967295,O=C+(T<<9&4294967295|T>>>23),T=M+(C^D&(O^C))+A[15]+3634488961&4294967295,M=O+(T<<14&4294967295|T>>>18),T=D+(O^C&(M^O))+A[4]+3889429448&4294967295,D=M+(T<<20&4294967295|T>>>12),T=C+(M^O&(D^M))+A[9]+568446438&4294967295,C=D+(T<<5&4294967295|T>>>27),T=O+(D^M&(C^D))+A[14]+3275163606&4294967295,O=C+(T<<9&4294967295|T>>>23),T=M+(C^D&(O^C))+A[3]+4107603335&4294967295,M=O+(T<<14&4294967295|T>>>18),T=D+(O^C&(M^O))+A[8]+1163531501&4294967295,D=M+(T<<20&4294967295|T>>>12),T=C+(M^O&(D^M))+A[13]+2850285829&4294967295,C=D+(T<<5&4294967295|T>>>27),T=O+(D^M&(C^D))+A[2]+4243563512&4294967295,O=C+(T<<9&4294967295|T>>>23),T=M+(C^D&(O^C))+A[7]+1735328473&4294967295,M=O+(T<<14&4294967295|T>>>18),T=D+(O^C&(M^O))+A[12]+2368359562&4294967295,D=M+(T<<20&4294967295|T>>>12),T=C+(D^M^O)+A[5]+4294588738&4294967295,C=D+(T<<4&4294967295|T>>>28),T=O+(C^D^M)+A[8]+2272392833&4294967295,O=C+(T<<11&4294967295|T>>>21),T=M+(O^C^D)+A[11]+1839030562&4294967295,M=O+(T<<16&4294967295|T>>>16),T=D+(M^O^C)+A[14]+4259657740&4294967295,D=M+(T<<23&4294967295|T>>>9),T=C+(D^M^O)+A[1]+2763975236&4294967295,C=D+(T<<4&4294967295|T>>>28),T=O+(C^D^M)+A[4]+1272893353&4294967295,O=C+(T<<11&4294967295|T>>>21),T=M+(O^C^D)+A[7]+4139469664&4294967295,M=O+(T<<16&4294967295|T>>>16),T=D+(M^O^C)+A[10]+3200236656&4294967295,D=M+(T<<23&4294967295|T>>>9),T=C+(D^M^O)+A[13]+681279174&4294967295,C=D+(T<<4&4294967295|T>>>28),T=O+(C^D^M)+A[0]+3936430074&4294967295,O=C+(T<<11&4294967295|T>>>21),T=M+(O^C^D)+A[3]+3572445317&4294967295,M=O+(T<<16&4294967295|T>>>16),T=D+(M^O^C)+A[6]+76029189&4294967295,D=M+(T<<23&4294967295|T>>>9),T=C+(D^M^O)+A[9]+3654602809&4294967295,C=D+(T<<4&4294967295|T>>>28),T=O+(C^D^M)+A[12]+3873151461&4294967295,O=C+(T<<11&4294967295|T>>>21),T=M+(O^C^D)+A[15]+530742520&4294967295,M=O+(T<<16&4294967295|T>>>16),T=D+(M^O^C)+A[2]+3299628645&4294967295,D=M+(T<<23&4294967295|T>>>9),T=C+(M^(D|~O))+A[0]+4096336452&4294967295,C=D+(T<<6&4294967295|T>>>26),T=O+(D^(C|~M))+A[7]+1126891415&4294967295,O=C+(T<<10&4294967295|T>>>22),T=M+(C^(O|~D))+A[14]+2878612391&4294967295,M=O+(T<<15&4294967295|T>>>17),T=D+(O^(M|~C))+A[5]+4237533241&4294967295,D=M+(T<<21&4294967295|T>>>11),T=C+(M^(D|~O))+A[12]+1700485571&4294967295,C=D+(T<<6&4294967295|T>>>26),T=O+(D^(C|~M))+A[3]+2399980690&4294967295,O=C+(T<<10&4294967295|T>>>22),T=M+(C^(O|~D))+A[10]+4293915773&4294967295,M=O+(T<<15&4294967295|T>>>17),T=D+(O^(M|~C))+A[1]+2240044497&4294967295,D=M+(T<<21&4294967295|T>>>11),T=C+(M^(D|~O))+A[8]+1873313359&4294967295,C=D+(T<<6&4294967295|T>>>26),T=O+(D^(C|~M))+A[15]+4264355552&4294967295,O=C+(T<<10&4294967295|T>>>22),T=M+(C^(O|~D))+A[6]+2734768916&4294967295,M=O+(T<<15&4294967295|T>>>17),T=D+(O^(M|~C))+A[13]+1309151649&4294967295,D=M+(T<<21&4294967295|T>>>11),T=C+(M^(D|~O))+A[4]+4149444226&4294967295,C=D+(T<<6&4294967295|T>>>26),T=O+(D^(C|~M))+A[11]+3174756917&4294967295,O=C+(T<<10&4294967295|T>>>22),T=M+(C^(O|~D))+A[2]+718787259&4294967295,M=O+(T<<15&4294967295|T>>>17),T=D+(O^(M|~C))+A[9]+3951481745&4294967295,x.g[0]=x.g[0]+C&4294967295,x.g[1]=x.g[1]+(M+(T<<21&4294967295|T>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+O&4294967295}r.prototype.u=function(x,C){C===void 0&&(C=x.length);for(var D=C-this.blockSize,A=this.B,M=this.h,O=0;O<C;){if(M==0)for(;O<=D;)i(this,x,O),O+=this.blockSize;if(typeof x=="string"){for(;O<C;)if(A[M++]=x.charCodeAt(O++),M==this.blockSize){i(this,A),M=0;break}}else for(;O<C;)if(A[M++]=x[O++],M==this.blockSize){i(this,A),M=0;break}}this.h=M,this.o+=C},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var C=1;C<x.length-8;++C)x[C]=0;var D=8*this.o;for(C=x.length-8;C<x.length;++C)x[C]=D&255,D/=256;for(this.u(x),x=Array(16),C=D=0;4>C;++C)for(var A=0;32>A;A+=8)x[D++]=this.g[C]>>>A&255;return x};function o(x,C){var D=a;return Object.prototype.hasOwnProperty.call(D,x)?D[x]:D[x]=C(x)}function s(x,C){this.h=C;for(var D=[],A=!0,M=x.length-1;0<=M;M--){var O=x[M]|0;A&&O==C||(D[M]=O,A=!1)}this.g=D}var a={};function c(x){return-128<=x&&128>x?o(x,function(C){return new s([C|0],0>C?-1:0)}):new s([x|0],0>x?-1:0)}function u(x){if(isNaN(x)||!isFinite(x))return p;if(0>x)return k(u(-x));for(var C=[],D=1,A=0;x>=D;A++)C[A]=x/D|0,D*=4294967296;return new s(C,0)}function d(x,C){if(x.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(x.charAt(0)=="-")return k(d(x.substring(1),C));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=u(Math.pow(C,8)),A=p,M=0;M<x.length;M+=8){var O=Math.min(8,x.length-M),T=parseInt(x.substring(M,M+O),C);8>O?(O=u(Math.pow(C,O)),A=A.j(O).add(u(T))):(A=A.j(D),A=A.add(u(T)))}return A}var p=c(0),v=c(1),_=c(16777216);n=s.prototype,n.m=function(){if(R(this))return-k(this).m();for(var x=0,C=1,D=0;D<this.g.length;D++){var A=this.i(D);x+=(0<=A?A:4294967296+A)*C,C*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(S(this))return"0";if(R(this))return"-"+k(this).toString(x);for(var C=u(Math.pow(x,6)),D=this,A="";;){var M=ke(D,C).g;D=W(D,M.j(C));var O=((0<D.g.length?D.g[0]:D.h)>>>0).toString(x);if(D=M,S(D))return O+A;for(;6>O.length;)O="0"+O;A=O+A}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function S(x){if(x.h!=0)return!1;for(var C=0;C<x.g.length;C++)if(x.g[C]!=0)return!1;return!0}function R(x){return x.h==-1}n.l=function(x){return x=W(this,x),R(x)?-1:S(x)?0:1};function k(x){for(var C=x.g.length,D=[],A=0;A<C;A++)D[A]=~x.g[A];return new s(D,~x.h).add(v)}n.abs=function(){return R(this)?k(this):this},n.add=function(x){for(var C=Math.max(this.g.length,x.g.length),D=[],A=0,M=0;M<=C;M++){var O=A+(this.i(M)&65535)+(x.i(M)&65535),T=(O>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);A=T>>>16,O&=65535,T&=65535,D[M]=T<<16|O}return new s(D,D[D.length-1]&-2147483648?-1:0)};function W(x,C){return x.add(k(C))}n.j=function(x){if(S(this)||S(x))return p;if(R(this))return R(x)?k(this).j(k(x)):k(k(this).j(x));if(R(x))return k(this.j(k(x)));if(0>this.l(_)&&0>x.l(_))return u(this.m()*x.m());for(var C=this.g.length+x.g.length,D=[],A=0;A<2*C;A++)D[A]=0;for(A=0;A<this.g.length;A++)for(var M=0;M<x.g.length;M++){var O=this.i(A)>>>16,T=this.i(A)&65535,gi=x.i(M)>>>16,Xc=x.i(M)&65535;D[2*A+2*M]+=T*Xc,J(D,2*A+2*M),D[2*A+2*M+1]+=O*Xc,J(D,2*A+2*M+1),D[2*A+2*M+1]+=T*gi,J(D,2*A+2*M+1),D[2*A+2*M+2]+=O*gi,J(D,2*A+2*M+2)}for(A=0;A<C;A++)D[A]=D[2*A+1]<<16|D[2*A];for(A=C;A<2*C;A++)D[A]=0;return new s(D,0)};function J(x,C){for(;(x[C]&65535)!=x[C];)x[C+1]+=x[C]>>>16,x[C]&=65535,C++}function Z(x,C){this.g=x,this.h=C}function ke(x,C){if(S(C))throw Error("division by zero");if(S(x))return new Z(p,p);if(R(x))return C=ke(k(x),C),new Z(k(C.g),k(C.h));if(R(C))return C=ke(x,k(C)),new Z(k(C.g),C.h);if(30<x.g.length){if(R(x)||R(C))throw Error("slowDivide_ only works with positive integers.");for(var D=v,A=C;0>=A.l(x);)D=Tt(D),A=Tt(A);var M=Ue(D,1),O=Ue(A,1);for(A=Ue(A,2),D=Ue(D,2);!S(A);){var T=O.add(A);0>=T.l(x)&&(M=M.add(D),O=T),A=Ue(A,1),D=Ue(D,1)}return C=W(x,M.j(C)),new Z(M,C)}for(M=p;0<=x.l(C);){for(D=Math.max(1,Math.floor(x.m()/C.m())),A=Math.ceil(Math.log(D)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),O=u(D),T=O.j(C);R(T)||0<T.l(x);)D-=A,O=u(D),T=O.j(C);S(O)&&(O=v),M=M.add(O),x=W(x,T)}return new Z(M,x)}n.A=function(x){return ke(this,x).h},n.and=function(x){for(var C=Math.max(this.g.length,x.g.length),D=[],A=0;A<C;A++)D[A]=this.i(A)&x.i(A);return new s(D,this.h&x.h)},n.or=function(x){for(var C=Math.max(this.g.length,x.g.length),D=[],A=0;A<C;A++)D[A]=this.i(A)|x.i(A);return new s(D,this.h|x.h)},n.xor=function(x){for(var C=Math.max(this.g.length,x.g.length),D=[],A=0;A<C;A++)D[A]=this.i(A)^x.i(A);return new s(D,this.h^x.h)};function Tt(x){for(var C=x.g.length+1,D=[],A=0;A<C;A++)D[A]=x.i(A)<<1|x.i(A-1)>>>31;return new s(D,x.h)}function Ue(x,C){var D=C>>5;C%=32;for(var A=x.g.length-D,M=[],O=0;O<A;O++)M[O]=0<C?x.i(O+D)>>>C|x.i(O+D+1)<<32-C:x.i(O+D);return new s(M,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,TE=Rk.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,$i=Rk.Integer=s}).apply(typeof Pk<"u"?Pk:typeof self<"u"?self:typeof window<"u"?window:{});var ng=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hi={};var DE,n9,pc,SE,rd,rg,AE,xE,ME;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,f){return l==Array.prototype||l==Object.prototype||(l[h]=f.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof ng=="object"&&ng];for(var h=0;h<l.length;++h){var f=l[h];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(l,h){if(h)e:{var f=r;l=l.split(".");for(var y=0;y<l.length-1;y++){var P=l[y];if(!(P in f))break e;f=f[P]}l=l[l.length-1],y=f[l],h=h(y),h!=y&&h!=null&&e(f,l,{configurable:!0,writable:!0,value:h})}}function o(l,h){l instanceof String&&(l+="");var f=0,y=!1,P={next:function(){if(!y&&f<l.length){var N=f++;return{value:h(N,l[N]),done:!1}}return y=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}i("Array.prototype.values",function(l){return l||function(){return o(this,function(h,f){return f})}});var s=s||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,f){return l.call.apply(l.bind,arguments)}function p(l,h,f){if(!l)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,y),l.apply(h,P)}}return function(){return l.apply(h,arguments)}}function v(l,h,f){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,v.apply(null,arguments)}function _(l,h){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function S(l,h){function f(){}f.prototype=h.prototype,l.aa=h.prototype,l.prototype=new f,l.prototype.constructor=l,l.Qb=function(y,P,N){for(var q=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)q[Qe-2]=arguments[Qe];return h.prototype[P].apply(y,q)}}function R(l){let h=l.length;if(0<h){let f=Array(h);for(let y=0;y<h;y++)f[y]=l[y];return f}return[]}function k(l,h){for(let f=1;f<arguments.length;f++){let y=arguments[f];if(c(y)){let P=l.length||0,N=y.length||0;l.length=P+N;for(let q=0;q<N;q++)l[P+q]=y[q]}else l.push(y)}}class W{constructor(h,f){this.i=h,this.j=f,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function J(l){return/^[\s\xa0]*$/.test(l)}function Z(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function ke(l){return ke[" "](l),l}ke[" "]=function(){};var Tt=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function Ue(l,h,f){for(let y in l)h.call(f,l[y],y,l)}function x(l,h){for(let f in l)h.call(void 0,l[f],f,l)}function C(l){let h={};for(let f in l)h[f]=l[f];return h}let D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(l,h){let f,y;for(let P=1;P<arguments.length;P++){y=arguments[P];for(f in y)l[f]=y[f];for(let N=0;N<D.length;N++)f=D[N],Object.prototype.hasOwnProperty.call(y,f)&&(l[f]=y[f])}}function M(l){var h=1;l=l.split(":");let f=[];for(;0<h&&l.length;)f.push(l.shift()),h--;return l.length&&f.push(l.join(":")),f}function O(l){a.setTimeout(()=>{throw l},0)}function T(){var l=Uv;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class gi{constructor(){this.h=this.g=null}add(h,f){let y=Xc.get();y.set(h,f),this.h?this.h.next=y:this.g=y,this.h=y}}var Xc=new W(()=>new ML,l=>l.reset());class ML{constructor(){this.next=this.g=this.h=null}set(h,f){this.h=h,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Jc,el=!1,Uv=new gi,OT=()=>{let l=a.Promise.resolve(void 0);Jc=()=>{l.then(PL)}};var PL=()=>{for(var l;l=T();){try{l.h.call(l.g)}catch(f){O(f)}var h=Xc;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}el=!1};function Ji(){this.s=this.s,this.C=this.C}Ji.prototype.s=!1,Ji.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ji.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function en(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}en.prototype.h=function(){this.defaultPrevented=!0};var RL=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let f=()=>{};a.addEventListener("test",f,h),a.removeEventListener("test",f,h)}catch{}return l}();function tl(l,h){if(en.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var f=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(Tt){e:{try{ke(h.nodeName);var P=!0;break e}catch{}P=!1}P||(h=null)}}else f=="mouseover"?h=l.fromElement:f=="mouseout"&&(h=l.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:OL[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&tl.aa.h.call(this)}}S(tl,en);var OL={2:"touch",3:"pen",4:"mouse"};tl.prototype.h=function(){tl.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var nl="closure_listenable_"+(1e6*Math.random()|0),kL=0;function NL(l,h,f,y,P){this.listener=l,this.proxy=null,this.src=h,this.type=f,this.capture=!!y,this.ha=P,this.key=++kL,this.da=this.fa=!1}function Zd(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Xd(l){this.src=l,this.g={},this.h=0}Xd.prototype.add=function(l,h,f,y,P){var N=l.toString();l=this.g[N],l||(l=this.g[N]=[],this.h++);var q=Hv(l,h,y,P);return-1<q?(h=l[q],f||(h.fa=!1)):(h=new NL(h,this.src,N,!!y,P),h.fa=f,l.push(h)),h};function $v(l,h){var f=h.type;if(f in l.g){var y=l.g[f],P=Array.prototype.indexOf.call(y,h,void 0),N;(N=0<=P)&&Array.prototype.splice.call(y,P,1),N&&(Zd(h),l.g[f].length==0&&(delete l.g[f],l.h--))}}function Hv(l,h,f,y){for(var P=0;P<l.length;++P){var N=l[P];if(!N.da&&N.listener==h&&N.capture==!!f&&N.ha==y)return P}return-1}var zv="closure_lm_"+(1e6*Math.random()|0),qv={};function kT(l,h,f,y,P){if(y&&y.once)return FT(l,h,f,y,P);if(Array.isArray(h)){for(var N=0;N<h.length;N++)kT(l,h[N],f,y,P);return null}return f=Yv(f),l&&l[nl]?l.K(h,f,u(y)?!!y.capture:!!y,P):NT(l,h,f,!1,y,P)}function NT(l,h,f,y,P,N){if(!h)throw Error("Invalid event type");var q=u(P)?!!P.capture:!!P,Qe=Gv(l);if(Qe||(l[zv]=Qe=new Xd(l)),f=Qe.add(h,f,y,q,N),f.proxy)return f;if(y=FL(),f.proxy=y,y.src=l,y.listener=f,l.addEventListener)RL||(P=q),P===void 0&&(P=!1),l.addEventListener(h.toString(),y,P);else if(l.attachEvent)l.attachEvent(VT(h.toString()),y);else if(l.addListener&&l.removeListener)l.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function FL(){function l(f){return h.call(l.src,l.listener,f)}let h=LL;return l}function FT(l,h,f,y,P){if(Array.isArray(h)){for(var N=0;N<h.length;N++)FT(l,h[N],f,y,P);return null}return f=Yv(f),l&&l[nl]?l.L(h,f,u(y)?!!y.capture:!!y,P):NT(l,h,f,!0,y,P)}function LT(l,h,f,y,P){if(Array.isArray(h))for(var N=0;N<h.length;N++)LT(l,h[N],f,y,P);else y=u(y)?!!y.capture:!!y,f=Yv(f),l&&l[nl]?(l=l.i,h=String(h).toString(),h in l.g&&(N=l.g[h],f=Hv(N,f,y,P),-1<f&&(Zd(N[f]),Array.prototype.splice.call(N,f,1),N.length==0&&(delete l.g[h],l.h--)))):l&&(l=Gv(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Hv(h,f,y,P)),(f=-1<l?h[l]:null)&&Wv(f))}function Wv(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[nl])$v(h.i,l);else{var f=l.type,y=l.proxy;h.removeEventListener?h.removeEventListener(f,y,l.capture):h.detachEvent?h.detachEvent(VT(f),y):h.addListener&&h.removeListener&&h.removeListener(y),(f=Gv(h))?($v(f,l),f.h==0&&(f.src=null,h[zv]=null)):Zd(l)}}}function VT(l){return l in qv?qv[l]:qv[l]="on"+l}function LL(l,h){if(l.da)l=!0;else{h=new tl(h,this);var f=l.listener,y=l.ha||l.src;l.fa&&Wv(l),l=f.call(y,h)}return l}function Gv(l){return l=l[zv],l instanceof Xd?l:null}var Kv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yv(l){return typeof l=="function"?l:(l[Kv]||(l[Kv]=function(h){return l.handleEvent(h)}),l[Kv])}function tn(){Ji.call(this),this.i=new Xd(this),this.M=this,this.F=null}S(tn,Ji),tn.prototype[nl]=!0,tn.prototype.removeEventListener=function(l,h,f,y){LT(this,l,h,f,y)};function fn(l,h){var f,y=l.F;if(y)for(f=[];y;y=y.F)f.push(y);if(l=l.M,y=h.type||h,typeof h=="string")h=new en(h,l);else if(h instanceof en)h.target=h.target||l;else{var P=h;h=new en(y,l),A(h,P)}if(P=!0,f)for(var N=f.length-1;0<=N;N--){var q=h.g=f[N];P=Jd(q,y,!0,h)&&P}if(q=h.g=l,P=Jd(q,y,!0,h)&&P,P=Jd(q,y,!1,h)&&P,f)for(N=0;N<f.length;N++)q=h.g=f[N],P=Jd(q,y,!1,h)&&P}tn.prototype.N=function(){if(tn.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var f=l.g[h],y=0;y<f.length;y++)Zd(f[y]);delete l.g[h],l.h--}}this.F=null},tn.prototype.K=function(l,h,f,y){return this.i.add(String(l),h,!1,f,y)},tn.prototype.L=function(l,h,f,y){return this.i.add(String(l),h,!0,f,y)};function Jd(l,h,f,y){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var P=!0,N=0;N<h.length;++N){var q=h[N];if(q&&!q.da&&q.capture==f){var Qe=q.listener,zt=q.ha||q.src;q.fa&&$v(l.i,q),P=Qe.call(zt,y)!==!1&&P}}return P&&!y.defaultPrevented}function jT(l,h,f){if(typeof l=="function")f&&(l=v(l,f));else if(l&&typeof l.handleEvent=="function")l=v(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function BT(l){l.g=jT(()=>{l.g=null,l.i&&(l.i=!1,BT(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class VL extends Ji{constructor(h,f){super(),this.m=h,this.l=f,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:BT(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rl(l){Ji.call(this),this.h=l,this.g={}}S(rl,Ji);var UT=[];function $T(l){Ue(l.g,function(h,f){this.g.hasOwnProperty(f)&&Wv(h)},l),l.g={}}rl.prototype.N=function(){rl.aa.N.call(this),$T(this)},rl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qv=a.JSON.stringify,jL=a.JSON.parse,BL=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Zv(){}Zv.prototype.h=null;function HT(l){return l.h||(l.h=l.i())}function zT(){}var il={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xv(){en.call(this,"d")}S(Xv,en);function Jv(){en.call(this,"c")}S(Jv,en);var jo={},qT=null;function eh(){return qT=qT||new tn}jo.La="serverreachability";function WT(l){en.call(this,jo.La,l)}S(WT,en);function ol(l){let h=eh();fn(h,new WT(h))}jo.STAT_EVENT="statevent";function GT(l,h){en.call(this,jo.STAT_EVENT,l),this.stat=h}S(GT,en);function pn(l){let h=eh();fn(h,new GT(h,l))}jo.Ma="timingevent";function KT(l,h){en.call(this,jo.Ma,l),this.size=h}S(KT,en);function sl(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function al(){this.g=!0}al.prototype.xa=function(){this.g=!1};function UL(l,h,f,y,P,N){l.info(function(){if(l.g)if(N)for(var q="",Qe=N.split("&"),zt=0;zt<Qe.length;zt++){var je=Qe[zt].split("=");if(1<je.length){var nn=je[0];je=je[1];var rn=nn.split("_");q=2<=rn.length&&rn[1]=="type"?q+(nn+"="+je+"&"):q+(nn+"=redacted&")}}else q=null;else q=N;return"XMLHTTP REQ ("+y+") [attempt "+P+"]: "+h+`
`+f+`
`+q})}function $L(l,h,f,y,P,N,q){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+P+"]: "+h+`
`+f+`
`+N+" "+q})}function oa(l,h,f,y){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+zL(l,f)+(y?" "+y:"")})}function HL(l,h){l.info(function(){return"TIMEOUT: "+h})}al.prototype.info=function(){};function zL(l,h){if(!l.g)return h;if(!h)return null;try{var f=JSON.parse(h);if(f){for(l=0;l<f.length;l++)if(Array.isArray(f[l])){var y=f[l];if(!(2>y.length)){var P=y[1];if(Array.isArray(P)&&!(1>P.length)){var N=P[0];if(N!="noop"&&N!="stop"&&N!="close")for(var q=1;q<P.length;q++)P[q]=""}}}}return Qv(f)}catch{return h}}var th={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},YT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},e_;function nh(){}S(nh,Zv),nh.prototype.g=function(){return new XMLHttpRequest},nh.prototype.i=function(){return{}},e_=new nh;function eo(l,h,f,y){this.j=l,this.i=h,this.l=f,this.R=y||1,this.U=new rl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new QT}function QT(){this.i=null,this.g="",this.h=!1}var ZT={},t_={};function n_(l,h,f){l.L=1,l.v=sh(vi(h)),l.m=f,l.P=!0,XT(l,null)}function XT(l,h){l.F=Date.now(),rh(l),l.A=vi(l.v);var f=l.A,y=l.R;Array.isArray(y)||(y=[String(y)]),hD(f.i,"t",y),l.C=0,f=l.j.J,l.h=new QT,l.g=MD(l.j,f?h:null,!l.m),0<l.O&&(l.M=new VL(v(l.Y,l,l.g),l.O)),h=l.U,f=l.g,y=l.ca;var P="readystatechange";Array.isArray(P)||(P&&(UT[0]=P.toString()),P=UT);for(var N=0;N<P.length;N++){var q=kT(f,P[N],y||h.handleEvent,!1,h.h||h);if(!q)break;h.g[q.key]=q}h=l.H?C(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),ol(),UL(l.i,l.u,l.A,l.l,l.R,l.m)}eo.prototype.ca=function(l){l=l.target;let h=this.M;h&&_i(l)==3?h.j():this.Y(l)},eo.prototype.Y=function(l){try{if(l==this.g)e:{let rn=_i(this.g);var h=this.g.Ba();let ca=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||yD(this.g)))){this.J||rn!=4||h==7||(h==8||0>=ca?ol(3):ol(2)),r_(this);var f=this.g.Z();this.X=f;t:if(JT(this)){var y=yD(this.g);l="";var P=y.length,N=_i(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bo(this),cl(this);var q="";break t}this.h.i=new a.TextDecoder}for(h=0;h<P;h++)this.h.h=!0,l+=this.h.i.decode(y[h],{stream:!(N&&h==P-1)});y.length=0,this.h.g+=l,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=f==200,$L(this.i,this.u,this.A,this.l,this.R,rn,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,zt=this.g;if((Qe=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Qe)){var je=Qe;break t}}je=null}if(f=je)oa(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,i_(this,f);else{this.o=!1,this.s=3,pn(12),Bo(this),cl(this);break e}}if(this.P){f=!0;let hr;for(;!this.J&&this.C<q.length;)if(hr=qL(this,q),hr==t_){rn==4&&(this.s=4,pn(14),f=!1),oa(this.i,this.l,null,"[Incomplete Response]");break}else if(hr==ZT){this.s=4,pn(15),oa(this.i,this.l,q,"[Invalid Chunk]"),f=!1;break}else oa(this.i,this.l,hr,null),i_(this,hr);if(JT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||q.length!=0||this.h.h||(this.s=1,pn(16),f=!1),this.o=this.o&&f,!f)oa(this.i,this.l,q,"[Invalid Chunked Response]"),Bo(this),cl(this);else if(0<q.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),u_(nn),nn.M=!0,pn(11))}}else oa(this.i,this.l,q,null),i_(this,q);rn==4&&Bo(this),this.o&&!this.J&&(rn==4?DD(this.j,this):(this.o=!1,rh(this)))}else cV(this.g),f==400&&0<q.indexOf("Unknown SID")?(this.s=3,pn(12)):(this.s=0,pn(13)),Bo(this),cl(this)}}}catch{}finally{}};function JT(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function qL(l,h){var f=l.C,y=h.indexOf(`
`,f);return y==-1?t_:(f=Number(h.substring(f,y)),isNaN(f)?ZT:(y+=1,y+f>h.length?t_:(h=h.slice(y,y+f),l.C=y+f,h)))}eo.prototype.cancel=function(){this.J=!0,Bo(this)};function rh(l){l.S=Date.now()+l.I,eD(l,l.I)}function eD(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=sl(v(l.ba,l),h)}function r_(l){l.B&&(a.clearTimeout(l.B),l.B=null)}eo.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(HL(this.i,this.A),this.L!=2&&(ol(),pn(17)),Bo(this),this.s=2,cl(this)):eD(this,this.S-l)};function cl(l){l.j.G==0||l.J||DD(l.j,l)}function Bo(l){r_(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,$T(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function i_(l,h){try{var f=l.j;if(f.G!=0&&(f.g==l||o_(f.h,l))){if(!l.K&&o_(f.h,l)&&f.G==3){try{var y=f.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var P=y;if(P[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<l.F)dh(f),lh(f);else break e;l_(f),pn(18)}}else f.za=P[1],0<f.za-f.T&&37500>P[2]&&f.F&&f.v==0&&!f.C&&(f.C=sl(v(f.Za,f),6e3));if(1>=rD(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else $o(f,11)}else if((l.K||f.g==l)&&dh(f),!J(h))for(P=f.Da.g.parse(h),h=0;h<P.length;h++){let je=P[h];if(f.T=je[0],je=je[1],f.G==2)if(je[0]=="c"){f.K=je[1],f.ia=je[2];let nn=je[3];nn!=null&&(f.la=nn,f.j.info("VER="+f.la));let rn=je[4];rn!=null&&(f.Aa=rn,f.j.info("SVER="+f.Aa));let ca=je[5];ca!=null&&typeof ca=="number"&&0<ca&&(y=1.5*ca,f.L=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;let hr=l.g;if(hr){let fh=hr.g?hr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fh){var N=y.h;N.g||fh.indexOf("spdy")==-1&&fh.indexOf("quic")==-1&&fh.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(s_(N,N.h),N.h=null))}if(y.D){let d_=hr.g?hr.g.getResponseHeader("X-HTTP-Session-Id"):null;d_&&(y.ya=d_,it(y.I,y.D,d_))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-l.F,f.j.info("Handshake RTT: "+f.R+"ms")),y=f;var q=l;if(y.qa=xD(y,y.J?y.ia:null,y.W),q.K){iD(y.h,q);var Qe=q,zt=y.L;zt&&(Qe.I=zt),Qe.B&&(r_(Qe),rh(Qe)),y.g=q}else ID(y);0<f.i.length&&uh(f)}else je[0]!="stop"&&je[0]!="close"||$o(f,7);else f.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?$o(f,7):c_(f):je[0]!="noop"&&f.l&&f.l.ta(je),f.v=0)}}ol(4)}catch{}}var WL=class{constructor(l,h){this.g=l,this.map=h}};function tD(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nD(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function rD(l){return l.h?1:l.g?l.g.size:0}function o_(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function s_(l,h){l.g?l.g.add(h):l.h=h}function iD(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}tD.prototype.cancel=function(){if(this.i=oD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function oD(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let f of l.g.values())h=h.concat(f.D);return h}return R(l.i)}function GL(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],f=l.length,y=0;y<f;y++)h.push(l[y]);return h}h=[],f=0;for(y in l)h[f++]=l[y];return h}function KL(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var f=0;f<l;f++)h.push(f);return h}h=[],f=0;for(let y in l)h[f++]=y;return h}}}function sD(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var f=KL(l),y=GL(l),P=y.length,N=0;N<P;N++)h.call(void 0,y[N],f&&f[N],l)}var aD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function YL(l,h){if(l){l=l.split("&");for(var f=0;f<l.length;f++){var y=l[f].indexOf("="),P=null;if(0<=y){var N=l[f].substring(0,y);P=l[f].substring(y+1)}else N=l[f];h(N,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function Uo(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Uo){this.h=l.h,ih(this,l.j),this.o=l.o,this.g=l.g,oh(this,l.s),this.l=l.l;var h=l.i,f=new dl;f.i=h.i,h.g&&(f.g=new Map(h.g),f.h=h.h),cD(this,f),this.m=l.m}else l&&(h=String(l).match(aD))?(this.h=!1,ih(this,h[1]||"",!0),this.o=ll(h[2]||""),this.g=ll(h[3]||"",!0),oh(this,h[4]),this.l=ll(h[5]||"",!0),cD(this,h[6]||"",!0),this.m=ll(h[7]||"")):(this.h=!1,this.i=new dl(null,this.h))}Uo.prototype.toString=function(){var l=[],h=this.j;h&&l.push(ul(h,lD,!0),":");var f=this.g;return(f||h=="file")&&(l.push("//"),(h=this.o)&&l.push(ul(h,lD,!0),"@"),l.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&l.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&l.push("/"),l.push(ul(f,f.charAt(0)=="/"?XL:ZL,!0))),(f=this.i.toString())&&l.push("?",f),(f=this.m)&&l.push("#",ul(f,eV)),l.join("")};function vi(l){return new Uo(l)}function ih(l,h,f){l.j=f?ll(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function oh(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function cD(l,h,f){h instanceof dl?(l.i=h,tV(l.i,l.h)):(f||(h=ul(h,JL)),l.i=new dl(h,l.h))}function it(l,h,f){l.i.set(h,f)}function sh(l){return it(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ll(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ul(l,h,f){return typeof l=="string"?(l=encodeURI(l).replace(h,QL),f&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function QL(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var lD=/[#\/\?@]/g,ZL=/[#\?:]/g,XL=/[#\?]/g,JL=/[#\?@]/g,eV=/#/g;function dl(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function to(l){l.g||(l.g=new Map,l.h=0,l.i&&YL(l.i,function(h,f){l.add(decodeURIComponent(h.replace(/\+/g," ")),f)}))}n=dl.prototype,n.add=function(l,h){to(this),this.i=null,l=sa(this,l);var f=this.g.get(l);return f||this.g.set(l,f=[]),f.push(h),this.h+=1,this};function uD(l,h){to(l),h=sa(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function dD(l,h){return to(l),h=sa(l,h),l.g.has(h)}n.forEach=function(l,h){to(this),this.g.forEach(function(f,y){f.forEach(function(P){l.call(h,P,y,this)},this)},this)},n.na=function(){to(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),f=[];for(let y=0;y<h.length;y++){let P=l[y];for(let N=0;N<P.length;N++)f.push(h[y])}return f},n.V=function(l){to(this);let h=[];if(typeof l=="string")dD(this,l)&&(h=h.concat(this.g.get(sa(this,l))));else{l=Array.from(this.g.values());for(let f=0;f<l.length;f++)h=h.concat(l[f])}return h},n.set=function(l,h){return to(this),this.i=null,l=sa(this,l),dD(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},n.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function hD(l,h,f){uD(l,h),0<f.length&&(l.i=null,l.g.set(sa(l,h),R(f)),l.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var f=0;f<h.length;f++){var y=h[f];let N=encodeURIComponent(String(y)),q=this.V(y);for(y=0;y<q.length;y++){var P=N;q[y]!==""&&(P+="="+encodeURIComponent(String(q[y]))),l.push(P)}}return this.i=l.join("&")};function sa(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function tV(l,h){h&&!l.j&&(to(l),l.i=null,l.g.forEach(function(f,y){var P=y.toLowerCase();y!=P&&(uD(this,y),hD(this,P,f))},l)),l.j=h}function nV(l,h){let f=new al;if(a.Image){let y=new Image;y.onload=_(no,f,"TestLoadImage: loaded",!0,h,y),y.onerror=_(no,f,"TestLoadImage: error",!1,h,y),y.onabort=_(no,f,"TestLoadImage: abort",!1,h,y),y.ontimeout=_(no,f,"TestLoadImage: timeout",!1,h,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else h(!1)}function rV(l,h){let f=new al,y=new AbortController,P=setTimeout(()=>{y.abort(),no(f,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:y.signal}).then(N=>{clearTimeout(P),N.ok?no(f,"TestPingServer: ok",!0,h):no(f,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(P),no(f,"TestPingServer: error",!1,h)})}function no(l,h,f,y,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),y(f)}catch{}}function iV(){this.g=new BL}function oV(l,h,f){let y=f||"";try{sD(l,function(P,N){let q=P;u(P)&&(q=Qv(P)),h.push(y+N+"="+encodeURIComponent(q))})}catch(P){throw h.push(y+"type="+encodeURIComponent("_badmap")),P}}function hl(l){this.l=l.Ub||null,this.j=l.eb||!1}S(hl,Zv),hl.prototype.g=function(){return new ah(this.l,this.j)},hl.prototype.i=function(l){return function(){return l}}({});function ah(l,h){tn.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(ah,tn),n=ah.prototype,n.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,pl(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fl(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,pl(this)),this.g&&(this.readyState=3,pl(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fD(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function fD(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?fl(this):pl(this),this.readyState==3&&fD(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,fl(this))},n.Qa=function(l){this.g&&(this.response=l,fl(this))},n.ga=function(){this.g&&fl(this)};function fl(l){l.readyState=4,l.l=null,l.j=null,l.v=null,pl(l)}n.setRequestHeader=function(l,h){this.u.append(l,h)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var f=h.next();!f.done;)f=f.value,l.push(f[0]+": "+f[1]),f=h.next();return l.join(`\r
`)};function pl(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ah.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function pD(l){let h="";return Ue(l,function(f,y){h+=y,h+=":",h+=f,h+=`\r
`}),h}function a_(l,h,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=pD(f),typeof l=="string"?f!=null&&encodeURIComponent(String(f)):it(l,h,f))}function vt(l){tn.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(vt,tn);var sV=/^https?$/i,aV=["POST","PUT"];n=vt.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,h,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():e_.g(),this.v=this.o?HT(this.o):HT(e_),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(N){mD(this,N);return}if(l=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var P in y)f.set(P,y[P]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let N of y.keys())f.set(N,y.get(N));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),P=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(aV,h,void 0))||y||P||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,q]of f)this.g.setRequestHeader(N,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_D(this),this.u=!0,this.g.send(l),this.u=!1}catch(N){mD(this,N)}};function mD(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,gD(l),ch(l)}function gD(l){l.A||(l.A=!0,fn(l,"complete"),fn(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,fn(this,"complete"),fn(this,"abort"),ch(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ch(this,!0)),vt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?vD(this):this.bb())},n.bb=function(){vD(this)};function vD(l){if(l.h&&typeof s<"u"&&(!l.v[1]||_i(l)!=4||l.Z()!=2)){if(l.u&&_i(l)==4)jT(l.Ea,0,l);else if(fn(l,"readystatechange"),_i(l)==4){l.h=!1;try{let q=l.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var f;if(!(f=h)){var y;if(y=q===0){var P=String(l.D).match(aD)[1]||null;!P&&a.self&&a.self.location&&(P=a.self.location.protocol.slice(0,-1)),y=!sV.test(P?P.toLowerCase():"")}f=y}if(f)fn(l,"complete"),fn(l,"success");else{l.m=6;try{var N=2<_i(l)?l.g.statusText:""}catch{N=""}l.l=N+" ["+l.Z()+"]",gD(l)}}finally{ch(l)}}}}function ch(l,h){if(l.g){_D(l);let f=l.g,y=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||fn(l,"ready");try{f.onreadystatechange=y}catch{}}}function _D(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function _i(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<_i(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),jL(h)}};function yD(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function cV(l){let h={};l=(l.g&&2<=_i(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<l.length;y++){if(J(l[y]))continue;var f=M(l[y]);let P=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let N=h[P]||[];h[P]=N,N.push(f)}x(h,function(y){return y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ml(l,h,f){return f&&f.internalChannelParams&&f.internalChannelParams[l]||h}function bD(l){this.Aa=0,this.i=[],this.j=new al,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ml("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ml("baseRetryDelayMs",5e3,l),this.cb=ml("retryDelaySeedMs",1e4,l),this.Wa=ml("forwardChannelMaxRetries",2,l),this.wa=ml("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new tD(l&&l.concurrentRequestLimit),this.Da=new iV,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=bD.prototype,n.la=8,n.G=1,n.connect=function(l,h,f,y){pn(0),this.W=l,this.H=h||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.I=xD(this,null,this.W),uh(this)};function c_(l){if(wD(l),l.G==3){var h=l.U++,f=vi(l.I);if(it(f,"SID",l.K),it(f,"RID",h),it(f,"TYPE","terminate"),gl(l,f),h=new eo(l,l.j,h),h.L=2,h.v=sh(vi(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=h.v,f=!0),f||(h.g=MD(h.j,null),h.g.ea(h.v)),h.F=Date.now(),rh(h)}AD(l)}function lh(l){l.g&&(u_(l),l.g.cancel(),l.g=null)}function wD(l){lh(l),l.u&&(a.clearTimeout(l.u),l.u=null),dh(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function uh(l){if(!nD(l.h)&&!l.s){l.s=!0;var h=l.Ga;Jc||OT(),el||(Jc(),el=!0),Uv.add(h,l),l.B=0}}function lV(l,h){return rD(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=sl(v(l.Ga,l,h),SD(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let P=new eo(this,this.j,l),N=this.o;if(this.S&&(N?(N=C(N),A(N,this.S)):N=this.S),this.m!==null||this.O||(P.H=N,N=null),this.P)e:{for(var h=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=f;break e}if(h===4096||f===this.i.length-1){h=f+1;break e}}h=1e3}else h=1e3;h=CD(this,P,h),f=vi(this.I),it(f,"RID",l),it(f,"CVER",22),this.D&&it(f,"X-HTTP-Session-Id",this.D),gl(this,f),N&&(this.O?h="headers="+encodeURIComponent(String(pD(N)))+"&"+h:this.m&&a_(f,this.m,N)),s_(this.h,P),this.Ua&&it(f,"TYPE","init"),this.P?(it(f,"$req",h),it(f,"SID","null"),P.T=!0,n_(P,f,null)):n_(P,f,h),this.G=2}}else this.G==3&&(l?ED(this,l):this.i.length==0||nD(this.h)||ED(this))};function ED(l,h){var f;h?f=h.l:f=l.U++;let y=vi(l.I);it(y,"SID",l.K),it(y,"RID",f),it(y,"AID",l.T),gl(l,y),l.m&&l.o&&a_(y,l.m,l.o),f=new eo(l,l.j,f,l.B+1),l.m===null&&(f.H=l.o),h&&(l.i=h.D.concat(l.i)),h=CD(l,f,1e3),f.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),s_(l.h,f),n_(f,y,h)}function gl(l,h){l.H&&Ue(l.H,function(f,y){it(h,y,f)}),l.l&&sD({},function(f,y){it(h,y,f)})}function CD(l,h,f){f=Math.min(l.i.length,f);var y=l.l?v(l.l.Na,l.l,l):null;e:{var P=l.i;let N=-1;for(;;){let q=["count="+f];N==-1?0<f?(N=P[0].g,q.push("ofs="+N)):N=0:q.push("ofs="+N);let Qe=!0;for(let zt=0;zt<f;zt++){let je=P[zt].g,nn=P[zt].map;if(je-=N,0>je)N=Math.max(0,P[zt].g-100),Qe=!1;else try{oV(nn,q,"req"+je+"_")}catch{y&&y(nn)}}if(Qe){y=q.join("&");break e}}}return l=l.i.splice(0,f),h.D=l,y}function ID(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;Jc||OT(),el||(Jc(),el=!0),Uv.add(h,l),l.v=0}}function l_(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=sl(v(l.Fa,l),SD(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,TD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=sl(v(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pn(10),lh(this),TD(this))};function u_(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function TD(l){l.g=new eo(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=vi(l.qa);it(h,"RID","rpc"),it(h,"SID",l.K),it(h,"AID",l.T),it(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&it(h,"TO",l.ja),it(h,"TYPE","xmlhttp"),gl(l,h),l.m&&l.o&&a_(h,l.m,l.o),l.L&&(l.g.I=l.L);var f=l.g;l=l.ia,f.L=1,f.v=sh(vi(h)),f.m=null,f.P=!0,XT(f,l)}n.Za=function(){this.C!=null&&(this.C=null,lh(this),l_(this),pn(19))};function dh(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function DD(l,h){var f=null;if(l.g==h){dh(l),u_(l),l.g=null;var y=2}else if(o_(l.h,h))f=h.D,iD(l.h,h),y=1;else return;if(l.G!=0){if(h.o)if(y==1){f=h.m?h.m.length:0,h=Date.now()-h.F;var P=l.B;y=eh(),fn(y,new KT(y,f)),uh(l)}else ID(l);else if(P=h.s,P==3||P==0&&0<h.X||!(y==1&&lV(l,h)||y==2&&l_(l)))switch(f&&0<f.length&&(h=l.h,h.i=h.i.concat(f)),P){case 1:$o(l,5);break;case 4:$o(l,10);break;case 3:$o(l,6);break;default:$o(l,2)}}}function SD(l,h){let f=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(f*=2),f*h}function $o(l,h){if(l.j.info("Error code "+h),h==2){var f=v(l.fb,l),y=l.Xa;let P=!y;y=new Uo(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ih(y,"https"),sh(y),P?nV(y.toString(),f):rV(y.toString(),f)}else pn(2);l.G=0,l.l&&l.l.sa(h),AD(l),wD(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),pn(2)):(this.j.info("Failed to ping google.com"),pn(1))};function AD(l){if(l.G=0,l.ka=[],l.l){let h=oD(l.h);(h.length!=0||l.i.length!=0)&&(k(l.ka,h),k(l.ka,l.i),l.h.i.length=0,R(l.i),l.i.length=0),l.l.ra()}}function xD(l,h,f){var y=f instanceof Uo?vi(f):new Uo(f);if(y.g!="")h&&(y.g=h+"."+y.g),oh(y,y.s);else{var P=a.location;y=P.protocol,h=h?h+"."+P.hostname:P.hostname,P=+P.port;var N=new Uo(null);y&&ih(N,y),h&&(N.g=h),P&&oh(N,P),f&&(N.l=f),y=N}return f=l.D,h=l.ya,f&&h&&it(y,f,h),it(y,"VER",l.la),gl(l,y),y}function MD(l,h,f){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new vt(new hl({eb:f})):new vt(l.pa),h.Ha(l.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function PD(){}n=PD.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function hh(){}hh.prototype.g=function(l,h){return new jn(l,h)};function jn(l,h){tn.call(this),this.g=new bD(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!J(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!J(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new aa(this)}S(jn,tn),jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){c_(this.g)},jn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var f={};f.__data__=l,l=f}else this.u&&(f={},f.__data__=Qv(l),l=f);h.i.push(new WL(h.Ya++,l)),h.G==3&&uh(h)},jn.prototype.N=function(){this.g.l=null,delete this.j,c_(this.g),delete this.g,jn.aa.N.call(this)};function RD(l){Xv.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let f in h){l=f;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}S(RD,Xv);function OD(){Jv.call(this),this.status=1}S(OD,Jv);function aa(l){this.g=l}S(aa,PD),aa.prototype.ua=function(){fn(this.g,"a")},aa.prototype.ta=function(l){fn(this.g,new RD(l))},aa.prototype.sa=function(l){fn(this.g,new OD)},aa.prototype.ra=function(){fn(this.g,"b")},hh.prototype.createWebChannel=hh.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,ME=Hi.createWebChannelTransport=function(){return new hh},xE=Hi.getStatEventTarget=function(){return eh()},AE=Hi.Event=jo,rg=Hi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},th.NO_ERROR=0,th.TIMEOUT=8,th.HTTP_ERROR=6,rd=Hi.ErrorCode=th,YT.COMPLETE="complete",SE=Hi.EventType=YT,zT.EventType=il,il.OPEN="a",il.CLOSE="b",il.ERROR="c",il.MESSAGE="d",tn.prototype.listen=tn.prototype.K,pc=Hi.WebChannel=zT,n9=Hi.FetchXmlHttpFactory=hl,vt.prototype.listenOnce=vt.prototype.L,vt.prototype.getLastError=vt.prototype.Ka,vt.prototype.getLastErrorCode=vt.prototype.Ba,vt.prototype.getStatus=vt.prototype.Z,vt.prototype.getResponseJson=vt.prototype.Oa,vt.prototype.getResponseText=vt.prototype.oa,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Ha,DE=Hi.XhrIo=vt}).apply(typeof ng<"u"?ng:typeof self<"u"?self:typeof window<"u"?window:{});var Ok="@firebase/firestore",kk="4.7.16";var Ut=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");var kc="11.8.1";var $s=new ei("@firebase/firestore");function mc(){return $s.logLevel}function Q(n,...e){if($s.logLevel<=Re.DEBUG){let t=e.map(bI);$s.debug(`Firestore (${kc}): ${n}`,...t)}}function zi(n,...e){if($s.logLevel<=Re.ERROR){let t=e.map(bI);$s.error(`Firestore (${kc}): ${n}`,...t)}}function wc(n,...e){if($s.logLevel<=Re.WARN){let t=e.map(bI);$s.warn(`Firestore (${kc}): ${n}`,...t)}}function bI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function le(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,w1(n,r,t)}function w1(n,e,t){let r=`FIRESTORE (${kc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw zi(r),new Error(r)}function qe(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||w1(e,i,r)}function ve(n,e){return n}var U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ae=class extends Wn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ai=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var ug=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},NE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ut.UNAUTHENTICATED))}shutdown(){}},FE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},LE=class{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qe(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ai,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>w(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ai)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string",31837,{l:r}),new ug(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new Ut(e)}},VE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},jE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new VE(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}},dg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},BE=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){qe(this.o===void 0,3512);let r=o=>{o.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,Q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new dg(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new dg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function r9(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function E1(){return new TextEncoder}var hg=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=r9(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function xe(n,e){return n<e?-1:n>e?1:0}function UE(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return xe(r,i);{let o=E1(),s=i9(o.encode(Nk(n,t)),o.encode(Nk(e,t)));return s!==0?s:xe(r,i)}}t+=r>65535?2:1}return xe(n.length,e.length)}function Nk(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function i9(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return xe(n[t],e[t]);return xe(n.length,e.length)}function Ec(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Fk=-62135596800,Lk=1e6,Jt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Lk);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ae(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ae(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Fk)throw new ae(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lk}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-Fk;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var be=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Jt(0,0))}static max(){return new n(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Vk="__name__",fg=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&le(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&le(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return xe(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):UE(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $i.fromString(e.substring(4,e.length-2))}},Pt=class n extends fg{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new ae(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},o9=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Gn=class n extends fg{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return o9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vk}static keyField(){return new n([Vk])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new ae(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new ae(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ae(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ae(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ue=class n{constructor(e){this.path=e}static fromPath(e){return new n(Pt.fromString(e))}static fromName(e){return new n(Pt.fromString(e).popFirst(5))}static empty(){return new n(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Pt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Pt(e.slice()))}};var ld=-1,$E=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};$E.UNKNOWN_ID=-1;function s9(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=be.fromTimestamp(r===1e9?new Jt(t+1,0):new Jt(t,r));return new Hs(i,ue.empty(),e)}function a9(n){return new Hs(n.readTime,n.key,ld)}var Hs=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(be.min(),ue.empty(),ld)}static max(){return new n(be.max(),ue.empty(),ld)}};function c9(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ue.comparator(n.documentKey,e.documentKey),t!==0?t:xe(n.largestBatchId,e.largestBatchId))}var l9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",HE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Nc(n){return w(this,null,function*(){if(n.code!==U.FAILED_PRECONDITION||n.message!==l9)throw n;Q("LocalStore","Unexpectedly lost primary lease")})}var B=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;t(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function u9(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Fc(n){return n.name==="IndexedDbTransactionError"}var wI=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),EI=-1;function Hg(n){return n==null}function ud(n){return n===0&&1/n==-1/0}function d9(n){return typeof n=="number"&&Number.isInteger(n)&&!ud(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var C1="";function h9(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=jk(e)),e=f9(n.get(t),e);return jk(e)}function f9(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case C1:t+="";break;default:t+=o}}return t}function jk(n){return n+C1+""}var p9="remoteDocuments",I1="owner";var T1="mutationQueues";var D1="mutations";var S1="documentMutations",m9="remoteDocumentsV14";var A1="remoteDocumentGlobal";var x1="targets";var M1="targetDocuments";var P1="targetGlobal",R1="collectionParents";var O1="clientMetadata";var k1="bundles";var N1="namedQueries";var g9="indexConfiguration";var v9="indexState";var _9="indexEntries";var F1="documentOverlays";var y9="globals";var b9=[T1,D1,S1,p9,x1,I1,P1,M1,O1,A1,R1,k1,N1],sce=[...b9,F1],w9=[T1,D1,S1,m9,x1,I1,P1,M1,O1,A1,R1,k1,N1,F1],E9=w9,C9=[...E9,g9,v9,_9];var ace=[...C9,y9];function Bk(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ks(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function L1(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var bt=class n{constructor(e,t){this.comparator=e,this.root=t||ci.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ci.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ci.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yc(this.root,e,this.comparator,!1)}getReverseIterator(){return new yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yc(this.root,e,this.comparator,!0)}},yc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ci=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw le(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw le(27949);return e+(this.isRed()?0:1)}};ci.EMPTY=null,ci.RED=!0,ci.BLACK=!1;ci.EMPTY=new class{constructor(){this.size=0}get key(){throw le(57766)}get value(){throw le(16141)}get color(){throw le(16727)}get left(){throw le(29726)}get right(){throw le(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new ci(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var $t=class n{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pg(this.data.getIterator())}getIteratorFrom(e){return new pg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},pg=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var si=class n{constructor(e){this.fields=e,e.sort(Gn.comparator)}static empty(){return new n([])}unionWith(e){let t=new $t(Gn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ec(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var mg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var hn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new mg("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};hn.EMPTY_BYTE_STRING=new hn("");var I9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qi(n){if(qe(!!n,39018),typeof n=="string"){let e=0,t=I9.exec(n);if(qe(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ut(n.seconds),nanos:ut(n.nanos)}}function ut(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Wi(n){return typeof n=="string"?hn.fromBase64String(n):hn.fromUint8Array(n)}var V1="server_timestamp",j1="__type__",B1="__previous_value__",U1="__local_write_time__";function CI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[j1])===null||t===void 0?void 0:t.stringValue)===V1}function zg(n){let e=n.mapValue.fields[B1];return CI(e)?zg(e):e}function dd(n){let e=qi(n.mapValue.fields[U1].timestampValue);return new Jt(e.seconds,e.nanos)}var zE=class{constructor(e,t,r,i,o,s,a,c,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}},gg="(default)",vg=class n{constructor(e,t){this.projectId=e,this.database=t||gg}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===gg}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var II="__type__",$1="__max__",ig={mapValue:{fields:{__type__:{stringValue:$1}}}},TI="__vector__",Cc="value";function Po(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?CI(n)?4:z1(n)?9007199254740991:H1(n)?10:11:le(28295,{value:n})}function di(n,e){if(n===e)return!0;let t=Po(n);if(t!==Po(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return dd(n).isEqual(dd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=qi(i.timestampValue),a=qi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Wi(i.bytesValue).isEqual(Wi(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return ut(i.geoPointValue.latitude)===ut(o.geoPointValue.latitude)&&ut(i.geoPointValue.longitude)===ut(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ut(i.integerValue)===ut(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ut(i.doubleValue),a=ut(o.doubleValue);return s===a?ud(s)===ud(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Ec(n.arrayValue.values||[],e.arrayValue.values||[],di);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Bk(s)!==Bk(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!di(s[c],a[c])))return!1;return!0}(n,e);default:return le(52216,{left:n})}}function hd(n,e){return(n.values||[]).find(t=>di(t,e))!==void 0}function Ic(n,e){if(n===e)return 0;let t=Po(n),r=Po(e);if(t!==r)return xe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return xe(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=ut(o.integerValue||o.doubleValue),c=ut(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return Uk(n.timestampValue,e.timestampValue);case 4:return Uk(dd(n),dd(e));case 5:return UE(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Wi(o),c=Wi(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=xe(a[u],c[u]);if(d!==0)return d}return xe(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=xe(ut(o.latitude),ut(s.latitude));return a!==0?a:xe(ut(o.longitude),ut(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return $k(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,u,d;let p=o.fields||{},v=s.fields||{},_=(a=p[Cc])===null||a===void 0?void 0:a.arrayValue,S=(c=v[Cc])===null||c===void 0?void 0:c.arrayValue,R=xe(((u=_?.values)===null||u===void 0?void 0:u.length)||0,((d=S?.values)===null||d===void 0?void 0:d.length)||0);return R!==0?R:$k(_,S)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===ig.mapValue&&s===ig.mapValue)return 0;if(o===ig.mapValue)return 1;if(s===ig.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){let v=UE(c[p],d[p]);if(v!==0)return v;let _=Ic(a[c[p]],u[d[p]]);if(_!==0)return _}return xe(c.length,d.length)}(n.mapValue,e.mapValue);default:throw le(23264,{Pe:t})}}function Uk(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return xe(n,e);let t=qi(n),r=qi(e),i=xe(t.seconds,r.seconds);return i!==0?i:xe(t.nanos,r.nanos)}function $k(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Ic(t[i],r[i]);if(o)return o}return xe(t.length,r.length)}function Tc(n){return qE(n)}function qE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=qi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Wi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ue.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=qE(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${qE(t.fields[s])}`;return i+"}"}(n.mapValue):le(61005,{value:n})}function ag(n){switch(Po(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=zg(n);return e?16+ag(e):16;case 5:return 2*n.stringValue.length;case 6:return Wi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+ag(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Ks(r.fields,(o,s)=>{i+=o.length+ag(s)}),i}(n.mapValue);default:throw le(13486,{value:n})}}function WE(n){return!!n&&"integerValue"in n}function DI(n){return!!n&&"arrayValue"in n}function Hk(n){return!!n&&"nullValue"in n}function zk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function cg(n){return!!n&&"mapValue"in n}function H1(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[II])===null||t===void 0?void 0:t.stringValue)===TI}function od(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ks(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=od(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=od(n.arrayValue.values[t]);return e}return Object.assign({},n)}function z1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===$1}var lce={mapValue:{fields:{[II]:{stringValue:TI},[Cc]:{arrayValue:{}}}}};var Sr=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!cg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=od(t)}setAll(e){let t=Gn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=od(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());cg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];cg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ks(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(od(this.value))}};function q1(n){let e=[];return Ks(n.fields,(t,r)=>{let i=new Gn([t]);if(cg(r)){let o=q1(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new si(e)}var Ar=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,be.min(),be.min(),be.min(),Sr.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,be.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,be.min(),be.min(),Sr.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,be.min(),be.min(),Sr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Dc=class{constructor(e,t){this.position=e,this.inclusive=t}};function qk(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ue.comparator(ue.fromName(s.referenceValue),t.key):r=Ic(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Wk(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!di(n.position[t],e.position[t]))return!1;return!0}var Sc=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function T9(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var _g=class{},Nt=class n extends _g{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new KE(e,t,r):t==="array-contains"?new ZE(e,r):t==="in"?new XE(e,r):t==="not-in"?new JE(e,r):t==="array-contains-any"?new eC(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new YE(e,r):new QE(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ic(t,this.value)):t!==null&&Po(this.value)===Po(t)&&this.matchesComparison(Ic(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},hi=class n extends _g{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return W1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function W1(n){return n.op==="and"}function G1(n){return D9(n)&&W1(n)}function D9(n){for(let e of n.filters)if(e instanceof hi)return!1;return!0}function GE(n){if(n instanceof Nt)return n.field.canonicalString()+n.op.toString()+Tc(n.value);if(G1(n))return n.filters.map(e=>GE(e)).join(",");{let e=n.filters.map(t=>GE(t)).join(",");return`${n.op}(${e})`}}function K1(n,e){return n instanceof Nt?function(r,i){return i instanceof Nt&&r.op===i.op&&r.field.isEqual(i.field)&&di(r.value,i.value)}(n,e):n instanceof hi?function(r,i){return i instanceof hi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&K1(s,i.filters[a]),!0):!1}(n,e):void le(19439)}function Y1(n){return n instanceof Nt?function(t){return`${t.field.canonicalString()} ${t.op} ${Tc(t.value)}`}(n):n instanceof hi?function(t){return t.op.toString()+" {"+t.getFilters().map(Y1).join(" ,")+"}"}(n):"Filter"}var KE=class extends Nt{constructor(e,t,r){super(e,t,r),this.key=ue.fromName(r.referenceValue)}matches(e){let t=ue.comparator(e.key,this.key);return this.matchesComparison(t)}},YE=class extends Nt{constructor(e,t){super(e,"in",t),this.keys=Q1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},QE=class extends Nt{constructor(e,t){super(e,"not-in",t),this.keys=Q1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function Q1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ue.fromName(r.referenceValue))}var ZE=class extends Nt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return DI(t)&&hd(t.arrayValue,this.value)}},XE=class extends Nt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&hd(this.value.arrayValue,t)}},JE=class extends Nt{constructor(e,t){super(e,"not-in",t)}matches(e){if(hd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!hd(this.value.arrayValue,t)}},eC=class extends Nt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!DI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>hd(this.value.arrayValue,r))}};var tC=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function Gk(n,e=null,t=[],r=[],i=null,o=null,s=null){return new tC(n,e,t,r,i,o,s)}function SI(n){let e=ve(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>GE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Hg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Tc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Tc(r)).join(",")),e.Ie=t}return e.Ie}function AI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!T9(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!K1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Wk(n.startAt,e.startAt)&&Wk(n.endAt,e.endAt)}function nC(n){return ue.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ac=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function S9(n,e,t,r,i,o,s,a){return new Ac(n,e,t,r,i,o,s,a)}function xI(n){return new Ac(n)}function Kk(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function A9(n){return n.collectionGroup!==null}function sd(n){let e=ve(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new $t(Gn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Sc(o,r))}),t.has(Gn.keyField().canonicalString())||e.Ee.push(new Sc(Gn.keyField(),r))}return e.Ee}function li(n){let e=ve(n);return e.de||(e.de=x9(e,sd(n))),e.de}function x9(n,e){if(n.limitType==="F")return Gk(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Sc(i.field,o)});let t=n.endAt?new Dc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Dc(n.startAt.position,n.startAt.inclusive):null;return Gk(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function rC(n,e,t){return new Ac(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function qg(n,e){return AI(li(n),li(e))&&n.limitType===e.limitType}function Z1(n){return`${SI(li(n))}|lt:${n.limitType}`}function gc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Y1(i)).join(", ")}]`),Hg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Tc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Tc(i)).join(",")),`Target(${r})`}(li(n))}; limitType=${n.limitType})`}function Wg(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ue.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of sd(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=qk(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,sd(r),i)||r.endAt&&!function(s,a,c){let u=qk(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,sd(r),i))}(n,e)}function M9(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function X1(n){return(e,t)=>{let r=!1;for(let i of sd(n)){let o=P9(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function P9(n,e,t){let r=n.field.isKeyField()?ue.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?Ic(c,u):le(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return le(19790,{direction:n.dir})}}var Gi=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return L1(this.inner)}size(){return this.innerSize}};var R9=new bt(ue.comparator);function Ki(){return R9}var J1=new bt(ue.comparator);function id(...n){let e=J1;for(let t of n)e=e.insert(t.key,t);return e}function eN(n){let e=J1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function js(){return ad()}function tN(){return ad()}function ad(){return new Gi(n=>n.toString(),(n,e)=>n.isEqual(e))}var O9=new bt(ue.comparator),k9=new $t(ue.comparator);function Oe(...n){let e=k9;for(let t of n)e=e.add(t);return e}var N9=new $t(xe);function F9(){return N9}function MI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ud(e)?"-0":e}}function nN(n){return{integerValue:""+n}}function L9(n,e){return d9(e)?nN(e):MI(n,e)}var xc=class{constructor(){this._=void 0}};function V9(n,e,t){return n instanceof Mc?function(i,o){let s={fields:{[j1]:{stringValue:V1},[U1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&CI(o)&&(o=zg(o)),o&&(s.fields[B1]=o),{mapValue:s}}(t,e):n instanceof zs?iN(n,e):n instanceof qs?oN(n,e):function(i,o){let s=rN(i,o),a=Yk(s)+Yk(i.Re);return WE(s)&&WE(i.Re)?nN(a):MI(i.serializer,a)}(n,e)}function j9(n,e,t){return n instanceof zs?iN(n,e):n instanceof qs?oN(n,e):t}function rN(n,e){return n instanceof Pc?function(r){return WE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Mc=class extends xc{},zs=class extends xc{constructor(e){super(),this.elements=e}};function iN(n,e){let t=sN(e);for(let r of n.elements)t.some(i=>di(i,r))||t.push(r);return{arrayValue:{values:t}}}var qs=class extends xc{constructor(e){super(),this.elements=e}};function oN(n,e){let t=sN(e);for(let r of n.elements)t=t.filter(i=>!di(i,r));return{arrayValue:{values:t}}}var Pc=class extends xc{constructor(e,t){super(),this.serializer=e,this.Re=t}};function Yk(n){return ut(n.integerValue||n.doubleValue)}function sN(n){return DI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function B9(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof zs&&i instanceof zs||r instanceof qs&&i instanceof qs?Ec(r.elements,i.elements,di):r instanceof Pc&&i instanceof Pc?di(r.Re,i.Re):r instanceof Mc&&i instanceof Mc}(n.transform,e.transform)}var iC=class{constructor(e,t){this.version=e,this.transformResults=t}},Us=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function lg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Rc=class{};function aN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new yg(n.key,Us.none()):new Ws(n.key,n.data,Us.none());{let t=n.data,r=Sr.empty(),i=new $t(Gn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Yi(n.key,r,new si(i.toArray()),Us.none())}}function U9(n,e,t){n instanceof Ws?function(i,o,s){let a=i.value.clone(),c=Zk(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Yi?function(i,o,s){if(!lg(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=Zk(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(cN(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function cd(n,e,t,r){return n instanceof Ws?function(o,s,a,c){if(!lg(o.precondition,s))return a;let u=o.value.clone(),d=Xk(o.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Yi?function(o,s,a,c){if(!lg(o.precondition,s))return a;let u=Xk(o.fieldTransforms,c,s),d=s.data;return d.setAll(cN(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return lg(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function $9(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=rN(r.transform,i||null);o!=null&&(t===null&&(t=Sr.empty()),t.set(r.field,o))}return t||null}function Qk(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ec(r,i,(o,s)=>B9(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ws=class extends Rc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Yi=class extends Rc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function cN(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function Zk(n,e,t){let r=new Map;qe(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,j9(s,a,t[i]))}return r}function Xk(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,V9(o,s,e))}return r}var yg=class extends Rc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},oC=class extends Rc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var sC=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&U9(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=cd(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=cd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=tN();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=aN(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Oe())}isEqual(e){return this.batchId===e.batchId&&Ec(this.mutations,e.mutations,(t,r)=>Qk(t,r))&&Ec(this.baseMutations,e.baseMutations,(t,r)=>Qk(t,r))}},aC=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){qe(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return O9}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var cC=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var lC=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var xt,Ve;function H9(n){switch(n){case U.OK:return le(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return le(15467,{code:n})}}function lN(n){if(n===void 0)return zi("GRPC error has no .code"),U.UNKNOWN;switch(n){case xt.OK:return U.OK;case xt.CANCELLED:return U.CANCELLED;case xt.UNKNOWN:return U.UNKNOWN;case xt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case xt.INTERNAL:return U.INTERNAL;case xt.UNAVAILABLE:return U.UNAVAILABLE;case xt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case xt.NOT_FOUND:return U.NOT_FOUND;case xt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case xt.ABORTED:return U.ABORTED;case xt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case xt.DATA_LOSS:return U.DATA_LOSS;default:return le(39323,{code:n})}}(Ve=xt||(xt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";var Jk=null;var z9=new $i([4294967295,4294967295],0);function e1(n){let e=E1().encode(n),t=new TE;return t.update(e),new Uint8Array(t.digest())}function t1(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new $i([t,r],0),new $i([i,o],0)]}var uC=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Bs(`Invalid padding: ${t}`);if(r<0)throw new Bs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bs(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Bs(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=$i.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply($i.fromNumber(r)));return i.compare(z9)===1&&(i=new $i([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=e1(e),[r,i]=t1(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.Se(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let t=e1(e),[r,i]=t1(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.be(s)}}be(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Bs=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var bg=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,fd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(be.min(),i,new bt(xe),Ki(),Oe())}},fd=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Oe(),Oe(),Oe())}};var bc=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},wg=class{constructor(e,t){this.targetId=e,this.Ce=t}},Eg=class{constructor(e,t,r=hn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Cg=class{constructor(){this.Fe=0,this.Me=n1(),this.xe=hn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Oe(),t=Oe(),r=Oe();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:le(38017,{changeType:o})}}),new fd(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=n1()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,qe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},dC=class{constructor(e){this.ze=e,this.je=new Map,this.He=Ki(),this.Je=og(),this.Ye=og(),this.Ze=new bt(xe)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:le(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let o=i.target;if(nC(o))if(r===0){let s=new ue(o.path);this.tt(t,s,Ar.newNoDocument(s,be.min()))}else qe(r===1,20013,{expectedCount:r});else{let s=this.ut(t);if(s!==r){let a=this.ct(e),c=a?this.lt(a,e,s):1;if(c!==0){this.st(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,u)}Jk?.ht(function(d,p,v,_,S){var R,k,W,J,Z,ke;let Tt={localCacheCount:d,existenceFilterCount:p.count,databaseId:v.database,projectId:v.projectId},Ue=p.unchangedNames;return Ue&&(Tt.bloomFilter={applied:S===0,hashCount:(R=Ue?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(J=(W=(k=Ue?.bits)===null||k===void 0?void 0:k.bitmap)===null||W===void 0?void 0:W.length)!==null&&J!==void 0?J:0,padding:(ke=(Z=Ue?.bits)===null||Z===void 0?void 0:Z.padding)!==null&&ke!==void 0?ke:0,mightContain:x=>{var C;return(C=_?.mightContain(x))!==null&&C!==void 0&&C}}),Tt}(s,e.Ce,this.ze.Pt(),a,c))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Wi(r).toUint8Array()}catch(c){if(c instanceof mg)return wc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new uC(s,i,o)}catch(c){return wc(c instanceof Bs?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,o,null),i++)}),i}It(e){let t=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&nC(a.target)){let c=new ue(a.target.path);this.Et(c).has(s)||this.dt(s,c)||this.tt(s,c,Ar.newNoDocument(c,e))}o.Le&&(t.set(s,o.qe()),o.Qe())}});let r=Oe();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this._t(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new bg(e,t,this.Ze,this.He,r);return this.He=Ki(),this.Je=og(),this.Ye=og(),this.Ze=new bt(xe),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Cg,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new $t(xe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new $t(xe),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||Q("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Cg),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function og(){return new bt(ue.comparator)}function n1(){return new bt(ue.comparator)}var q9={asc:"ASCENDING",desc:"DESCENDING"},W9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},G9={and:"AND",or:"OR"},hC=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function fC(n,e){return n.useProto3Json||Hg(e)?e:{value:e}}function Ig(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function K9(n,e){return Ig(n,e.toTimestamp())}function ui(n){return qe(!!n,49232),be.fromTimestamp(function(t){let r=qi(t);return new Jt(r.seconds,r.nanos)}(n))}function PI(n,e){return pC(n,e).canonicalString()}function pC(n,e){let t=function(i){return new Pt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function dN(n){let e=Pt.fromString(n);return qe(gN(e),10190,{key:e.toString()}),e}function mC(n,e){return PI(n.databaseId,e.path)}function PE(n,e){let t=dN(e);if(t.get(1)!==n.databaseId.projectId)throw new ae(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ae(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ue(fN(t))}function hN(n,e){return PI(n.databaseId,e)}function Y9(n){let e=dN(n);return e.length===4?Pt.emptyPath():fN(e)}function gC(n){return new Pt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function fN(n){return qe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function r1(n,e,t){return{name:mC(n,e),fields:t.value.mapValue.fields}}function Q9(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:le(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(qe(d===void 0||typeof d=="string",58123),hn.fromBase64String(d||"")):(qe(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),hn.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let d=u.code===void 0?U.UNKNOWN:lN(u.code);return new ae(d,u.message||"")}(s);t=new Eg(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=PE(n,r.document.name),o=ui(r.document.updateTime),s=r.document.createTime?ui(r.document.createTime):be.min(),a=new Sr({mapValue:{fields:r.document.fields}}),c=Ar.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];t=new bc(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=PE(n,r.document),o=r.readTime?ui(r.readTime):be.min(),s=Ar.newNoDocument(i,o),a=r.removedTargetIds||[];t=new bc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=PE(n,r.document),o=r.removedTargetIds||[];t=new bc([],o,i,null)}else{if(!("filter"in e))return le(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new lC(i,o),a=r.targetId;t=new wg(a,s)}}return t}function Z9(n,e){let t;if(e instanceof Ws)t={update:r1(n,e.key,e.value)};else if(e instanceof yg)t={delete:mC(n,e.key)};else if(e instanceof Yi)t={update:r1(n,e.key,e.data),updateMask:sW(e.fieldMask)};else{if(!(e instanceof oC))return le(16599,{ft:e.type});t={verify:mC(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Mc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof zs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof qs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Pc)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw le(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:K9(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:le(27497)}(n,e.precondition)),t}function X9(n,e){return n&&n.length>0?(qe(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?ui(i.updateTime):ui(o);return s.isEqual(be.min())&&(s=ui(o)),new iC(s,i.transformResults||[])}(t,e))):[]}function J9(n,e){return{documents:[hN(n,e.path)]}}function eW(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=hN(n,i);let o=function(u){if(u.length!==0)return mN(hi.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(d=>function(v){return{field:vc(v.field),direction:rW(v.dir)}}(d))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=fC(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:t,parent:i}}function tW(n){let e=Y9(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){qe(r===1,65062);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(p){let v=pN(p);return v instanceof hi&&G1(v)?v.getFilters():[v]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(v=>function(S){return new Sc(_c(S.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(v))}(t.orderBy));let a=null;t.limit&&(a=function(p){let v;return v=typeof p=="object"?p.value:p,Hg(v)?null:v}(t.limit));let c=null;t.startAt&&(c=function(p){let v=!!p.before,_=p.values||[];return new Dc(_,v)}(t.startAt));let u=null;return t.endAt&&(u=function(p){let v=!p.before,_=p.values||[];return new Dc(_,v)}(t.endAt)),S9(e,i,s,o,a,"F",c,u)}function nW(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function pN(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=_c(t.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=_c(t.unaryFilter.field);return Nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=_c(t.unaryFilter.field);return Nt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=_c(t.unaryFilter.field);return Nt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return le(61313);default:return le(60726)}}(n):n.fieldFilter!==void 0?function(t){return Nt.create(_c(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return le(58110);default:return le(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return hi.create(t.compositeFilter.filters.map(r=>pN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le(1026)}}(t.compositeFilter.op))}(n):le(30097,{filter:n})}function rW(n){return q9[n]}function iW(n){return W9[n]}function oW(n){return G9[n]}function vc(n){return{fieldPath:n.canonicalString()}}function _c(n){return Gn.fromServerFormat(n.fieldPath)}function mN(n){return n instanceof Nt?function(t){if(t.op==="=="){if(zk(t.value))return{unaryFilter:{field:vc(t.field),op:"IS_NAN"}};if(Hk(t.value))return{unaryFilter:{field:vc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(zk(t.value))return{unaryFilter:{field:vc(t.field),op:"IS_NOT_NAN"}};if(Hk(t.value))return{unaryFilter:{field:vc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vc(t.field),op:iW(t.op),value:t.value}}}(n):n instanceof hi?function(t){let r=t.getFilters().map(i=>mN(i));return r.length===1?r[0]:{compositeFilter:{op:oW(t.op),filters:r}}}(n):le(54877,{filter:n})}function sW(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function gN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var pd=class n{constructor(e,t,r,i,o=be.min(),s=be.min(),a=hn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var vC=class{constructor(e){this.wt=e}};function aW(n){let e=tW({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?rC(e,e.limit,"L"):e}var Tg=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(ut(e.integerValue));else if("doubleValue"in e){let r=ut(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),ud(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=qi(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Wi(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?z1(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):H1(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):le(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let o=e.fields||{};this.Mt(t,53);let s=Cc,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(ut(a)),this.Nt(s,t),this.Ct(o[s],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),ue.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};Tg.Wt=new Tg;var _C=class{constructor(){this.Cn=new yC}addToCollectionParentIndex(e,t){return this.Cn.add(t),B.resolve()}getCollectionParents(e,t){return B.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return B.resolve()}deleteFieldIndex(e,t){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,t){return B.resolve()}getDocumentsMatchingTarget(e,t){return B.resolve(null)}getIndexType(e,t){return B.resolve(0)}getFieldIndexes(e,t){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,t){return B.resolve(Hs.min())}getMinOffsetFromCollectionGroup(e,t){return B.resolve(Hs.min())}updateCollectionGroup(e,t,r){return B.resolve()}updateIndexEntries(e,t){return B.resolve()}},yC=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new $t(Pt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $t(Pt.comparator)).toArray()}};var uce=new Uint8Array(0);var i1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vN=41943040,cr=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};cr.DEFAULT_COLLECTION_PERCENTILE=10,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cr.DEFAULT=new cr(vN,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cr.DISABLED=new cr(-1,0,0);var md=class n{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new n(0)}static lr(){return new n(-1)}};var o1="LruGarbageCollector",cW=1048576;function s1([n,e],[t,r]){let i=xe(n,t);return i===0?xe(e,r):i}var bC=class{constructor(e){this.Er=e,this.buffer=new $t(s1),this.dr=0}Ar(){return++this.dr}Rr(e){let t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();s1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},wC=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Q(o1,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>w(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Fc(t)?Q(o1,"Ignoring IndexedDB error during garbage collection: ",t):yield Nc(t)}yield this.mr(3e5)}))}},EC=class{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return B.resolve(wI.le);let r=new bC(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(i1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i1):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,s,a,c,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),mc()<=Re.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function lW(n,e){return new EC(n,e)}var CC=class{constructor(){this.changes=new Gi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ar.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?B.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var IC=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var TC=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&cd(r.mutation,i,si.empty(),Jt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Oe()){let i=js();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=id();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=js();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Oe()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Ki(),s=ad(),a=function(){return ad()}();return t.forEach((c,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Yi)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),cd(d.mutation,u,d.mutation.getFieldMask(),Jt.now())):s.set(u.key,si.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>s.set(u,d)),t.forEach((u,d)=>{var p;return a.set(u,new IC(d,(p=s.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=ad(),i=new bt((s,a)=>s-a),o=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let d=r.get(c)||si.empty();d=a.applyToLocalView(u,d),r.set(c,d);let p=(i.get(a.batchId)||Oe()).add(c);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,p=tN();d.forEach(v=>{if(!o.has(v)){let _=aN(t.get(v),r.get(v));_!==null&&p.set(v,_),o=o.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,p))}return B.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return ue.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):A9(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):B.resolve(js()),a=ld,c=o;return s.next(u=>B.forEach(u,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(v=>{c=c.insert(d,v)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,Oe())).next(d=>({batchId:a,changes:eN(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ue(t)).next(r=>{let i=id();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=id();return this.indexManager.getCollectionParents(e,o).next(a=>B.forEach(a,c=>{let u=function(p,v){return new Ac(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((p,v)=>{s=s.insert(p,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,u)=>{let d=u.getKey();s.get(d)===null&&(s=s.insert(d,Ar.newInvalidDocument(d)))});let a=id();return s.forEach((c,u)=>{let d=o.get(c);d!==void 0&&cd(d.mutation,u,si.empty(),Jt.now()),Wg(t,u)&&(a=a.insert(c,u))}),a})}};var DC=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return B.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ui(i.createTime)}}(t)),B.resolve()}getNamedQuery(e,t){return B.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:aW(i.bundledQuery),readTime:ui(i.readTime)}}(t)),B.resolve()}};var SC=class{constructor(){this.overlays=new bt(ue.comparator),this.Qr=new Map}getOverlay(e,t){return B.resolve(this.overlays.get(t))}getOverlays(e,t){let r=js();return B.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.bt(e,t,o)}),B.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),B.resolve()}getOverlaysForCollection(e,t,r){let i=js(),o=t.length+1,s=new ue(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return B.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new bt((u,d)=>u-d),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=js(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=js(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return B.resolve(a)}bt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new cC(t,r));let o=this.Qr.get(t);o===void 0&&(o=Oe(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}};var AC=class{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,B.resolve()}};var gd=class{constructor(){this.$r=new $t(Mt.Ur),this.Kr=new $t(Mt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){let r=new Mt(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new Mt(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){let t=new ue(new Pt([])),r=new Mt(t,e),i=new Mt(t,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let t=new ue(new Pt([])),r=new Mt(t,e),i=new Mt(t,e+1),o=Oe();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Mt(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Mt=class{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ue.comparator(e.key,t.key)||xe(e.Zr,t.Zr)}static Wr(e,t){return xe(e.Zr,t.Zr)||ue.comparator(e.key,t.key)}};var xC=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new $t(Mt.Ur)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new sC(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new Mt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(s)}lookupMutationBatch(e,t){return B.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ti(r),o=i<0?0:i;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?EI:this.nr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Mt(t,0),i=new Mt(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new $t(xe);return t.forEach(i=>{let o=new Mt(i,0),s=new Mt(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),B.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;ue.isDocumentKey(o)||(o=o.child(""));let s=new Mt(new ue(o),0),a=new $t(xe);return this.Xr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Zr)),!0)},s),B.resolve(this.ni(a))}ni(e){let t=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){qe(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return B.forEach(t.mutations,i=>{let o=new Mt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){let r=new Mt(t,0),i=this.Xr.firstAfterOrEqual(r);return B.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var MC=class{constructor(e){this.ii=e,this.docs=function(){return new bt(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return B.resolve(r?r.document.mutableCopy():Ar.newInvalidDocument(t))}getEntries(e,t){let r=Ki();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ar.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Ki(),s=t.path,a=new ue(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||c9(a9(d),r)<=0||(i.has(d.key)||Wg(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,t,r,i){le(9500)}si(e,t){return B.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new PC(this)}getSize(e){return B.resolve(this.size)}},PC=class extends CC{constructor(e){super(),this.Br=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),B.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}};var RC=class{constructor(e){this.persistence=e,this.oi=new Gi(t=>SI(t),AI),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this._i=0,this.ai=new gd,this.targetCount=0,this.ui=md.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),B.resolve()}Tr(e){this.oi.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ui=new md(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,B.resolve()}updateTargetData(e,t){return this.Tr(t),B.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(o).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,t){let r=this.oi.get(t)||null;return B.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),B.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),B.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),B.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ai.Yr(t);return B.resolve(r)}containsKey(e,t){return B.resolve(this.ai.containsKey(t))}};var Dg=class{constructor(e,t){this.ci={},this.overlays={},this.li=new wI(0),this.hi=!1,this.hi=!0,this.Pi=new AC,this.referenceDelegate=e(this),this.Ti=new RC(this),this.indexManager=new _C,this.remoteDocumentCache=function(i){return new MC(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new vC(t),this.Ei=new DC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new SC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new xC(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){Q("MemoryPersistence","Starting transaction:",e);let i=new OC(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return B.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}},OC=class extends HE{constructor(e){super(),this.currentSequenceNumber=e}},kC=class n{constructor(e){this.persistence=e,this.Vi=new gd,this.mi=null}static fi(e){return new n(e)}get gi(){if(this.mi)return this.mi;throw le(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),B.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),B.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.gi,r=>{let i=ue.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,be.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return B.or([()=>B.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}},Sg=class n{constructor(e,t){this.persistence=e,this.yi=new Gi(r=>h9(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=lW(this,t)}static fi(e,t){return new n(e,t)}di(){}Ai(e){return B.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){let t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return B.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?B.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,be.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),B.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),B.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ag(e.data.value)),t}Dr(e,t,r){return B.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.yi.get(t);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var NC=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=Oe(),i=Oe();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var FC=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var LC=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return vO()?8:u9(Bt())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ws(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Ss(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new FC;return this.bs(e,t,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,t,s,a.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(mc()<=Re.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",gc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),B.resolve()):(mc()<=Re.DEBUG&&Q("QueryEngine","Query:",gc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(mc()<=Re.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",gc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(t))):B.resolve())}ws(e,t){if(Kk(t))return B.resolve(null);let r=li(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=rC(t,null,"F"),r=li(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Oe(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.vs(t,a);return this.Cs(t,u,s,c.readTime)?this.ws(e,rC(t,null,"F")):this.Fs(e,u,t,c)}))})))}Ss(e,t,r,i){return Kk(t)||i.isEqual(be.min())?B.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(t,o);return this.Cs(t,s,r,i)?B.resolve(null):(mc()<=Re.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gc(t)),this.Fs(e,s,t,s9(i,ld)).next(a=>a))})}vs(e,t){let r=new $t(X1(e));return t.forEach((i,o)=>{Wg(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}bs(e,t,r){return mc()<=Re.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",gc(t)),this.ys.getDocumentsMatchingQuery(e,t,Hs.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var RI="LocalStore",uW=3e8,VC=class{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new bt(xe),this.Os=new Gi(o=>SI(o),AI),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TC(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}};function dW(n,e,t,r){return new VC(n,e,t,r)}function _N(n,e){return w(this,null,function*(){let t=ve(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=Oe();for(let u of i){s.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of o){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(u=>({ks:u,removedBatchIds:s,addedBatchIds:a}))})})})}function hW(n,e){let t=ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let p=u.batch,v=p.keys(),_=B.resolve();return v.forEach(S=>{_=_.next(()=>d.getEntry(c,S)).next(R=>{let k=u.docVersions.get(S);qe(k!==null,48541),R.version.compareTo(k)<0&&(p.applyToRemoteDocument(R,u),R.isValidDocument()&&(R.setReadTime(u.commitVersion),d.addEntry(R)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Oe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function yN(n){let e=ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function fW(n,e){let t=ve(n),r=e.snapshotVersion,i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;let a=[];e.targetChanges.forEach((d,p)=>{let v=i.get(p);if(!v)return;a.push(t.Ti.removeMatchingKeys(o,d.removedDocuments,p).next(()=>t.Ti.addMatchingKeys(o,d.addedDocuments,p)));let _=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(hn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,r)),i=i.insert(p,_),function(R,k,W){return R.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=uW?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(v,_,d)&&a.push(t.Ti.updateTargetData(o,_))});let c=Ki(),u=Oe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(pW(o,s,e.documentUpdates).next(d=>{c=d.qs,u=d.Qs})),!r.isEqual(be.min())){let d=t.Ti.getLastRemoteSnapshotVersion(o).next(p=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(t.xs=i,o))}function pW(n,e,t){let r=Oe(),i=Oe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Ki();return t.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(be.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):Q(RI,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{qs:s,Qs:i}})}function mW(n,e){let t=ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=EI),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gW(n,e){let t=ve(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,B.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new pd(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}function jC(n,e,t){return w(this,null,function*(){let r=ve(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Fc(s))throw s;Q(RI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function a1(n,e,t){let r=ve(n),i=be.min(),o=Oe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){let p=ve(c),v=p.Os.get(d);return v!==void 0?B.resolve(p.xs.get(v)):p.Ti.getTargetData(u,d)}(r,s,li(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:be.min(),t?o:Oe())).next(a=>(vW(r,M9(e),a),{documents:a,$s:o})))}function vW(n,e,t){let r=n.Ns.get(e)||be.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}var Ag=class{constructor(){this.activeTargetIds=F9()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var BC=class{constructor(){this.xo=new Ag,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Ag,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var UC=class{No(e){}shutdown(){}};var c1="ConnectivityMonitor",xg=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Q(c1,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){Q(c1,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var sg=null;function $C(){return sg===null?sg=function(){return 268435456+Math.round(2147483648*Math.random())}():sg++,"0x"+sg.toString(16)}var RE="RestConnection",_W={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},HC=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===gg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){let s=$C(),a=this.jo(e,t.toUriEncodedString());Q(RE,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,o);let{host:u}=new URL(a),d=Os(u);return this.Jo(e,a,c,r,d).then(p=>(Q(RE,`Received RPC '${e}' ${s}: `,p),p),p=>{throw wc(RE,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,t,r,i,o,s){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+kc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){let r=_W[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}};var zC=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var dn="WebChannelConnection",qC=class extends HC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=$C();return new Promise((a,c)=>{let u=new DE;u.setWithCredentials(!0),u.listenOnce(SE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case rd.NO_ERROR:let p=u.getResponseJson();Q(dn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case rd.TIMEOUT:Q(dn,`RPC '${e}' ${s} timed out`),c(new ae(U.DEADLINE_EXCEEDED,"Request time out"));break;case rd.HTTP_ERROR:let v=u.getStatus();if(Q(dn,`RPC '${e}' ${s} failed with status:`,v,"response text:",u.getResponseText()),v>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let S=_?.error;if(S&&S.status&&S.message){let R=function(W){let J=W.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(J)>=0?J:U.UNKNOWN}(S.status);c(new ae(R,S.message))}else c(new ae(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new ae(U.UNAVAILABLE,"Connection failed."));break;default:le(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Q(dn,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);Q(dn,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",d,r,15)})}T_(e,t,r){let i=$C(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ME(),a=xE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let d=o.join("");Q(dn,`Creating RPC '${e}' stream ${i}: ${d}`,c);let p=s.createWebChannel(d,c),v=!1,_=!1,S=new zC({Zo:k=>{_?Q(dn,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(v||(Q(dn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),Q(dn,`RPC '${e}' stream ${i} sending:`,k),p.send(k))},Xo:()=>p.close()}),R=(k,W,J)=>{k.listen(W,Z=>{try{J(Z)}catch(ke){setTimeout(()=>{throw ke},0)}})};return R(p,pc.EventType.OPEN,()=>{_||(Q(dn,`RPC '${e}' stream ${i} transport opened.`),S.__())}),R(p,pc.EventType.CLOSE,()=>{_||(_=!0,Q(dn,`RPC '${e}' stream ${i} transport closed`),S.u_())}),R(p,pc.EventType.ERROR,k=>{_||(_=!0,wc(dn,`RPC '${e}' stream ${i} transport errored. Name:`,k.name,"Message:",k.message),S.u_(new ae(U.UNAVAILABLE,"The operation could not be completed")))}),R(p,pc.EventType.MESSAGE,k=>{var W;if(!_){let J=k.data[0];qe(!!J,16349);let Z=J,ke=Z?.error||((W=Z[0])===null||W===void 0?void 0:W.error);if(ke){Q(dn,`RPC '${e}' stream ${i} received error:`,ke);let Tt=ke.status,Ue=function(D){let A=xt[D];if(A!==void 0)return lN(A)}(Tt),x=ke.message;Ue===void 0&&(Ue=U.INTERNAL,x="Unknown error status: "+Tt+" with message "+ke.message),_=!0,S.u_(new ae(Ue,x)),p.close()}else Q(dn,`RPC '${e}' stream ${i} received:`,J),S.c_(J)}}),R(a,AE.STAT_EVENT,k=>{k.stat===rg.PROXY?Q(dn,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===rg.NOPROXY&&Q(dn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.a_()},0),S}};function OE(){return typeof document<"u"?document:null}function Gg(n){return new hC(n,!0)}var Mg=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=i,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();let t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,t-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}};var l1="PersistentStream",Pg=class{constructor(e,t,r,i,o,s,a,c){this.xi=e,this.y_=r,this.w_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Mg(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}stop(){return w(this,null,function*(){this.F_()&&(yield this.close(0))})}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}B_(){return w(this,null,function*(){if(this.M_())return this.close(0)})}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}close(e,t){return w(this,null,function*(){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===U.RESOURCE_EXHAUSTED?(zi(t.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(t)})}Q_(){}auth(){this.state=1;let e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===t&&this.K_(r,i)},r=>{e(()=>{let i=new ae(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,t){let r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(()=>w(this,null,function*(){this.state=0,this.start()}))}W_(e){return Q(l1,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(Q(l1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},WC=class extends Pg{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();let t=Q9(this.serializer,e),r=function(o){if(!("targetChange"in o))return be.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?be.min():s.readTime?ui(s.readTime):be.min()}(e);return this.listener.j_(t,r)}H_(e){let t={};t.database=gC(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=nC(c)?{documents:J9(o,c)}:{query:eW(o,c).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=uN(o,s.resumeToken);let u=fC(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(be.min())>0){a.readTime=Ig(o,s.snapshotVersion.toTimestamp());let u=fC(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=nW(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){let t={};t.database=gC(this.serializer),t.removeTarget=e,this.L_(t)}},GC=class extends Pg{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();let t=X9(e.writeResults,e.commitTime),r=ui(e.commitTime);return this.listener.ea(r,t)}ta(){let e={};e.database=gC(this.serializer),this.L_(e)}Z_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>Z9(this.serializer,r))};this.L_(t)}};var KC=class{},YC=class extends KC{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new ae(U.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,pC(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(U.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,pC(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ae(U.UNKNOWN,s.toString())})}terminate(){this.na=!0,this.connection.terminate()}},QC=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(zi(t),this.oa=!1):Q("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}};var Gs="RemoteStore",ZC=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(s=>{r.enqueueAndForget(()=>w(this,null,function*(){Ys(this)&&(Q(Gs,"Restarting streams for network reachability change."),yield function(c){return w(this,null,function*(){let u=ve(c);u.Ta.add(4),yield Td(u),u.da.set("Unknown"),u.Ta.delete(4),yield Kg(u)})}(this))}))}),this.da=new QC(r,i)}};function Kg(n){return w(this,null,function*(){if(Ys(n))for(let e of n.Ia)yield e(!0)})}function Td(n){return w(this,null,function*(){for(let e of n.Ia)yield e(!1)})}function bN(n,e){let t=ve(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),FI(t)?NI(t):Lc(t).M_()&&kI(t,e))}function OI(n,e){let t=ve(n),r=Lc(t);t.Pa.delete(e),r.M_()&&wN(t,e),t.Pa.size===0&&(r.M_()?r.N_():Ys(t)&&t.da.set("Unknown"))}function kI(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Lc(n).H_(e)}function wN(n,e){n.Aa.Ke(e),Lc(n).J_(e)}function NI(n){n.Aa=new dC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Lc(n).start(),n.da._a()}function FI(n){return Ys(n)&&!Lc(n).F_()&&n.Pa.size>0}function Ys(n){return ve(n).Ta.size===0}function EN(n){n.Aa=void 0}function yW(n){return w(this,null,function*(){n.da.set("Online")})}function bW(n){return w(this,null,function*(){n.Pa.forEach((e,t)=>{kI(n,e)})})}function wW(n,e){return w(this,null,function*(){EN(n),FI(n)?(n.da.ca(e),NI(n)):n.da.set("Unknown")})}function EW(n,e,t){return w(this,null,function*(){if(n.da.set("Online"),e instanceof Eg&&e.state===2&&e.cause)try{yield function(i,o){return w(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Pa.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Pa.delete(a),i.Aa.removeTarget(a))})}(n,e)}catch(r){Q(Gs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Rg(n,r)}else if(e instanceof bc?n.Aa.Xe(e):e instanceof wg?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(be.min()))try{let r=yield yN(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Aa.It(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.Pa.get(u);d&&o.Pa.set(u,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let d=o.Pa.get(c);if(!d)return;o.Pa.set(c,d.withResumeToken(hn.EMPTY_BYTE_STRING,d.snapshotVersion)),wN(o,c);let p=new pd(d.target,c,u,d.sequenceNumber);kI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){Q(Gs,"Failed to raise snapshot:",r),yield Rg(n,r)}})}function Rg(n,e,t){return w(this,null,function*(){if(!Fc(e))throw e;n.Ta.add(1),yield Td(n),n.da.set("Offline"),t||(t=()=>yN(n.localStore)),n.asyncQueue.enqueueRetryable(()=>w(null,null,function*(){Q(Gs,"Retrying IndexedDB access"),yield t(),n.Ta.delete(1),yield Kg(n)}))})}function CN(n,e){return e().catch(t=>Rg(n,t,e))}function Yg(n){return w(this,null,function*(){let e=ve(n),t=Ro(e),r=e.ha.length>0?e.ha[e.ha.length-1].batchId:EI;for(;CW(e);)try{let i=yield mW(e.localStore,r);if(i===null){e.ha.length===0&&t.N_();break}r=i.batchId,IW(e,i)}catch(i){yield Rg(e,i)}IN(e)&&TN(e)})}function CW(n){return Ys(n)&&n.ha.length<10}function IW(n,e){n.ha.push(e);let t=Ro(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function IN(n){return Ys(n)&&!Ro(n).F_()&&n.ha.length>0}function TN(n){Ro(n).start()}function TW(n){return w(this,null,function*(){Ro(n).ta()})}function DW(n){return w(this,null,function*(){let e=Ro(n);for(let t of n.ha)e.Z_(t.mutations)})}function SW(n,e,t){return w(this,null,function*(){let r=n.ha.shift(),i=aC.from(r,e,t);yield CN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Yg(n)})}function AW(n,e){return w(this,null,function*(){e&&Ro(n).Y_&&(yield function(r,i){return w(this,null,function*(){if(function(s){return H9(s)&&s!==U.ABORTED}(i.code)){let o=r.ha.shift();Ro(r).O_(),yield CN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Yg(r)}})}(n,e)),IN(n)&&TN(n)})}function u1(n,e){return w(this,null,function*(){let t=ve(n);t.asyncQueue.verifyOperationInProgress(),Q(Gs,"RemoteStore received new credentials");let r=Ys(t);t.Ta.add(3),yield Td(t),r&&t.da.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),yield Kg(t)})}function xW(n,e){return w(this,null,function*(){let t=ve(n);e?(t.Ta.delete(2),yield Kg(t)):e||(t.Ta.add(2),yield Td(t),t.da.set("Unknown"))})}function Lc(n){return n.Ra||(n.Ra=function(t,r,i){let o=ve(t);return o.ra(),new WC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:yW.bind(null,n),n_:bW.bind(null,n),i_:wW.bind(null,n),j_:EW.bind(null,n)}),n.Ia.push(e=>w(null,null,function*(){e?(n.Ra.O_(),FI(n)?NI(n):n.da.set("Unknown")):(yield n.Ra.stop(),EN(n))}))),n.Ra}function Ro(n){return n.Va||(n.Va=function(t,r,i){let o=ve(t);return o.ra(),new GC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:TW.bind(null,n),i_:AW.bind(null,n),X_:DW.bind(null,n),ea:SW.bind(null,n)}),n.Ia.push(e=>w(null,null,function*(){e?(n.Va.O_(),yield Yg(n)):(yield n.Va.stop(),n.ha.length>0&&(Q(Gs,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))}))),n.Va}var XC=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function LI(n,e){if(zi("AsyncQueue",`${e}: ${n}`),Fc(n))return new ae(U.UNAVAILABLE,`${e}: ${n}`);throw n}var Og=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ue.comparator(t.key,r.key):(t,r)=>ue.comparator(t.key,r.key),this.keyedMap=id(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var kg=class{constructor(){this.ma=new bt(ue.comparator)}track(e){let t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):le(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){let e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}},Oc=class n{constructor(e,t,r,i,o,s,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Og.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var JC=class{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}},eI=class{constructor(){this.queries=d1(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){let i=ve(t),o=i.queries;i.queries=d1(),o.forEach((s,a)=>{for(let c of a.ya)c.onError(r)})})(this,new ae(U.ABORTED,"Firestore shutting down"))}};function d1(){return new Gi(n=>Z1(n),qg)}function MW(n,e){return w(this,null,function*(){let t=ve(n),r=3,i=e.query,o=t.queries.get(i);o?!o.wa()&&e.Sa()&&(r=2):(o=new JC,r=e.Sa()?0:1);try{switch(r){case 0:o.pa=yield t.onListen(i,!0);break;case 1:o.pa=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=LI(s,`Initialization of query '${gc(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.ya.push(e),e.Da(t.onlineState),o.pa&&e.va(o.pa)&&VI(t)})}function PW(n,e){return w(this,null,function*(){let t=ve(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.ya.indexOf(e);s>=0&&(o.ya.splice(s,1),o.ya.length===0?i=e.Sa()?0:1:!o.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function RW(n,e){let t=ve(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.ya)a.va(i)&&(r=!0);s.pa=i}}r&&VI(t)}function OW(n,e,t){let r=ve(n),i=r.queries.get(e);if(i)for(let o of i.ya)o.onError(t);r.queries.delete(e)}function VI(n){n.ba.forEach(e=>{e.next()})}var tI,h1;(h1=tI||(tI={})).Ca="default",h1.Cache="cache";var nI=class{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Oc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;let r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;let t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=Oc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==tI.Cache}};var Ng=class{constructor(e){this.key=e}},Fg=class{constructor(e){this.key=e}},rI=class{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Oe(),this.mutatedKeys=Oe(),this.Ha=X1(e),this.Ja=new Og(this.Ha)}get Ya(){return this.Ga}Za(e,t){let r=t?t.Xa:new kg,i=t?t.Ja:this.Ja,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{let v=i.get(d),_=Wg(this.query,p)?p:null,S=!!v&&this.mutatedKeys.has(v.key),R=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),k=!1;v&&_?v.data.isEqual(_.data)?S!==R&&(r.track({type:3,doc:_}),k=!0):this.eu(v,_)||(r.track({type:2,doc:_}),k=!0,(c&&this.Ha(_,c)>0||u&&this.Ha(_,u)<0)&&(a=!0)):!v&&_?(r.track({type:0,doc:_}),k=!0):v&&!_&&(r.track({type:1,doc:v}),k=!0,(c||u)&&(a=!0)),k&&(_?(s=s.add(_),o=R?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ja:s,Xa:r,Cs:a,mutatedKeys:o}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;let s=e.Xa.ga();s.sort((d,p)=>function(_,S){let R=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le(20277,{Vt:k})}};return R(_)-R(S)}(d.type,p.type)||this.Ha(d.doc,p.doc)),this.tu(r),i=i!=null&&i;let a=t&&!i?this.nu():[],c=this.ja.size===0&&this.current&&!i?1:0,u=c!==this.za;return this.za=c,s.length!==0||u?{snapshot:new Oc(this.query,e.Ja,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new kg,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];let e=this.ja;this.ja=Oe(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});let t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new Fg(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new Ng(r))}),t}su(e){this.Ga=e.$s,this.ja=Oe();let t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return Oc.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}},jI="SyncEngine",iI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},oI=class{constructor(e){this.key=e,this._u=!1}},sI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.au={},this.uu=new Gi(a=>Z1(a),qg),this.cu=new Map,this.lu=new Set,this.hu=new bt(ue.comparator),this.Pu=new Map,this.Tu=new gd,this.Iu={},this.Eu=new Map,this.du=md.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}};function kW(n,e,t=!0){return w(this,null,function*(){let r=PN(n),i,o=r.uu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ou()):i=yield DN(r,e,t,!0),i})}function NW(n,e){return w(this,null,function*(){let t=PN(n);yield DN(t,e,!0,!1)})}function DN(n,e,t,r){return w(this,null,function*(){let i=yield gW(n.localStore,li(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield FW(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&bN(n.remoteStore,i),a})}function FW(n,e,t,r,i){return w(this,null,function*(){n.Ru=(p,v,_)=>function(R,k,W,J){return w(this,null,function*(){let Z=k.view.Za(W);Z.Cs&&(Z=yield a1(R.localStore,k.query,!1).then(({documents:x})=>k.view.Za(x,Z)));let ke=J&&J.targetChanges.get(k.targetId),Tt=J&&J.targetMismatches.get(k.targetId)!=null,Ue=k.view.applyChanges(Z,R.isPrimaryClient,ke,Tt);return p1(R,k.targetId,Ue.ru),Ue.snapshot})}(n,p,v,_);let o=yield a1(n.localStore,e,!0),s=new rI(e,o.$s),a=s.Za(o.documents),c=fd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,c);p1(n,t,u.ru);let d=new iI(e,t,s);return n.uu.set(e,d),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),u.snapshot})}function LW(n,e,t){return w(this,null,function*(){let r=ve(n),i=r.uu.get(e),o=r.cu.get(i.targetId);if(o.length>1)return r.cu.set(i.targetId,o.filter(s=>!qg(s,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield jC(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&OI(r.remoteStore,i.targetId),aI(r,i.targetId)}).catch(Nc))):(aI(r,i.targetId),yield jC(r.localStore,i.targetId,!0))})}function VW(n,e){return w(this,null,function*(){let t=ve(n),r=t.uu.get(e),i=t.cu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),OI(t.remoteStore,r.targetId))})}function jW(n,e,t){return w(this,null,function*(){let r=WW(n);try{let i=yield function(s,a){let c=ve(s),u=Jt.now(),d=a.reduce((_,S)=>_.add(S.key),Oe()),p,v;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let S=Ki(),R=Oe();return c.Bs.getEntries(_,d).next(k=>{S=k,S.forEach((W,J)=>{J.isValidDocument()||(R=R.add(W))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,S)).next(k=>{p=k;let W=[];for(let J of a){let Z=$9(J,p.get(J.key).overlayedDocument);Z!=null&&W.push(new Yi(J.key,Z,q1(Z.value.mapValue),Us.exists(!0)))}return c.mutationQueue.addMutationBatch(_,u,W,a)}).next(k=>{v=k;let W=k.applyToLocalDocumentSet(p,R);return c.documentOverlayCache.saveOverlays(_,k.batchId,W)})}).then(()=>({batchId:v.batchId,changes:eN(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Iu[s.currentUser.toKey()];u||(u=new bt(xe)),u=u.insert(a,c),s.Iu[s.currentUser.toKey()]=u}(r,i.batchId,t),yield Dd(r,i.changes),yield Yg(r.remoteStore)}catch(i){let o=LI(i,"Failed to persist write");t.reject(o)}})}function SN(n,e){return w(this,null,function*(){let t=ve(n);try{let r=yield fW(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Pu.get(o);s&&(qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s._u=!0:i.modifiedDocuments.size>0?qe(s._u,14607):i.removedDocuments.size>0&&(qe(s._u,42227),s._u=!1))}),yield Dd(t,r,e)}catch(r){yield Nc(r)}})}function f1(n,e,t){let r=ve(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.uu.forEach((o,s)=>{let a=s.view.Da(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=ve(s);c.onlineState=a;let u=!1;c.queries.forEach((d,p)=>{for(let v of p.ya)v.Da(a)&&(u=!0)}),u&&VI(c)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function BW(n,e,t){return w(this,null,function*(){let r=ve(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Pu.get(e),o=i&&i.key;if(o){let s=new bt(ue.comparator);s=s.insert(o,Ar.newNoDocument(o,be.min()));let a=Oe().add(o),c=new bg(be.min(),new Map,new bt(xe),s,a);yield SN(r,c),r.hu=r.hu.remove(o),r.Pu.delete(e),BI(r)}else yield jC(r.localStore,e,!1).then(()=>aI(r,e,t)).catch(Nc)})}function UW(n,e){return w(this,null,function*(){let t=ve(n),r=e.batch.batchId;try{let i=yield hW(t.localStore,e);xN(t,r,null),AN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Dd(t,i)}catch(i){yield Nc(i)}})}function $W(n,e,t){return w(this,null,function*(){let r=ve(n);try{let i=yield function(s,a){let c=ve(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(p=>(qe(p!==null,37113),d=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);xN(r,e,t),AN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Dd(r,i)}catch(i){yield Nc(i)}})}function AN(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function xN(n,e,t){let r=ve(n),i=r.Iu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function aI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||MN(n,r)})}function MN(n,e){n.lu.delete(e.path.canonicalString());let t=n.hu.get(e);t!==null&&(OI(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),BI(n))}function p1(n,e,t){for(let r of t)r instanceof Ng?(n.Tu.addReference(r.key,e),HW(n,r)):r instanceof Fg?(Q(jI,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||MN(n,r.key)):le(19791,{mu:r})}function HW(n,e){let t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(Q(jI,"New document in limbo: "+t),n.lu.add(r),BI(n))}function BI(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){let e=n.lu.values().next().value;n.lu.delete(e);let t=new ue(Pt.fromString(e)),r=n.du.next();n.Pu.set(r,new oI(t)),n.hu=n.hu.insert(t,r),bN(n.remoteStore,new pd(li(xI(t.path)),r,"TargetPurposeLimboResolution",wI.le))}}function Dd(n,e,t){return w(this,null,function*(){let r=ve(n),i=[],o=[],s=[];r.uu.isEmpty()||(r.uu.forEach((a,c)=>{s.push(r.Ru(c,e,t).then(u=>{var d;if((u||t)&&r.isPrimaryClient){let p=u?!u.fromCache:(d=t?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){i.push(u);let p=NC.Rs(c.targetId,u);o.push(p)}}))}),yield Promise.all(s),r.au.j_(i),yield function(c,u){return w(this,null,function*(){let d=ve(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>B.forEach(u,v=>B.forEach(v.ds,_=>d.persistence.referenceDelegate.addReference(p,v.targetId,_)).next(()=>B.forEach(v.As,_=>d.persistence.referenceDelegate.removeReference(p,v.targetId,_)))))}catch(p){if(!Fc(p))throw p;Q(RI,"Failed to update sequence numbers: "+p)}for(let p of u){let v=p.targetId;if(!p.fromCache){let _=d.xs.get(v),S=_.snapshotVersion,R=_.withLastLimboFreeSnapshotVersion(S);d.xs=d.xs.insert(v,R)}}})}(r.localStore,o))})}function zW(n,e){return w(this,null,function*(){let t=ve(n);if(!t.currentUser.isEqual(e)){Q(jI,"User change. New user:",e.toKey());let r=yield _N(t.localStore,e);t.currentUser=e,function(o,s){o.Eu.forEach(a=>{a.forEach(c=>{c.reject(new ae(U.CANCELLED,s))})}),o.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Dd(t,r.ks)}})}function qW(n,e){let t=ve(n),r=t.Pu.get(e);if(r&&r._u)return Oe().add(r.key);{let i=Oe(),o=t.cu.get(e);if(!o)return i;for(let s of o){let a=t.uu.get(s);i=i.unionWith(a.view.Ya)}return i}}function PN(n){let e=ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=SN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BW.bind(null,e),e.au.j_=RW.bind(null,e.eventManager),e.au.Vu=OW.bind(null,e.eventManager),e}function WW(n){let e=ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$W.bind(null,e),e}var RN=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return w(this,null,function*(){this.serializer=Gg(t.databaseInfo.databaseId),this.sharedClientState=this.pu(t),this.persistence=this.yu(t),yield this.persistence.start(),this.localStore=this.wu(t),this.gcScheduler=this.Su(t,this.localStore),this.indexBackfillerScheduler=this.bu(t,this.localStore)})}Su(t,r){return null}bu(t,r){return null}wu(t){return dW(this.persistence,new LC,t.initialUser,this.serializer)}yu(t){return new Dg(kC.fi,this.serializer)}pu(t){return new BC}terminate(){return w(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),cI=class extends RN{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){qe(this.persistence.referenceDelegate instanceof Sg,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new wC(r,e.asyncQueue,t)}yu(e){let t=this.cacheSizeBytes!==void 0?cr.withCacheSize(this.cacheSizeBytes):cr.DEFAULT;return new Dg(r=>Sg.fi(r,t),this.serializer)}};var GW=(()=>{class n{initialize(t,r){return w(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>f1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=zW.bind(null,this.syncEngine),yield xW(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new eI}()}createDatastore(t){let r=Gg(t.databaseInfo.databaseId),i=function(s){return new qC(s)}(t.databaseInfo);return function(s,a,c,u){return new YC(s,a,c,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new ZC(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>f1(this.syncEngine,r,0),function(){return xg.C()?new xg:new UC}())}createSyncEngine(t,r){return function(o,s,a,c,u,d,p){let v=new sI(o,s,a,c,u,d);return p&&(v.Au=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return w(this,null,function*(){var t,r;yield function(o){return w(this,null,function*(){let s=ve(o);Q(Gs,"RemoteStore shutting down."),s.Ta.add(5),yield Td(s),s.Ea.shutdown(),s.da.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var lI=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):zi("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Oo="FirestoreClient",uI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ut.UNAUTHENTICATED,this.clientId=hg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>w(this,null,function*(){Q(Oo,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(Q(Oo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=LI(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function kE(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),Q(Oo,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>w(null,null,function*(){r.isEqual(i)||(yield _N(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function m1(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield KW(n);Q(Oo,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>u1(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>u1(e.remoteStore,i)),n._onlineComponents=e})}function KW(n){return w(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Q(Oo,"Using user provided OfflineComponentProvider");try{yield kE(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;wc("Error using user provided cache. Falling back to memory cache: "+t),yield kE(n,new RN)}}else Q(Oo,"Using default OfflineComponentProvider"),yield kE(n,new cI(void 0));return n._offlineComponents})}function ON(n){return w(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(Q(Oo,"Using user provided OnlineComponentProvider"),yield m1(n,n._uninitializedComponentsProvider._online)):(Q(Oo,"Using default OnlineComponentProvider"),yield m1(n,new GW))),n._onlineComponents})}function YW(n){return ON(n).then(e=>e.syncEngine)}function QW(n){return w(this,null,function*(){let e=yield ON(n),t=e.eventManager;return t.onListen=kW.bind(null,e.syncEngine),t.onUnlisten=LW.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=NW.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=VW.bind(null,e.syncEngine),t})}function ZW(n,e,t={}){let r=new ai;return n.asyncQueue.enqueueAndForget(()=>w(null,null,function*(){return function(o,s,a,c,u){let d=new lI({next:v=>{d.Cu(),s.enqueueAndForget(()=>PW(o,p));let _=v.docs.has(a);!_&&v.fromCache?u.reject(new ae(U.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&v.fromCache&&c&&c.source==="server"?u.reject(new ae(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(v)},error:v=>u.reject(v)}),p=new nI(xI(a.path),d,{includeMetadataChanges:!0,La:!0});return MW(o,p)}(yield QW(n),n.asyncQueue,e,t,r)})),r.promise}function kN(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var g1=new Map;function XW(n,e,t){if(!t)throw new ae(U.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function JW(n,e,t,r){if(e===!0&&r===!0)throw new ae(U.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function v1(n){if(!ue.isDocumentKey(n))throw new ae(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function UI(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":le(12329,{type:typeof n})}function vd(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ae(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=UI(n);throw new ae(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var NN="firestore.googleapis.com",_1=!0,Lg=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NN,this.ssl=_1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:_1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cW)throw new ae(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ae(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ae(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ae(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},_d=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new NE;switch(r.type){case"firstParty":return new jE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return w(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=g1.get(t);r&&(Q("ComponentProvider","Removing Datastore"),g1.delete(t),r.terminate())}(this),Promise.resolve()}};function eG(n,e,t,r={}){var i;n=vd(n,_d);let o=Os(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(Tm(`https://${c}`),Dm("Firestore",!0)),s.host!==NN&&s.host!==c&&wc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!Jr(u,a)&&(n._setSettings(u),r.mockUserToken)){let d,p;if(typeof r.mockUserToken=="string")d=r.mockUserToken,p=Ut.MOCK_USER;else{d=dO(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ae(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ut(v)}n._authCredentials=new FE(new ug(d,p))}}var dI=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},lr=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},yd=class n extends dI{constructor(e,t,r){super(e,t,xI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new lr(this.firestore,null,new ue(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Qg(n,e,...t){if(n=Xt(n),arguments.length===1&&(e=hg.newId()),XW("doc","path",e),n instanceof _d){let r=Pt.fromString(e,...t);return v1(r),new lr(n,null,new ue(r))}{if(!(n instanceof lr||n instanceof yd))throw new ae(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Pt.fromString(e,...t));return v1(r),new lr(n.firestore,n instanceof yd?n.converter:null,new ue(r))}}var y1="AsyncQueue",Vg=class{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Mg(this,"async_queue_retry"),this.ec=()=>{let r=OE();r&&Q(y1,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;let t=OE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;let t=OE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});let t=new ai;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}sc(){return w(this,null,function*(){if(this.zu.length!==0){try{yield this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Fc(e))throw e;Q(y1,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}})}rc(e){let t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,zi("INTERNAL UNHANDLED ERROR: ",b1(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);let i=XC.createAndSchedule(this,e,t,r,o=>this.oc(o));return this.Hu.push(i),i}nc(){this.Ju&&le(47125,{_c:b1(this.Ju)})}verifyOperationInProgress(){}ac(){return w(this,null,function*(){let e;do e=this.tc,yield e;while(e!==this.tc)})}uc(e){for(let t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){let t=this.Hu.indexOf(e);this.Hu.splice(t,1)}};function b1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var bd=class extends _d{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Vg,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return w(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Vg(e),this._firestoreClient=void 0,yield e}})}};function Zg(n,e){let t=typeof n=="object"?n:Ns(),r=typeof n=="string"?n:e||gg,i=dc(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=uO("firestore");o&&eG(i,...o)}return i}function FN(n){if(n._terminated)throw new ae(U.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||tG(n),n._firestoreClient}function tG(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,u,d){return new zE(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,kN(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new uI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var wd=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(hn.fromBase64String(e))}catch(t){throw new ae(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ed=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ae(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var jg=class{constructor(e){this._methodName=e}};var Cd=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ae(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ae(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}};var Id=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var nG=/^__.*__$/,hI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Yi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ws(e,this.data,t,this.fieldTransforms)}};function LN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le(40011,{hc:n})}}var fI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Bg(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(LN(this.hc)&&nG.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}},pI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Gg(e)}gc(e,t,r,i=!1){return new fI({hc:e,methodName:t,fc:r,path:Gn.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function rG(n){let e=n._freezeSettings(),t=Gg(n._databaseId);return new pI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function iG(n,e,t,r,i,o={}){let s=n.gc(o.merge||o.mergeFields?2:0,e,t,i);UN("Data must be an object, but it was:",s,r);let a=jN(r,s),c,u;if(o.merge)c=new si(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let p of o.mergeFields){let v=oG(e,p,t);if(!s.contains(v))throw new ae(U.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);aG(d,v)||d.push(v)}c=new si(d),u=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=s.fieldTransforms;return new hI(new Sr(a),c,u)}function VN(n,e){if(BN(n=Xt(n)))return UN("Unsupported field value:",e,n),jN(n,e);if(n instanceof jg)return function(r,i){if(!LN(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=VN(a,i.Rc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return L9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Jt.fromDate(r);return{timestampValue:Ig(i.serializer,o)}}if(r instanceof Jt){let o=new Jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ig(i.serializer,o)}}if(r instanceof Cd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wd)return{bytesValue:uN(i.serializer,r._byteString)};if(r instanceof lr){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Vc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:PI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Id)return function(s,a){return{mapValue:{fields:{[II]:{stringValue:TI},[Cc]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Vc("VectorValues must only contain numeric values.");return MI(a.serializer,u)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${UI(r)}`)}(n,e)}function jN(n,e){let t={};return L1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(n,(r,i)=>{let o=VN(i,e.Ic(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function BN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Jt||n instanceof Cd||n instanceof wd||n instanceof lr||n instanceof jg||n instanceof Id)}function UN(n,e,t){if(!BN(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=UI(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}function oG(n,e,t){if((e=Xt(e))instanceof Ed)return e._internalPath;if(typeof e=="string")return $N(n,e);throw Bg("Field path arguments must be of type string or ",n,!1,void 0,t)}var sG=new RegExp("[~\\*/\\[\\]]");function $N(n,e,t){if(e.search(sG)>=0)throw Bg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ed(...e.split("."))._internalPath}catch{throw Bg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Bg(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new ae(U.INVALID_ARGUMENT,a+n+c)}function aG(n,e){return n.some(t=>t.isEqual(e))}var Ug=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new lr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new mI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(HN("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},mI=class extends Ug{data(){return super.data()}};function HN(n,e){return typeof e=="string"?$N(n,e):e instanceof Ed?e._internalPath:e._delegate._internalPath}var gI=class{convertValue(e,t="none"){switch(Po(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw le(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ks(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Cc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ut(s.doubleValue));return new Id(o)}convertGeoPoint(e){return new Cd(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=zg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(dd(e));default:return null}}convertTimestamp(e){let t=qi(e);return new Jt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Pt.fromString(e);qe(gN(r),9688,{name:e});let i=new vg(r.get(1),r.get(3)),o=new ue(r.popFirst(5));return i.isEqual(t)||zi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function cG(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var vI=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},$g=class extends Ug{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new _I(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(HN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},_I=class extends $g{data(e={}){return super.data(e)}};function $I(n){n=vd(n,lr);let e=vd(n.firestore,bd);return ZW(FN(e),n._key).then(t=>uG(e,n,t))}var yI=class extends gI{constructor(e){super(),this.firestore=e}convertBytes(e){return new wd(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new lr(this.firestore,null,t)}};function zN(n,e,t){n=vd(n,lr);let r=vd(n.firestore,bd),i=cG(n.converter,e,t);return lG(r,[iG(rG(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Us.none())])}function lG(n,e){return function(r,i){let o=new ai;return r.asyncQueue.enqueueAndForget(()=>w(null,null,function*(){return jW(yield YW(r),i,o)})),o.promise}(FN(n),e)}function uG(n,e,t){let r=t.docs.get(e._key),i=new yI(n);return new $g(n,i,e._key,r,new vI(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){kc=i})(Do),Dr(new En("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new bd(new LE(r.getProvider("auth-internal")),new BE(s,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ae(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vg(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),At(Ok,kk,e),At(Ok,kk,"esm2017")})();var Be=class n{constructor(e,t){this.http=e;this.router=t;this.initializeAuthState()}loggedIn=new tt(!1);currentUser=new tt(null);initialized=!1;initializeAuthState(){if(this.initialized)return;this.initialized=!0;let e=oi();eg(e,t=>w(this,null,function*(){t?(yield t.reload(),t.emailVerified?yield this.loadUserData(t):this.handleUnverifiedUser()):this.handleNoUser()}))}loadUserData(e){return w(this,null,function*(){try{let t=Zg(),r=Qg(t,"users",e.uid),i=yield $I(r),o=i.exists()?i.data():{},s={email:e.email,name:e.displayName||e.email?.split("@")[0],id:e.uid,uid:e.uid,token:yield e.getIdToken(),role:o.role||o.rol||"usuario",status:o.status||"active"};this.loggedIn.next(!0),this.currentUser.next(s),localStorage.setItem("custom_user",JSON.stringify(s)),localStorage.setItem("token",s.token)}catch(t){console.error("Error loading user data:",t),this.handleNoUser()}})}handleUnverifiedUser(){this.loggedIn.next(!1),this.currentUser.next(null),localStorage.removeItem("custom_user"),localStorage.removeItem("token"),this.router.navigate(["/login"],{queryParams:{message:"Por favor verifica tu correo electr\xF3nico"}})}handleNoUser(){this.loggedIn.next(!1),this.currentUser.next(null)}firebaseLogin(e,t){return w(this,null,function*(){try{let r=yield this.http.post("https://cocreandoback.onrender.com/login",{email:e,password:t}).toPromise();if(!r?.success)throw{code:r?.code||"backend_error",message:r?.message||"Error en la validaci\xF3n del backend"};let i=oi(),o=yield Zm(i,e,t);if(yield o.user.reload(),!o.user.emailVerified)throw{code:"email_not_verified",message:"Por favor verifica tu correo electr\xF3nico antes de iniciar sesi\xF3n"};let s=Zg(),a=Qg(s,"users",o.user.uid),c=yield $I(a),u=c.exists()?c.data():{},d={email:o.user.email,name:o.user.displayName||o.user.email?.split("@")[0],id:o.user.uid,uid:o.user.uid,token:yield o.user.getIdToken(),role:u.role||u.rol||"usuario",status:u.status||"active"};return this.loggedIn.next(!0),this.currentUser.next(d),localStorage.setItem("custom_user",JSON.stringify(d)),localStorage.setItem("token",d.token),!0}catch(r){if(console.error("Login error:",r),r.code?.startsWith("auth/"))switch(r.code){case"auth/user-not-found":throw{code:"user_not_found",message:"Usuario no encontrado"};case"auth/wrong-password":throw{code:"wrong_credentials",message:"Contrase\xF1a incorrecta"};case"auth/too-many-requests":throw{code:"too_many_attempts",message:"Demasiados intentos. Intenta m\xE1s tarde"};default:throw{code:"firebase_error",message:r.message||"Error de autenticaci\xF3n"}}throw r}})}firebaseRegister(e,t,r){return w(this,null,function*(){let i=yield Qm(Mk,t,r),o=i.user;yield Jm(i.user,{displayName:e}),yield Xm(i.user);let s=Zg(),a=Qg(s,"users",o.uid);return yield zN(a,{uid:o.uid,name:e,email:t,createdAt:new Date().toISOString(),role:"usuario",status:"active"}),!0})}isEmailVerified(){return w(this,null,function*(){let e=oi();return e.currentUser?(yield e.currentUser.reload(),e.currentUser.emailVerified):!1})}isAdmin(){return this.getCurrentUserValue()?.role?.toLowerCase()==="admin"}sendPasswordResetEmail(e){return w(this,null,function*(){try{let t=oi();yield Ym(t,e)}catch(t){console.error("Error al enviar correo de recuperaci\xF3n:",t);let r="Error al enviar el correo. Intenta nuevamente.";throw t.code==="auth/user-not-found"?r="No existe una cuenta con este correo.":t.code==="auth/too-many-requests"&&(r="Demasiados intentos. Espera antes de reintentar."),new Error(r)}})}fetchUserProfile(){return w(this,null,function*(){try{let e=yield this.http.get("https://cocreandoback.onrender.com/api/users/me").toPromise();return this.currentUser.next(e),localStorage.setItem("custom_user",JSON.stringify(e)),e}catch(e){throw console.error("Error fetching user profile:",e),e}})}register(e,t,r){return w(this,null,function*(){try{let i=yield this.http.post("https://cocreandoback.onrender.com/registro",{name:e,email:t,password:r}).toPromise();if(i.success)return yield this.firebaseRegister(e,t,r),!0;throw{message:i.message||"Error en validaci\xF3n del backend"}}catch(i){throw console.error("Register error:",i),i}})}logout(){localStorage.removeItem("custom_user"),sessionStorage.removeItem("custom_user"),this.loggedIn.next(!1),this.currentUser.next(null),this.router.navigate(["/login"])}get isAuthenticated(){return this.loggedIn.value}get isAuthenticated$(){return this.loggedIn.asObservable()}get currentUser$(){return this.currentUser.asObservable()}getToken(){return localStorage.getItem("token")}getCurrentUserValue(){return this.currentUser.value}static \u0275fac=function(t){return new(t||n)(Y(sr),Y(Ae))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};function dG(n,e){n&1&&(g(0,"span"),b(1,"Iniciar Sesi\xF3n"),m())}function hG(n,e){n&1&&te(0,"span",32)}function fG(n,e){if(n&1&&(g(0,"div",33)(1,"i",34),b(2,"\u26A0\uFE0F"),m(),b(3),m()),n&2){let t=H();E(3),oe(" ",t.errorMessage," ")}}var Xg=class n{constructor(e,t){this.router=e;this.authService=t}email="";password="";rememberMe=!1;errorMessage="";loading=!1;activeField="";showPassword=!1;navigateTo(e){this.router.navigate([e])}togglePasswordVisibility(){this.showPassword=!this.showPassword;let e=document.getElementById("password");e&&(e.type=this.showPassword?"text":"password")}onSubmit(){return w(this,null,function*(){if(!this.email||!this.password){this.errorMessage="Por favor completa todos los campos";return}this.loading=!0,this.errorMessage="";try{(yield this.authService.firebaseLogin(this.email,this.password))&&(this.rememberMe?localStorage.setItem("rememberedEmail",this.email):localStorage.removeItem("rememberedEmail"),this.authService.isAdmin()?this.router.navigate(["/admin"]):this.router.navigate(["/dashboard"]))}catch(e){this.errorMessage=e.error?.message||e.message||"Error al iniciar sesi\xF3n",e.error?.code==="email_not_verified"&&(this.errorMessage="Por favor verifica tu email antes de iniciar sesi\xF3n"),e.error?.code==="account_banned"&&(this.errorMessage="Cuenta suspendida. Contacta al soporte."),e.error?.code}finally{this.loading=!1}})}getFirebaseErrorMessage(e){switch(e){case"auth/user-not-found":return"Usuario no encontrado";case"auth/wrong-password":return"Contrase\xF1a incorrecta";case"auth/too-many-requests":return"Demasiados intentos. Intenta m\xE1s tarde";default:return"Error al iniciar sesi\xF3n"}}getErrorMessage(e){return e.error?.message?e.error.message:"Ocurri\xF3 un error durante el inicio de sesi\xF3n. Por favor int\xE9ntalo m\xE1s tarde."}validateEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}ngOnInit(){let e=localStorage.getItem("rememberedEmail");e&&(this.email=e,this.rememberMe=!0)}static \u0275fac=function(t){return new(t||n)(j(Ae),j(Be))};static \u0275cmp=Pe({type:n,selectors:[["app-login"]],decls:54,vars:11,consts:[[1,"login-wrapper"],[1,"login-container"],[1,"login-header"],["src","https://res.cloudinary.com/dtg8i6j9f/image/upload/v1748278760/CoCreando__2_-removebg-preview_fzjn1g.png","alt","CoCreando Logo",1,"logo"],[1,"login-form",3,"ngSubmit"],[1,"form-group","floating"],["type","email","id","email","name","email","required","","placeholder"," ",3,"ngModelChange","focus","blur","ngModel"],["for","email"],[1,"icon"],["type","password","id","password","name","password","required","","placeholder"," ",3,"ngModelChange","focus","blur","ngModel"],["for","password"],["type","button",1,"toggle-password",3,"click"],[1,"form-options"],[1,"remember-me"],["type","checkbox","name","rememberMe",3,"ngModelChange","ngModel"],[1,"checkmark"],[3,"click"],["type","submit",1,"login-button",3,"disabled"],[4,"ngIf"],["class","spinner",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"social-login"],[1,"social-buttons"],["type","button",1,"social-button","google"],["src","https://w7.pngwing.com/pngs/326/85/png-transparent-google-logo-google-text-trademark-logo-thumbnail.png","alt","Google"],["type","button",1,"social-button","github"],["src","https://w7.pngwing.com/pngs/646/324/png-transparent-github-computer-icons-github-logo-monochrome-head-thumbnail.png","alt","GitHub"],[1,"register-link"],[1,"login-background"],[1,"shape","shape-1"],[1,"shape","shape-2"],[1,"shape","shape-3"],[1,"spinner"],[1,"error-message"],[1,"error-icon"]],template:function(t,r){t&1&&(g(0,"div",0)(1,"div",1)(2,"div",2),te(3,"img",3),g(4,"h1"),b(5,"Bienvenido a "),g(6,"span"),b(7,"CoCreando"),m()(),g(8,"p"),b(9,"Colabora, crea y comparte tus proyectos"),m()(),g(10,"form",4),z("ngSubmit",function(){return r.onSubmit()}),g(11,"div",5)(12,"input",6),mt("ngModelChange",function(o){return yt(r.email,o)||(r.email=o),o}),z("focus",function(){return r.activeField="email"})("blur",function(){return r.activeField=""}),m(),g(13,"label",7),b(14,"Correo electr\xF3nico"),m(),g(15,"i",8),b(16,"\u2709\uFE0F"),m()(),g(17,"div",5)(18,"input",9),mt("ngModelChange",function(o){return yt(r.password,o)||(r.password=o),o}),z("focus",function(){return r.activeField="password"})("blur",function(){return r.activeField=""}),m(),g(19,"label",10),b(20,"Contrase\xF1a"),m(),g(21,"i",8),b(22,"\u{1F512}"),m(),g(23,"button",11),z("click",function(){return r.togglePasswordVisibility()}),b(24," \u{1F441}\uFE0F "),m()(),g(25,"div",12)(26,"label",13)(27,"input",14),mt("ngModelChange",function(o){return yt(r.rememberMe,o)||(r.rememberMe=o),o}),m(),te(28,"span",15),b(29," Recordarme "),m(),g(30,"a",16),z("click",function(){return r.navigateTo("/forgot-password")}),b(31,"\xBFOlvidaste tu contrase\xF1a?"),m()(),g(32,"button",17),G(33,dG,2,0,"span",18)(34,hG,1,0,"span",19),m(),G(35,fG,4,1,"div",20),g(36,"div",21)(37,"p"),b(38,"O inicia sesi\xF3n con"),m(),g(39,"div",22)(40,"button",23),te(41,"img",24),b(42," Google "),m(),g(43,"button",25),te(44,"img",26),b(45," GitHub "),m()()(),g(46,"div",27),b(47," \xBFNo tienes una cuenta? "),g(48,"a",16),z("click",function(){return r.navigateTo("/register")}),b(49,"Reg\xEDstrate"),m()()()(),g(50,"div",28),te(51,"div",29)(52,"div",30)(53,"div",31),m()()),t&2&&(E(12),pt("ngModel",r.email),E(),$e("active",r.activeField==="email"||r.email),E(5),pt("ngModel",r.password),E(),$e("active",r.activeField==="password"||r.password),E(8),pt("ngModel",r.rememberMe),E(5),F("disabled",r.loading),E(),F("ngIf",!r.loading),E(),F("ngIf",r.loading),E(),F("ngIf",r.errorMessage))},dependencies:[kn,Zr,jt,fw,un,Qr,Ps,qn,Ms,lt,gt],styles:['.login-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f8f9fa;position:relative;overflow:hidden;padding:2rem}.login-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 25px -5px #0000001a;width:100%;max-width:450px;z-index:2;overflow:hidden;transition:all .3s ease-in-out}.login-container[_ngcontent-%COMP%]:hover{box-shadow:0 15px 30px -5px #00000026}.login-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#426e28,#146b08);color:#fff;padding:2.5rem 2rem;text-align:center}.login-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:50px;margin-bottom:1rem}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.8rem;font-weight:600}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#88c9a1}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0 0;opacity:.9;font-size:.95rem}.login-form[_ngcontent-%COMP%]{padding:2rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:1.5rem}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;left:3rem;top:1rem;color:#718096;pointer-events:none;transition:all .3s ease-in-out}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   label.active[_ngcontent-%COMP%]{top:-.6rem;left:2.8rem;font-size:.75rem;background:#fff;padding:0 .3rem;color:#426e28}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:3rem;height:3rem}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#426e28;box-shadow:0 0 0 2px #426e2833}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:1rem;font-size:1rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:1px solid #e2e8f0;border-radius:8px;font-size:1rem;transition:all .3s ease-in-out}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem;background:none;border:none;cursor:pointer;opacity:.5;transition:all .3s ease-in-out}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover{opacity:1}.form-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:1.5rem 0}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;color:#718096;font-size:.9rem}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{display:inline-block;width:18px;height:18px;margin-right:8px;border:1px solid #cbd5e0;border-radius:4px;position:relative;transition:all .3s ease-in-out}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none;left:6px;top:2px;width:5px;height:10px;border:solid white;border-width:0 2px 2px 0;transform:rotate(45deg)}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#426e28;border-color:#426e28}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.form-options[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{color:#426e28;text-decoration:none;font-size:.9rem;transition:all .3s ease-in-out}.form-options[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-button[_ngcontent-%COMP%]{width:100%;padding:1rem;background:linear-gradient(135deg,#426e28,#146b08);color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease-in-out}.login-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#375b21,#105306);transform:translateY(-2px)}.login-button[_ngcontent-%COMP%]:disabled{background:#cbd5e0;cursor:not-allowed;transform:none}.login-button[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;border:3px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.error-message[_ngcontent-%COMP%]{color:#e53e3e;background:#e53e3e1a;padding:.8rem;border-radius:8px;margin:1rem 0;display:flex;align-items:center;font-size:.9rem}.error-message[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-right:.5rem}.social-login[_ngcontent-%COMP%]{margin:2rem 0 1rem;text-align:center}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;font-size:.9rem;position:relative;margin:1rem 0}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before, .social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:after{content:"";display:inline-block;width:30%;height:1px;background:#e2e8f0;position:absolute;top:50%}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before{left:0}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:after{right:0}.social-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem}.social-buttons[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]{flex:1;padding:.7rem;border:1px solid #e2e8f0;border-radius:8px;background:#fff;display:flex;align-items:center;justify-content:center;gap:.5rem;font-size:.9rem;cursor:pointer;transition:all .3s ease-in-out}.social-buttons[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:hover{background:#f8fafc;transform:translateY(-2px)}.social-buttons[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:18px;height:18px}.social-buttons[_ngcontent-%COMP%]   .social-button.google[_ngcontent-%COMP%]{color:#db4437}.social-buttons[_ngcontent-%COMP%]   .social-button.github[_ngcontent-%COMP%]{color:#333}.register-link[_ngcontent-%COMP%]{text-align:center;color:#718096;font-size:.9rem;margin-top:1.5rem}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#426e28;text-decoration:none;font-weight:500;transition:all .3s ease-in-out}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}.login-background[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{position:absolute;border-radius:50%;background:#88c9a11a;transition:all 15s linear}.login-background[_ngcontent-%COMP%]   .shape.shape-1[_ngcontent-%COMP%]{width:300px;height:300px;top:-100px;left:-100px;animation:_ngcontent-%COMP%_float 12s ease-in-out infinite}.login-background[_ngcontent-%COMP%]   .shape.shape-2[_ngcontent-%COMP%]{width:200px;height:200px;bottom:-50px;right:-50px;animation:_ngcontent-%COMP%_float 8s ease-in-out infinite reverse}.login-background[_ngcontent-%COMP%]   .shape.shape-3[_ngcontent-%COMP%]{width:150px;height:150px;top:30%;right:20%;animation:_ngcontent-%COMP%_float 10s ease-in-out infinite 2s}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-20px) rotate(5deg)}}@media (max-width: 576px){.login-wrapper[_ngcontent-%COMP%]{padding:1rem}.login-header[_ngcontent-%COMP%]{padding:1.5rem 1rem}.login-form[_ngcontent-%COMP%]{padding:1.5rem}.social-buttons[_ngcontent-%COMP%]{flex-direction:column}}']})};var pi={production:!1,apiUrl:"https://cocreandoback.onrender.com",payuSandbox:!0,firebaseConfig:{apiKey:"AIzaSyDnCfzF5psHLcnmbeJGrBuWpxOkUp01Lfo",authDomain:"cocreando-2dbd1.firebaseapp.com",projectId:"cocreando-2dbd1",storageBucket:"cocreando-2dbd1.firebasestorage.app",messagingSenderId:"862709485856",appId:"1:862709485856:web:e0994b08e2a748679b0745",measurementId:"G-EXLRNLVN1B"}};var Ln=class n{constructor(e,t){this.http=e;this.authService=t}apiUrl=pi.apiUrl||"https://cocreandoback.onrender.com";getProjects(){return this.http.get(`${this.apiUrl}/proyecto/listarProyectos`,{withCredentials:!0}).pipe(ot(e=>(console.error("Error fetching projects from API:",e),X([]))))}getProjectAnalytics(e){return this.http.get(`${this.apiUrl}/analytics/${e}`)}getProjectById(e){return this.http.get(`${this.apiUrl}/proyecto/obtenerProyecto/${e}`,{withCredentials:!0}).pipe(ot(t=>(console.error(`Error fetching project ${e}:`,t),X(null))))}createProject(e){e.id||(e.id=this.generateProjectId()),e.deadline&&(e.deadline=new Date(e.deadline).toISOString()),e.rewards=e.rewards||[],e.updates=e.updates||[],e.supporters=[];let t=this.authService.getCurrentUserValue();t&&(e.ownerId=t.uid,e.ownerName=t.name,e.ownerEmail=t.email);let r=this.authService.getToken(),i=new cn({"Content-Type":"application/json",Authorization:`Bearer ${r}`});return this.http.post(`${this.apiUrl}/proyecto/crearProyecto`,e,{headers:i,withCredentials:!0}).pipe(ot(o=>{throw console.error("Error creating project:",o),o}))}generateProjectId(){return"proj-"+Math.random().toString(36).substr(2,9)}updateProject(e,t){let r=this.authService.getToken(),i=new cn({"Content-Type":"application/json",Authorization:`Bearer ${r}`});return this.http.put(`${this.apiUrl}/proyecto/actualizarProyecto/${e}`,t,{headers:i,withCredentials:!0}).pipe(ot(o=>{throw console.error(`Error updating project ${e}:`,o),o}))}deleteProject(e){return this.http.delete(`${this.apiUrl}/eliminarProyecto/${e}`).pipe(ot(t=>{throw console.error(`Error deleting project ${e}:`,t),t}))}static \u0275fac=function(t){return new(t||n)(Y(sr),Y(Be))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};function pG(n,e){if(n&1&&(g(0,"option",13),b(1),m()),n&2){let t=e.$implicit;F("value",t),E(),ne(t)}}function mG(n,e){n&1&&(g(0,"div",14)(1,"p"),b(2,"Cargando proyectos..."),m()())}function gG(n,e){if(n&1){let t=Ne();g(0,"div",15)(1,"p"),b(2),m(),g(3,"button",16),z("click",function(){re(t);let i=H();return ie(i.loadProjects())}),b(4,"Reintentar"),m()()}if(n&2){let t=H();E(2),ne(t.error)}}function vG(n,e){n&1&&(g(0,"div",20)(1,"p"),b(2,"No se encontraron proyectos con los filtros aplicados."),m()())}function _G(n,e){if(n&1){let t=Ne();g(0,"div",21),z("click",function(){let i=re(t).$implicit,o=H(2);return ie(o.viewDetails(i.id))}),g(1,"div",22),te(2,"img",23),m(),g(3,"div",24)(4,"h3"),b(5),m(),g(6,"p",25),b(7),m(),g(8,"div",26),b(9),m(),g(10,"div",26),b(11),st(12,"uppercase"),m(),g(13,"div",27)(14,"div",28),te(15,"div",29),m(),g(16,"div",30)(17,"span",31),b(18),m(),g(19,"span",32),b(20),m()()(),g(21,"div",33)(22,"div",34)(23,"span",35),b(24,"Recaudado:"),m(),g(25,"span",36),b(26),st(27,"number"),m()(),g(28,"div",34)(29,"span",35),b(30,"Meta:"),m(),g(31,"span",36),b(32),st(33,"number"),m()()(),g(34,"button",37),z("click",function(i){let o=re(t).$implicit;return H(2).viewDetails(o.id),ie(i.stopPropagation())}),b(35," Ver Detalles "),m()()()}if(n&2){let t=e.$implicit,r=H(2);E(2),F("src",(t.creator==null?null:t.creator.avatar)||"assets/default-project.jpg",po),E(3),ne(t.title),E(2),ne(t.description),E(2),ne(t.category),E(),$e("pending",t.status==="pending")("approved",t.status==="approved")("rejected",t.status==="rejected"),E(),oe(" ",Qt(12,17,t.status)," "),E(4),Oi("width",r.getProgressPercentage(t)+"%"),E(3),oe("",r.getProgressPercentage(t).toFixed(0),"%"),E(2),oe("",r.getDaysRemaining(t.deadline)," d\xEDas restantes"),E(6),oe("$",Qt(27,19,t.collected),""),E(6),oe("$",Qt(33,21,t.goal),"")}}function yG(n,e){if(n&1&&(g(0,"div"),G(1,vG,3,0,"div",17),g(2,"div",18),G(3,_G,36,23,"div",19),m()()),n&2){let t=H();E(),F("ngIf",t.filteredProjects.length===0),E(2),F("ngForOf",t.filteredProjects)("ngForTrackBy",t.trackByProjectId)}}var Jg=class n{constructor(e,t){this.router=e;this.projectService=t}projects=[];filteredProjects=[];categories=["Todos","Tecnolog\xEDa","Social","Medio Ambiente","Educaci\xF3n"];selectedCategory="Todos";isLoading=!0;error=null;searchTerm="";ngOnInit(){this.loadProjects()}loadProjects(){this.isLoading=!0,this.error=null,this.projectService.getProjects().subscribe({next:e=>{e.length===0&&(this.error="No se encontraron proyectos."),this.projects=this.parseProjects(e),this.applyFilters(),this.isLoading=!1},error:e=>{console.error("Error loading projects",e),this.error="No se pudieron cargar los proyectos. Por favor intenta m\xE1s tarde.",this.isLoading=!1,this.projects=[],this.filteredProjects=[]}})}parseProjects(e){return e.map(t=>ee(L({},t),{deadline:new Date(t.deadline),updates:t.updates?.map(r=>ee(L({},r),{date:new Date(r.date)}))||[],supporters:t.supporters?.map(r=>ee(L({},r),{date:new Date(r.date)}))||[]}))}handleError(e){console.error("Error:",e),this.error="Error al cargar proyectos. Verifica la consola para m\xE1s detalles.",this.isLoading=!1,this.projects=[],this.filteredProjects=[]}applyFilters(){if(this.filteredProjects=this.selectedCategory==="Todos"?[...this.projects]:this.projects.filter(e=>e.category===this.selectedCategory),this.searchTerm.trim()){let e=this.searchTerm.toLowerCase().trim();this.filteredProjects=this.filteredProjects.filter(t=>t.title.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)||t.category.toLowerCase().includes(e))}}onCategoryChange(){this.applyFilters()}onSearch(){this.applyFilters()}getDaysRemaining(e){if(!e)return 0;let r=(typeof e=="string"?new Date(e):e).getTime()-new Date().getTime();return Math.max(0,Math.ceil(r/(1e3*60*60*24)))}getProgressPercentage(e){return!e.goal||e.goal<=0?0:Math.min(100,e.collected/e.goal*100)}viewDetails(e){this.router.navigate(["/project",e])}refreshProjects(){this.searchTerm="",this.selectedCategory="Todos",this.loadProjects()}trackByProjectId(e,t){return t.id}static \u0275fac=function(t){return new(t||n)(j(Ae),j(Ln))};static \u0275cmp=Pe({type:n,selectors:[["app-dashboard"]],decls:17,vars:6,consts:[[1,"dashboard-container"],[1,"header"],[1,"refresh-button",3,"click"],[1,"refresh-icon"],[1,"filters"],[1,"search-filter"],["type","text","placeholder","Buscar proyectos...",3,"ngModelChange","input","ngModel"],[1,"category-filter"],[3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","loading-spinner",4,"ngIf"],["class","error-message",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"loading-spinner"],[1,"error-message"],[3,"click"],["class","no-projects",4,"ngIf"],[1,"projects-grid"],["class","project-card",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"no-projects"],[1,"project-card",3,"click"],[1,"project-image"],["alt","Imagen del proyecto",3,"src"],[1,"project-content"],[1,"description"],[1,"category-tag"],[1,"progress-container"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-info"],[1,"percentage"],[1,"days-left"],[1,"stats"],[1,"stat"],[1,"label"],[1,"value"],[1,"button-primary",3,"click"]],template:function(t,r){t&1&&(g(0,"div",0)(1,"div",1)(2,"h1"),b(3,"Proyectos Destacados"),m(),g(4,"button",2),z("click",function(){return r.refreshProjects()}),g(5,"i",3),b(6,"\u21BB"),m(),b(7," Actualizar "),m()(),g(8,"div",4)(9,"div",5)(10,"input",6),mt("ngModelChange",function(o){return yt(r.searchTerm,o)||(r.searchTerm=o),o}),z("input",function(){return r.onSearch()}),m()(),g(11,"div",7)(12,"select",8),mt("ngModelChange",function(o){return yt(r.selectedCategory,o)||(r.selectedCategory=o),o}),z("change",function(){return r.onCategoryChange()}),G(13,pG,2,2,"option",9),m()()(),G(14,mG,3,0,"div",10)(15,gG,5,1,"div",11)(16,yG,4,3,"div",12),m()),t&2&&(E(10),pt("ngModel",r.searchTerm),E(2),pt("ngModel",r.selectedCategory),E(),F("ngForOf",r.categories),E(),F("ngIf",r.isLoading),E(),F("ngIf",r.error),E(),F("ngIf",!r.isLoading&&!r.error))},dependencies:[lt,Vt,gt,vs,zr,kn,Eo,Co,jt,Xr,un,qn,Ss],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#2c3e50}.filters[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:2rem}.filters[_ngcontent-%COMP%]   .search-filter[_ngcontent-%COMP%]{flex:1}.filters[_ngcontent-%COMP%]   .search-filter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #ddd;border-radius:4px}.filters[_ngcontent-%COMP%]   .category-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #ddd;border-radius:4px;background-color:#fff}.projects-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:2rem}.project-card[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:8px;overflow:hidden;transition:transform .2s,box-shadow .2s;cursor:pointer}.project-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 15px #0000001a}.project-card[_ngcontent-%COMP%]   .project-image[_ngcontent-%COMP%]{height:160px;overflow:hidden}.project-card[_ngcontent-%COMP%]   .project-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.project-card[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]{padding:1.5rem}.project-card[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#2c3e50}.project-card[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#666;margin-bottom:1rem}.project-card[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .category-tag[_ngcontent-%COMP%]{display:inline-block;background-color:#f0f0f0;padding:.25rem .5rem;border-radius:4px;font-size:.8rem;margin-bottom:1rem}.progress-container[_ngcontent-%COMP%]{margin:1rem 0}.progress-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:8px;background-color:#f0f0f0;border-radius:4px;overflow:hidden}.progress-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background-color:#42b983;transition:width .3s}.progress-container[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:.5rem;font-size:.9rem}.progress-container[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]{font-weight:700;color:#42b983}.progress-container[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]   .days-left[_ngcontent-%COMP%]{color:#666}.stats[_ngcontent-%COMP%]{display:flex;gap:1rem;margin:1rem 0}.stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{flex:1}.stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;font-size:.8rem;color:#666}.stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700}.button-primary[_ngcontent-%COMP%]{width:100%;padding:.75rem;background-color:#42b983;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .2s}.button-primary[_ngcontent-%COMP%]:hover{background-color:#369f73}.loading-spinner[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%], .no-projects[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#666}.error-message[_ngcontent-%COMP%]{color:#e74c3c}.error-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1rem;padding:.5rem 1rem;background-color:#e74c3c;color:#fff;border:none;border-radius:4px;cursor:pointer}.refresh-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;display:flex;align-items:center;gap:.5rem;color:#666}.refresh-button[_ngcontent-%COMP%]:hover{color:#42b983}.refresh-button[_ngcontent-%COMP%]   .refresh-icon[_ngcontent-%COMP%]{font-size:1.2rem}"]})};var ev=class n{constructor(e,t){this.http=e;this.authService=t}apiUrl=`${pi.apiUrl}`;getHeaders(){let e=this.authService.getToken();if(!e)return console.error("No se encontr\xF3 token JWT"),new cn;let t=e.startsWith("Bearer ")?e:`Bearer ${e}`;return new cn({Authorization:t,"Content-Type":"application/json"})}getUsers(){return this.http.get(`${this.apiUrl}/usuario/listarUsuarios`,{headers:this.getHeaders(),withCredentials:!0})}updateUserRole(e,t){return this.http.put(`${this.apiUrl}/usuario/actualizarUsuario/${e}`,{role:t},{headers:this.getHeaders(),withCredentials:!0})}banUser(e){return this.http.put(`${this.apiUrl}/usuario/actualizarUsuario/${e}`,{status:"banned"},{headers:this.getHeaders(),withCredentials:!0})}unbanUser(e){return this.http.put(`${this.apiUrl}/usuario/actualizarUsuario/${e}`,{status:"active"},{headers:this.getHeaders(),withCredentials:!0})}approveProject(e){return this.http.put(`${this.apiUrl}/proyecto/aprobarProyecto/${e}`,{},{headers:this.getHeaders(),withCredentials:!0})}rejectProject(e){return this.http.put(`${this.apiUrl}/proyecto/rechazarProyecto/${e}`,{},{headers:this.getHeaders(),withCredentials:!0})}getPendingProjects(){return this.http.get(`${this.apiUrl}/proyecto/listarProyectosStatus/pending`,{headers:this.getHeaders(),withCredentials:!0})}getAllProjects(){return this.http.get(`${this.apiUrl}/proyecto/listarProyectos`,{headers:this.getHeaders(),withCredentials:!0})}static \u0275fac=function(t){return new(t||n)(Y(sr),Y(Be))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};var wG=n=>["/project",n];function EG(n,e){n&1&&(g(0,"div",4)(1,"p"),b(2,"Cargando datos..."),m()())}function CG(n,e){if(n&1){let t=Ne();g(0,"div",5)(1,"p"),b(2),m(),g(3,"button",6),z("click",function(){re(t);let i=H();return ie(i.refreshData())}),b(4,"Reintentar"),m()()}if(n&2){let t=H();E(2),ne(t.error)}}function IG(n,e){n&1&&(g(0,"span",26),b(1,"Baneado"),m())}function TG(n,e){n&1&&(g(0,"span",27),b(1,"Activo"),m())}function DG(n,e){if(n&1){let t=Ne();g(0,"button",28),z("click",function(){re(t);let i=H().$implicit,o=H(2);return ie(o.banUser(i.id))}),b(1," Banear "),m()}}function SG(n,e){if(n&1){let t=Ne();g(0,"button",29),z("click",function(){re(t);let i=H().$implicit,o=H(2);return ie(o.unbanUser(i.id))}),b(1," Desbanear "),m()}}function AG(n,e){if(n&1){let t=Ne();g(0,"tr")(1,"td"),b(2),m(),g(3,"td"),b(4),m(),g(5,"td")(6,"select",11),mt("ngModelChange",function(i){let o=re(t).$implicit;return yt(o.role,i)||(o.role=i),ie(i)}),z("change",function(){let i=re(t).$implicit,o=H(2);return ie(o.updateUserRole(i.id,i.role))}),g(7,"option",13),b(8,"Usuario"),m(),g(9,"option",14),b(10,"Administrador"),m()()(),g(11,"td"),G(12,IG,2,0,"span",22)(13,TG,2,0,"span",23),m(),g(14,"td"),G(15,DG,2,0,"button",24)(16,SG,2,0,"button",25),m()()}if(n&2){let t=e.$implicit;E(2),ne(t.name),E(2),ne(t.email),E(2),pt("ngModel",t.role),E(6),F("ngIf",t.status==="banned"),E(),F("ngIf",t.status!=="banned"),E(2),F("ngIf",t.status!=="banned"),E(),F("ngIf",t.status==="banned")}}function xG(n,e){n&1&&(g(0,"div",30),b(1," No se encontraron usuarios con los filtros aplicados. "),m())}function MG(n,e){if(n&1){let t=Ne();g(0,"tr")(1,"td"),b(2),m(),g(3,"td"),b(4),m(),g(5,"td"),b(6),m(),g(7,"td")(8,"span"),b(9),st(10,"uppercase"),m()(),g(11,"td")(12,"div",31)(13,"button",29),z("click",function(){let i=re(t).$implicit,o=H(2);return ie(o.approveProject(i.id))}),b(14,"Aprobar"),m(),g(15,"button",28),z("click",function(){let i=re(t).$implicit,o=H(2);return ie(o.rejectProject(i.id))}),b(16,"Rechazar"),m(),g(17,"a",32),b(18,"Ver"),m()()()()}if(n&2){let t=e.$implicit;E(2),ne(t.title),E(2),ne((t.creator==null?null:t.creator.name)||t.creator),E(2),ne(t.category),E(2),$e("pending",t.status==="pending")("approved",t.status==="approved")("rejected",t.status==="rejected"),E(),oe(" ",Qt(10,11,t.status)," "),E(8),F("routerLink",DM(13,wG,t.id))}}function PG(n,e){n&1&&(g(0,"div",30),b(1," No se encontraron proyectos con los filtros aplicados o para ser aprobados o rechazados. "),m())}function RG(n,e){if(n&1){let t=Ne();g(0,"div",7)(1,"div",8)(2,"h2"),b(3,"Gesti\xF3n de Usuarios"),m(),g(4,"div",9)(5,"input",10),mt("ngModelChange",function(i){re(t);let o=H();return yt(o.searchUserTerm,i)||(o.searchUserTerm=i),ie(i)}),z("input",function(){re(t);let i=H();return ie(i.filterUsers())}),m(),g(6,"select",11),mt("ngModelChange",function(i){re(t);let o=H();return yt(o.selectedUserRole,i)||(o.selectedUserRole=i),ie(i)}),z("change",function(){re(t);let i=H();return ie(i.filterUsers())}),g(7,"option",12),b(8,"Todos los roles"),m(),g(9,"option",13),b(10,"Usuario"),m(),g(11,"option",14),b(12,"Administrador"),m()()(),g(13,"div",15)(14,"table")(15,"thead")(16,"tr")(17,"th"),b(18,"Nombre"),m(),g(19,"th"),b(20,"Email"),m(),g(21,"th"),b(22,"Rol"),m(),g(23,"th"),b(24,"Estado"),m(),g(25,"th"),b(26,"Acciones"),m()()(),g(27,"tbody"),G(28,AG,17,7,"tr",16),m()(),G(29,xG,2,0,"div",17),m()(),g(30,"div",8)(31,"h2"),b(32,"Gesti\xF3n de Proyectos"),m(),g(33,"div",9)(34,"input",18),mt("ngModelChange",function(i){re(t);let o=H();return yt(o.searchProjectTerm,i)||(o.searchProjectTerm=i),ie(i)}),z("input",function(){re(t);let i=H();return ie(i.filterProjects())}),m(),g(35,"select",11),mt("ngModelChange",function(i){re(t);let o=H();return yt(o.selectedProjectStatus,i)||(o.selectedProjectStatus=i),ie(i)}),z("change",function(){re(t);let i=H();return ie(i.filterProjects())}),g(36,"option",19),b(37,"Pendientes"),m(),g(38,"option",20),b(39,"Aprobados"),m(),g(40,"option",21),b(41,"Rechazados"),m(),g(42,"option",12),b(43,"Todos"),m()()(),g(44,"div",15)(45,"table")(46,"thead")(47,"tr")(48,"th"),b(49,"T\xEDtulo"),m(),g(50,"th"),b(51,"Creador"),m(),g(52,"th"),b(53,"Categor\xEDa"),m(),g(54,"th"),b(55,"Estado"),m(),g(56,"th"),b(57,"Acciones"),m()()(),g(58,"tbody"),G(59,MG,19,15,"tr",16),m()(),G(60,PG,2,0,"div",17),m()()()}if(n&2){let t=H();E(5),pt("ngModel",t.searchUserTerm),E(),pt("ngModel",t.selectedUserRole),E(22),F("ngForOf",t.filteredUsers),E(),F("ngIf",t.filteredUsers.length===0),E(5),pt("ngModel",t.searchProjectTerm),E(),pt("ngModel",t.selectedProjectStatus),E(24),F("ngForOf",t.filteredProjects),E(),F("ngIf",t.filteredProjects.length===0)}}var tv=class n{constructor(e,t,r){this.adminService=e;this.authService=t;this.router=r}users=[];pendingProjects=[];allProjects=[];filteredUsers=[];filteredProjects=[];searchUserTerm="";searchProjectTerm="";selectedUserRole="all";selectedProjectStatus="pending";isLoading=!0;error=null;ngOnInit(){if(!this.authService.isAdmin()){this.router.navigate(["/dashboard"]);return}this.loadData()}loadData(){this.isLoading=!0,this.error=null,this.adminService.getUsers().subscribe({next:e=>{this.users=e,this.filteredUsers=[...e],this.adminService.getAllProjects().subscribe({next:t=>{this.allProjects=t,this.filteredProjects=[...t],this.isLoading=!1},error:t=>{console.error("Error loading projects:",t),this.error="Error al cargar proyectos: "+this.getErrorMessage(t),this.isLoading=!1}})},error:e=>{console.error("Error loading users:",e),this.error="Error al cargar usuarios",this.isLoading=!1}})}getErrorMessage(e){return e.status===403?"Acceso denegado. No tienes permisos de administrador.":e.status===401?"Sesi\xF3n expirada. Por favor inicia sesi\xF3n nuevamente.":"Error en el servidor. Intenta nuevamente m\xE1s tarde."}filterUsers(){this.filteredUsers=this.users.filter(e=>{let t=e.name.toLowerCase().includes(this.searchUserTerm.toLowerCase())||e.email.toLowerCase().includes(this.searchUserTerm.toLowerCase()),r=this.selectedUserRole==="all"||e.role===this.selectedUserRole;return t&&r})}filterProjects(){this.filteredProjects=this.allProjects.filter(e=>{let t=e.title.toLowerCase().includes(this.searchProjectTerm.toLowerCase())||e.description.toLowerCase().includes(this.searchProjectTerm.toLowerCase()),r=this.selectedProjectStatus==="all"||e.status===this.selectedProjectStatus;return t&&r})}updateUserRole(e,t){this.adminService.updateUserRole(e,t).subscribe({next:()=>{let r=this.users.find(i=>i.id===e);r&&(r.role=t),this.filterUsers()},error:r=>{console.error("Error updating user role:",r),this.error="Error al actualizar rol del usuario: "+this.getErrorMessage(r)}})}banUser(e){confirm("\xBFEst\xE1s seguro de que quieres banear a este usuario?")&&this.adminService.banUser(e).subscribe({next:()=>{let t=this.users.find(r=>r.id===e);t&&(t.status="banned"),this.filterUsers()},error:t=>{console.error("Error banning user:",t),this.error="Error al banear usuario: "+this.getErrorMessage(t)}})}unbanUser(e){this.adminService.unbanUser(e).subscribe({next:()=>{let t=this.users.find(r=>r.id===e);t&&(t.status="active"),this.filterUsers()},error:t=>{console.error("Error unbanning user:",t),this.error="Error al desbanear usuario: "+this.getErrorMessage(t)}})}approveProject(e){this.adminService.approveProject(e).subscribe({next:()=>{let t=this.allProjects.findIndex(r=>r.id===e);t!==-1&&(this.allProjects[t].status="approved"),this.filterProjects()},error:t=>{console.error("Error approving project:",t),this.error="Error al aprobar proyecto"}})}rejectProject(e){this.adminService.rejectProject(e).subscribe({next:()=>{let t=this.allProjects.findIndex(r=>r.id===e);t!==-1&&(this.allProjects[t].status="rejected"),this.filterProjects()},error:t=>{console.error("Error rejecting project:",t),this.error="Error al rechazar proyecto: "+this.getErrorMessage(t)}})}refreshData(){this.loadData()}static \u0275fac=function(t){return new(t||n)(j(ev),j(Be),j(Ae))};static \u0275cmp=Pe({type:n,selectors:[["app-admin"]],decls:6,vars:3,consts:[[1,"admin-container"],["class","loading-spinner",4,"ngIf"],["class","error-message",4,"ngIf"],["class","admin-content",4,"ngIf"],[1,"loading-spinner"],[1,"error-message"],[3,"click"],[1,"admin-content"],[1,"admin-section"],[1,"filters"],["type","text","placeholder","Buscar usuarios...",3,"ngModelChange","input","ngModel"],[3,"ngModelChange","change","ngModel"],["value","all"],["value","usuario"],["value","admin"],[1,"table-container"],[4,"ngFor","ngForOf"],["class","no-results",4,"ngIf"],["type","text","placeholder","Buscar proyectos...",3,"ngModelChange","input","ngModel"],["value","pending"],["value","approved"],["value","rejected"],["class","banned-status",4,"ngIf"],["class","active-status",4,"ngIf"],["class","danger",3,"click",4,"ngIf"],["class","success",3,"click",4,"ngIf"],[1,"banned-status"],[1,"active-status"],[1,"danger",3,"click"],[1,"success",3,"click"],[1,"no-results"],[1,"action-buttons"],[1,"button",3,"routerLink"]],template:function(t,r){t&1&&(g(0,"div",0)(1,"h1"),b(2,"Panel de Administraci\xF3n"),m(),G(3,EG,3,0,"div",1)(4,CG,5,1,"div",2)(5,RG,61,8,"div",3),m()),t&2&&(E(3),F("ngIf",r.isLoading),E(),F("ngIf",r.error),E(),F("ngIf",!r.isLoading&&!r.error))},dependencies:[lt,Vt,gt,vs,kn,Eo,Co,jt,Xr,un,qn,Ss,nm],styles:[".admin-container[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:1rem}.admin-section[_ngcontent-%COMP%]{margin-bottom:3rem;background:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 10px #0000001a}h2[_ngcontent-%COMP%]{color:#333;margin-bottom:1.5rem;padding-bottom:.5rem;border-bottom:1px solid #eee}.filters[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1.5rem}.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #ddd;border-radius:4px;font-size:1rem}.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;max-width:400px}.table-container[_ngcontent-%COMP%]{overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;text-align:left;border-bottom:1px solid #eee}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f5f5f5;font-weight:600}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}table[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.25rem;border:1px solid #ddd;border-radius:4px}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.35rem .75rem;border:none;border-radius:4px;cursor:pointer;font-size:.9rem;text-decoration:none;display:inline-flex;align-items:center;justify-content:center}.action-buttons[_ngcontent-%COMP%]   button.success[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   a.success[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.action-buttons[_ngcontent-%COMP%]   button.danger[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   a.danger[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.action-buttons[_ngcontent-%COMP%]   button.button[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   a.button[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.no-results[_ngcontent-%COMP%]{padding:1.5rem;text-align:center;color:#666;background-color:#f9f9f9;border-radius:4px;margin-top:1rem}.loading-spinner[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%]{text-align:center;padding:2rem}.error-message[_ngcontent-%COMP%]{color:#d32f2f}.banned-status[_ngcontent-%COMP%]{color:#f44336;font-weight:700}.active-status[_ngcontent-%COMP%]{color:#4caf50;font-weight:700}.pending[_ngcontent-%COMP%]{color:#ff9800;font-weight:700}.approved[_ngcontent-%COMP%]{color:#4caf50;font-weight:700}.rejected[_ngcontent-%COMP%]{color:#f44336;font-weight:700}"]})};var nv=class n{constructor(e){this.http=e}apiUrl=`${pi.apiUrl}`;getCurrentUser(e){let t=localStorage.getItem("custom_user");if(!t)return Tn(()=>new Error("No user data available"));let r=JSON.parse(t),i=r?.token;if(!i)return Tn(()=>new Error("No authentication token available"));let o=new cn({Authorization:`Bearer ${i}`,"Content-Type":"application/json"});return this.http.get(`${this.apiUrl}/usuario/obtenerUsuario/${e}`,{headers:o,withCredentials:!0}).pipe(ot(s=>{if(console.error("Error fetching user:",s),s.status===404){let a={uid:e,email:r.email,name:r.name||r.email.split("@")[0],role:"usuario",status:"active"};return X(a)}return Tn(()=>s)}))}updateUser(e,t){return this.http.put(`${this.apiUrl}/${e}`,t)}promoteToAdmin(e){return this.http.put(`${this.apiUrl}/usuario/actualizarUsuario/${e}`,{rol:"admin"},{withCredentials:!0})}banUser(e){return this.http.put(`${this.apiUrl}/usuario/actualizarUsuario/${e}`,{status:"banned"},{withCredentials:!0})}static \u0275fac=function(t){return new(t||n)(Y(sr))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};function kG(n,e){n&1&&(g(0,"div",4)(1,"p"),b(2,"Cargando perfil..."),m()())}function NG(n,e){if(n&1){let t=Ne();g(0,"div",5)(1,"p"),b(2),m(),g(3,"button",6),z("click",function(){re(t);let i=H();return ie(i.loadUserProfile())}),b(4,"Reintentar"),m()()}if(n&2){let t=H();E(2),ne(t.error)}}function FG(n,e){if(n&1){let t=Ne();g(0,"button",21),z("click",function(){re(t);let i=H(2);return ie(i.navigateToProjectCreation())}),b(1," Crear Nuevo Proyecto "),m()}}function LG(n,e){if(n&1){let t=Ne();g(0,"div",25)(1,"h3"),b(2),m(),g(3,"p",26),b(4),m(),g(5,"p"),b(6),m(),g(7,"div",27)(8,"span"),b(9),st(10,"number"),st(11,"number"),m(),g(12,"span"),b(13),m()(),g(14,"div",28)(15,"button",29),z("click",function(){let i=re(t).$implicit,o=H(3);return ie(o.navigateToProjectAnalytics(i.id))}),b(16," Ver An\xE1lisis "),m()()()}if(n&2){let t=e.$implicit;E(2),ne(t.title),E(2),ne(t.category),E(2),ne(t.description),E(3),Kl("Recaudado: $",Qt(10,6,t.collected)," / $",Qt(11,8,t.goal),""),E(4),oe("",(t.collected/t.goal*100).toFixed(0),"%")}}function VG(n,e){if(n&1&&(g(0,"div",22)(1,"h2"),b(2),m(),g(3,"div",23),G(4,LG,17,10,"div",24),m()()),n&2){let t=H(2);E(2),oe("Mis Proyectos (",t.userProjects.length,")"),E(2),F("ngForOf",t.userProjects)}}function jG(n,e){if(n&1){let t=Ne();g(0,"div",30)(1,"p"),b(2,"A\xFAn no has creado ning\xFAn proyecto."),m(),g(3,"button",21),z("click",function(){re(t);let i=H(2);return ie(i.navigateToProjectCreation())}),b(4," Crear mi primer proyecto "),m()()}}function BG(n,e){if(n&1&&(g(0,"div",7)(1,"div",8)(2,"div",9),te(3,"img",10),m(),g(4,"div",11)(5,"h1"),b(6),m(),g(7,"p",12),b(8),m(),g(9,"p",13),b(10),m(),g(11,"p",14),b(12),m(),g(13,"p",15),b(14),m(),g(15,"p",16),b(16),m()()(),g(17,"div",17),G(18,FG,2,0,"button",18),m(),G(19,VG,5,2,"div",19)(20,jG,5,0,"div",20),m()),n&2){let t=H();E(3),F("src","https://help.seesaw.me/hc/article_attachments/29802779436429",po),E(3),ne(t.user.name),E(2),ne(t.user.email),E(2),oe("Estado: ",t.user.status||"active",""),E(2),oe("Rol: ",t.user.role||"usuario",""),E(2),oe("Verificacion: ",t.user.email_verified||"Falsee",""),E(2),oe("Visitas: ",t.user.login_count||0,""),E(2),F("ngIf",t.isCurrentUser),E(),F("ngIf",t.userProjects.length>0),E(),F("ngIf",t.userProjects.length===0&&t.isCurrentUser)}}var rv=class n{constructor(e,t,r,i){this.userService=e;this.projectService=t;this.authService=r;this.router=i}user=null;userProjects=[];isLoading=!0;error=null;isCurrentUser=!1;ngOnInit(){this.loadUserProfile()}loadUserProfile(){return w(this,null,function*(){this.isLoading=!0,this.error=null;try{let e=localStorage.getItem("custom_user");if(!e){this.router.navigate(["/login"]);return}let t=JSON.parse(e),r=t.id||t.uid;if(!r)throw new Error("ID de usuario no disponible");let i=this.userService.getCurrentUser(r).pipe(ot(a=>(console.error("Error loading user:",a),t?X(ee(L({},t),{role:t.role||"usuario",status:t.status||"active",email_verified:t.email_verified||"False"})):Tn(()=>a))));this.user=yield $h(i),this.isCurrentUser=t.email===this.user.email;let o=this.projectService.getProjects().pipe(ot(a=>(console.error("Error loading projects:",a),X([])))),s=yield $h(o);this.userProjects=(s||[]).filter(a=>a.creator&&a.creator.email===this.user.email)}catch(e){console.error("Error loading profile:",e),this.error="Error al cargar el perfil. Por favor intenta nuevamente.",e.status===401&&(this.authService.logout(),this.router.navigate(["/login"]))}finally{this.isLoading=!1}})}navigateToProjectCreation(){this.router.navigate(["/project-creation"])}navigateToProjectAnalytics(e){this.router.navigate(["/project-analytics",e])}static \u0275fac=function(t){return new(t||n)(j(nv),j(Ln),j(Be),j(Ae))};static \u0275cmp=Pe({type:n,selectors:[["app-user-profile"]],decls:4,vars:3,consts:[[1,"profile-container"],["class","loading-spinner",4,"ngIf"],["class","error-message",4,"ngIf"],["class","profile-content",4,"ngIf"],[1,"loading-spinner"],[1,"error-message"],[3,"click"],[1,"profile-content"],[1,"profile-header"],[1,"avatar-container"],["alt","Avatar",1,"profile-avatar",3,"src"],[1,"profile-info"],[1,"email"],[1,"status"],[1,"role"],[1,"verificacion"],[1,"login-count"],[1,"profile-actions"],["class","button-primary",3,"click",4,"ngIf"],["class","projects-section",4,"ngIf"],["class","no-projects",4,"ngIf"],[1,"button-primary",3,"click"],[1,"projects-section"],[1,"projects-grid"],["class","project-card",4,"ngFor","ngForOf"],[1,"project-card"],[1,"category"],[1,"project-stats"],[1,"project-actions"],[1,"button-secondary",3,"click"],[1,"no-projects"]],template:function(t,r){t&1&&(g(0,"div",0),G(1,kG,3,0,"div",1)(2,NG,5,1,"div",2)(3,BG,21,10,"div",3),m()),t&2&&(E(),F("ngIf",r.isLoading),E(),F("ngIf",r.error),E(),F("ngIf",!r.isLoading&&!r.error&&r.user))},dependencies:[lt,Vt,gt,zr,kn,cc],styles:[".profile-container[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:1rem}.profile-container[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]{display:flex;gap:2rem;align-items:center;margin-bottom:2rem}.profile-container[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .avatar-container[_ngcontent-%COMP%]   .profile-avatar[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;object-fit:cover;border:3px solid #4caf50}.profile-container[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2e7d32;margin:0}.profile-container[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{color:#52bf57;margin:.5rem 0}.profile-container[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .bio[_ngcontent-%COMP%]{color:#2e7d32;max-width:600px}.profile-container[_ngcontent-%COMP%]   .profile-actions[_ngcontent-%COMP%]{margin:2rem 0}.profile-container[_ngcontent-%COMP%]   .projects-section[_ngcontent-%COMP%]{margin-top:3rem}.profile-container[_ngcontent-%COMP%]   .projects-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2e7d32;border-bottom:2px solid #c8e6c9;padding-bottom:.5rem}.profile-container[_ngcontent-%COMP%]   .projects-section[_ngcontent-%COMP%]   .projects-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.5rem;margin-top:1.5rem}.profile-container[_ngcontent-%COMP%]   .projects-section[_ngcontent-%COMP%]   .projects-grid[_ngcontent-%COMP%]   .project-card[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:8px;box-shadow:0 2px 8px #0000001a}.profile-container[_ngcontent-%COMP%]   .projects-section[_ngcontent-%COMP%]   .projects-grid[_ngcontent-%COMP%]   .project-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#4caf50;margin-top:0}.profile-container[_ngcontent-%COMP%]   .projects-section[_ngcontent-%COMP%]   .projects-grid[_ngcontent-%COMP%]   .project-card[_ngcontent-%COMP%]   .project-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:1rem 0;color:#2e7d32}.profile-container[_ngcontent-%COMP%]   .no-projects[_ngcontent-%COMP%]{text-align:center;margin:3rem 0;color:#2e7d32}.profile-container[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{background:#4caf50;color:#fff;border:none;padding:.8rem 1.5rem;border-radius:5px;cursor:pointer;font-weight:700;transition:background .3s}.profile-container[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]:hover{background:#3d8b40}.profile-container[_ngcontent-%COMP%]   .button-secondary[_ngcontent-%COMP%]{background:#fff;color:#4caf50;border:2px solid #4caf50;padding:.6rem 1.2rem;border-radius:5px;cursor:pointer;font-weight:700;transition:all .3s}.profile-container[_ngcontent-%COMP%]   .button-secondary[_ngcontent-%COMP%]:hover{background:#4caf50;color:#fff}@media (max-width: 768px){.profile-header[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}"]})};var ko=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.isAuthenticated$.pipe(ht(1),de(e=>e?!0:(this.router.navigate(["/login"]),!1)))}static \u0275fac=function(t){return new(t||n)(Y(Be),Y(Ae))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})},iv=class n{constructor(e){this.router=e}canActivate(){return localStorage.getItem("projectCreationData")?(this.router.navigate(["/user-profile"]),!1):!0}static \u0275fac=function(t){return new(t||n)(Y(Ae))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};var ov=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.isAuthenticated$.pipe(dt(e=>e!==null),ht(1),qt(()=>this.authService.currentUser$),de(e=>e&&e.role?.toLowerCase()==="admin"?!0:(this.router.navigate(["/dashboard"],{queryParams:{message:"No tienes permisos de administrador"}}),!1)),ot(()=>(this.router.navigate(["/dashboard"]),X(!1))))}static \u0275fac=function(t){return new(t||n)(Y(Be),Y(Ae))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};function UG(n,e){n&1&&(g(0,"span"),b(1,"Registrarse"),m())}function $G(n,e){n&1&&te(0,"span",32)}function HG(n,e){if(n&1&&(g(0,"div",33)(1,"i",34),b(2,"\u26A0\uFE0F"),m(),b(3),m()),n&2){let t=H();E(3),oe(" ",t.errorMessage," ")}}var sv=class n{constructor(e,t){this.authService=e;this.router=t}name="";email="";password="";confirmPassword="";errorMessage="";loading=!1;activeField="";showPassword=!1;showConfirmPassword=!1;togglePasswordVisibility(e){e==="password"?this.showPassword=!this.showPassword:this.showConfirmPassword=!this.showConfirmPassword}onSubmit(){return w(this,null,function*(){if(!this.name||!this.email||!this.password||!this.confirmPassword){this.errorMessage="Por favor completa todos los campos";return}if(!this.validateEmail(this.email)){this.errorMessage="Por favor ingresa un correo electr\xF3nico v\xE1lido";return}if(this.password!==this.confirmPassword){this.errorMessage="Las contrase\xF1as no coinciden";return}if(this.password.length<6){this.errorMessage="La contrase\xF1a debe tener al menos 6 caracteres";return}this.loading=!0,this.errorMessage="";try{(yield this.authService.register(this.name,this.email,this.password))?(alert("Se ha enviado un Correo Electr\xF3nico de Verificaci\xF3n."),this.router.navigate(["/dashboard"])):this.errorMessage="Error al registrar el usuario"}catch(e){console.error("Registration error:",e),this.errorMessage=this.getErrorMessage(e)}finally{this.loading=!1}})}getErrorMessage(e){return e.error?.message?e.error.message:e.status===0?"No se pudo conectar al servidor":"Ocurri\xF3 un error durante el registro. Por favor int\xE9ntalo m\xE1s tarde."}navigateTo(e){this.router.navigate([e])}validateEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}static \u0275fac=function(t){return new(t||n)(j(Be),j(Ae))};static \u0275cmp=Pe({type:n,selectors:[["app-register"]],decls:61,vars:20,consts:[[1,"login-wrapper"],[1,"login-container"],[1,"login-header"],["src","https://w7.pngwing.com/pngs/95/245/png-transparent-green-leaf-computer-icons-green-leaf-green-leaf-icon-leaf-plant-stem-grass-thumbnail.png","alt","CoCreando Logo",1,"logo"],[1,"login-form",3,"ngSubmit"],[1,"form-group","floating"],["type","text","id","name","name","name","required","","placeholder"," ",3,"ngModelChange","focus","blur","ngModel"],["for","name"],[1,"icon"],["type","email","id","email","name","email","required","","placeholder"," ",3,"ngModelChange","focus","blur","ngModel"],["for","email"],["id","password","name","password","required","","placeholder"," ",3,"ngModelChange","focus","blur","type","ngModel"],["for","password"],["type","button",1,"toggle-password",3,"click"],["id","confirmPassword","name","confirmPassword","required","","placeholder"," ",3,"ngModelChange","focus","blur","type","ngModel"],["for","confirmPassword"],["type","submit",1,"login-button",3,"disabled"],[4,"ngIf"],["class","spinner",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"social-login"],[1,"social-buttons"],["type","button",1,"social-button","google"],["src","https://w7.pngwing.com/pngs/326/85/png-transparent-google-logo-google-text-trademark-logo-thumbnail.png","alt","Google"],["type","button",1,"social-button","github"],["src","https://w7.pngwing.com/pngs/646/324/png-transparent-github-computer-icons-github-logo-monochrome-head-thumbnail.png","alt","GitHub"],[1,"register-link"],["routerLink","/login"],[1,"login-background"],[1,"shape","shape-1"],[1,"shape","shape-2"],[1,"shape","shape-3"],[1,"spinner"],[1,"error-message"],[1,"error-icon"]],template:function(t,r){t&1&&(g(0,"div",0)(1,"div",1)(2,"div",2),te(3,"img",3),g(4,"h1"),b(5,"Reg\xEDstrate en "),g(6,"span"),b(7,"CoCreando"),m()(),g(8,"p"),b(9,"Crea tu cuenta para empezar a colaborar"),m()(),g(10,"form",4),z("ngSubmit",function(){return r.onSubmit()}),g(11,"div",5)(12,"input",6),mt("ngModelChange",function(o){return yt(r.name,o)||(r.name=o),o}),z("focus",function(){return r.activeField="name"})("blur",function(){return r.activeField=""}),m(),g(13,"label",7),b(14,"Nombre completo"),m(),g(15,"i",8),b(16,"\u{1F464}"),m()(),g(17,"div",5)(18,"input",9),mt("ngModelChange",function(o){return yt(r.email,o)||(r.email=o),o}),z("focus",function(){return r.activeField="email"})("blur",function(){return r.activeField=""}),m(),g(19,"label",10),b(20,"Correo electr\xF3nico"),m(),g(21,"i",8),b(22,"\u2709\uFE0F"),m()(),g(23,"div",5)(24,"input",11),mt("ngModelChange",function(o){return yt(r.password,o)||(r.password=o),o}),z("focus",function(){return r.activeField="password"})("blur",function(){return r.activeField=""}),m(),g(25,"label",12),b(26,"Contrase\xF1a"),m(),g(27,"i",8),b(28,"\u{1F512}"),m(),g(29,"button",13),z("click",function(){return r.togglePasswordVisibility("password")}),b(30),m()(),g(31,"div",5)(32,"input",14),mt("ngModelChange",function(o){return yt(r.confirmPassword,o)||(r.confirmPassword=o),o}),z("focus",function(){return r.activeField="confirmPassword"})("blur",function(){return r.activeField=""}),m(),g(33,"label",15),b(34,"Confirmar contrase\xF1a"),m(),g(35,"i",8),b(36,"\u{1F512}"),m(),g(37,"button",13),z("click",function(){return r.togglePasswordVisibility("confirmPassword")}),b(38),m()(),g(39,"button",16),G(40,UG,2,0,"span",17)(41,$G,1,0,"span",18),m(),G(42,HG,4,1,"div",19),g(43,"div",20)(44,"p"),b(45,"O reg\xEDstrate con"),m(),g(46,"div",21)(47,"button",22),te(48,"img",23),b(49," Google "),m(),g(50,"button",24),te(51,"img",25),b(52," GitHub "),m()()(),g(53,"div",26),b(54," \xBFYa tienes una cuenta? "),g(55,"a",27),b(56,"Inicia sesi\xF3n"),m()()()(),g(57,"div",28),te(58,"div",29)(59,"div",30)(60,"div",31),m()()),t&2&&(E(12),pt("ngModel",r.name),E(),$e("active",r.activeField==="name"||r.name),E(5),pt("ngModel",r.email),E(),$e("active",r.activeField==="email"||r.email),E(5),F("type",r.showPassword?"text":"password"),pt("ngModel",r.password),E(),$e("active",r.activeField==="password"||r.password),E(5),oe(" ",r.showPassword?"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F":"\u{1F441}\uFE0F"," "),E(2),F("type",r.showConfirmPassword?"text":"password"),pt("ngModel",r.confirmPassword),E(),$e("active",r.activeField==="confirmPassword"||r.confirmPassword),E(5),oe(" ",r.showConfirmPassword?"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F":"\u{1F441}\uFE0F"," "),E(),F("disabled",r.loading),E(),F("ngIf",!r.loading),E(),F("ngIf",r.loading),E(),F("ngIf",r.errorMessage))},dependencies:[kn,Zr,jt,un,Qr,Ps,qn,Ms,lt,gt],styles:['.login-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f8f9fa;position:relative;overflow:hidden;padding:2rem}.login-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 25px -5px #0000001a;width:100%;max-width:450px;z-index:2;overflow:hidden;transition:all .3s ease-in-out}.login-container[_ngcontent-%COMP%]:hover{box-shadow:0 15px 30px -5px #00000026}.login-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#426e28,#146b08);color:#fff;padding:2.5rem 2rem;text-align:center}.login-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:50px;margin-bottom:1rem}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.8rem;font-weight:600}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#88c9a1}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0 0;opacity:.9;font-size:.95rem}.login-form[_ngcontent-%COMP%]{padding:2rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:1.5rem}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;left:3rem;top:1rem;color:#718096;pointer-events:none;transition:all .3s ease-in-out}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   label.active[_ngcontent-%COMP%]{top:-.6rem;left:2.8rem;font-size:.75rem;background:#fff;padding:0 .3rem;color:#426e28}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:3rem;height:3rem}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#426e28;box-shadow:0 0 0 2px #426e2833}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:1rem;font-size:1rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:1px solid #e2e8f0;border-radius:8px;font-size:1rem;transition:all .3s ease-in-out}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem;background:none;border:none;cursor:pointer;opacity:.5;transition:all .3s ease-in-out}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover{opacity:1}.form-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:1.5rem 0}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;color:#718096;font-size:.9rem}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{display:inline-block;width:18px;height:18px;margin-right:8px;border:1px solid #cbd5e0;border-radius:4px;position:relative;transition:all .3s ease-in-out}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none;left:6px;top:2px;width:5px;height:10px;border:solid white;border-width:0 2px 2px 0;transform:rotate(45deg)}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#426e28;border-color:#426e28}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.form-options[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{color:#426e28;text-decoration:none;font-size:.9rem;transition:all .3s ease-in-out}.form-options[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-button[_ngcontent-%COMP%]{width:100%;padding:1rem;background:linear-gradient(135deg,#426e28,#146b08);color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease-in-out}.login-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#375b21,#105306);transform:translateY(-2px)}.login-button[_ngcontent-%COMP%]:disabled{background:#cbd5e0;cursor:not-allowed;transform:none}.login-button[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;border:3px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.error-message[_ngcontent-%COMP%]{color:#e53e3e;background:#e53e3e1a;padding:.8rem;border-radius:8px;margin:1rem 0;display:flex;align-items:center;font-size:.9rem}.error-message[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-right:.5rem}.social-login[_ngcontent-%COMP%]{margin:2rem 0 1rem;text-align:center}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;font-size:.9rem;position:relative;margin:1rem 0}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before, .social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:after{content:"";display:inline-block;width:30%;height:1px;background:#e2e8f0;position:absolute;top:50%}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before{left:0}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:after{right:0}.social-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem}.social-buttons[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]{flex:1;padding:.7rem;border:1px solid #e2e8f0;border-radius:8px;background:#fff;display:flex;align-items:center;justify-content:center;gap:.5rem;font-size:.9rem;cursor:pointer;transition:all .3s ease-in-out}.social-buttons[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:hover{background:#f8fafc;transform:translateY(-2px)}.social-buttons[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:18px;height:18px}.social-buttons[_ngcontent-%COMP%]   .social-button.google[_ngcontent-%COMP%]{color:#db4437}.social-buttons[_ngcontent-%COMP%]   .social-button.github[_ngcontent-%COMP%]{color:#333}.register-link[_ngcontent-%COMP%]{text-align:center;color:#718096;font-size:.9rem;margin-top:1.5rem}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#426e28;text-decoration:none;font-weight:500;transition:all .3s ease-in-out}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}.login-background[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{position:absolute;border-radius:50%;background:#88c9a11a;transition:all 15s linear}.login-background[_ngcontent-%COMP%]   .shape.shape-1[_ngcontent-%COMP%]{width:300px;height:300px;top:-100px;left:-100px;animation:_ngcontent-%COMP%_float 12s ease-in-out infinite}.login-background[_ngcontent-%COMP%]   .shape.shape-2[_ngcontent-%COMP%]{width:200px;height:200px;bottom:-50px;right:-50px;animation:_ngcontent-%COMP%_float 8s ease-in-out infinite reverse}.login-background[_ngcontent-%COMP%]   .shape.shape-3[_ngcontent-%COMP%]{width:150px;height:150px;top:30%;right:20%;animation:_ngcontent-%COMP%_float 10s ease-in-out infinite 2s}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-20px) rotate(5deg)}}@media (max-width: 576px){.login-wrapper[_ngcontent-%COMP%]{padding:1rem}.login-header[_ngcontent-%COMP%]{padding:1.5rem 1rem}.login-form[_ngcontent-%COMP%]{padding:1.5rem}.social-buttons[_ngcontent-%COMP%]{flex-direction:column}}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.7rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.3rem}']})};function zG(n,e){if(n&1&&(g(0,"div",37)(1,"h3"),b(2),g(3,"span",38),b(4),st(5,"date"),m()(),g(6,"p"),b(7),m()()),n&2){let t=e.$implicit;E(2),oe("",t.title," "),E(2),ne(Qt(5,3,t.date)),E(3),ne(t.content)}}function qG(n,e){n&1&&(g(0,"span"),b(1,"Invertir ahora"),m())}function WG(n,e){n&1&&(g(0,"span"),b(1,"Procesando pago..."),m())}function GG(n,e){if(n&1&&(g(0,"div",39)(1,"h4"),b(2),m(),g(3,"h5"),b(4),m(),g(5,"p"),b(6),m()()),n&2){let t=e.$implicit;E(2),oe("$",t.minimumAmount," o m\xE1s"),E(2),ne(t.title),E(2),ne(t.description)}}function KG(n,e){if(n&1&&(g(0,"div",40)(1,"span",41),b(2),m(),g(3,"span",42),b(4),m()()),n&2){let t=e.$implicit;E(2),ne(t.name),E(2),oe("$",t.amount,"")}}function YG(n,e){if(n&1){let t=Ne();g(0,"div",1)(1,"div",2)(2,"h1"),b(3),m(),g(4,"p",3),b(5),m(),g(6,"p",4),b(7),m()(),g(8,"div",5)(9,"div",6)(10,"div",7)(11,"h2"),b(12,"Acerca de este proyecto"),m(),g(13,"p"),b(14),m()(),g(15,"div",8)(16,"h2"),b(17,"Retos y desaf\xEDos"),m(),g(18,"p"),b(19),m()(),g(20,"div",9)(21,"h2"),b(22,"Actualizaciones"),m(),G(23,zG,8,5,"div",10),m(),g(24,"button",11),z("click",function(){re(t);let i=H();return ie(i.navigateAnalisis())}),b(25,"Analisis de Proyecto"),m()(),g(26,"div",12)(27,"div",13)(28,"h3"),b(29),st(30,"uppercase"),m()(),g(31,"div",14)(32,"div",15),te(33,"div",16),m(),g(34,"div",17)(35,"span",18),b(36),m(),g(37,"span",19),b(38),m()(),g(39,"div",20)(40,"span"),b(41),m()()(),g(42,"div",21)(43,"h3"),b(44,"Invertir en este proyecto"),m(),g(45,"div",22)(46,"label",23),b(47,"Monto a invertir ($)"),m(),g(48,"input",24),mt("ngModelChange",function(i){re(t);let o=H();return yt(o.investmentAmount,i)||(o.investmentAmount=i),ie(i)}),m()(),g(49,"button",25),z("click",function(){re(t);let i=H();return ie(i.invest())}),G(50,qG,2,0,"span",26)(51,WG,2,0,"span",26),m(),g(52,"p",27),b(53,"Ser\xE1s redirigido a PayU para completar el pago de forma segura"),m()(),g(54,"div",28)(55,"h3"),b(56,"Recompensas"),m(),G(57,GG,7,3,"div",29),m(),g(58,"div",30)(59,"h3"),b(60,"Creador del proyecto"),m(),g(61,"div",31),te(62,"img",32),g(63,"div",33)(64,"h4"),b(65),m(),g(66,"p"),b(67),m(),g(68,"a",34),b(69,"Contactar"),m()()()(),g(70,"div",35)(71,"h3"),b(72,"Principales aportantes"),m(),G(73,KG,5,2,"div",36),m()()()()}if(n&2){let t=H();E(3),ne(t.project.title),E(2),oe("\u{1F4CD} ",t.project.location,""),E(2),ne(t.project.category),E(7),ne(t.project.longDescription),E(5),ne(t.project.risksAndChallenges),E(4),F("ngForOf",t.project.updates),E(4),$e("pending",t.project.status==="pending")("approved",t.project.status==="approved")("rejected",t.project.status==="rejected"),E(2),oe("Estado: ",Qt(30,32,t.project.status),""),E(4),Oi("width",t.project.collected/t.project.goal*100+"%"),E(3),oe("",(t.project.collected/t.project.goal*100).toFixed(0),"%"),E(2),Kl("$",t.project.collected," recaudados de $",t.project.goal,""),E(3),oe("",t.getDaysRemaining(t.project.deadline)," d\xEDas restantes"),E(7),pt("ngModel",t.investmentAmount),F("max",t.project.goal-t.project.collected)("disabled",t.isProcessingPayment),E(),F("disabled",t.isProcessingPayment),E(),F("ngIf",!t.isProcessingPayment),E(),F("ngIf",t.isProcessingPayment),E(6),F("ngForOf",t.project.rewards),E(5),F("src",t.project.creator.avatar,po),E(3),ne(t.project.creator.name),E(2),ne(t.project.creator.bio),E(),r0("href","mailto:",t.project.creator.email,"",po),E(5),F("ngForOf",t.getTopSupporters())}}var av=class n{constructor(e,t,r,i,o){this.route=e;this.router=t;this.projectService=r;this.authService=i;this.http=o}projectId="";project=null;investmentAmount=0;currentUser;isLoading=!0;error=null;isProcessingPayment=!1;ngOnInit(){this.route.paramMap.subscribe(e=>{this.projectId=e.get("id")||"",this.authService.currentUser$.subscribe(t=>{this.currentUser=t}),this.projectId?this.loadProject(this.projectId):this.router.navigate(["/dashboard"],{replaceUrl:!0})})}loadProject(e){this.isLoading=!0,this.error=null,this.projectService.getProjectById(e).subscribe({next:t=>{if(!t){this.router.navigate(["/dashboard"],{replaceUrl:!0});return}this.project=ee(L({},t),{deadline:new Date(t.deadline),longDescription:t.longDescription||`Este proyecto busca ${t.description.toLowerCase()} a trav\xE9s de un enfoque innovador y colaborativo.`,location:t.location||"Ubicaci\xF3n no especificada",creator:t.creator||this.getDefaultCreator(),risksAndChallenges:t.risksAndChallenges||"No se han especificado los retos y desaf\xEDos de este proyecto.",rewards:t.rewards||this.getDefaultRewards(),updates:(t.updates||[]).map(r=>ee(L({},r),{date:new Date(r.date)})),supporters:(t.supporters||[]).map(r=>ee(L({},r),{date:new Date(r.date)}))}),this.isLoading=!1},error:t=>{console.error("Error loading project",t),this.error="No se pudo cargar el proyecto. Por favor intenta m\xE1s tarde.",this.isLoading=!1}})}invest(){if(this.investmentAmount<=0){alert("Por favor ingresa un monto v\xE1lido");return}if(!this.currentUser){alert("Debes iniciar sesi\xF3n para invertir"),this.router.navigate(["/login"]);return}if(this.investmentAmount>this.project.goal-this.project.collected){alert("El monto ingresado supera lo que falta para alcanzar la meta del proyecto");return}this.isProcessingPayment=!0;let e={id_proyecto:this.projectId,descripcion:`Inversi\xF3n en ${this.project.title}`,valor:this.investmentAmount,email:this.currentUser.email};this.http.post(`${pi.apiUrl}/pasarela/crear-pago`,e,{responseType:"text"}).subscribe({next:t=>{let r=window.open("","PayU","width=800,height=600");if(r)r.document.write(t);else{let i=document.createElement("div");i.innerHTML=t,document.body.appendChild(i);let o=i.querySelector("form");o&&o.submit()}},error:t=>{console.error("Error al procesar el pago",t),alert("Ocurri\xF3 un error al procesar tu pago. Por favor intenta nuevamente."),this.isProcessingPayment=!1},complete:()=>{this.isProcessingPayment=!1}})}navigateAnalisis(){this.router.navigate(["/project-analytics",this.projectId])}getDefaultCreator(){return{name:"Creador An\xF3nimo",email:"contacto@proyecto.com",bio:"Informaci\xF3n no disponible sobre el creador de este proyecto.",avatar:"https://randomuser.me/api/portraits/lego/0.jpg"}}getDefaultRewards(){return[{title:"Agradecimiento p\xFAblico",description:"Menci\xF3n en nuestras redes sociales y p\xE1gina web.",minimumAmount:10},{title:"Kit del proyecto",description:"Recibir\xE1s un kit con productos relacionados al proyecto.",minimumAmount:50}]}getDaysRemaining(e){return Math.floor((e.getTime()-new Date().getTime())/(1e3*60*60*24))}getTopSupporters(){return[...this.project.supporters].sort((e,t)=>t.amount-e.amount).slice(0,3)}static \u0275fac=function(t){return new(t||n)(j(ln),j(Ae),j(Ln),j(Be),j(sr))};static \u0275cmp=Pe({type:n,selectors:[["app-project-details"]],decls:1,vars:1,consts:[["class","project-details-container",4,"ngIf"],[1,"project-details-container"],[1,"project-header"],[1,"location"],[1,"category"],[1,"project-content"],[1,"main-content"],[1,"project-description"],[1,"project-risks"],[1,"project-updates"],["class","update",4,"ngFor","ngForOf"],[1,"analisisPro",3,"click"],[1,"sidebar"],[1,"project-status"],[1,"progress-container"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-stats"],[1,"percentage"],[1,"amount"],[1,"time-remaining"],[1,"investment-section"],[1,"form-group"],["for","amount"],["type","number","id","amount","min","1",3,"ngModelChange","ngModel","max","disabled"],[1,"invest-button",3,"click","disabled"],[4,"ngIf"],[1,"note"],[1,"rewards-section"],["class","reward",4,"ngFor","ngForOf"],[1,"creator-section"],[1,"creator-info"],["alt","Avatar del creador",1,"creator-avatar",3,"src"],[1,"creator-details"],[3,"href"],[1,"supporters-section"],["class","supporter",4,"ngFor","ngForOf"],[1,"update"],[1,"date"],[1,"reward"],[1,"supporter"],[1,"supporter-name"],[1,"supporter-amount"]],template:function(t,r){t&1&&G(0,YG,74,34,"div",0),t&2&&F("ngIf",r.project)},dependencies:[lt,Vt,gt,vs,Hr,kn,jt,ju,un,Uu,ww,qn],styles:[".project-details-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem}.project-details-container[_ngcontent-%COMP%]   .project-header[_ngcontent-%COMP%]{margin-bottom:2rem}.project-details-container[_ngcontent-%COMP%]   .project-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#4caf50;margin-bottom:.5rem}.project-details-container[_ngcontent-%COMP%]   .project-header[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{color:#52bf57;font-size:1.1rem;margin-bottom:.5rem}.project-details-container[_ngcontent-%COMP%]   .project-header[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{display:inline-block;background:#c8e6c9;color:#2e7d32;padding:.3rem .8rem;border-radius:20px;font-size:.9rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]{display:flex;gap:2rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{flex:2}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#4caf50;margin:1.5rem 0 1rem;border-bottom:2px solid #c8e6c9;padding-bottom:.5rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .project-updates[_ngcontent-%COMP%]   .update[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:8px;margin-bottom:1rem;box-shadow:0 2px 4px #0000001a}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .project-updates[_ngcontent-%COMP%]   .update[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#77cd7b;font-size:.9rem;margin-left:1rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{flex:1}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:8px;margin-bottom:1.5rem;box-shadow:0 2px 4px #0000001a}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#4caf50;margin-top:0;margin-bottom:1rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:10px;background:#c8e6c9;border-radius:5px;margin-bottom:.5rem;overflow:hidden}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:#88c9a1;transition:width .5s ease}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:.5rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]{font-weight:700;color:#4caf50}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .time-remaining[_ngcontent-%COMP%]{text-align:center;color:#52bf57;font-size:.9rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .investment-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .investment-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#2e7d32}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .investment-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:2px solid #c8e6c9;border-radius:5px}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .investment-section[_ngcontent-%COMP%]   .invest-button[_ngcontent-%COMP%]{width:100%;padding:.8rem;background:#4caf50;color:#fff;border:none;border-radius:5px;font-weight:700;cursor:pointer;transition:background .3s}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .investment-section[_ngcontent-%COMP%]   .invest-button[_ngcontent-%COMP%]:hover{background:#3d8b40}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .rewards-section[_ngcontent-%COMP%]   .reward[_ngcontent-%COMP%]{margin-bottom:1rem;padding-bottom:1rem;border-bottom:1px dashed #c8e6c9}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .rewards-section[_ngcontent-%COMP%]   .reward[_ngcontent-%COMP%]:last-child{border-bottom:none}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .rewards-section[_ngcontent-%COMP%]   .reward[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#4caf50;margin:.5rem 0}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .rewards-section[_ngcontent-%COMP%]   .reward[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:.5rem 0;color:#2e7d32}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .creator-section[_ngcontent-%COMP%]   .creator-info[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .creator-section[_ngcontent-%COMP%]   .creator-info[_ngcontent-%COMP%]   .creator-avatar[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;object-fit:cover}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .creator-section[_ngcontent-%COMP%]   .creator-info[_ngcontent-%COMP%]   .creator-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .3rem;color:#2e7d32}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .creator-section[_ngcontent-%COMP%]   .creator-info[_ngcontent-%COMP%]   .creator-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4caf50;text-decoration:none;font-size:.9rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .creator-section[_ngcontent-%COMP%]   .creator-info[_ngcontent-%COMP%]   .creator-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .supporters-section[_ngcontent-%COMP%]   .supporter[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.5rem 0;border-bottom:1px dashed #c8e6c9}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .supporters-section[_ngcontent-%COMP%]   .supporter[_ngcontent-%COMP%]:last-child{border-bottom:none}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .supporters-section[_ngcontent-%COMP%]   .supporter[_ngcontent-%COMP%]   .supporter-name[_ngcontent-%COMP%]{color:#2e7d32}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .supporters-section[_ngcontent-%COMP%]   .supporter[_ngcontent-%COMP%]   .supporter-amount[_ngcontent-%COMP%]{color:#4caf50;font-weight:700}@media (max-width: 768px){.project-content[_ngcontent-%COMP%]{flex-direction:column!important}}.analisisPro[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:4px;cursor:pointer;font-size:1rem}.analisisPro[_ngcontent-%COMP%]:hover{background-color:#3e8e41}"]})};function QG(n,e){n&1&&(g(0,"div",31),b(1," El t\xEDtulo debe tener al menos 5 caracteres "),m())}function ZG(n,e){n&1&&(g(0,"div",31),b(1," La descripci\xF3n debe tener al menos 20 caracteres "),m())}function XG(n,e){n&1&&(g(0,"div",31),b(1," La descripci\xF3n detallada debe tener al menos 100 caracteres "),m())}function JG(n,e){n&1&&(g(0,"div",31),b(1," La meta m\xEDnima es $100 "),m())}function e7(n,e){if(n&1&&(g(0,"option",32),b(1),m()),n&2){let t=e.$implicit;F("value",t),E(),ne(t)}}function t7(n,e){n&1&&(g(0,"div",31),b(1," Debes seleccionar una categor\xEDa "),m())}function n7(n,e){n&1&&(g(0,"div",31),b(1," Debes establecer una fecha l\xEDmite "),m())}function r7(n,e){n&1&&(g(0,"div",31),b(1," Debes especificar una ubicaci\xF3n "),m())}function i7(n,e){if(n&1){let t=Ne();g(0,"button",39),z("click",function(){re(t);let i=H().index,o=H();return ie(o.removeReward(i))}),b(1," Eliminar Recompensa "),m()}}function o7(n,e){if(n&1&&(g(0,"div",33)(1,"div",11)(2,"div",3)(3,"label",34),b(4,"T\xEDtulo de la Recompensa *"),m(),te(5,"input",35),m(),g(6,"div",3)(7,"label",34),b(8,"Monto M\xEDnimo ($) *"),m(),te(9,"input",36),m()(),g(10,"div",3)(11,"label",34),b(12,"Descripci\xF3n *"),m(),te(13,"textarea",37),m(),G(14,i7,2,0,"button",38),m()),n&2){let t=e.index,r=H();F("formGroupName",t),E(3),F("for","reward-title-"+t),E(2),F("id","reward-title-"+t),E(2),F("for","reward-amount-"+t),E(2),F("id","reward-amount-"+t),E(2),F("for","reward-desc-"+t),E(2),F("id","reward-desc-"+t),E(),F("ngIf",r.rewards.length>1)}}function s7(n,e){if(n&1){let t=Ne();g(0,"button",39),z("click",function(){re(t);let i=H().index,o=H();return ie(o.removeUpdate(i))}),b(1," Eliminar Actualizaci\xF3n "),m()}}function a7(n,e){if(n&1&&(g(0,"div",40)(1,"div",11)(2,"div",3)(3,"label",34),b(4,"T\xEDtulo *"),m(),te(5,"input",41),m(),g(6,"div",3)(7,"label",34),b(8,"Fecha *"),m(),te(9,"input",42),m()(),g(10,"div",3)(11,"label",34),b(12,"Contenido *"),m(),te(13,"textarea",43),m(),G(14,s7,2,0,"button",38),m()),n&2){let t=e.index,r=H();F("formGroupName",t),E(3),F("for","update-title-"+t),E(2),F("id","update-title-"+t),E(2),F("for","update-date-"+t),E(2),F("id","update-date-"+t),E(2),F("for","update-content-"+t),E(2),F("id","update-content-"+t),E(),F("ngIf",r.updates.length>1)}}function c7(n,e){n&1&&(g(0,"div",31),b(1," Debes describir los riesgos y desaf\xEDos de tu proyecto "),m())}function l7(n,e){n&1&&(g(0,"span"),b(1,"Publicar Proyecto"),m())}function u7(n,e){n&1&&(g(0,"span"),b(1,"Enviando..."),m())}function d7(n,e){if(n&1&&(g(0,"div",31),b(1),m()),n&2){let t=H();E(),oe(" ",t.error," ")}}var cv=class n{constructor(e,t,r,i){this.fb=e;this.projectService=t;this.authService=r;this.router=i;this.projectForm=this.fb.group({title:["",[ze.required,ze.minLength(5)]],description:["",[ze.required,ze.minLength(20)]],longDescription:["",[ze.required,ze.minLength(100)]],goal:[0,[ze.required,ze.min(100)]],category:["",ze.required],deadline:["",ze.required],location:["",ze.required],risksAndChallenges:["",ze.required],rewards:this.fb.array([this.createReward()]),updates:this.fb.array([this.createUpdate()])})}projectForm;categories=["Tecnolog\xEDa","Social","Medio Ambiente","Educaci\xF3n","Arte"];isLoading=!1;error=null;get rewards(){return this.projectForm.get("rewards")}get updates(){return this.projectForm.get("updates")}createReward(){return this.fb.group({title:["",ze.required],description:["",ze.required],minimumAmount:[0,[ze.required,ze.min(1)]]})}createUpdate(){return this.fb.group({title:["",ze.required],content:["",ze.required],date:[new Date().toISOString().split("T")[0]]})}addReward(){this.rewards.push(this.createReward())}removeReward(e){this.rewards.removeAt(e)}addUpdate(){this.updates.push(this.createUpdate())}removeUpdate(e){this.updates.removeAt(e)}onSubmit(){this.projectForm.invalid||this.isLoading||(this.isLoading=!0,this.error=null,this.authService.currentUser$.pipe(ht(1)).subscribe(e=>{if(!e){this.error="Debes iniciar sesi\xF3n para crear un proyecto",this.isLoading=!1;return}let t=this.projectForm.get("deadline")?.value;if(!t){this.error="La fecha l\xEDmite es requerida",this.isLoading=!1;return}let r=new Date(t).toISOString(),i=this.projectForm.get("updates")?.value,o=i?i.map(u=>ee(L({},u),{date:u.date?new Date(u.date).toISOString():new Date().toISOString()})):[],s=["https://projectcor.com/es/wp-content/uploads/2019/05/gestion-de-proyectos.jpg","https://d2fl3xywvvllvq.cloudfront.net/wp-content/uploads/2019/10/nutcache-image-2-600x360.jpg","https://eadic.com/wp-content/uploads/2020/05/Proyecto-2-1.jpg","https://www.ceupe.com.ve/images/easyblog_articles/230/ges_proyec.png","https://acortar.link/25ILfh"];function a(){let u=Math.floor(Math.random()*s.length);return s[u]}let c=ee(L({},this.projectForm.value),{deadline:r,updates:o,creator:{name:e.name,email:e.email,bio:e.bio||"",avatar:a()},collected:0,status:"pending",createdAt:new Date().toISOString(),supporters:[]});this.projectService.createProject(c).pipe(ht(1)).subscribe({next:u=>{this.projectForm.reset();let d=u?.projectId||"";d?this.router.navigate(["/project",d],{replaceUrl:!0}):this.router.navigate(["/user-profile"])},error:u=>{console.error("Error creating project",u),this.error="Error al crear el proyecto. Por favor intenta nuevamente.",this.isLoading=!1}})}))}static \u0275fac=function(t){return new(t||n)(j(wm),j(Ln),j(Be),j(Ae))};static \u0275cmp=Pe({type:n,selectors:[["app-project-creation"]],decls:78,vars:16,consts:[[1,"creation-container"],[1,"project-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"form-group"],["for","title"],["type","text","id","title","formControlName","title","placeholder","Nombre de tu proyecto"],["class","error-message",4,"ngIf"],["for","description"],["id","description","formControlName","description","placeholder","Describe tu proyecto brevemente (m\xEDnimo 20 caracteres)"],["for","longDescription"],["id","longDescription","formControlName","longDescription","placeholder","Explica tu proyecto en detalle (m\xEDnimo 100 caracteres)"],[1,"form-row"],["for","goal"],["type","number","id","goal","formControlName","goal","min","100"],["for","category"],["id","category","formControlName","category"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","deadline"],["type","date","id","deadline","formControlName","deadline"],["for","location"],["type","text","id","location","formControlName","location","placeholder","Ciudad, Pa\xEDs"],["formArrayName","rewards"],["class","reward-item",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"button-add",3,"click"],["formArrayName","updates"],["class","update-item",3,"formGroupName",4,"ngFor","ngForOf"],["id","risks","formControlName","risksAndChallenges","placeholder","Describe los posibles retos de tu proyecto y c\xF3mo planeas superarlos"],[1,"form-actions"],["type","submit",1,"button-primary",3,"disabled"],[4,"ngIf"],[1,"error-message"],[3,"value"],[1,"reward-item",3,"formGroupName"],[3,"for"],["type","text","formControlName","title","placeholder","Ej: Certificado digital",3,"id"],["type","number","formControlName","minimumAmount","min","1",3,"id"],["formControlName","description","placeholder","Describe qu\xE9 recibir\xE1 el patrocinador",3,"id"],["type","button","class","button-remove",3,"click",4,"ngIf"],["type","button",1,"button-remove",3,"click"],[1,"update-item",3,"formGroupName"],["type","text","formControlName","title","placeholder","Ej: Campa\xF1a lanzada",3,"id"],["type","date","formControlName","date",3,"id"],["formControlName","content","placeholder","Detalles de la actualizaci\xF3n",3,"id"]],template:function(t,r){if(t&1&&(g(0,"div",0)(1,"h2"),b(2,"Crear Nuevo Proyecto"),m(),g(3,"form",1),z("ngSubmit",function(){return r.onSubmit()}),g(4,"div",2)(5,"h3"),b(6,"Informaci\xF3n B\xE1sica"),m(),g(7,"div",3)(8,"label",4),b(9,"T\xEDtulo del Proyecto *"),m(),te(10,"input",5),G(11,QG,2,0,"div",6),m(),g(12,"div",3)(13,"label",7),b(14,"Descripci\xF3n Corta *"),m(),te(15,"textarea",8),G(16,ZG,2,0,"div",6),m(),g(17,"div",3)(18,"label",9),b(19,"Descripci\xF3n Detallada *"),m(),te(20,"textarea",10),G(21,XG,2,0,"div",6),m()(),g(22,"div",2)(23,"h3"),b(24,"Financiaci\xF3n y Categor\xEDa"),m(),g(25,"div",11)(26,"div",3)(27,"label",12),b(28,"Meta de financiaci\xF3n ($) *"),m(),te(29,"input",13),G(30,JG,2,0,"div",6),m(),g(31,"div",3)(32,"label",14),b(33,"Categor\xEDa *"),m(),g(34,"select",15)(35,"option",16),b(36,"Selecciona una categor\xEDa"),m(),G(37,e7,2,2,"option",17),m(),G(38,t7,2,0,"div",6),m()()(),g(39,"div",2)(40,"h3"),b(41,"Fechas y Ubicaci\xF3n"),m(),g(42,"div",11)(43,"div",3)(44,"label",18),b(45,"Fecha L\xEDmite *"),m(),te(46,"input",19),G(47,n7,2,0,"div",6),m(),g(48,"div",3)(49,"label",20),b(50,"Ubicaci\xF3n *"),m(),te(51,"input",21),G(52,r7,2,0,"div",6),m()()(),g(53,"div",2)(54,"h3"),b(55,"Recompensas para Patrocinadores"),m(),g(56,"div",22),G(57,o7,15,8,"div",23),m(),g(58,"button",24),z("click",function(){return r.addReward()}),b(59," + A\xF1adir Otra Recompensa "),m()(),g(60,"div",2)(61,"h3"),b(62,"Actualizaciones Iniciales"),m(),g(63,"div",25),G(64,a7,15,8,"div",26),m(),g(65,"button",24),z("click",function(){return r.addUpdate()}),b(66," + A\xF1adir Otra Actualizaci\xF3n "),m()(),g(67,"div",2)(68,"h3"),b(69,"Riesgos y Desaf\xEDos *"),m(),g(70,"div",3),te(71,"textarea",27),G(72,c7,2,0,"div",6),m()(),g(73,"div",28)(74,"button",29),G(75,l7,2,0,"span",30)(76,u7,2,0,"span",30),m(),G(77,d7,2,1,"div",6),m()()()),t&2){let i,o,s,a,c,u,d,p;E(3),F("formGroup",r.projectForm),E(8),F("ngIf",((i=r.projectForm.get("title"))==null?null:i.invalid)&&((i=r.projectForm.get("title"))==null?null:i.touched)),E(5),F("ngIf",((o=r.projectForm.get("description"))==null?null:o.invalid)&&((o=r.projectForm.get("description"))==null?null:o.touched)),E(5),F("ngIf",((s=r.projectForm.get("longDescription"))==null?null:s.invalid)&&((s=r.projectForm.get("longDescription"))==null?null:s.touched)),E(9),F("ngIf",((a=r.projectForm.get("goal"))==null?null:a.invalid)&&((a=r.projectForm.get("goal"))==null?null:a.touched)),E(7),F("ngForOf",r.categories),E(),F("ngIf",((c=r.projectForm.get("category"))==null?null:c.invalid)&&((c=r.projectForm.get("category"))==null?null:c.touched)),E(9),F("ngIf",((u=r.projectForm.get("deadline"))==null?null:u.invalid)&&((u=r.projectForm.get("deadline"))==null?null:u.touched)),E(5),F("ngIf",((d=r.projectForm.get("location"))==null?null:d.invalid)&&((d=r.projectForm.get("location"))==null?null:d.touched)),E(5),F("ngForOf",r.rewards.controls),E(7),F("ngForOf",r.updates.controls),E(8),F("ngIf",((p=r.projectForm.get("risksAndChallenges"))==null?null:p.invalid)&&((p=r.projectForm.get("risksAndChallenges"))==null?null:p.touched)),E(2),F("disabled",r.projectForm.invalid||r.isLoading),E(),F("ngIf",!r.isLoading),E(),F("ngIf",r.isLoading),E(),F("ngIf",r.error)}},dependencies:[lt,Vt,gt,cc,Zr,Eo,Co,jt,ju,Xr,un,Qr,Uu,ac,Bu,_m,ym],styles:[".creation-container[_ngcontent-%COMP%]{max-width:900px;margin:2rem auto;padding:2rem;background-color:#fff;border-radius:12px;box-shadow:0 4px 20px #00000014}.creation-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2e7d32;text-align:center;margin-bottom:2rem;font-size:2rem}.project-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.form-section[_ngcontent-%COMP%]{padding:1.5rem;border-radius:8px;background-color:#e4f3e5}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2e7d32;margin-top:0;margin-bottom:1.5rem;font-size:1.3rem;border-bottom:2px solid #88c9a1;padding-bottom:.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#205823}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:6px;font-size:1rem;transition:border-color .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#88c9a1;box-shadow:0 0 0 2px #88c9a133}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:100px;resize:vertical}.form-row[_ngcontent-%COMP%]{display:flex;gap:1.5rem}.form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1}@media (max-width: 600px){.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}}.reward-item[_ngcontent-%COMP%], .update-item[_ngcontent-%COMP%]{background-color:#fff;padding:1.5rem;border-radius:8px;margin-bottom:1.5rem;box-shadow:0 2px 8px #0000000d}.button-primary[_ngcontent-%COMP%]{background-color:#88c9a1;color:#fff;border:none;padding:1rem 2rem;font-size:1rem;border-radius:6px;cursor:pointer;transition:background-color .3s;font-weight:600}.button-primary[_ngcontent-%COMP%]:hover{background-color:#65b985}.button-primary[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.button-add[_ngcontent-%COMP%]{background-color:#c8e6c9;color:#2e7d32;border:1px dashed #88c9a1;padding:.75rem 1.5rem;font-size:.9rem;border-radius:6px;cursor:pointer;transition:all .3s;display:flex;align-items:center;gap:.5rem;margin:0 auto}.button-add[_ngcontent-%COMP%]:hover{background-color:#b6deb8}.button-remove[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828;border:1px solid #ef9a9a;padding:.5rem 1rem;font-size:.8rem;border-radius:4px;cursor:pointer;transition:all .3s}.button-remove[_ngcontent-%COMP%]:hover{background-color:#ffcdd2}.error-message[_ngcontent-%COMP%]{color:#d32f2f;font-size:.85rem;margin-top:.5rem}.form-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;margin-top:1rem}"]})};function h7(n,e){if(n&1&&(g(0,"div",5),b(1),m()),n&2){let t=H(2);E(),oe(" ",t.error," ")}}function f7(n,e){if(n&1){let t=Ne();g(0,"button",26),z("click",function(){re(t);let i=H(3);return ie(i.navigateToEdit())}),b(1,"Editar Proyecto"),m()}}function p7(n,e){if(n&1&&(g(0,"p",34),b(1),m()),n&2){let t=H().$implicit;E(),ne(t.reward)}}function m7(n,e){if(n&1&&(g(0,"div",27)(1,"div",28),b(2),m(),g(3,"div",29)(4,"p",30),b(5),m(),g(6,"p",31),b(7),st(8,"number"),m(),g(9,"p",32),b(10),m(),G(11,p7,2,1,"p",33),m()()),n&2){let t=e.$implicit;E(2),ne(t.name.charAt(0)),E(3),ne(t.name),E(2),oe("$",ki(8,5,t.amount,"1.0-0"),""),E(3),ne(t.date),E(),F("ngIf",t.reward)}}function g7(n,e){if(n&1&&(g(0,"div",35)(1,"h4"),b(2),m(),g(3,"p"),b(4),m(),g(5,"p"),b(6),st(7,"number"),m(),g(8,"div",36),te(9,"div",37),m()()),n&2){let t=e.$implicit,r=H(3);E(2),ne(t.reward),E(2),oe("",t.count," personas"),E(2),oe("Total: $",ki(7,5,t.totalAmount,"1.0-0"),""),E(3),Oi("width",t.count/r.analyticsData.basicStats.supportersCount*100,"%")}}function v7(n,e){if(n&1&&(g(0,"div",38)(1,"div",39),b(2),m(),g(3,"div",40)(4,"p",41),b(5),m(),g(6,"p",42),b(7),st(8,"date"),m()()()),n&2){let t=e.$implicit;E(),$e("update",t.type==="update")("support",t.type==="support"),E(),oe(" ",t.type==="update"?"\u{1F504}":"\u{1F49A}"," "),E(3),ne(t.description),E(2),ne(ki(8,7,t.date,"mediumDate"))}}function _7(n,e){if(n&1&&(g(0,"div")(1,"h2"),b(2,"An\xE1lisis del Proyecto"),m(),g(3,"p",6),b(4),m(),G(5,f7,2,0,"button",7),g(6,"div",8)(7,"div",9)(8,"h3"),b(9,"Recaudado"),m(),g(10,"p",10),b(11),st(12,"number"),m(),g(13,"p",11),b(14),m()(),te(15,"div",12),g(16,"div",9)(17,"h3"),b(18,"Apoyos"),m(),g(19,"p",10),b(20),m(),g(21,"p",11),b(22,"personas han apoyado"),m()(),g(23,"div",9)(24,"h3"),b(25,"Tiempo restante"),m(),g(26,"p",10),b(27),m(),g(28,"p",11),b(29,"d\xEDas para finalizar"),m()(),g(30,"div",9)(31,"h3"),b(32,"Recompensas"),m(),g(33,"p",10),b(34),m(),g(35,"p",11),b(36,"recompensas reclamadas"),m()()(),g(37,"div",13)(38,"h3"),b(39,"Progreso de financiaci\xF3n"),m(),g(40,"div",14),te(41,"div",15),m(),g(42,"p",16),b(43),st(44,"number"),st(45,"number"),m()(),g(46,"div",17)(47,"h3"),b(48,"Apoyos recientes"),m(),g(49,"div",18),G(50,m7,12,8,"div",19),m()(),g(51,"div",20)(52,"h3"),b(53,"Distribuci\xF3n de recompensas"),m(),g(54,"div",21),G(55,g7,10,8,"div",22),m()(),g(56,"div",23)(57,"h3"),b(58,"Actividad reciente"),m(),g(59,"div",24),G(60,v7,9,10,"div",25),m()()()),n&2){let t=H(2);E(4),ne(t.project.title),E(),F("ngIf",t.isCreator),E(6),oe("$",ki(12,15,t.analyticsData.basicStats.totalCollected,"1.0-0"),""),E(3),oe("",t.analyticsData.basicStats.percentageFunded,"% de la meta"),E(6),ne(t.analyticsData.basicStats.supportersCount),E(7),ne(t.analyticsData.basicStats.daysRemaining),E(7),ne(t.analyticsData.basicStats.rewardsClaimed),E(7),Oi("width",t.analyticsData.basicStats.percentageFunded,"%"),E(2),i0(" $",ki(44,18,t.analyticsData.basicStats.totalCollected,"1.0-0")," de $",ki(45,21,t.project.goal,"1.0-0")," (",t.analyticsData.basicStats.percentageFunded,"%) "),E(7),F("ngForOf",t.analyticsData.supporters.slice(0,5)),E(5),F("ngForOf",t.analyticsData.rewardsDistribution),E(5),F("ngForOf",t.analyticsData.recentActivity.slice(0,5))}}function y7(n,e){if(n&1&&(g(0,"div",2),G(1,h7,2,1,"div",3)(2,_7,61,24,"div",4),m()),n&2){let t=H();E(),F("ngIf",t.error),E(),F("ngIf",!t.error)}}function b7(n,e){n&1&&(g(0,"div",43)(1,"p"),b(2,"Cargando an\xE1lisis..."),m()())}var lv=class n{constructor(e,t,r,i,o,s){this.route=e;this.projectService=t;this.router=r;this.authService=i;this.decimalPipe=o;this.datePipe=s}projectId="";project=null;analyticsData=null;isLoading=!0;error=null;currentUserEmail="";isCreator=!1;ngOnInit(){this.projectId=this.route.snapshot.paramMap.get("id")||"",this.authService.currentUser$.subscribe(e=>{this.currentUserEmail=e?.email||"",this.loadProjectData()})}loadProjectData(){this.isLoading=!0,this.projectService.getProjectById(this.projectId).subscribe({next:e=>{if(!e){this.error="Proyecto no encontrado",this.isLoading=!1;return}this.project=e,this.isCreator=e.creator?.email===this.currentUserEmail,this.generateAnalytics(e)},error:e=>{console.error("Error loading project",e),this.error="Error al cargar el proyecto",this.isLoading=!1}})}generateAnalytics(e){let t=e.collected||0,r=Math.min(Math.round(t/e.goal*100),100),i=new Date(e.deadline),o=new Date,s=Math.max(0,Math.ceil((i.getTime()-o.getTime())/(1e3*60*60*24))),a=e.supporters?.map(p=>({name:p.name,amount:p.amount,date:new Date(p.date).toLocaleDateString(),reward:this.getRewardName(e.rewards,p.amount)}))||[],c=this.generateFundingProgress(e),u=this.calculateRewardsDistribution(e),d=this.generateRecentActivity(e);this.analyticsData={basicStats:{totalCollected:t,percentageFunded:r,daysRemaining:s,supportersCount:a.length,rewardsClaimed:u.reduce((p,v)=>p+v.count,0)},supporters:a,fundingProgress:c,rewardsDistribution:u,recentActivity:d},this.isLoading=!1}navigateToEdit(){this.router.navigate(["/project-edit",this.projectId])}getRewardName(e,t){return e&&e.filter(i=>t>=i.minimumAmount).sort((i,o)=>o.minimumAmount-i.minimumAmount)[0]?.title||"Sin recompensa"}generateFundingProgress(e){if(e.fundingProgress)return e.fundingProgress;let t=[],r=new Date(e.createdAt),o=Math.ceil((new Date().getTime()-r.getTime())/(1e3*60*60*24)),s=0;for(let a=0;a<=o;a++){let c=new Date(r);c.setDate(r.getDate()+a),s+=Math.random()*(e.goal/10),s>e.collected&&(s=e.collected),t.push({date:c.toISOString().split("T")[0],amount:Math.round(s)})}return t}calculateRewardsDistribution(e){return!e.rewards||!e.supporters?[]:e.rewards.map(t=>{let r=e.supporters.filter(i=>i.amount>=t.minimumAmount);return{reward:t.title,count:r.length,totalAmount:r.reduce((i,o)=>i+o.amount,0)}})}generateRecentActivity(e){let t=[];return e.updates&&e.updates.forEach(r=>{t.push({type:"update",description:r.title,date:r.date})}),e.supporters&&e.supporters.slice(-5).forEach(r=>{t.push({type:"support",description:`Nuevo apoyo de ${r.name} ($${r.amount})`,date:r.date})}),t.sort((r,i)=>new Date(i.date).getTime()-new Date(r.date).getTime())}static \u0275fac=function(t){return new(t||n)(j(ln),j(Ln),j(Ae),j(Be),j(zr),j(Hr))};static \u0275cmp=Pe({type:n,selectors:[["app-project-analytics"]],features:[Dt([zr,Hr])],decls:2,vars:2,consts:[["class","analytics-container",4,"ngIf"],["class","loading-container",4,"ngIf"],[1,"analytics-container"],["class","error-message",4,"ngIf"],[4,"ngIf"],[1,"error-message"],[1,"project-title"],["class","edit-button",3,"click",4,"ngIf"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-value"],[1,"stat-label"],[1,"action-buttons"],[1,"chart-container"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"],[1,"supporters-section"],[1,"supporters-grid"],["class","supporter-card",4,"ngFor","ngForOf"],[1,"rewards-section"],[1,"rewards-grid"],["class","reward-card",4,"ngFor","ngForOf"],[1,"activity-section"],[1,"activity-timeline"],["class","activity-item",4,"ngFor","ngForOf"],[1,"edit-button",3,"click"],[1,"supporter-card"],[1,"supporter-avatar"],[1,"supporter-info"],[1,"supporter-name"],[1,"supporter-amount"],[1,"supporter-date"],["class","supporter-reward",4,"ngIf"],[1,"supporter-reward"],[1,"reward-card"],[1,"reward-bar"],[1,"reward-fill"],[1,"activity-item"],[1,"activity-icon"],[1,"activity-content"],[1,"activity-description"],[1,"activity-date"],[1,"loading-container"]],template:function(t,r){t&1&&G(0,y7,3,2,"div",0)(1,b7,3,0,"div",1),t&2&&(F("ngIf",!r.isLoading&&r.analyticsData&&r.project),E(),F("ngIf",r.isLoading))},dependencies:[lt,Vt,gt,zr,Hr],styles:[".analytics-container[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:1rem}.error-message[_ngcontent-%COMP%]{color:#d32f2f;background-color:#ffebee;padding:1rem;border-radius:4px;margin-bottom:1rem}.project-title[_ngcontent-%COMP%]{font-size:1.5rem;color:#2e7d32;margin-bottom:2rem;text-align:center}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 8px #0000001a;text-align:center}.stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#2e7d32;margin:.5rem 0}.stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:#666;margin:0}.chart-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.5rem;margin-bottom:2rem;box-shadow:0 2px 8px #0000001a}.chart-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.progress-bar[_ngcontent-%COMP%]{height:20px;background-color:#e0e0e0;border-radius:10px;margin:1rem 0;overflow:hidden}.progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background-color:#4caf50;transition:width .5s ease}.progress-text[_ngcontent-%COMP%]{text-align:center;color:#666}.supporters-section[_ngcontent-%COMP%], .rewards-section[_ngcontent-%COMP%], .activity-section[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.5rem;margin-bottom:2rem;box-shadow:0 2px 8px #0000001a}.supporters-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .rewards-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .activity-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.supporters-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1rem}.supporter-card[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1rem;border:1px solid #e0e0e0;border-radius:8px}.supporter-card[_ngcontent-%COMP%]   .supporter-avatar[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#4caf50;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-right:1rem;font-weight:700}.supporter-card[_ngcontent-%COMP%]   .supporter-name[_ngcontent-%COMP%]{font-weight:700;margin:0}.supporter-card[_ngcontent-%COMP%]   .supporter-amount[_ngcontent-%COMP%]{color:#2e7d32;font-weight:700;margin:.25rem 0}.supporter-card[_ngcontent-%COMP%]   .supporter-date[_ngcontent-%COMP%], .supporter-card[_ngcontent-%COMP%]   .supporter-reward[_ngcontent-%COMP%]{color:#666;font-size:.8rem;margin:.1rem 0}.rewards-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1rem}.reward-card[_ngcontent-%COMP%]{padding:1rem;border:1px solid #e0e0e0;border-radius:8px}.reward-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0;color:#2e7d32}.reward-card[_ngcontent-%COMP%]   .reward-bar[_ngcontent-%COMP%]{height:8px;background-color:#e0e0e0;border-radius:4px;margin-top:.5rem;overflow:hidden}.reward-card[_ngcontent-%COMP%]   .reward-bar[_ngcontent-%COMP%]   .reward-fill[_ngcontent-%COMP%]{height:100%;background-color:#4caf50}.activity-timeline[_ngcontent-%COMP%]{border-left:2px solid #e0e0e0;padding-left:1.5rem;margin-left:1rem}.activity-item[_ngcontent-%COMP%]{display:flex;margin-bottom:1.5rem;position:relative}.activity-item[_ngcontent-%COMP%]   .activity-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background-color:#e8f5e9;display:flex;align-items:center;justify-content:center;margin-right:1rem;position:absolute;left:-17px}.activity-item[_ngcontent-%COMP%]   .activity-icon.update[_ngcontent-%COMP%]{background-color:#e3f2fd}.activity-item[_ngcontent-%COMP%]   .activity-icon.support[_ngcontent-%COMP%]{background-color:#f1f8e9}.activity-item[_ngcontent-%COMP%]   .activity-content[_ngcontent-%COMP%]{margin-left:2rem}.activity-item[_ngcontent-%COMP%]   .activity-content[_ngcontent-%COMP%]   .activity-description[_ngcontent-%COMP%]{margin:0 0 .25rem}.activity-item[_ngcontent-%COMP%]   .activity-content[_ngcontent-%COMP%]   .activity-date[_ngcontent-%COMP%]{color:#666;font-size:.8rem;margin:0}.loading-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#666}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.supporters-grid[_ngcontent-%COMP%], .rewards-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.action-buttons[_ngcontent-%COMP%]{margin-bottom:2rem;text-align:right}.edit-button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:4px;cursor:pointer;font-size:1rem}.edit-button[_ngcontent-%COMP%]:hover{background-color:#3e8e41}"]})};function w7(n,e){n&1&&(g(0,"div",3)(1,"p"),b(2,"Cargando datos del proyecto..."),m()())}function E7(n,e){n&1&&(g(0,"div",24),b(1," El t\xEDtulo debe tener al menos 5 caracteres "),m())}function C7(n,e){n&1&&(g(0,"div",24),b(1," La descripci\xF3n debe tener al menos 20 caracteres "),m())}function I7(n,e){if(n&1&&(g(0,"option",25),b(1),m()),n&2){let t=e.$implicit,r=H(2);F("value",t)("selected",t===r.projectForm.value.category),E(),oe(" ",t," ")}}function T7(n,e){if(n&1&&(g(0,"div",24),b(1),m()),n&2){let t=H(2);E(),oe(" ",t.error," ")}}function D7(n,e){if(n&1){let t=Ne();g(0,"form",4),z("ngSubmit",function(){re(t);let i=H();return ie(i.onSubmit())}),g(1,"div",5)(2,"label",6),b(3,"T\xEDtulo del Proyecto *"),m(),te(4,"input",7),G(5,E7,2,0,"div",8),m(),g(6,"div",5)(7,"label",9),b(8,"Descripci\xF3n Corta *"),m(),g(9,"textarea",10),b(10),m(),G(11,C7,2,0,"div",8),m(),g(12,"div",5)(13,"label",11),b(14,"Descripci\xF3n Detallada *"),m(),g(15,"textarea",12),b(16),m()(),g(17,"div",5)(18,"label",13),b(19,"Categor\xEDa *"),m(),g(20,"select",14)(21,"option",15),b(22,"Selecciona una categor\xEDa"),m(),G(23,I7,2,3,"option",16),m()(),g(24,"div",5)(25,"label",17),b(26,"Ubicaci\xF3n *"),m(),te(27,"input",18),m(),g(28,"div",5)(29,"label",19),b(30,"Retos y desaf\xEDos *"),m(),g(31,"textarea",20),b(32),m()(),g(33,"div",21)(34,"button",22),b(35),m(),g(36,"button",23),z("click",function(){re(t);let i=H();return ie(i.onCancel())}),b(37," Cancelar "),m()(),G(38,T7,2,1,"div",8),m()}if(n&2){let t,r,i=H();F("formGroup",i.projectForm),E(4),F("value",i.projectForm.value.title),E(),F("ngIf",((t=i.projectForm.get("title"))==null?null:t.invalid)&&((t=i.projectForm.get("title"))==null?null:t.touched)),E(5),ne(i.projectForm.value.description),E(),F("ngIf",((r=i.projectForm.get("description"))==null?null:r.invalid)&&((r=i.projectForm.get("description"))==null?null:r.touched)),E(5),ne(i.projectForm.value.longDescription),E(7),F("ngForOf",i.categories),E(4),F("value",i.projectForm.value.location),E(5),ne(i.projectForm.value.risksAndChallenges),E(2),F("disabled",i.projectForm.invalid||i.isLoading),E(),oe(" ",i.isLoading?"Guardando...":"Guardar Cambios"," "),E(3),F("ngIf",i.error)}}var uv=class n{constructor(e,t,r,i,o){this.fb=e;this.route=t;this.router=r;this.projectService=i;this.authService=o;this.projectForm=this.fb.group({title:["",[ze.required,ze.minLength(5)]],description:["",[ze.required,ze.minLength(20)]],longDescription:["",[ze.required,ze.minLength(100)]],category:["",ze.required],location:["",ze.required],risksAndChallenges:["",ze.required]})}projectId="";projectForm;isLoading=!0;error=null;categories=["Tecnolog\xEDa","Social","Medio Ambiente","Educaci\xF3n","Arte"];ngOnInit(){this.projectId=this.route.snapshot.paramMap.get("id")||"",this.loadProjectData()}loadProjectData(){this.authService.currentUser$.pipe(ht(1)).subscribe(e=>{this.projectService.getProjectById(this.projectId).subscribe({next:t=>{if(!t){this.error="Proyecto no encontrado",this.isLoading=!1;return}if(t.creator?.email!==e?.email){this.error="No tienes permiso para editar este proyecto",this.isLoading=!1;return}this.projectForm.patchValue({title:t.title,description:t.description,longDescription:t.longDescription||"",category:t.category,location:t.location||"",risksAndChallenges:t.risksAndChallenges||""}),this.isLoading=!1},error:t=>{console.error("Error loading project",t),this.error="Error al cargar el proyecto",this.isLoading=!1}})})}onSubmit(){if(this.projectForm.invalid||this.isLoading)return;this.isLoading=!0,this.error=null;let e=L({},this.projectForm.value);this.projectService.updateProject(this.projectId,e).subscribe({next:()=>{this.router.navigate(["/project-analytics",this.projectId])},error:t=>{console.error("Error updating project",t),this.error="Error al actualizar el proyecto",this.isLoading=!1}})}onCancel(){this.router.navigate(["/project-analytics",this.projectId])}static \u0275fac=function(t){return new(t||n)(j(wm),j(ln),j(Ae),j(Ln),j(Be))};static \u0275cmp=Pe({type:n,selectors:[["app-project-edit"]],decls:5,vars:2,consts:[[1,"edit-container"],["class","loading-message",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"loading-message"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","title"],["type","text","id","title","formControlName","title",3,"value"],["class","error-message",4,"ngIf"],["for","description"],["id","description","formControlName","description"],["for","longDescription"],["id","longDescription","formControlName","longDescription"],["for","category"],["id","category","formControlName","category"],["value",""],[3,"value","selected",4,"ngFor","ngForOf"],["for","location"],["type","text","id","location","formControlName","location",3,"value"],["for","risks"],["id","risks","formControlName","risksAndChallenges"],[1,"form-actions"],["type","submit",3,"disabled"],["type","button",3,"click"],[1,"error-message"],[3,"value","selected"]],template:function(t,r){t&1&&(g(0,"div",0)(1,"h2"),b(2,"Editar Proyecto"),m(),G(3,w7,3,0,"div",1)(4,D7,39,12,"form",2),m()),t&2&&(E(3),F("ngIf",r.isLoading),E(),F("ngIf",!r.isLoading))},dependencies:[cc,Zr,Eo,Co,jt,Xr,un,Qr,ac,Bu,lt,Vt,gt],styles:[`@charset "UTF-8";.edit-container[_ngcontent-%COMP%]{max-width:800px;margin:2rem auto;padding:2rem;background:#fff;border-radius:8px;box-shadow:0 2px 10px #0000001a}.edit-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2e7d32;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:4px;font-size:1rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#4caf50}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:120px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:2rem}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:4px;cursor:pointer;font-size:1rem}.form-actions[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none}.form-actions[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:disabled{background-color:#ccc}.form-actions[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd}.error-message[_ngcontent-%COMP%]{color:#d32f2f;margin-top:.5rem}.loading-message[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#666}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#333}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;transition:border-color .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#4caf50;box-shadow:0 0 0 2px #4caf5033}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:120px;resize:vertical}select[_ngcontent-%COMP%]{appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .5rem center;background-size:1em}`]})};function Sd(n){return n.buttons===0||n.detail===0}function Ad(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var HI;function qN(){if(HI==null){let n=typeof document<"u"?document.head:null;HI=!!(n&&(n.createShadowRoot||n.attachShadow))}return HI}function zI(n){if(qN()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Vn(n){return n.composedPath?n.composedPath()[0]:n.target}function ur(n,e,t,r,i){let o=parseInt(Yl.major),s=parseInt(Yl.minor);return o>19||o===19&&s>0||o===0&&s===0?n.listen(e,t,r,i):(e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)})}var qI;try{qI=typeof Intl<"u"&&Intl.v8BreakIterator}catch{qI=!1}var Ht=(()=>{class n{_platformId=I(Br);isBrowser=this._platformId?_0(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||qI)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var xd;function WN(){if(xd==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>xd=!0}))}finally{xd=xd||!1}return xd}function jc(n){return WN()?n:!!n.capture}function mi(n){return n instanceof Je?n.nativeElement:n}var GN=new $("cdk-input-modality-detector-options"),KN={ignoreKeys:[18,17,224,91,16]},YN=650,WI={passive:!0,capture:!0},QN=(()=>{class n{_platform=I(Ht);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new tt(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(r=>r===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Vn(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<YN||(this._modality.next(Sd(t)?"keyboard":"mouse"),this._mostRecentTarget=Vn(t))};_onTouchstart=t=>{if(Ad(t)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Vn(t)};constructor(){let t=I(ce),r=I(Ie),i=I(GN,{optional:!0});if(this._options=L(L({},KN),i),this.modalityDetected=this._modality.pipe(Il(1)),this.modalityChanged=this.modalityDetected.pipe(Kh()),this._platform.isBrowser){let o=I(Gt).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[ur(o,r,"keydown",this._onKeydown,WI),ur(o,r,"mousedown",this._onMousedown,WI),ur(o,r,"touchstart",this._onTouchstart,WI)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t())}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Md=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(Md||{}),ZN=new $("cdk-focus-monitor-default-options"),dv=jc({passive:!0,capture:!0}),GI=(()=>{class n{_ngZone=I(ce);_platform=I(Ht);_inputModalityDetector=I(QN);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=I(Ie,{optional:!0});_stopInputModalityDetector=new he;constructor(){let t=I(ZN,{optional:!0});this._detectionMode=t?.detectionMode||Md.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{let r=Vn(t);for(let i=r;i;i=i.parentElement)t.type==="focus"?this._onFocus(t,i):this._onBlur(t,i)};monitor(t,r=!1){let i=mi(t);if(!this._platform.isBrowser||i.nodeType!==1)return X();let o=zI(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;let a={checkChildren:r,subject:new he,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){let r=mi(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){let o=mi(t),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,r,c)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===Md.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused",r==="touch"),t.classList.toggle("cdk-keyboard-focused",r==="keyboard"),t.classList.toggle("cdk-mouse-focused",r==="mouse"),t.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&r,this._detectionMode===Md.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?YN:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(t,r){let i=this._elementInfo.get(r),o=Vn(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){let i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,dv),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,dv)}),this._rootNodeFocusListenerCount.set(r,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Qn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,dv),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,dv),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){let r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!r||r===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0}return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var hv=new WeakMap,No=(()=>{class n{_appRef;_injector=I(Le);_environmentInjector=I(ct);load(t){let r=this._appRef=this._appRef||this._injector.get(yr),i=hv.get(r);i||(i={loaders:new Set,refs:[]},hv.set(r,i),r.onDestroy(()=>{hv.get(r)?.refs.forEach(o=>o.destroy()),hv.delete(r)})),i.loaders.has(t)||(i.loaders.add(t),i.refs.push(tp(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Bc(n){return Array.isArray(n)?n:[n]}var XN=new Set,Qs,eF=(()=>{class n{_platform=I(Ht);_nonce=I(Ul,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):A7}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&S7(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function S7(n,e){if(!XN.has(n))try{Qs||(Qs=document.createElement("style"),e&&Qs.setAttribute("nonce",e),Qs.setAttribute("type","text/css"),document.head.appendChild(Qs)),Qs.sheet&&(Qs.sheet.insertRule(`@media ${n} {body{ }}`,0),XN.add(n))}catch(t){console.error(t)}}function A7(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var KI=(()=>{class n{_mediaMatcher=I(eF);_zone=I(ce);_queries=new Map;_destroySubject=new he;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return JN(Bc(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let i=JN(Bc(t)).map(s=>this._registerQuery(s).observable),o=Go(i);return o=co(o.pipe(ht(1)),o.pipe(Il(1),W_(0))),o.pipe(de(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:u})=>{a.matches=a.matches||c,a.breakpoints[u]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let r=this._mediaMatcher.matchMedia(t),o={observable:new me(s=>{let a=c=>this._zone.run(()=>s.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(ba(r),de(({matches:s})=>({query:t,matches:s})),Qn(this._destroySubject)),mql:r};return this._queries.set(t,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function JN(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var tF=new $("liveAnnouncerElement",{providedIn:"root",factory:nF});function nF(){return null}var rF=new $("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),x7=0,YI=(()=>{class n{_ngZone=I(ce);_defaultOptions=I(rF,{optional:!0});_liveElement;_document=I(Ie);_previousTimeout;_currentPromise;_currentResolve;constructor(){let t=I(tF,{optional:!0});this._liveElement=t||this._createLiveElement()}announce(t,...r){let i=this._defaultOptions,o,s;return r.length===1&&typeof r[0]=="number"?s=r[0]:[o,s]=r,this.clear(),clearTimeout(this._previousTimeout),o||(o=i&&i.politeness?i.politeness:"polite"),s==null&&i&&(s=i.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let o=0;o<r.length;o++)r[o].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id=`cdk-live-announcer-${x7++}`,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(t){let r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){let o=r[i],s=o.getAttribute("aria-owns");s?s.indexOf(t)===-1&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var QI={},Pd=(()=>{class n{_appId=I(Bl);getId(t){return this._appId!=="ng"&&(t+=this._appId),QI.hasOwnProperty(t)||(QI[t]=0),`${t}${QI[t]++}`}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Zs;function iF(){if(Zs==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Zs=!1,Zs;if("scrollBehavior"in document.documentElement.style)Zs=!0;else{let n=Element.prototype.scrollTo;n?Zs=!/\{\s*\[native code\]\s*\}/.test(n.toString()):Zs=!1}}return Zs}function ZI(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function It(n){return n==null?"":typeof n=="string"?n:`${n}px`}var dr=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(dr||{}),XI=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=dr.HIDDEN;constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i}fadeOut(){this._renderer.fadeOutRipple(this)}},oF=jc({passive:!0,capture:!0}),JI=class{_events=new Map;addHandler(e,t,r,i){let o=this._events.get(t);if(o){let s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,oF)})}removeHandler(e,t,r){let i=this._events.get(e);if(!i)return;let o=i.get(t);o&&(o.delete(r),o.size===0&&i.delete(t),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,oF)))}_delegateEventHandler=e=>{let t=Vn(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(o=>o.handleEvent(e))})}},Rd={enterDuration:225,exitDuration:150},P7=800,sF=jc({passive:!0,capture:!0}),aF=["mousedown","touchstart"],cF=["mouseup","mouseleave","touchend","touchcancel"],R7=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Pe({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return n})(),fv=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new JI;constructor(e,t,r,i,o){this._target=e,this._ngZone=t,this._platform=i,i.isBrowser&&(this._containerElement=mi(r)),o&&o.get(No).load(R7)}fadeInRipple(e,t,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=L(L({},Rd),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);let s=r.radius||O7(e,t,i),a=e-i.left,c=t-i.top,u=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${c-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,r.color!=null&&(d.style.backgroundColor=r.color),d.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(d);let p=window.getComputedStyle(d),v=p.transitionProperty,_=p.transitionDuration,S=v==="none"||_==="0s"||_==="0s, 0s"||i.width===0&&i.height===0,R=new XI(this,d,r,S);d.style.transform="scale3d(1, 1, 1)",R.state=dr.FADING_IN,r.persistent||(this._mostRecentTransientRipple=R);let k=null;return!S&&(u||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let W=()=>{k&&(k.fallbackTimer=null),clearTimeout(Z),this._finishRippleTransition(R)},J=()=>this._destroyRipple(R),Z=setTimeout(J,u+100);d.addEventListener("transitionend",W),d.addEventListener("transitioncancel",J),k={onTransitionEnd:W,onTransitionCancel:J,fallbackTimer:Z}}),this._activeRipples.set(R,k),(S||!u)&&this._finishRippleTransition(R),R}fadeOutRipple(e){if(e.state===dr.FADING_OUT||e.state===dr.HIDDEN)return;let t=e.element,r=L(L({},Rd),e.config.animation);t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=dr.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=mi(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,aF.forEach(r=>{n._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{cF.forEach(t=>{this._triggerElement.addEventListener(t,this,sF)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===dr.FADING_IN?this._startFadeOutTransition(e):e.state===dr.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=dr.VISIBLE,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=dr.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=Sd(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+P7;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Ad(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===dr.VISIBLE||e.config.terminateOnPointerUp&&e.state===dr.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(aF.forEach(t=>n._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(cF.forEach(t=>e.removeEventListener(t,this,sF)),this._pointerUpEventsRegistered=!1))}};function O7(n,e,t){let r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}var lF=new $("mat-ripple-global-options");var k7={capture:!0},N7=["focus","mousedown","mouseenter","touchstart"],eT="mat-ripple-loader-uninitialized",tT="mat-ripple-loader-class-name",uF="mat-ripple-loader-centered",pv="mat-ripple-loader-disabled",dF=(()=>{class n{_document=I(Ie);_animationMode=I(Ri,{optional:!0});_globalRippleOptions=I(lF,{optional:!0});_platform=I(Ht);_ngZone=I(ce);_injector=I(Le);_eventCleanups;_hosts=new Map;constructor(){let t=I(Gt).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>N7.map(r=>ur(t,this._document,r,this._onInteraction,k7)))}ngOnDestroy(){let t=this._hosts.keys();for(let r of t)this.destroyRipple(r);this._eventCleanups.forEach(r=>r())}configureRipple(t,r){t.setAttribute(eT,this._globalRippleOptions?.namespace??""),(r.className||!t.hasAttribute(tT))&&t.setAttribute(tT,r.className||""),r.centered&&t.setAttribute(uF,""),r.disabled&&t.setAttribute(pv,"")}setDisabled(t,r){let i=this._hosts.get(t);i?(i.target.rippleDisabled=r,!r&&!i.hasSetUpEvents&&(i.hasSetUpEvents=!0,i.renderer.setupTriggerEvents(t))):r?t.setAttribute(pv,""):t.removeAttribute(pv)}_onInteraction=t=>{let r=Vn(t);if(r instanceof HTMLElement){let i=r.closest(`[${eT}="${this._globalRippleOptions?.namespace??""}"]`);i&&this._createRipple(i)}};_createRipple(t){if(!this._document||this._hosts.has(t))return;t.querySelector(".mat-ripple")?.remove();let r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(tT)),t.append(r);let i=this._animationMode==="NoopAnimations",o=this._globalRippleOptions,s=i?0:o?.animation?.enterDuration??Rd.enterDuration,a=i?0:o?.animation?.exitDuration??Rd.exitDuration,c={rippleDisabled:i||o?.disabled||t.hasAttribute(pv),rippleConfig:{centered:t.hasAttribute(uF),terminateOnPointerUp:o?.terminateOnPointerUp,animation:{enterDuration:s,exitDuration:a}}},u=new fv(c,this._ngZone,r,this._platform,this._injector),d=!c.rippleDisabled;d&&u.setupTriggerEvents(t),this._hosts.set(t,{target:c,renderer:u,hasSetUpEvents:d}),t.removeAttribute(eT)}destroyRipple(t){let r=this._hosts.get(t);r&&(r.renderer._removeTriggerEvents(),this._hosts.delete(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var hF=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Pe({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(r,i){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return n})();var F7=new $("MAT_BUTTON_CONFIG");var L7=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],fF=(()=>{class n{_elementRef=I(Je);_ngZone=I(ce);_animationMode=I(Ri,{optional:!0});_focusMonitor=I(GI);_rippleLoader=I(dF);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){I(No).load(hF);let t=I(F7,{optional:!0}),r=this._elementRef.nativeElement,i=r.classList;this.disabledInteractive=t?.disabledInteractive??!1,this.color=t?.color??null,this._rippleLoader?.configureRipple(r,{className:"mat-mdc-button-ripple"});for(let{attribute:o,mdcClasses:s}of L7)r.hasAttribute(o)&&i.add(...s)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=fe({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Zt],disabled:[2,"disabled","disabled",Zt],ariaDisabled:[2,"aria-disabled","ariaDisabled",Zt],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Zt]}})}return n})();var V7=new $("cdk-dir-doc",{providedIn:"root",factory:j7});function j7(){return I(Ie)}var B7=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function U7(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?B7.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var pF=(()=>{class n{value="ltr";change=new Ze;constructor(){let t=I(V7,{optional:!0});if(t){let r=t.body?t.body.dir:null,i=t.documentElement?t.documentElement.dir:null;this.value=U7(r||i||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $7=["mat-button",""],H7=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],z7=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var mF=(()=>{class n extends fF{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ct(n)))(i||n)}})();static \u0275cmp=Pe({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,i){r&2&&(tr("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled()),e0(i.color?"mat-"+i.color:""),$e("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable",i._animationMode==="NoopAnimations")("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[We],attrs:$7,ngContentSelectors:z7,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(Xf(H7),te(0,"span",0),ja(1),g(2,"span",1),ja(3,1),m(),ja(4,2),te(5,"span",2)(6,"span",3)),r&2&&$e("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();var Uc=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Xs=class extends Uc{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(e,t,r,i,o){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.projectableNodes=o}},Js=class extends Uc{templateRef;viewContainerRef;context;injector;constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},mv=class extends Uc{element;constructor(e){super(),this.element=e instanceof Je?e.nativeElement:e}},ea=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Xs)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Js)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof mv)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Od=class extends ea{outletElement;_appRef;_defaultInjector;_document;constructor(e,t,r,i,o){super(),this.outletElement=e,this._appRef=r,this._defaultInjector=i,this._document=o}attachComponentPortal(e){let t;if(e.viewContainerRef){let r=e.injector||e.viewContainerRef.injector,i=r.get(Ti,null,{optional:!0})||void 0;t=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:r,ngModuleRef:i,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{let r=this._appRef,i=e.injector||this._defaultInjector||Le.NULL,o=i.get(ct,r.injector);t=tp(e.component,{elementInjector:i,environmentInjector:o,projectableNodes:e.projectableNodes||void 0}),r.attachView(t.hostView),this.setDisposeFn(()=>{r.viewCount>0&&r.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);i!==-1&&t.remove(i)}),this._attachedPortal=e,r}attachDomPortal=e=>{let t=e.element;t.parentNode;let r=this._document.createComment("dom-portal");t.parentNode.insertBefore(r,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(t,r)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var gv=(()=>{class n extends ea{_moduleRef=I(Ti,{optional:!0});_document=I(Ie);_viewContainerRef=I(er);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}attached=new Ze;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let r=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,i=r.createComponent(t.component,{index:r.length,injector:t.injector||r.injector,projectableNodes:t.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return r!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachDomPortal=t=>{let r=t.element;r.parentNode;let i=this._document.createComment("dom-portal");t.setAttachedHost(this),r.parentNode.insertBefore(i,r),this._getRootNode().appendChild(r),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(r,i)})};_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static \u0275fac=function(r){return new(r||n)};static \u0275dir=fe({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[We]})}return n})();var vF={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var q7=20,_F=(()=>{class n{_ngZone=I(ce);_platform=I(Ht);_renderer=I(Gt).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new he;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=q7){return this._platform.isBrowser?new me(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=t>0?this._scrolled.pipe(Gh(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):X()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){let i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(dt(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){let r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_scrollableContainsElement(t,r){let i=mi(r),o=t.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var W7=20,nT=(()=>{class n{_platform=I(Ht);_listeners;_viewportSize;_change=new he;_document=I(Ie,{optional:!0});constructor(){let t=I(ce),r=I(Gt).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect(),s=-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,a=-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:s,left:a}}change(t=W7){return t>0?this._change.pipe(Gh(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var yF=iF(),vv=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,t){this._viewportRuler=e,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=It(-this._previousScrollPosition.left),e.style.top=It(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,r=e.style,i=t.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),yF&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),yF&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.documentElement,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}};var _v=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(dt(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},kd=class{enable(){}disable(){}attach(){}};function rT(n,e){return e.some(t=>{let r=n.bottom<t.top,i=n.top>t.bottom,o=n.right<t.left,s=n.left>t.right;return r||i||o||s})}function bF(n,e){return e.some(t=>{let r=n.top<t.top,i=n.bottom>t.bottom,o=n.left<t.left,s=n.right>t.right;return r||i||o||s})}var yv=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();rT(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},DF=(()=>{class n{_scrollDispatcher=I(_F);_viewportRuler=I(nT);_ngZone=I(ce);_document=I(Ie);constructor(){}noop=()=>new kd;close=t=>new _v(this._scrollDispatcher,this._ngZone,this._viewportRuler,t);block=()=>new vv(this._viewportRuler,this._document);reposition=t=>new yv(this._scrollDispatcher,this._viewportRuler,this._ngZone,t);static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$c=class{positionStrategy;scrollStrategy=new kd;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(e){if(e){let t=Object.keys(e);for(let r of t)e[r]!==void 0&&(this[r]=e[r])}}};var bv=class{connectionPair;scrollableViewProperties;constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var SF=(()=>{class n{_attachedOverlays=[];_document=I(Ie);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),AF=(()=>{class n extends SF{_ngZone=I(ce);_renderer=I(Gt).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=t=>{let r=this._attachedOverlays;for(let i=r.length-1;i>-1;i--)if(r[i]._keydownEvents.observers.length>0){this._ngZone.run(()=>r[i]._keydownEvents.next(t));break}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ct(n)))(i||n)}})();static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xF=(()=>{class n extends SF{_platform=I(Ht);_ngZone=I(ce);_renderer=I(Gt).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(t){if(super.add(t),!this._isAttached){let r=this._document.body,i={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[ur(this._renderer,r,"pointerdown",this._pointerDownListener,i),ur(this._renderer,r,"click",this._clickListener,i),ur(this._renderer,r,"auxclick",this._clickListener,i),ur(this._renderer,r,"contextmenu",this._clickListener,i)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=t=>{this._pointerDownEventTarget=Vn(t)};_clickListener=t=>{let r=Vn(t),i=t.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:r;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(wF(a.overlayElement,r)||wF(a.overlayElement,i))break;let c=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>c.next(t)):c.next(t)}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ct(n)))(i||n)}})();static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wF(n,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,r=e;for(;r;){if(r===n)return!0;r=t&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}var MF=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Pe({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return n})(),PF=(()=>{class n{_platform=I(Ht);_containerElement;_document=I(Ie);_styleLoader=I(No);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||ZI()){let i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}let r=this._document.createElement("div");r.classList.add(t),ZI()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}_loadStyles(){this._styleLoader.load(MF)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),iT=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,t,r,i){this._renderer=t,this._ngZone=r,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",i)}detach(){this._ngZone.runOutsideAngular(()=>{let e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},wv=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new he;_attachments=new he;_detachments=new he;_positionStrategy;_scrollStrategy;_locationChanges=et.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new he;_outsidePointerEvents=new he;_renders=new he;_afterRenderRef;_afterNextRenderRef;constructor(e,t,r,i,o,s,a,c,u,d=!1,p,v){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=u,this._animationsDisabled=d,this._injector=p,this._renderer=v,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy,this._afterRenderRef=bn(()=>$l(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=ps(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=L(L({},this._config),e),this._updateElementSize()}setDirection(e){this._config=ee(L({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=It(this._config.width),e.height=It(this._config.height),e.minWidth=It(this._config.minWidth),e.minHeight=It(this._config.minHeight),e.maxWidth=It(this._config.maxWidth),e.maxHeight=It(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new iT(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,t,r){let i=Bc(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(Qn(q_(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e?.disable(),e?.detach?.()}},EF="cdk-overlay-connected-position-bounding-box",G7=/([A-Za-z%]+)$/,Ev=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new he;_resizeSubscription=et.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(EF),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[],s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,i,a),u=this._getOverlayPoint(c,t,a),d=this._getOverlayFit(u,t,r,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(d,u,r)){o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:u,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(let u of o){let d=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);d>c&&(c=d,a=u)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ta(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(EF),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i;if(r.originX=="center")i=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i=r.originX=="start"?s:a}t.left<0&&(i-=t.left);let o;return r.originY=="center"?o=e.top+e.height/2:o=r.originY=="top"?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i;r.overlayX=="center"?i=-t.width/2:r.overlayX==="start"?i=this._isRtl()?-t.width:0:i=this._isRtl()?0:-t.width;let o;return r.overlayY=="center"?o=-t.height/2:o=r.overlayY=="top"?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){let o=IF(t),{x:s,y:a}=e,c=this._getOffset(i,"x"),u=this._getOffset(i,"y");c&&(s+=c),u&&(a+=u);let d=0-s,p=s+o.width-r.width,v=0-a,_=a+o.height-r.height,S=this._subtractOverflows(o.width,d,p),R=this._subtractOverflows(o.height,v,_),k=S*R;return{visibleArea:k,isCompletelyWithinViewport:o.width*o.height===k,fitsInViewportVertically:R===o.height,fitsInViewportHorizontally:S==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){let i=r.bottom-t.y,o=r.right-t.x,s=CF(this._overlayRef.getConfig().minHeight),a=CF(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportVertically||s!=null&&s<=i,u=e.fitsInViewportHorizontally||a!=null&&a<=o;return c&&u}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let i=IF(t),o=this._viewportRect,s=Math.max(e.x+i.width-o.width,0),a=Math.max(e.y+i.height-o.height,0),c=Math.max(o.top-r.top-e.y,0),u=Math.max(o.left-r.left-e.x,0),d=0,p=0;return i.width<=o.width?d=u||-s:d=e.x<this._viewportMargin?o.left-r.left-e.x:0,i.height<=o.height?p=c||-a:p=e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:d,y:p},{x:e.x+d,y:e.y+p}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!K7(this._lastScrollVisibility,r)){let i=new bv(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=e.overlayY;e.overlayX==="center"?r="center":this._isRtl()?r=e.overlayX==="start"?"right":"left":r=e.overlayX==="start"?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){let r=this._viewportRect,i=this._isRtl(),o,s,a;if(t.overlayY==="top")s=e.y,o=r.height-s+this._viewportMargin;else if(t.overlayY==="bottom")a=r.height-e.y+this._viewportMargin*2,o=r.height-a+this._viewportMargin;else{let _=Math.min(r.bottom-e.y+r.top,e.y),S=this._lastBoundingBoxSize.height;o=_*2,s=e.y-_,o>S&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-S/2)}let c=t.overlayX==="start"&&!i||t.overlayX==="end"&&i,u=t.overlayX==="end"&&!i||t.overlayX==="start"&&i,d,p,v;if(u)v=r.width-e.x+this._viewportMargin*2,d=e.x-this._viewportMargin;else if(c)p=e.x,d=r.right-e.x;else{let _=Math.min(r.right-e.x+r.left,e.x),S=this._lastBoundingBoxSize.width;d=_*2,p=e.x-_,d>S&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-S/2)}return{top:s,left:p,bottom:a,right:v,width:d,height:o}}_setBoundingBoxStyles(e,t){let r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=It(r.height),i.top=It(r.top),i.bottom=It(r.bottom),i.width=It(r.width),i.left=It(r.left),i.right=It(r.right),t.overlayX==="center"?i.alignItems="center":i.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?i.justifyContent="center":i.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",o&&(i.maxHeight=It(o)),s&&(i.maxWidth=It(s))}this._lastBoundingBoxSize=r,ta(this._boundingBox.style,i)}_resetBoundingBoxStyles(){ta(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ta(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){let d=this._viewportRuler.getViewportScrollPosition();ta(r,this._getExactOverlayY(t,e,d)),ta(r,this._getExactOverlayX(t,e,d))}else r.position="static";let a="",c=this._getOffset(t,"x"),u=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),u&&(a+=`translateY(${u}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=It(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=It(s.maxWidth):o&&(r.maxWidth="")),ta(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;i.bottom=`${s-(o.y+this._overlayRect.height)}px`}else i.top=It(o.y);return i}_getExactOverlayX(e,t,r){let i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;i.right=`${a-(o.x+this._overlayRect.width)}px`}else i.left=It(o.x);return i}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:bF(e,r),isOriginOutsideView:rT(e,r),isOverlayClipped:bF(t,r),isOverlayOutsideView:rT(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Bc(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Je)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}};function ta(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function CF(n){if(typeof n!="number"&&n!=null){let[e,t]=n.split(G7);return!t||t==="px"?parseFloat(e):null}return n||null}function IF(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function K7(n,e){return n===e?!0:n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}var TF="cdk-global-overlay-wrapper",Cv=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(TF),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,c=(i==="100%"||i==="100vw")&&(!s||s==="100%"||s==="100vw"),u=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,p=this._xOffset,v=this._overlayRef.getConfig().direction==="rtl",_="",S="",R="";c?R="flex-start":d==="center"?(R="center",v?S=p:_=p):v?d==="left"||d==="end"?(R="flex-end",_=p):(d==="right"||d==="start")&&(R="flex-start",S=p):d==="left"||d==="start"?(R="flex-start",_=p):(d==="right"||d==="end")&&(R="flex-end",S=p),e.position=this._cssPosition,e.marginLeft=c?"0":_,e.marginTop=u?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":S,t.justifyContent=R,t.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(TF),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},RF=(()=>{class n{_viewportRuler=I(nT);_document=I(Ie);_platform=I(Ht);_overlayContainer=I(PF);constructor(){}global(){return new Cv}flexibleConnectedTo(t){return new Ev(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oT=(()=>{class n{scrollStrategies=I(DF);_overlayContainer=I(PF);_positionBuilder=I(RF);_keyboardDispatcher=I(AF);_injector=I(Le);_ngZone=I(ce);_document=I(Ie);_directionality=I(pF);_location=I(Ur);_outsideClickDispatcher=I(xF);_animationsModuleType=I(Ri,{optional:!0});_idGenerator=I(Pd);_renderer=I(Gt).createRenderer(null,null);_appRef;_styleLoader=I(No);constructor(){}create(t){this._styleLoader.load(MF);let r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),s=new $c(t);return s.direction=s.direction||this._directionality.value,new wv(o,r,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(ct),this._renderer)}position(){return this._positionBuilder}_createPaneElement(t){let r=this._document.createElement("div");return r.id=this._idGenerator.getId("cdk-overlay-"),r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){let t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(yr)),new Od(t,null,this._appRef,this._injector,this._document)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Q7(n,e){if(n&1){let t=Ne();g(0,"div",1)(1,"button",2),z("click",function(){re(t);let i=H();return ie(i.action())}),b(2),m()()}if(n&2){let t=H();E(2),oe(" ",t.data.action," ")}}var Z7=["label"];function X7(n,e){}var J7=Math.pow(2,31)-1,Nd=class{_overlayRef;instance;containerInstance;_afterDismissed=new he;_afterOpened=new he;_onAction=new he;_durationTimeoutId;_dismissedByAction=!1;constructor(e,t){this._overlayRef=t,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,J7))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},OF=new $("MatSnackBarData"),Hc=class{politeness="assertive";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},eK=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=fe({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return n})(),tK=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=fe({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return n})(),nK=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=fe({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return n})(),rK=(()=>{class n{snackBarRef=I(Nd);data=I(OF);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Pe({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(r,i){r&1&&(g(0,"div",0),b(1),m(),G(2,Q7,3,1,"div",1)),r&2&&(E(),oe(" ",i.data.message,`
`),E(),CM(i.hasAction?2:-1))},dependencies:[mF,eK,tK,nK],styles:[`.mat-mdc-simple-snack-bar{display:flex}
`],encapsulation:2,changeDetection:0})}return n})(),sT="_mat-snack-bar-enter",aT="_mat-snack-bar-exit",iK=(()=>{class n extends ea{_ngZone=I(ce);_elementRef=I(Je);_changeDetectorRef=I(wr);_platform=I(Ht);_rendersRef;_animationsDisabled=I(Ri,{optional:!0})==="NoopAnimations";snackBarConfig=I(Hc);_document=I(Ie);_trackedModals=new Set;_enterFallback;_exitFallback;_renders=new he;_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new he;_onExit=new he;_onEnter=new he;_animationState="void";_live;_label;_role;_liveElementId=I(Pd).getId("mat-snack-bar-container-live-");constructor(){super();let t=this.snackBarConfig;t.politeness==="assertive"&&!t.announcementMessage?this._live="assertive":t.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert")),this._rendersRef=$l(()=>this._renders.next(),{manualCleanup:!0})}attachComponentPortal(t){this._assertNotAttached();let r=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),r}attachTemplatePortal(t){this._assertNotAttached();let r=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),r}attachDomPortal=t=>{this._assertNotAttached();let r=this._portalOutlet.attachDomPortal(t);return this._afterPortalAttached(),r};onAnimationEnd(t){t===aT?this._completeExit():t===sT&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?this._renders.pipe(ht(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(sT)))}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(sT)},200)))}exit(){return this._destroyed?X(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?this._renders.pipe(ht(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(aT)))}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(aT),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit(),this._renders.complete(),this._rendersRef.destroy()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let t=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(s=>t.classList.add(s)):t.classList.add(r)),this._exposeToModals();let i=this._label.nativeElement,o="mdc-snackbar__label";i.classList.toggle(o,!i.querySelector(`.${o}`))}_exposeToModals(){let t=this._liveElementId,r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){let o=r[i],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?s.indexOf(t)===-1&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{let r=t.getAttribute("aria-owns");if(r){let i=r.replace(this._liveElementId,"").trim();i.length>0?t.setAttribute("aria-owns",i):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let t=this._elementRef.nativeElement,r=t.querySelector("[aria-hidden]"),i=t.querySelector("[aria-live]");if(r&&i){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&r.contains(document.activeElement)&&(o=document.activeElement),r.removeAttribute("aria-hidden"),i.appendChild(r),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Pe({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(r,i){if(r&1&&(Jf(gv,7),Jf(Z7,7)),r&2){let o;Wl(o=Gl())&&(i._portalOutlet=o.first),Wl(o=Gl())&&(i._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(r,i){r&1&&z("animationend",function(s){return i.onAnimationEnd(s.animationName)})("animationcancel",function(s){return i.onAnimationEnd(s.animationName)}),r&2&&$e("mat-snack-bar-container-enter",i._animationState==="visible")("mat-snack-bar-container-exit",i._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!i._animationsDisabled)},features:[We],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(r,i){r&1&&(g(0,"div",1)(1,"div",2,0)(3,"div",3),G(4,X7,0,0,"ng-template",4),m(),te(5,"div"),m()()),r&2&&(E(5),tr("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[gv],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return n})();function oK(){return new Hc}var sK=new $("mat-snack-bar-default-options",{providedIn:"root",factory:oK}),kF=(()=>{class n{_overlay=I(oT);_live=I(YI);_injector=I(Le);_breakpointObserver=I(KI);_parentSnackBar=I(n,{optional:!0,skipSelf:!0});_defaultConfig=I(sK);_snackBarRefAtThisLevel=null;simpleSnackBarComponent=rK;snackBarContainerComponent=iK;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(){}openFromComponent(t,r){return this._attach(t,r)}openFromTemplate(t,r){return this._attach(t,r)}open(t,r="",i){let o=L(L({},this._defaultConfig),i);return o.data={message:t,action:r},o.announcementMessage===t&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,r){let i=r&&r.viewContainerRef&&r.viewContainerRef.injector,o=Le.create({parent:i||this._injector,providers:[{provide:Hc,useValue:r}]}),s=new Xs(this.snackBarContainerComponent,r.viewContainerRef,o),a=t.attach(s);return a.instance.snackBarConfig=r,a.instance}_attach(t,r){let i=L(L(L({},new Hc),this._defaultConfig),r),o=this._createOverlay(i),s=this._attachSnackBarContainer(o,i),a=new Nd(s,o);if(t instanceof Jn){let c=new Js(t,null,{$implicit:i.data,snackBarRef:a});a.instance=s.attachTemplatePortal(c)}else{let c=this._createInjector(i,a),u=new Xs(t,void 0,c),d=s.attachComponentPortal(u);a.instance=d.instance}return this._breakpointObserver.observe(vF.HandsetPortrait).pipe(Qn(o.detachments())).subscribe(c=>{o.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),i.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(a,i),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(t,r){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),r.duration&&r.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(r.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter()}_createOverlay(t){let r=new $c;r.direction=t.direction;let i=this._overlay.position().global(),o=t.direction==="rtl",s=t.horizontalPosition==="left"||t.horizontalPosition==="start"&&!o||t.horizontalPosition==="end"&&o,a=!s&&t.horizontalPosition!=="center";return s?i.left("0"):a?i.right("0"):i.centerHorizontally(),t.verticalPosition==="top"?i.top("0"):i.bottom("0"),r.positionStrategy=i,this._overlay.create(r)}_createInjector(t,r){let i=t&&t.viewContainerRef&&t.viewContainerRef.injector;return Le.create({parent:i||this._injector,providers:[{provide:Nd,useValue:r},{provide:OF,useValue:t.data}]})}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cK(n,e){if(n&1&&(g(0,"div",11),b(1),m()),n&2){let t=H();E(),ne(t.successMessage)}}function lK(n,e){if(n&1&&(g(0,"div",12),b(1),m()),n&2){let t=H();E(),ne(t.errorMessage)}}function uK(n,e){n&1&&(g(0,"small"),b(1,"El correo es obligatorio."),m())}function dK(n,e){n&1&&(g(0,"small"),b(1,"Correo no v\xE1lido."),m())}function hK(n,e){if(n&1&&(g(0,"div",13),G(1,uK,2,0,"small",14)(2,dK,2,0,"small",14),m()),n&2){H();let t=Ba(11);E(),F("ngIf",t.errors==null?null:t.errors.required),E(),F("ngIf",t.errors==null?null:t.errors.email)}}var Iv=class n{constructor(e,t){this.authService=e;this.snackBar=t}email="";isLoading=!1;successMessage="";errorMessage="";onSubmit(){this.successMessage="",this.errorMessage="",this.isLoading=!0,this.authService.sendPasswordResetEmail(this.email).then(()=>{this.successMessage="Correo de recuperaci\xF3n enviado. Revisa tu bandeja de entrada.",this.email=""}).catch(e=>{e.code==="auth/invalid-email"?this.errorMessage="El correo ingresado no es v\xE1lido.":e.code==="auth/user-not-found"?this.errorMessage="No hay usuario registrado con ese correo.":this.errorMessage="Ocurri\xF3 un error. Intenta de nuevo."}).finally(()=>{this.isLoading=!1})}static \u0275fac=function(t){return new(t||n)(j(Be),j(kF))};static \u0275cmp=Pe({type:n,selectors:[["app-forgot-password"]],decls:15,vars:6,consts:[["form","ngForm"],["emailInput","ngModel"],[1,"forgot-password-container"],["class","alert alert-success",4,"ngIf"],["class","alert alert-error",4,"ngIf"],["novalidate","",3,"ngSubmit"],[1,"form-group"],["for","email"],["id","email","type","email","name","email","required","","email","","placeholder","ejemplo@gmail.com",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["type","submit",3,"disabled"],[1,"alert","alert-success"],[1,"alert","alert-error"],[1,"error"],[4,"ngIf"]],template:function(t,r){if(t&1){let i=Ne();g(0,"div",2)(1,"h2"),b(2,"Recuperar Contrase\xF1a"),m(),G(3,cK,2,1,"div",3)(4,lK,2,1,"div",4),g(5,"form",5,0),z("ngSubmit",function(){return re(i),ie(r.onSubmit())}),g(7,"div",6)(8,"label",7),b(9,"Correo Electr\xF3nico"),m(),g(10,"input",8,1),mt("ngModelChange",function(s){return re(i),yt(r.email,s)||(r.email=s),ie(s)}),m(),G(12,hK,3,2,"div",9),m(),g(13,"button",10),b(14),m()()()}if(t&2){let i=Ba(6),o=Ba(11);E(3),F("ngIf",r.successMessage),E(),F("ngIf",r.errorMessage),E(6),pt("ngModel",r.email),E(2),F("ngIf",o.invalid&&o.touched),E(),F("disabled",i.invalid||r.isLoading),E(),oe(" ",r.isLoading?"Enviando...":"Enviar enlace"," ")}},dependencies:[kn,Zr,jt,un,Qr,Ps,Ew,qn,Ms,lt,gt],styles:["body[_ngcontent-%COMP%]{background:#f0fdf4;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.forgot-password-container[_ngcontent-%COMP%]{max-width:400px;margin:4rem auto;padding:2rem;background-color:#fff;border-radius:12px;box-shadow:0 4px 12px #0000001a;text-align:center}h2[_ngcontent-%COMP%]{color:#2f855a;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]{text-align:left}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#2d3748;font-weight:600}input[type=email][_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #cbd5e0;border-radius:8px;font-size:1rem;outline:none;transition:border .3s}input[type=email][_ngcontent-%COMP%]:focus{border-color:#38a169}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:.75rem;margin-top:1rem;background-color:#38a169;color:#fff;border:none;border-radius:8px;font-size:1rem;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2f855a}button[disabled][_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}.back-to-login[_ngcontent-%COMP%]{margin-top:1rem}.back-to-login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#2b6cb0;text-decoration:none}.back-to-login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.alert[_ngcontent-%COMP%]{padding:1rem;border-radius:6px;margin-bottom:1rem;font-weight:500}.alert-success[_ngcontent-%COMP%]{background-color:#f0fff4;border:1px solid #38a169;color:#276749}.alert-error[_ngcontent-%COMP%]{background-color:#fff5f5;border:1px solid #e53e3e;color:#c53030}"]})};var NF=[{path:"dashboard",component:Jg},{path:"project/:id",component:av},{path:"admin",component:tv,canActivate:[ko,ov]},{path:"user-profile",component:rv,canActivate:[ko]},{path:"login",component:Xg},{path:"register",component:sv},{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"project-creation",component:cv,canActivate:[ko,iv]},{path:"project-analytics/:id",component:lv,canActivate:[ko]},{path:"project-edit/:id",component:uv,canActivate:[ko]},{path:"forgot-password",component:Iv},{path:"**",redirectTo:"/dashboard"}];var FF=(n,e)=>{let t=I(Be),r=I(Ae),i=t.getToken();return i&&(n=n.clone({setHeaders:{Authorization:`Bearer ${i}`}})),e(n).pipe(ot(o=>(o.status===401&&(t.logout(),r.navigate(["/login"])),Tn(()=>o))))};function cT(n){n===void 0&&(Ff(cT),n=I(Le));let e=n.get(zf);return t=>new me(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var qc=new ls("ANGULARFIRE2_VERSION");function lT(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Dv=(n,e)=>{let t=e?[e]:xm(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},zc=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(zc||{}),LF=s0()&&typeof Zone<"u"?zc.WARN:zc.SILENT;var Tv=class{zone;delegate;constructor(e,t=U_){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Wc=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=I(ce);this.outsideAngular=t.runOutsideAngular(()=>new Tv(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Tv(typeof Zone>"u"?void 0:Zone.current,io))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VF=!1;function fK(n,e){!VF&&(LF>zc.SILENT||s0())&&(VF=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),LF>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function pK(n){let e=I(ce,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function na(n){let e=I(ce,{optional:!0});return e?e.run(()=>n()):n()}var mK=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Lt(t,()=>na(()=>n.apply(void 0,r)))),Fd=(n,e,t)=>(t||=e?zc.WARN:zc.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=I(Wc),s=I(zf),a=I(ct)}catch{return fK(n,t),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=na(()=>s.add())),i[u]=mK(i[u],r,a));let c=pK(()=>n.apply(this,i));return e?c instanceof me?c.pipe(so(o.outsideAngular),oo(o.insideAngular),cT(a)):c instanceof Promise?na(()=>new Promise((u,d)=>{s.run(()=>c).then(p=>Lt(a,()=>na(()=>u(p))),p=>Lt(a,()=>na(()=>d(p))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:na(()=>c):c instanceof me?c.pipe(so(o.outsideAngular),oo(o.insideAngular)):na(()=>c)});var ra=class{constructor(e){return e}},Ld=class{constructor(){return xm()}};function gK(n){return n&&n.length===1?n[0]:new ra(Ns())}var uT=new $("angularfire2._apps"),vK={provide:ra,useFactory:gK,deps:[[new Di,uT]]},_K={provide:Ld,deps:[[new Di,uT]]};function yK(n){return(e,t)=>{let r=t.get(Br);At("angularfire",qc.full,"core"),At("angularfire",qc.full,"app"),At("angular",Yl.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new ra(i)}}function jF(n,...e){return Si([vK,_K,{provide:uT,useFactory:yK(n),multi:!0,deps:[ce,Le,Wc,...e]}])}var BF=Fd(Ku,!0);var bK=new Map,wK={activated:!1,tokenObservers:[]},EK={initialized:!1,enabled:!1};function xr(n){return bK.get(n)||Object.assign({},wK)}function zF(){return EK}var CK="https://content-firebaseappcheck.googleapis.com/v1";var IK="exchangeDebugToken",UF={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Vpe=24*60*60*1e3;var fT=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return w(this,null,function*(){this.stop();try{this.pending=new Rs,this.pending.promise.catch(t=>{}),yield TK(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Rs,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function TK(n){return new Promise(e=>{setTimeout(e,n)})}var DK={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Fo=new Tr("appCheck","AppCheck",DK);function qF(n){if(!xr(n).activated)throw Fo.create("use-before-activation",{appName:n.name})}function WF(r,i){return w(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let _=yield s.getHeartbeatsHeader();_&&(o["X-Firebase-Client"]=_)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(_){throw Fo.create("fetch-network-error",{originalErrorMessage:_?.message})}if(c.status!==200)throw Fo.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(_){throw Fo.create("fetch-parse-error",{originalErrorMessage:_?.message})}let d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw Fo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let p=Number(d[1])*1e3,v=Date.now();return{token:u.token,expireTimeMillis:v+p,issuedAtTimeMillis:v}})}function GF(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${CK}/projects/${t}/apps/${r}:${IK}?key=${i}`,body:{debug_token:e}}}var SK="firebase-app-check-database",AK=1,pT="firebase-app-check-store";var Sv=null;function xK(){return Sv||(Sv=new Promise((n,e)=>{try{let t=indexedDB.open(SK,AK);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Fo.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(pT,{keyPath:"compositeKey"})}}}catch(t){e(Fo.create("storage-open",{originalErrorMessage:t?.message}))}}),Sv)}function MK(n,e){return PK(RK(n),e)}function PK(n,e){return w(this,null,function*(){let r=(yield xK()).transaction(pT,"readwrite"),o=r.objectStore(pT).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(Fo.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function RK(n){return`${n.options.appId}-${n.name}`}var Vd=new ei("@firebase/app-check");function dT(n,e){return zu()?MK(n,e).catch(t=>{Vd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function KF(){return zF().enabled}function YF(){return w(this,null,function*(){let n=zF();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var OK={error:"UNKNOWN_ERROR"};function kK(n){return Em.encodeString(JSON.stringify(n),!1)}function mT(n,e=!1,t=!1){return w(this,null,function*(){let r=n.app;qF(r);let i=xr(r),o=i.token,s;if(o&&!jd(o)&&(i.token=void 0,o=void 0),!o){let u=yield i.cachedTokenPromise;u&&(jd(u)?o=u:yield dT(r,void 0))}if(!e&&o&&jd(o))return{token:o.token};let a=!1;if(KF())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=WF(GF(r,yield YF()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield dT(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Vd.warn(u.message):t&&Vd.error(u),hT(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield xr(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Vd.warn(u.message):t&&Vd.error(u),s=u}let c;return o?s?jd(o)?c={token:o.token,internalError:s}:c=hT(s):(c={token:o.token},i.token=o,yield dT(r,o)):c=hT(s),a&&VK(r,c),c})}function NK(n){return w(this,null,function*(){let e=n.app;qF(e);let{provider:t}=xr(e);if(KF()){let r=yield YF(),{token:i}=yield WF(GF(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function FK(n,e,t,r){let{app:i}=n,o=xr(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&jd(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),$F(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>$F(n))}function QF(n,e){let t=xr(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function $F(n){let{app:e}=n,t=xr(e),r=t.tokenRefresher;r||(r=LK(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function LK(n){let{app:e}=n;return new fT(()=>w(null,null,function*(){let t=xr(e),r;if(t.token?r=yield mT(n,!0):r=yield mT(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=xr(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},UF.RETRIAL_MIN_WAIT,UF.RETRIAL_MAX_WAIT)}function VK(n,e){let t=xr(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function jd(n){return n.expireTimeMillis-Date.now()>0}function hT(n){return{token:kK(OK),error:n}}var gT=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=xr(this.app);for(let t of e)QF(this.app,t.next);return Promise.resolve()}};function jK(n,e){return new gT(n,e)}function BK(n){return{getToken:e=>mT(n,e),getLimitedUseToken:()=>NK(n),addTokenListener:e=>FK(n,"INTERNAL",e),removeTokenListener:e=>QF(n.app,e)}}var UK="@firebase/app-check",$K="0.10.0";var HK="app-check",HF="app-check-internal";function zK(){Dr(new En(HK,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return jK(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(HF).initialize()})),Dr(new En(HF,n=>{let e=n.getProvider("app-check").getImmediate();return BK(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),At(UK,$K)}zK();var qK="app-check";var Av=class{constructor(){return Dv(qK)}};var WK=["localhost","0.0.0.0","127.0.0.1"],Zpe=typeof window<"u"&&WK.includes(window.location.hostname);var ZF="auth",Bd=class{constructor(e){return e}},vT=class{constructor(){return Dv(ZF)}};var _T=new $("angularfire2.auth-instances");function GK(n,e){let t=lT(ZF,n,e);return t&&new Bd(t)}function KK(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Bd(r)}}var YK={provide:vT,deps:[[new Di,_T]]},QK={provide:Bd,useFactory:GK,deps:[[new Di,_T],ra]};function XF(n,...e){return At("angularfire",qc.full,"auth"),Si([QK,YK,{provide:_T,useFactory:KK(n),multi:!0,deps:[ce,Le,Wc,Ld,[new Di,Av],...e]}])}var JF=Fd(oi,!0);var eL={providers:[aw(NF,rm(),lw()),R0(O0([FF])),jF(()=>BF(pi.firebaseConfig)),XF(()=>JF())]};var xv=class n{transform(e){return e&&(e?.name||e?.email?.split("@")[0])||"Usuario"}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=ms({name:"userDisplay",type:n,pure:!0})};var Mr=Object.create(null);Mr.open="0";Mr.close="1";Mr.ping="2";Mr.pong="3";Mr.message="4";Mr.upgrade="5";Mr.noop="6";var Ud=Object.create(null);Object.keys(Mr).forEach(n=>{Ud[Mr[n]]=n});var $d={type:"error",data:"parser error"};var rL=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",iL=typeof ArrayBuffer=="function",oL=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,Hd=({type:n,data:e},t,r)=>rL&&e instanceof Blob?t?r(e):tL(e,r):iL&&(e instanceof ArrayBuffer||oL(e))?t?r(e):tL(new Blob([e]),r):r(Mr[n]+(e||"")),tL=(n,e)=>{let t=new FileReader;return t.onload=function(){let r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)};function nL(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}var yT;function sL(n,e){if(rL&&n.data instanceof Blob)return n.data.arrayBuffer().then(nL).then(e);if(iL&&(n.data instanceof ArrayBuffer||oL(n.data)))return e(nL(n.data));Hd(n,!1,t=>{yT||(yT=new TextEncoder),e(yT.encode(t))})}var aL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<aL.length;n++)zd[aL.charCodeAt(n)]=n;var cL=n=>{let e=n.length*.75,t=n.length,r,i=0,o,s,a,c;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);let u=new ArrayBuffer(e),d=new Uint8Array(u);for(r=0;r<t;r+=4)o=zd[n.charCodeAt(r)],s=zd[n.charCodeAt(r+1)],a=zd[n.charCodeAt(r+2)],c=zd[n.charCodeAt(r+3)],d[i++]=o<<2|s>>4,d[i++]=(s&15)<<4|a>>2,d[i++]=(a&3)<<6|c&63;return u};var ZK=typeof ArrayBuffer=="function",qd=(n,e)=>{if(typeof n!="string")return{type:"message",data:lL(n,e)};let t=n.charAt(0);return t==="b"?{type:"message",data:XK(n.substring(1),e)}:Ud[t]?n.length>1?{type:Ud[t],data:n.substring(1)}:{type:Ud[t]}:$d},XK=(n,e)=>{if(ZK){let t=cL(n);return lL(t,e)}else return{base64:!0,data:n}},lL=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}};var uL="",dL=(n,e)=>{let t=n.length,r=new Array(t),i=0;n.forEach((o,s)=>{Hd(o,!1,a=>{r[s]=a,++i===t&&e(r.join(uL))})})},hL=(n,e)=>{let t=n.split(uL),r=[];for(let i=0;i<t.length;i++){let o=qd(t[i],e);if(r.push(o),o.type==="error")break}return r};function fL(){return new TransformStream({transform(n,e){sL(n,t=>{let r=t.length,i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);let o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);let o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}n.data&&typeof n.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}var bT;function Mv(n){return n.reduce((e,t)=>e+t.length,0)}function Pv(n,e){if(n[0].length===e)return n.shift();let t=new Uint8Array(e),r=0;for(let i=0;i<e;i++)t[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),t}function pL(n,e){bT||(bT=new TextDecoder);let t=[],r=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(t.push(s);;){if(r===0){if(Mv(t)<1)break;let c=Pv(t,1);o=(c[0]&128)===128,i=c[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Mv(t)<2)break;let c=Pv(t,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(Mv(t)<8)break;let c=Pv(t,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){a.enqueue($d);break}i=d*Math.pow(2,32)+u.getUint32(4),r=3}else{if(Mv(t)<i)break;let c=Pv(t,i);a.enqueue(qd(o?c:bT.decode(c),e)),r=0}if(i===0||i>n){a.enqueue($d);break}}}})}var wT=4;function rt(n){if(n)return JK(n)}function JK(n){for(var e in rt.prototype)n[e]=rt.prototype[e];return n}rt.prototype.on=rt.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};rt.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};rt.prototype.off=rt.prototype.removeListener=rt.prototype.removeAllListeners=rt.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if(r=t[i],r===e||r.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+n],this};rt.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,i=t.length;r<i;++r)t[r].apply(this,e)}return this};rt.prototype.emitReserved=rt.prototype.emit;rt.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};rt.prototype.hasListeners=function(n){return!!this.listeners(n).length};var Qi=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Cn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),mL="arraybuffer";function Rv(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}var eY=Cn.setTimeout,tY=Cn.clearTimeout;function Zi(n,e){e.useNativeTimers?(n.setTimeoutFn=eY.bind(Cn),n.clearTimeoutFn=tY.bind(Cn)):(n.setTimeoutFn=Cn.setTimeout.bind(Cn),n.clearTimeoutFn=Cn.clearTimeout.bind(Cn))}var nY=1.33;function gL(n){return typeof n=="string"?rY(n):Math.ceil((n.byteLength||n.size)*nY)}function rY(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}function Ov(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function vL(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function _L(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let o=t[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}var kv=class extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}},Xi=class extends rt{constructor(e){super(),this.writable=!1,Zi(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new kv(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=qd(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let t=vL(e);return t.length?"?"+t:""}};var Wd=class extends Xi{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};hL(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,dL(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Ov()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}};var yL=!1;try{yL=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var bL=yL;function iY(){}var ET=class extends Wd{constructor(e){if(super(e),typeof location<"u"){let t=location.protocol==="https:",r=location.port;r||(r=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){let r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}},Nv=(()=>{class n extends rt{constructor(t,r,i){super(),this.createRequest=t,Zi(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var t;let r=Rv(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;let i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=n.requestsCount++,n.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=iY,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this._index],this._xhr=null}}_onLoad(){let t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return n.requestsCount=0,n.requests={},n})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",wL);else if(typeof addEventListener=="function"){let n="onpagehide"in Cn?"pagehide":"unload";addEventListener(n,wL,!1)}}function wL(){for(let n in Nv.requests)Nv.requests.hasOwnProperty(n)&&Nv.requests[n].abort()}var oY=function(){let n=EL({xdomain:!1});return n&&n.responseType!==null}(),Lo=class extends ET{constructor(e){super(e);let t=e&&e.forceBase64;this.supportsBinary=oY&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Nv(EL,this.uri(),e)}};function EL(n){let e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||bL))return new XMLHttpRequest}catch{}if(!e)try{return new Cn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var CL=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",IT=class extends Xi{get name(){return"websocket"}doOpen(){let e=this.uri(),t=this.opts.protocols,r=CL?{}:Rv(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;Hd(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}i&&Qi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Ov()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}},CT=Cn.WebSocket||Cn.MozWebSocket,Vo=class extends IT{createSocket(e,t,r){return CL?new CT(e,t,r):t?new CT(e,t):new CT(e)}doWrite(e,t){this.ws.send(t)}};var Gc=class extends Xi{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let t=pL(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),i=fL();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();let o=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),o())}).catch(a=>{})};o();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;this._writer.write(r).then(()=>{i&&Qi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}};var TT={websocket:Vo,webtransport:Gc,polling:Lo};var sY=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,aY=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Kc(n){if(n.length>8e3)throw"URI too long";let e=n,t=n.indexOf("["),r=n.indexOf("]");t!=-1&&r!=-1&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=sY.exec(n||""),o={},s=14;for(;s--;)o[aY[s]]=i[s]||"";return t!=-1&&r!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=cY(o,o.path),o.queryKey=lY(o,o.query),o}function cY(n,e){let t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function lY(n,e){let t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(t[i]=o)}),t}var DT=typeof addEventListener=="function"&&typeof removeEventListener=="function",Fv=[];DT&&addEventListener("offline",()=>{Fv.forEach(n=>n())},!1);var Lv=(()=>{class n extends rt{constructor(t,r){if(super(),this.binaryType=mL,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){let i=Kc(t);r.hostname=i.host,r.secure=i.protocol==="https"||i.protocol==="wss",r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=Kc(r.host).host);Zi(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{let o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=_L(this.opts.query)),DT&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Fv.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){let r=Object.assign({},this.opts.query);r.EIO=wT,r.transport=t,this.id&&(r.sid=this.id);let i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let t=this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",n.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){let o=this.writeBuffer[i].data;if(o&&(r+=gL(o)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Qi(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,i){return this._sendPacket("message",t,r,i),this}send(t,r,i){return this._sendPacket("message",t,r,i),this}_sendPacket(t,r,i,o){if(typeof r=="function"&&(o=r,r=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;let s={type:t,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){let t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}_onError(t){if(n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),DT&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let i=Fv.indexOf(this._offlineEventListener);i!==-1&&Fv.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}return n.protocol=wT,n})(),Vv=class extends Lv{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;Lv.priorWebsocketSuccess=!1;let i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",p=>{if(!r)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Lv.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{let v=new Error("probe error");v.transport=t.name,this.emitReserved("upgradeError",v)}}))};function o(){r||(r=!0,d(),t.close(),t=null)}let s=p=>{let v=new Error("probe error: "+p);v.transport=t.name,o(),this.emitReserved("upgradeError",v)};function a(){s("transport closed")}function c(){s("socket closed")}function u(p){t&&p.name!==t.name&&o()}let d=()=>{t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",a),this.off("close",c),this.off("upgrading",u)};t.once("open",i),t.once("error",s),t.once("close",a),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}},Yc=class extends Vv{constructor(e,t={}){let r=typeof e=="object"?e:t;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>TT[i]).filter(i=>!!i)),super(e,r)}};var Ege=Yc.protocol;function IL(n,e="",t){let r=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),r=Kc(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(t&&t.port===r.port?"":":"+r.port),r}var RT={};gV(RT,{Decoder:()=>MT,Encoder:()=>xT,PacketType:()=>Fe,protocol:()=>xL});var dY=typeof ArrayBuffer=="function",hY=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,TL=Object.prototype.toString,fY=typeof Blob=="function"||typeof Blob<"u"&&TL.call(Blob)==="[object BlobConstructor]",pY=typeof File=="function"||typeof File<"u"&&TL.call(File)==="[object FileConstructor]";function Kd(n){return dY&&(n instanceof ArrayBuffer||hY(n))||fY&&n instanceof Blob||pY&&n instanceof File}function Gd(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(Gd(n[t]))return!0;return!1}if(Kd(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return Gd(n.toJSON(),!0);for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&Gd(n[t]))return!0;return!1}function DL(n){let e=[],t=n.data,r=n;return r.data=ST(t,e),r.attachments=e.length,{packet:r,buffers:e}}function ST(n,e){if(!n)return n;if(Kd(n)){let t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){let t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=ST(n[r],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){let t={};for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=ST(n[r],e));return t}return n}function SL(n,e){return n.data=AT(n.data,e),delete n.attachments,n}function AT(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=AT(n[t],e);else if(typeof n=="object")for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=AT(n[t],e));return n}var mY=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],xL=5,Fe=function(n){return n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",n}(Fe||{}),xT=class{constructor(e){this.replacer=e}encode(e){return(e.type===Fe.EVENT||e.type===Fe.ACK)&&Gd(e)?this.encodeAsBinary({type:e.type===Fe.EVENT?Fe.BINARY_EVENT:Fe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===Fe.BINARY_EVENT||e.type===Fe.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){let t=DL(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}};function AL(n){return Object.prototype.toString.call(n)==="[object Object]"}var MT=class n extends rt{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let r=t.type===Fe.BINARY_EVENT;r||t.type===Fe.BINARY_ACK?(t.type=r?Fe.EVENT:Fe.ACK,this.reconstructor=new PT(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(Kd(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0,r={type:Number(e.charAt(0))};if(Fe[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Fe.BINARY_EVENT||r.type===Fe.BINARY_ACK){let o=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let s=e.substring(o,t);if(s!=Number(s)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(e.charAt(t+1)==="/"){let o=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(o,t)}else r.nsp="/";let i=e.charAt(t+1);if(i!==""&&Number(i)==i){let o=t+1;for(;++t;){let s=e.charAt(t);if(s==null||Number(s)!=s){--t;break}if(t===e.length)break}r.id=Number(e.substring(o,t+1))}if(e.charAt(++t)){let o=this.tryParse(e.substr(t));if(n.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case Fe.CONNECT:return AL(t);case Fe.DISCONNECT:return t===void 0;case Fe.CONNECT_ERROR:return typeof t=="string"||AL(t);case Fe.EVENT:case Fe.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&mY.indexOf(t[0])===-1);case Fe.ACK:case Fe.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},PT=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=SL(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function Kn(n,e,t){return n.on(e,t),function(){n.off(e,t)}}var gY=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Qc=class extends rt{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[Kn(e,"open",this.onopen.bind(this)),Kn(e,"packet",this.onpacket.bind(this)),Kn(e,"error",this.onerror.bind(this)),Kn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var r,i,o;if(gY.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let s={type:Fe.EVENT,data:t};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){let d=this.ids++,p=t.pop();this._registerAckCallback(d,p),s.id=d}let a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var r;let i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},i),s=(...a)=>{this.io.clearTimeoutFn(o),t.apply(this,a)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...t){return new Promise((r,i)=>{let o=(s,a)=>s?i(s):r(a);o.withError=!0,t.push(o),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Fe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){let r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Fe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Fe.EVENT:case Fe.BINARY_EVENT:this.onevent(e);break;case Fe.ACK:case Fe.BINARY_ACK:this.onack(e);break;case Fe.DISCONNECT:this.ondisconnect();break;case Fe.CONNECT_ERROR:this.destroy();let r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){let t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,r=!1;return function(...i){r||(r=!0,t.packet({type:Fe.ACK,id:e,data:i}))}}onack(e){let t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Fe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let r of t)r.apply(this,e.data)}}};function ia(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}ia.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=(Math.floor(e*10)&1)==0?n-t:n+t}return Math.min(n,this.max)|0};ia.prototype.reset=function(){this.attempts=0};ia.prototype.setMin=function(n){this.ms=n};ia.prototype.setMax=function(n){this.max=n};ia.prototype.setJitter=function(n){this.jitter=n};var Zc=class extends rt{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,Zi(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new ia({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;let i=t.parser||RT;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Yc(this.uri,this.opts);let t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let i=Kn(t,"open",function(){r.onopen(),e&&e()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},s=Kn(t,"error",o);if(this._timeout!==!1){let a=this._timeout,c=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),t.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(Kn(e,"ping",this.onping.bind(this)),Kn(e,"data",this.ondata.bind(this)),Kn(e,"error",this.onerror.bind(this)),Kn(e,"close",this.onclose.bind(this)),Kn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Qi(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Qc(this,e,t),this.nsps[e]=r),r}_destroy(e){let t=Object.keys(this.nsps);for(let r of t)if(this.nsps[r].active)return;this._close()}_packet(e){let t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};var Yd={};function Qd(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};let t=IL(n,e.path||"/socket.io"),r=t.source,i=t.id,o=t.path,s=Yd[i]&&o in Yd[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||s,c;return a?c=new Zc(r,e):(Yd[i]||(Yd[i]=new Zc(r,e)),c=Yd[i]),t.query&&!e.query&&(e.query=t.queryKey),c.socket(t.path,e)}Object.assign(Qd,{Manager:Zc,Socket:Qc,io:Qd,connect:Qd});var jv=class n{socket;notificationsSubject=new tt([]);notifications$=this.notificationsSubject.asObservable();constructor(){this.socket=Qd("https://cocreandoback.onrender.com");let e=localStorage.getItem("user_id");e&&(this.socket.emit("join",{user_id:e}),this.cargarNotificaciones(e)),this.socket.on("nueva_notificacion",t=>{let r=ee(L({},t),{date:t.date?new Date(t.date):new Date(t.timestamp)}),i=this.notificationsSubject.value;this.notificationsSubject.next([r,...i])})}cargarNotificaciones(e){this.socket.emit("obtener_notificaciones",{user_id:e}),this.socket.on("lista_notificaciones",t=>{let r=t.map(i=>ee(L({},i),{date:i.date?new Date(i.date):new Date(i.timestamp)}));this.notificationsSubject.next(r)})}marcarComoLeidas(e){this.socket.emit("marcar_como_leidas",{user_id:e}),this.socket.on("notificaciones_actualizadas",t=>{let r=t.map(i=>ee(L({},i),{date:i.date?new Date(i.date):new Date(i.timestamp),read:!0}));this.notificationsSubject.next(r)})}marcarComoLeida(e,t){this.socket.emit("marcar_como_leida",{user_id:e,notification_id:t});let r=this.notificationsSubject.value.map(i=>i.id===t?ee(L({},i),{read:!0}):i);this.notificationsSubject.next(r)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};function _Y(n,e){n&1&&(g(0,"div",12)(1,"div",13),te(2,"div",14),g(3,"p"),b(4,"Cargando..."),m()()())}function yY(n,e){if(n&1){let t=Ne();g(0,"a",24),z("click",function(){re(t);let i=H(2);return ie(i.navigateTo("/admin"))}),b(1,` Panel Admin
`),m()}}function bY(n,e){if(n&1&&(g(0,"span",25),b(1),m()),n&2){let t=H(2);E(),oe(" ",t.unreadNotifications," ")}}function wY(n,e){n&1&&te(0,"span",36)}function EY(n,e){if(n&1){let t=Ne();g(0,"div",33),z("click",function(){let i=re(t).$implicit,o=H(3);return ie(o.handleNotificationClick(i))}),g(1,"div",34)(2,"strong"),b(3),m(),g(4,"p"),b(5),m(),g(6,"small"),b(7),st(8,"date"),m()(),G(9,wY,1,0,"span",35),m()}if(n&2){let t=e.$implicit;$e("unread",!t.read),E(3),ne(t.title),E(2),ne(t.message),E(2),ne(ki(8,6,t.date,"short")),E(2),F("ngIf",!t.read)}}function CY(n,e){n&1&&(g(0,"div",37),b(1," No hay notificaciones nuevas "),m())}function IY(n,e){if(n&1){let t=Ne();g(0,"div",26)(1,"div",27)(2,"h4"),b(3,"Notificaciones"),m(),g(4,"button",28),z("click",function(){re(t);let i=H(2);return ie(i.markAllAsRead())}),b(5," Marcar todas como le\xEDdas "),m()(),g(6,"div",29),G(7,EY,10,9,"div",30)(8,CY,2,0,"div",31),m(),g(9,"div",32)(10,"a",22),z("click",function(){re(t);let i=H(2);return ie(i.navigateTo("/notifications"))}),b(11,"Ver todas las notificaciones"),m()()()}if(n&2){let t=H(2);$e("show",t.showNotifications),E(7),F("ngForOf",t.notifications),E(),F("ngIf",t.notifications.length===0)}}function TY(n,e){if(n&1){let t=Ne();t0(0),g(1,"div",15),G(2,yY,2,0,"a",16),g(3,"div",17)(4,"div",18),z("click",function(){re(t);let i=H();return ie(i.toggleNotifications())}),te(5,"i",19),G(6,bY,2,1,"span",20),m(),G(7,IY,12,4,"div",21),m(),g(8,"a",22),z("click",function(){re(t);let i=H();return ie(i.navigateTo("/dashboard"))}),b(9,"Proyectos"),m(),g(10,"a",22),z("click",function(){re(t);let i=H();return ie(i.navigateTo("/project-creation"))}),b(11,"Crear Proyecto"),m(),g(12,"a",22),z("click",function(){re(t);let i=H();return ie(i.navigateTo("/user-profile"))}),b(13),st(14,"async"),st(15,"userDisplay"),m(),g(16,"a",23),z("click",function(){re(t);let i=H();return ie(i.logout())}),b(17,"Cerrar Sesi\xF3n"),m()(),n0()}if(n&2){let t=H();E(2),F("ngIf",t.authService.isAdmin()),E(4),F("ngIf",t.unreadNotifications>0),E(),F("ngIf",t.showNotifications),E(6),oe(" ",Qt(15,6,Qt(14,4,t.authService.currentUser$))," ")}}function DY(n,e){if(n&1){let t=Ne();g(0,"a",22),z("click",function(){re(t);let i=H();return ie(i.navigateTo("/login"))}),b(1,"Iniciar Sesi\xF3n"),m(),g(2,"a",22),z("click",function(){re(t);let i=H();return ie(i.navigateTo("/register"))}),b(3,"Registrarse"),m()}}var Bv=class n{constructor(e,t,r){this.authService=e;this.router=t;this.notificationService=r}title="CoCreando";showNotifications=!1;unreadNotifications=0;notifications=[];notificationsSub;authSub;isLoading$=new tt(!0);ngOnInit(){this.notificationsSub=this.notificationService.notifications$.subscribe(e=>{this.notifications=e.sort((t,r)=>new Date(r.date).getTime()-new Date(t.date).getTime()),this.unreadNotifications=e.filter(t=>!t.read).length}),this.isLoading$.next(!0),this.authSub=this.authService.isAuthenticated$.subscribe(e=>{if(this.isLoading$.next(!1),e){let t=this.authService.getCurrentUserValue()?.uid;t&&this.notificationService.cargarNotificaciones(t)}else this.notifications=[],this.unreadNotifications=0})}ngOnDestroy(){this.notificationsSub.unsubscribe(),this.authSub.unsubscribe()}handleDocumentClick(e){!e.target.closest(".notification-wrapper")&&this.showNotifications&&(this.showNotifications=!1)}navigateTo(e){this.router.navigate([e]),this.showNotifications=!1}logout(){this.authService.logout(),this.router.navigate(["/dashboard"]),this.showNotifications=!1}toggleNotifications(){this.showNotifications=!this.showNotifications,this.showNotifications&&this.unreadNotifications>0&&this.markAllAsRead()}markAllAsRead(){let e=this.authService.getCurrentUserValue()?.uid;e&&this.notificationService.marcarComoLeidas(e)}handleNotificationClick(e){if(e.link&&this.router.navigate([e.link]),!e.read){let t=this.authService.getCurrentUserValue()?.uid;t&&this.notificationService.marcarComoLeida(t,e.id)}this.showNotifications=!1}static \u0275fac=function(t){return new(t||n)(j(Be),j(Ae),j(jv))};static \u0275cmp=Pe({type:n,selectors:[["app-root"]],hostBindings:function(t,r){t&1&&z("click",function(o){return r.handleDocumentClick(o)},!1,Dx)},decls:19,vars:7,consts:[["notAuthenticated",""],[1,"main-container"],["class","global-loader",4,"ngIf"],[1,"navbar"],[1,"container"],[1,"logo",3,"click"],["src","https://res.cloudinary.com/dtg8i6j9f/image/upload/v1748278102/2-removebg-preview_orvlqt.png","alt","CoCreando Logo",1,"logo-img"],[1,"nav-links"],[4,"ngIf","ngIfElse"],[1,"content"],[1,"app-footer"],[1,"footer-content"],[1,"global-loader"],[1,"loader-content"],[1,"spinner"],[1,"user-notifications"],["class","admin-link",3,"click",4,"ngIf"],[1,"notification-wrapper"],[1,"notification-icon",3,"click"],[1,"icon-bell"],["class","notification-badge",4,"ngIf"],["class","notifications-dropdown",3,"show",4,"ngIf"],[3,"click"],[1,"logout-link",3,"click"],[1,"admin-link",3,"click"],[1,"notification-badge"],[1,"notifications-dropdown"],[1,"dropdown-header"],[1,"mark-all-read",3,"click"],[1,"notification-list"],["class","notification-item",3,"unread","click",4,"ngFor","ngForOf"],["class","notification-empty",4,"ngIf"],[1,"dropdown-footer"],[1,"notification-item",3,"click"],[1,"notification-content"],["class","unread-dot",4,"ngIf"],[1,"unread-dot"],[1,"notification-empty"]],template:function(t,r){if(t&1){let i=Ne();g(0,"div",1),G(1,_Y,5,0,"div",2),st(2,"async"),g(3,"nav",3)(4,"div",4)(5,"span",5),z("click",function(){return re(i),ie(r.navigateTo("/dashboard"))}),te(6,"img",6),b(7," CoCreando "),m(),g(8,"div",7),G(9,TY,18,8,"ng-container",8),st(10,"async"),G(11,DY,4,0,"ng-template",null,0,MM),m()()(),g(13,"div",9),te(14,"router-outlet"),m(),g(15,"footer",10)(16,"div",11)(17,"span"),b(18,"\xA9 2025 CoCreando - Todos los derechos reservados"),m()()()()}if(t&2){let i=Ba(12);E(),F("ngIf",Qt(2,3,r.isLoading$)),E(8),F("ngIf",Qt(10,5,r.authService.isAuthenticated$))("ngIfElse",i)}},dependencies:[lt,Vt,gt,v0,Hr,Ss,Su,xv],styles:['.main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.navbar[_ngcontent-%COMP%]{background-color:#fff;padding:0;box-shadow:0 4px 12px #0000001a;position:sticky;top:0;z-index:1000}.navbar[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto;padding:1rem 2rem}.navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#4caf50;letter-spacing:-.5px;display:flex;align-items:center}.navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .logo-img[_ngcontent-%COMP%]{width:70px;height:auto;margin-right:.5rem}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#2e7d32;text-decoration:none;font-weight:500;font-size:1.1rem;position:relative;padding:.5rem 0;transition:all .3s ease}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:0;height:2px;background-color:#4caf50;transition:width .3s ease}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#4caf50}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{width:100%}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#4caf50;font-weight:600}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:after{width:100%}.content[_ngcontent-%COMP%]{flex:1;padding:2rem;max-width:1200px;margin:0 auto;width:100%}.app-footer[_ngcontent-%COMP%]{background-color:#c8e6c9;padding:1.5rem;text-align:center;margin-top:auto}.app-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#2e7d32;font-size:.9rem;display:block}@media (max-width: 768px){.navbar[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:1rem;flex-direction:column}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]{margin-top:1rem;gap:1.5rem}}.user-notifications[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;position:relative}.user-notifications[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-weight:500;color:#2e7d32;margin-right:.5rem}.user-notifications[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{position:relative;cursor:pointer;font-size:1.2rem}.user-notifications[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   .notification-badge[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;background-color:red;color:#fff;border-radius:50%;width:18px;height:18px;display:flex;align-items:center;justify-content:center;font-size:.7rem}.user-notifications[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   .notifications-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;background-color:#fff;border:1px solid #c8e6c9;border-radius:4px;box-shadow:0 4px 8px #0000001a;width:300px;max-height:400px;overflow-y:auto;z-index:1001}.user-notifications[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   .notifications-dropdown[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #c8e6c9;cursor:pointer;transition:background-color .2s}.user-notifications[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   .notifications-dropdown[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]:hover{background-color:#f8fffa}.user-notifications[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   .notifications-dropdown[_ngcontent-%COMP%]   .notification-empty[_ngcontent-%COMP%]{padding:1rem;text-align:center;color:#77cd7b}.global-loader[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#fffc;display:flex;justify-content:center;align-items:center;z-index:1000}.loader-content[_ngcontent-%COMP%]{text-align:center;background:#fff;padding:2rem;border-radius:8px;box-shadow:0 2px 10px #0000001a}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-radius:50%;border-top:4px solid #3498db;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})};S0(Bv,eL).catch(n=>console.error(n));
