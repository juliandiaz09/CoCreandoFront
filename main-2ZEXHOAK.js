var BD=Object.defineProperty,pV=Object.defineProperties;var mV=Object.getOwnPropertyDescriptors;var VD=Object.getOwnPropertySymbols,gV=Object.getPrototypeOf,vV=Object.prototype.hasOwnProperty,_V=Object.prototype.propertyIsEnumerable,yV=Reflect.get;var jD=(n,e,t)=>e in n?BD(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,L=(n,e)=>{for(var t in e||={})vV.call(e,t)&&jD(n,t,e[t]);if(VD)for(var t of VD(e))_V.call(e,t)&&jD(n,t,e[t]);return n},ne=(n,e)=>pV(n,mV(e));var bV=(n,e)=>{for(var t in e)BD(n,t,{get:e[t],enumerable:!0})};var oo=(n,e,t)=>yV(gV(n),t,e);var w=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(u){i(u)}},s=c=>{try{a(t.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});function __(n,e){return Object.is(n,e)}var Ft=null,vh=!1,y_=1,Qn=Symbol("SIGNAL");function Me(n){let e=Ft;return Ft=n,e}function b_(){return Ft}var bl={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function wl(n){if(vh)throw new Error("");if(Ft===null)return;Ft.consumerOnSignalRead(n);let e=Ft.nextProducerIndex++;if(wh(Ft),e<Ft.producerNode.length&&Ft.producerNode[e]!==n&&yl(Ft)){let t=Ft.producerNode[e];bh(t,Ft.producerIndexOfThis[e])}Ft.producerNode[e]!==n&&(Ft.producerNode[e]=n,Ft.producerIndexOfThis[e]=yl(Ft)?$D(n,Ft,e):0),Ft.producerLastReadVersion[e]=n.version}function UD(){y_++}function w_(n){if(!(yl(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===y_)){if(!n.producerMustRecompute(n)&&!T_(n)){v_(n);return}n.producerRecomputeValue(n),v_(n)}}function E_(n){if(n.liveConsumerNode===void 0)return;let e=vh;vh=!0;try{for(let t of n.liveConsumerNode)t.dirty||wV(t)}finally{vh=e}}function C_(){return Ft?.consumerAllowSignalWrites!==!1}function wV(n){n.dirty=!0,E_(n),n.consumerMarkedDirty?.(n)}function v_(n){n.dirty=!1,n.lastCleanEpoch=y_}function yh(n){return n&&(n.nextProducerIndex=0),Me(n)}function I_(n,e){if(Me(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(yl(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)bh(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function T_(n){wh(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(w_(t),r!==t.version))return!0}return!1}function D_(n){if(wh(n),yl(n))for(let e=0;e<n.producerNode.length;e++)bh(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function $D(n,e,t){if(zD(n),n.liveConsumerNode.length===0&&HD(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=$D(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function bh(n,e){if(zD(n),n.liveConsumerNode.length===1&&HD(n))for(let r=0;r<n.producerNode.length;r++)bh(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];wh(i),i.producerIndexOfThis[r]=e}}function yl(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function wh(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function zD(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function HD(n){return n.producerNode!==void 0}function S_(n,e){let t=Object.create(EV);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(w_(t),wl(t),t.value===_h)throw t.error;return t.value};return r[Qn]=t,r}var m_=Symbol("UNSET"),g_=Symbol("COMPUTING"),_h=Symbol("ERRORED"),EV=ne(L({},bl),{value:m_,dirty:!0,error:null,equal:__,kind:"computed",producerMustRecompute(n){return n.value===m_||n.value===g_},producerRecomputeValue(n){if(n.value===g_)throw new Error("Detected cycle in computations.");let e=n.value;n.value=g_;let t=yh(n),r,i=!1;try{r=n.computation(),Me(null),i=e!==m_&&e!==_h&&r!==_h&&n.equal(e,r)}catch(o){r=_h,n.error=o}finally{I_(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function CV(){throw new Error}var qD=CV;function WD(n){qD(n)}function A_(n){qD=n}var IV=null;function x_(n,e){let t=Object.create(Eh);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(wl(t),t.value);return r[Qn]=t,r}function El(n,e){C_()||WD(n),n.equal(n.value,e)||(n.value=e,TV(n))}function M_(n,e){C_()||WD(n),El(n,e(n.value))}var Eh=ne(L({},bl),{equal:__,value:void 0,kind:"signal"});function TV(n){n.version++,UD(),E_(n),IV?.()}function P_(n){let e=Me(null);try{return n()}finally{Me(e)}}var R_;function Cl(){return R_}function yi(n){let e=R_;return R_=n,e}var Ch=Symbol("NotFound");function _e(n){return typeof n=="function"}function ha(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Ih=ha(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function qo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var rt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(_e(r))try{r()}catch(o){e=o instanceof Ih?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{GD(o)}catch(s){e=e??[],s instanceof Ih?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ih(e)}}add(e){var t;if(e&&e!==this)if(this.closed)GD(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&qo(t,e)}remove(e){let{_finalizers:t}=this;t&&qo(t,e),e instanceof n&&e._removeParent(this)}};rt.EMPTY=(()=>{let n=new rt;return n.closed=!0,n})();var O_=rt.EMPTY;function Th(n){return n instanceof rt||n&&"closed"in n&&_e(n.remove)&&_e(n.add)&&_e(n.unsubscribe)}function GD(n){_e(n)?n():n.unsubscribe()}var gr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var fa={setTimeout(n,e,...t){let{delegate:r}=fa;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=fa;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Dh(n){fa.setTimeout(()=>{let{onUnhandledError:e}=gr;if(e)e(n);else throw n})}function Il(){}var KD=k_("C",void 0,void 0);function YD(n){return k_("E",void 0,n)}function QD(n){return k_("N",n,void 0)}function k_(n,e,t){return{kind:n,value:e,error:t}}var Wo=null;function pa(n){if(gr.useDeprecatedSynchronousErrorHandling){let e=!Wo;if(e&&(Wo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Wo;if(Wo=null,t)throw r}}else n()}function ZD(n){gr.useDeprecatedSynchronousErrorHandling&&Wo&&(Wo.errorThrown=!0,Wo.error=n)}var Go=class extends rt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Th(e)&&e.add(this)):this.destination=PV}static create(e,t,r){return new ma(e,t,r)}next(e){this.isStopped?F_(QD(e),this):this._next(e)}error(e){this.isStopped?F_(YD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?F_(KD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},xV=Function.prototype.bind;function N_(n,e){return xV.call(n,e)}var L_=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Sh(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Sh(r)}else Sh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Sh(t)}}},ma=class extends Go{constructor(e,t,r){super();let i;if(_e(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&gr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&N_(e.next,o),error:e.error&&N_(e.error,o),complete:e.complete&&N_(e.complete,o)}):i=e}this.destination=new L_(i)}};function Sh(n){gr.useDeprecatedSynchronousErrorHandling?ZD(n):Dh(n)}function MV(n){throw n}function F_(n,e){let{onStoppedNotification:t}=gr;t&&fa.setTimeout(()=>t(n,e))}var PV={closed:!0,next:Il,error:MV,complete:Il};var ga=typeof Symbol=="function"&&Symbol.observable||"@@observable";function gn(n){return n}function V_(...n){return j_(n)}function j_(n){return n.length===0?gn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var me=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=OV(t)?t:new ma(t,r,i);return pa(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=XD(r),new r((i,o)=>{let s=new ma({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ga](){return this}pipe(...t){return j_(t)(this)}toPromise(t){return t=XD(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function XD(n){var e;return(e=n??gr.Promise)!==null&&e!==void 0?e:Promise}function RV(n){return n&&_e(n.next)&&_e(n.error)&&_e(n.complete)}function OV(n){return n&&n instanceof Go||RV(n)&&Th(n)}function B_(n){return _e(n?.lift)}function Te(n){return e=>{if(B_(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(n,e,t,r,i){return new U_(n,e,t,r,i)}var U_=class extends Go{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function va(){return Te((n,e)=>{let t=null;n._refCount++;let r=ye(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var _a=class extends me{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,B_(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new rt;let t=this.getSubject();e.add(this.source.subscribe(ye(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=rt.EMPTY)}return e}refCount(){return va()(this)}};var JD=ha(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=(()=>{class n extends me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Ah(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new JD}next(t){pa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){pa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){pa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?O_:(this.currentObservers=null,o.push(t),new rt(()=>{this.currentObservers=null,qo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new me;return t.source=this,t}}return n.create=(e,t)=>new Ah(e,t),n})(),Ah=class extends fe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:O_}};var it=class extends fe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var $_={now(){return($_.delegate||Date).now()},delegate:void 0};var xh=class extends rt{constructor(e,t){super()}schedule(e,t=0){return this}};var Tl={setInterval(n,e,...t){let{delegate:r}=Tl;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Tl;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ya=class extends xh{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Tl.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Tl.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,qo(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var ba=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};ba.now=$_.now;var wa=class extends ba{constructor(e,t=ba.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var so=new wa(ya),z_=so;var Mh=class extends ya{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Ph=class extends wa{};var H_=new Ph(Mh);var cn=new me(n=>n.complete());function Rh(n){return n&&_e(n.schedule)}function q_(n){return n[n.length-1]}function Oh(n){return _e(q_(n))?n.pop():void 0}function Fr(n){return Rh(q_(n))?n.pop():void 0}function eS(n,e){return typeof q_(n)=="number"?n.pop():e}function W_(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function nS(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(p){s(p)}}function c(d){try{u(r.throw(d))}catch(p){s(p)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function tS(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ko(n){return this instanceof Ko?(this.v=n,this):new Ko(n)}function rS(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(_){return function(S){return Promise.resolve(S).then(_,p)}}function a(_,S){r[_]&&(i[_]=function(R){return new Promise(function(k,G){o.push([_,R,k,G])>1||c(_,R)})},S&&(i[_]=S(i[_])))}function c(_,S){try{u(r[_](S))}catch(R){v(o[0][3],R)}}function u(_){_.value instanceof Ko?Promise.resolve(_.value.v).then(d,p):v(o[0][2],_)}function d(_){c("next",_)}function p(_){c("throw",_)}function v(_,S){_(S),o.shift(),o.length&&c(o[0][0],o[0][1])}}function iS(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof tS=="function"?tS(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var kh=n=>n&&typeof n.length=="number"&&typeof n!="function";function Nh(n){return _e(n?.then)}function Fh(n){return _e(n[ga])}function Lh(n){return Symbol.asyncIterator&&_e(n?.[Symbol.asyncIterator])}function Vh(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function kV(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var jh=kV();function Bh(n){return _e(n?.[jh])}function Uh(n){return rS(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ko(t.read());if(i)return yield Ko(void 0);yield yield Ko(r)}}finally{t.releaseLock()}})}function $h(n){return _e(n?.getReader)}function lt(n){if(n instanceof me)return n;if(n!=null){if(Fh(n))return NV(n);if(kh(n))return FV(n);if(Nh(n))return LV(n);if(Lh(n))return oS(n);if(Bh(n))return VV(n);if($h(n))return jV(n)}throw Vh(n)}function NV(n){return new me(e=>{let t=n[ga]();if(_e(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function FV(n){return new me(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function LV(n){return new me(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Dh)})}function VV(n){return new me(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function oS(n){return new me(e=>{BV(n,e).catch(t=>e.error(t))})}function jV(n){return oS(Uh(n))}function BV(n,e){var t,r,i,o;return nS(this,void 0,void 0,function*(){try{for(t=iS(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Dn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function ao(n,e=0){return Te((t,r)=>{t.subscribe(ye(r,i=>Dn(r,n,()=>r.next(i),e),()=>Dn(r,n,()=>r.complete(),e),i=>Dn(r,n,()=>r.error(i),e)))})}function co(n,e=0){return Te((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function sS(n,e){return lt(n).pipe(co(e),ao(e))}function aS(n,e){return lt(n).pipe(co(e),ao(e))}function cS(n,e){return new me(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function lS(n,e){return new me(t=>{let r;return Dn(t,e,()=>{r=n[jh](),Dn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>_e(r?.return)&&r.return()})}function zh(n,e){if(!n)throw new Error("Iterable cannot be null");return new me(t=>{Dn(t,e,()=>{let r=n[Symbol.asyncIterator]();Dn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function uS(n,e){return zh(Uh(n),e)}function dS(n,e){if(n!=null){if(Fh(n))return sS(n,e);if(kh(n))return cS(n,e);if(Nh(n))return aS(n,e);if(Lh(n))return zh(n,e);if(Bh(n))return lS(n,e);if($h(n))return uS(n,e)}throw Vh(n)}function $e(n,e){return e?dS(n,e):lt(n)}function Q(...n){let e=Fr(n);return $e(n,e)}function At(n,e){let t=_e(n)?n:()=>n,r=i=>i.error(t());return new me(e?i=>e.schedule(r,0,i):r)}function Hh(n){return!!n&&(n instanceof me||_e(n.lift)&&_e(n.subscribe))}var vr=ha(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function bi(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let o=!1,s;n.subscribe({next:a=>{s=a,o=!0},error:i,complete:()=>{o?r(s):t?r(e.defaultValue):i(new vr)}})})}function hS(n){return n instanceof Date&&!isNaN(n)}function de(n,e){return Te((t,r)=>{let i=0;t.subscribe(ye(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:UV}=Array;function $V(n,e){return UV(e)?n(...e):n(e)}function qh(n){return de(e=>$V(n,e))}var{isArray:zV}=Array,{getPrototypeOf:HV,prototype:qV,keys:WV}=Object;function Wh(n){if(n.length===1){let e=n[0];if(zV(e))return{args:e,keys:null};if(GV(e)){let t=WV(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function GV(n){return n&&typeof n=="object"&&HV(n)===qV}function Gh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Yo(...n){let e=Fr(n),t=Oh(n),{args:r,keys:i}=Wh(n);if(r.length===0)return $e([],e);let o=new me(KV(r,e,i?s=>Gh(i,s):gn));return t?o.pipe(qh(t)):o}function KV(n,e,t=gn){return r=>{fS(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)fS(e,()=>{let u=$e(n[c],e),d=!1;u.subscribe(ye(r,p=>{o[c]=p,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function fS(n,e,t){n?Dn(t,n,e):e()}function pS(n,e,t,r,i,o,s,a){let c=[],u=0,d=0,p=!1,v=()=>{p&&!c.length&&!u&&e.complete()},_=R=>u<r?S(R):c.push(R),S=R=>{o&&e.next(R),u++;let k=!1;lt(t(R,d++)).subscribe(ye(e,G=>{i?.(G),o?_(G):e.next(G)},()=>{k=!0},void 0,()=>{if(k)try{for(u--;c.length&&u<r;){let G=c.shift();s?Dn(e,s,()=>S(G)):S(G)}v()}catch(G){e.error(G)}}))};return n.subscribe(ye(e,_,()=>{p=!0,v()})),()=>{a?.()}}function Ct(n,e,t=1/0){return _e(e)?Ct((r,i)=>de((o,s)=>e(r,o,i,s))(lt(n(r,i))),t):(typeof e=="number"&&(t=e),Te((r,i)=>pS(r,i,n,t)))}function lo(n=1/0){return Ct(gn,n)}function mS(){return lo(1)}function uo(...n){return mS()($e(n,Fr(n)))}function Kh(n){return new me(e=>{lt(n()).subscribe(e)})}function G_(...n){let e=Oh(n),{args:t,keys:r}=Wh(n),i=new me(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let d=0;d<s;d++){let p=!1;lt(t[d]).subscribe(ye(o,v=>{p||(p=!0,u--),a[d]=v},()=>c--,void 0,()=>{(!c||!p)&&(u||o.next(r?Gh(r,a):a),o.complete())}))}});return e?i.pipe(qh(e)):i}function gS(n=0,e,t=z_){let r=-1;return e!=null&&(Rh(e)?t=e:r=e),new me(i=>{let o=hS(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function K_(...n){let e=Fr(n),t=eS(n,1/0),r=n;return r.length?r.length===1?lt(r[0]):lo(t)($e(r,e)):cn}function pt(n,e){return Te((t,r)=>{let i=0;t.subscribe(ye(r,o=>n.call(e,o,i++)&&r.next(o)))})}function vS(n){return Te((e,t)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let u=i;i=null,t.next(u)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(ye(t,u=>{r=!0,i=u,o||lt(n(u)).subscribe(o=ye(t,a,c))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}function Yh(n,e=so){return vS(()=>gS(n,e))}function Ge(n){return Te((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ye(t,void 0,void 0,s=>{o=lt(n(s,Ge(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function _S(n,e,t,r,i){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(ye(s,d=>{let p=u++;c=a?n(c,d,p):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Lr(n,e){return _e(e)?Ct(n,e,1):Ct(n,1)}function Y_(n,e=so){return Te((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let u=o;o=null,r.next(u)}};function c(){let u=s+n,d=e.now();if(d<u){i=this.schedule(void 0,u-d),r.add(i);return}a()}t.subscribe(ye(r,u=>{o=u,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function ho(n){return Te((e,t)=>{let r=!1;e.subscribe(ye(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function mt(n){return n<=0?()=>cn:Te((e,t)=>{let r=0;e.subscribe(ye(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Qh(n,e=gn){return n=n??YV,Te((t,r)=>{let i,o=!0;t.subscribe(ye(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function YV(n,e){return n===e}function Zh(n=QV){return Te((e,t)=>{let r=!1;e.subscribe(ye(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function QV(){return new vr}function Qo(n){return Te((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function wi(n,e){let t=arguments.length>=2;return r=>r.pipe(n?pt((i,o)=>n(i,o,r)):gn,mt(1),t?ho(e):Zh(()=>new vr))}function Ea(n){return n<=0?()=>cn:Te((e,t)=>{let r=[];e.subscribe(ye(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Q_(n,e){let t=arguments.length>=2;return r=>r.pipe(n?pt((i,o)=>n(i,o,r)):gn,Ea(1),t?ho(e):Zh(()=>new vr))}function Z_(n,e){return Te(_S(n,e,arguments.length>=2,!0))}function Dl(n){return pt((e,t)=>n<=t)}function Ca(...n){let e=Fr(n);return Te((t,r)=>{(e?uo(n,t,e):uo(n,t)).subscribe(r)})}function yt(n,e){return Te((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ye(r,c=>{i?.unsubscribe();let u=0,d=o++;lt(n(c,d)).subscribe(i=ye(r,p=>r.next(e?e(c,p,d,u++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Zn(n){return Te((e,t)=>{lt(n).subscribe(ye(t,()=>t.complete(),Il)),!t.closed&&e.subscribe(t)})}function Qt(n,e,t){let r=_e(n)||e||t?{next:n,error:e,complete:t}:n;return r?Te((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ye(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):gn}var iA="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",K=class extends Error{code;constructor(e,t){super(oA(e,t)),this.code=e}};function ZV(n){return`NG0${Math.abs(n)}`}function oA(n,e){return`${ZV(n)}${e?": "+e:""}`}var sA=Symbol("InputSignalNode#UNSET"),XV=ne(L({},Eh),{transformFn:void 0,applyValueToInputSignal(n,e){El(n,e)}});function aA(n,e){let t=Object.create(XV);t.value=n,t.transformFn=e?.transform;function r(){if(wl(t),t.value===sA){let i=null;throw new K(-950,i)}return t.value}return r[Qn]=t,r}function Vl(n){return{toString:n}.toString()}var Xh="__parameters__";function JV(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function cA(n,e,t){return Vl(()=>{let r=JV(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,d){let p=c.hasOwnProperty(Xh)?c[Xh]:Object.defineProperty(c,Xh,{value:[]})[Xh];for(;p.length<=d;)p.push(null);return(p[d]=p[d]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Xo=globalThis;function Je(n){for(let e in n)if(n[e]===Je)return e;throw Error("Could not find renamed property on target object.")}function e2(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function xn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(xn).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function hy(n,e){return n?e?`${n} ${e}`:n:e||""}var t2=Je({__forward_ref__:Je});function xt(n){return n.__forward_ref__=xt,n.toString=function(){return xn(this())},n}function vn(n){return lA(n)?n():n}function lA(n){return typeof n=="function"&&n.hasOwnProperty(t2)&&n.__forward_ref__===xt}function V(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Xt(n){return{providers:n.providers||[],imports:n.imports||[]}}function kf(n){return yS(n,dA)||yS(n,hA)}function uA(n){return kf(n)!==null}function yS(n,e){return n.hasOwnProperty(e)?n[e]:null}function n2(n){let e=n&&(n[dA]||n[hA]);return e||null}function bS(n){return n&&(n.hasOwnProperty(wS)||n.hasOwnProperty(r2))?n[wS]:null}var dA=Je({\u0275prov:Je}),wS=Je({\u0275inj:Je}),hA=Je({ngInjectableDef:Je}),r2=Je({ngInjectorDef:Je}),z=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=V({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function fA(n){return n&&!!n.\u0275providers}var i2=Je({\u0275cmp:Je}),o2=Je({\u0275dir:Je}),s2=Je({\u0275pipe:Je}),a2=Je({\u0275mod:Je}),cf=Je({\u0275fac:Je}),Ml=Je({__NG_ELEMENT_ID__:Je}),ES=Je({__NG_ENV_ID__:Je});function Ei(n){return typeof n=="string"?n:n==null?"":String(n)}function c2(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Ei(n)}function pA(n,e){throw new K(-200,n)}function cb(n,e){throw new K(-201,!1)}var Ee=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ee||{}),fy;function mA(){return fy}function Sn(n){let e=fy;return fy=n,e}function gA(n,e,t){let r=kf(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&Ee.Optional)return null;if(e!==void 0)return e;cb(n,"Injector")}var l2={},Jo=l2,py="__NG_DI_FLAG__",lf=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?Ch:Jo,r)}},uf="ngTempTokenPath",u2="ngTokenPath",d2=/\n/gm,h2="\u0275",CS="__source";function f2(n,e=Ee.Default){if(Cl()===void 0)throw new K(-203,!1);if(Cl()===null)return gA(n,void 0,e);{let t=Cl(),r;return t instanceof lf?r=t.injector:r=t,r.get(n,e&Ee.Optional?null:void 0,e)}}function Y(n,e=Ee.Default){return(mA()||f2)(vn(n),e)}function I(n,e=Ee.Default){return Y(n,Nf(e))}function Nf(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function my(n){let e=[];for(let t=0;t<n.length;t++){let r=vn(n[t]);if(Array.isArray(r)){if(r.length===0)throw new K(900,!1);let i,o=Ee.Default;for(let s=0;s<r.length;s++){let a=r[s],c=p2(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(Y(i,o))}else e.push(Y(r))}return e}function vA(n,e){return n[py]=e,n.prototype[py]=e,n}function p2(n){return n[py]}function m2(n,e,t,r){let i=n[uf];throw e[CS]&&i.unshift(e[CS]),n.message=g2(`
`+n.message,i,t,r),n[u2]=i,n[uf]=null,n}function g2(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==h2?n.slice(2):n;let i=xn(e);if(Array.isArray(e))i=e.map(xn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):xn(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(d2,`
  `)}`}var Si=vA(cA("Optional"),8);var v2=vA(cA("SkipSelf"),4);function ts(n,e){let t=n.hasOwnProperty(cf);return t?n[cf]:null}function _2(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function y2(n){return n.flat(Number.POSITIVE_INFINITY)}function lb(n,e){n.forEach(t=>Array.isArray(t)?lb(t,e):e(t))}function _A(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function df(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function b2(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function w2(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function ub(n,e,t){let r=jl(n,e);return r>=0?n[r|1]=t:(r=~r,w2(n,r,e,t)),r}function X_(n,e){let t=jl(n,e);if(t>=0)return n[t|1]}function jl(n,e){return E2(n,e,1)}function E2(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var ns={},An=[],Pl=new z(""),yA=new z("",-1),bA=new z(""),hf=class{get(e,t=Jo){if(t===Jo){let r=new Error(`NullInjectorError: No provider for ${xn(e)}!`);throw r.name="NullInjectorError",r}return t}};function wA(n,e){let t=n[a2]||null;if(!t&&e===!0)throw new Error(`Type ${xn(n)} does not have '\u0275mod' property.`);return t}function mo(n){return n[i2]||null}function C2(n){return n[o2]||null}function I2(n){return n[s2]||null}function Ai(n){return{\u0275providers:n}}function T2(...n){return{\u0275providers:EA(!0,n),\u0275fromNgModule:!0}}function EA(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return lb(e,s=>{let a=s;gy(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&CA(i,o),t}function CA(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];db(i,o=>{e(o,r)})}}function gy(n,e,t,r){if(n=vn(n),!n)return!1;let i=null,o=bS(n),s=!o&&mo(n);if(!o&&!s){let c=n.ngModule;if(o=bS(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)gy(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{lb(o.imports,d=>{gy(d,e,t,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&CA(u,e)}if(!a){let u=ts(i)||(()=>new i);e({provide:i,useFactory:u,deps:An},i),e({provide:bA,useValue:i,multi:!0},i),e({provide:Pl,useValue:()=>Y(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=n;db(c,d=>{e(d,u)})}}else return!1;return i!==n&&n.providers!==void 0}function db(n,e){for(let t of n)fA(t)&&(t=t.\u0275providers),Array.isArray(t)?db(t,e):e(t)}var D2=Je({provide:String,useValue:Je});function IA(n){return n!==null&&typeof n=="object"&&D2 in n}function S2(n){return!!(n&&n.useExisting)}function A2(n){return!!(n&&n.useFactory)}function Ma(n){return typeof n=="function"}function x2(n){return!!n.useClass}var Ff=new z(""),tf={},IS={},J_;function Lf(){return J_===void 0&&(J_=new hf),J_}var ut=class{},Rl=class extends ut{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,_y(e,s=>this.processProvider(s)),this.records.set(yA,Ia(void 0,this)),i.has("environment")&&this.records.set(ut,Ia(void 0,this));let o=this.records.get(Ff);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(bA,An,Ee.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?Ch:Jo,r)}destroy(){Al(this),this._destroyed=!0;let e=Me(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Me(e)}}onDestroy(e){return Al(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Al(this);let t=yi(this),r=Sn(void 0),i;try{return e()}finally{yi(t),Sn(r)}}get(e,t=Jo,r=Ee.Default){if(Al(this),e.hasOwnProperty(ES))return e[ES](this);r=Nf(r);let i,o=yi(this),s=Sn(void 0);try{if(!(r&Ee.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=k2(e)&&kf(e);u&&this.injectableDefInScope(u)?c=Ia(vy(e),tf):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,r)}let a=r&Ee.Self?Lf():this.parent;return t=r&Ee.Optional&&t===Jo?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[uf]=a[uf]||[]).unshift(xn(e)),o)throw a;return m2(a,e,"R3InjectorError",this.source)}else throw a}finally{Sn(s),yi(o)}}resolveInjectorInitializers(){let e=Me(null),t=yi(this),r=Sn(void 0),i;try{let o=this.get(Pl,An,Ee.Self);for(let s of o)s()}finally{yi(t),Sn(r),Me(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(xn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=vn(e);let t=Ma(e)?e:vn(e&&e.provide),r=P2(e);if(!Ma(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Ia(void 0,tf,!0),i.factory=()=>my(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Me(null);try{return t.value===IS?pA(xn(e)):t.value===tf&&(t.value=IS,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&O2(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Me(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=vn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function vy(n){let e=kf(n),t=e!==null?e.factory:ts(n);if(t!==null)return t;if(n instanceof z)throw new K(204,!1);if(n instanceof Function)return M2(n);throw new K(204,!1)}function M2(n){if(n.length>0)throw new K(204,!1);let t=n2(n);return t!==null?()=>t.factory(n):()=>new n}function P2(n){if(IA(n))return Ia(void 0,n.useValue);{let e=TA(n);return Ia(e,tf)}}function TA(n,e,t){let r;if(Ma(n)){let i=vn(n);return ts(i)||vy(i)}else if(IA(n))r=()=>vn(n.useValue);else if(A2(n))r=()=>n.useFactory(...my(n.deps||[]));else if(S2(n))r=(i,o)=>Y(vn(n.useExisting),o!==void 0&&o&Ee.Optional?Ee.Optional:void 0);else{let i=vn(n&&(n.useClass||n.provide));if(R2(n))r=()=>new i(...my(n.deps));else return ts(i)||vy(i)}return r}function Al(n){if(n.destroyed)throw new K(205,!1)}function Ia(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function R2(n){return!!n.deps}function O2(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function k2(n){return typeof n=="function"||typeof n=="object"&&n instanceof z}function _y(n,e){for(let t of n)Array.isArray(t)?_y(t,e):t&&fA(t)?_y(t.\u0275providers,e):e(t)}function Ut(n,e){let t;n instanceof Rl?(Al(n),t=n):t=new lf(n);let r,i=yi(t),o=Sn(void 0);try{return e()}finally{yi(i),Sn(o)}}function DA(){return mA()!==void 0||Cl()!=null}function Vf(n){if(!DA())throw new K(-203,!1)}function N2(n){return typeof n=="function"}var xi=0,Ce=1,ge=2,ln=3,br=4,Pn=5,Ol=6,ff=7,_n=8,Pa=9,Ci=10,gt=11,kl=12,TS=13,Fa=14,Jn=15,rs=16,Ta=17,Ii=18,jf=19,SA=20,fo=21,ey=22,pf=23,Xn=24,Aa=25,Bt=26,AA=1;var is=7,mf=8,Ra=9,Mn=10;function po(n){return Array.isArray(n)&&typeof n[AA]=="object"}function Mi(n){return Array.isArray(n)&&n[AA]===!0}function hb(n){return(n.flags&4)!==0}function La(n){return n.componentOffset>-1}function Bf(n){return(n.flags&1)===1}function jr(n){return!!n.template}function gf(n){return(n[ge]&512)!==0}function Va(n){return(n[ge]&256)===256}var yy=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function xA(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Un=(()=>{let n=()=>MA;return n.ngInherit=!0,n})();function MA(n){return n.type.prototype.ngOnChanges&&(n.setInput=L2),F2}function F2(){let n=RA(this),e=n?.current;if(e){let t=n.previous;if(t===ns)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function L2(n,e,t,r,i){let o=this.declaredInputs[r],s=RA(n)||V2(n,{previous:ns,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new yy(u&&u.currentValue,t,c===ns),xA(n,e,i,t)}var PA="__ngSimpleChanges__";function RA(n){return n[PA]||null}function V2(n,e){return n[PA]=e}var DS=null;var Ke=function(n,e=null,t){DS?.(n,e,t)},j2="svg",B2="math";function Br(n){for(;Array.isArray(n);)n=n[xi];return n}function OA(n,e){return Br(e[n])}function Hr(n,e){return Br(e[n.index])}function fb(n,e){return n.data[e]}function pb(n,e){return n[e]}function U2(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Ur(n,e){let t=e[n];return po(t)?t:t[xi]}function $2(n){return(n[ge]&4)===4}function mb(n){return(n[ge]&128)===128}function z2(n){return Mi(n[ln])}function Oa(n,e){return e==null?null:n[e]}function kA(n){n[Ta]=0}function NA(n){n[ge]&1024||(n[ge]|=1024,mb(n)&&Bl(n))}function H2(n,e){for(;n>0;)e=e[Fa],n--;return e}function Uf(n){return!!(n[ge]&9216||n[Xn]?.dirty)}function by(n){n[Ci].changeDetectionScheduler?.notify(8),n[ge]&64&&(n[ge]|=1024),Uf(n)&&Bl(n)}function Bl(n){n[Ci].changeDetectionScheduler?.notify(0);let e=os(n);for(;e!==null&&!(e[ge]&8192||(e[ge]|=8192,!mb(e)));)e=os(e)}function FA(n,e){if(Va(n))throw new K(911,!1);n[fo]===null&&(n[fo]=[]),n[fo].push(e)}function q2(n,e){if(n[fo]===null)return;let t=n[fo].indexOf(e);t!==-1&&n[fo].splice(t,1)}function os(n){let e=n[ln];return Mi(e)?e[ln]:e}function gb(n){return n[ff]??=[]}function vb(n){return n.cleanup??=[]}function W2(n,e,t,r){let i=gb(e);i.push(t),n.firstCreatePass&&vb(n).push(r,i.length-1)}var De={lFrame:HA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var wy=!1;function G2(){return De.lFrame.elementDepthCount}function K2(){De.lFrame.elementDepthCount++}function Y2(){De.lFrame.elementDepthCount--}function _b(){return De.bindingsEnabled}function LA(){return De.skipHydrationRootTNode!==null}function Q2(n){return De.skipHydrationRootTNode===n}function Z2(){De.skipHydrationRootTNode=null}function Se(){return De.lFrame.lView}function It(){return De.lFrame.tView}function J(n){return De.lFrame.contextLView=n,n[_n]}function ee(n){return De.lFrame.contextLView=null,n}function yn(){let n=VA();for(;n!==null&&n.type===64;)n=n.parent;return n}function VA(){return De.lFrame.currentTNode}function X2(){let n=De.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function hs(n,e){let t=De.lFrame;t.currentTNode=n,t.isParent=e}function yb(){return De.lFrame.isParent}function bb(){De.lFrame.isParent=!1}function J2(){return De.lFrame.contextLView}function jA(){return wy}function SS(n){let e=wy;return wy=n,e}function wb(){let n=De.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function BA(){return De.lFrame.bindingIndex}function ej(n){return De.lFrame.bindingIndex=n}function Ul(){return De.lFrame.bindingIndex++}function $f(n){let e=De.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function tj(){return De.lFrame.inI18n}function nj(n,e){let t=De.lFrame;t.bindingIndex=t.bindingRootIndex=n,Ey(e)}function rj(){return De.lFrame.currentDirectiveIndex}function Ey(n){De.lFrame.currentDirectiveIndex=n}function ij(n){let e=De.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function UA(){return De.lFrame.currentQueryIndex}function Eb(n){De.lFrame.currentQueryIndex=n}function oj(n){let e=n[Ce];return e.type===2?e.declTNode:e.type===1?n[Pn]:null}function $A(n,e,t){if(t&Ee.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&Ee.Host);)if(i=oj(o),i===null||(o=o[Fa],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=De.lFrame=zA();return r.currentTNode=e,r.lView=n,!0}function Cb(n){let e=zA(),t=n[Ce];De.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function zA(){let n=De.lFrame,e=n===null?null:n.child;return e===null?HA(n):e}function HA(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function qA(){let n=De.lFrame;return De.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var WA=qA;function Ib(){let n=qA();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function sj(n){return(De.lFrame.contextLView=H2(n,De.lFrame.contextLView))[_n]}function Pi(){return De.lFrame.selectedIndex}function ss(n){De.lFrame.selectedIndex=n}function zf(){let n=De.lFrame;return fb(n.tView,n.selectedIndex)}function aj(){return De.lFrame.currentNamespace}var GA=!0;function Hf(){return GA}function qf(n){GA=n}function cj(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=MA(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Tb(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function nf(n,e,t){KA(n,e,3,t)}function rf(n,e,t,r){(n[ge]&3)===t&&KA(n,e,t,r)}function ty(n,e){let t=n[ge];(t&3)===e&&(t&=16383,t+=1,n[ge]=t)}function KA(n,e,t,r){let i=r!==void 0?n[Ta]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Ta]+=65536),(a<o||o==-1)&&(lj(n,t,e,c),n[Ta]=(n[Ta]&4294901760)+c+2),c++}function AS(n,e){Ke(4,n,e);let t=Me(null);try{e.call(n)}finally{Me(t),Ke(5,n,e)}}function lj(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ge]>>14<n[Ta]>>16&&(n[ge]&3)===e&&(n[ge]+=16384,AS(a,o)):AS(a,o)}var xa=-1,as=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function uj(n){return(n.flags&8)!==0}function dj(n){return(n.flags&16)!==0}function hj(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];fj(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function YA(n){return n===3||n===4||n===6}function fj(n){return n.charCodeAt(0)===64}function ka(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?xS(n,t,i,null,e[++r]):xS(n,t,i,null,null))}}return n}function xS(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function QA(n){return n!==xa}function vf(n){return n&32767}function pj(n){return n>>16}function _f(n,e){let t=pj(n),r=e;for(;t>0;)r=r[Fa],t--;return r}var Cy=!0;function yf(n){let e=Cy;return Cy=n,e}var mj=256,ZA=mj-1,XA=5,gj=0,Vr={};function vj(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ml)&&(r=t[Ml]),r==null&&(r=t[Ml]=gj++);let i=r&ZA,o=1<<i;e.data[n+(i>>XA)]|=o}function bf(n,e){let t=JA(n,e);if(t!==-1)return t;let r=e[Ce];r.firstCreatePass&&(n.injectorIndex=e.length,ny(r.data,n),ny(e,null),ny(r.blueprint,null));let i=Db(n,e),o=n.injectorIndex;if(QA(i)){let s=vf(i),a=_f(i,e),c=a[Ce].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function ny(n,e){n.push(0,0,0,0,0,0,0,0,e)}function JA(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Db(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=ix(i),r===null)return xa;if(t++,i=i[Fa],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return xa}function Iy(n,e,t){vj(n,e,t)}function _j(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(YA(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function ex(n,e,t){if(t&Ee.Optional||n!==void 0)return n;cb(e,"NodeInjector")}function tx(n,e,t,r){if(t&Ee.Optional&&r===void 0&&(r=null),(t&(Ee.Self|Ee.Host))===0){let i=n[Pa],o=Sn(void 0);try{return i?i.get(e,r,t&Ee.Optional):gA(e,r,t&Ee.Optional)}finally{Sn(o)}}return ex(r,e,t)}function nx(n,e,t,r=Ee.Default,i){if(n!==null){if(e[ge]&2048&&!(r&Ee.Self)){let s=Ej(n,e,t,r,Vr);if(s!==Vr)return s}let o=rx(n,e,t,r,Vr);if(o!==Vr)return o}return tx(e,t,r,i)}function rx(n,e,t,r,i){let o=bj(t);if(typeof o=="function"){if(!$A(e,n,r))return r&Ee.Host?ex(i,t,r):tx(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&Ee.Optional))cb(t);else return s}finally{WA()}}else if(typeof o=="number"){let s=null,a=JA(n,e),c=xa,u=r&Ee.Host?e[Jn][Pn]:null;for((a===-1||r&Ee.SkipSelf)&&(c=a===-1?Db(n,e):e[a+8],c===xa||!PS(r,!1)?a=-1:(s=e[Ce],a=vf(c),e=_f(c,e)));a!==-1;){let d=e[Ce];if(MS(o,a,d.data)){let p=yj(a,e,t,s,r,u);if(p!==Vr)return p}c=e[a+8],c!==xa&&PS(r,e[Ce].data[a+8]===u)&&MS(o,a,e)?(s=d,a=vf(c),e=_f(c,e)):a=-1}}return i}function yj(n,e,t,r,i,o){let s=e[Ce],a=s.data[n+8],c=r==null?La(a)&&Cy:r!=s&&(a.type&3)!==0,u=i&Ee.Host&&o===a,d=of(a,s,t,c,u);return d!==null?Nl(e,s,d,a,i):Vr}function of(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,u=n.directiveEnd,d=o>>20,p=r?a:a+d,v=i?a+d:u;for(let _=p;_<v;_++){let S=s[_];if(_<c&&t===S||_>=c&&S.type===t)return _}if(i){let _=s[c];if(_&&jr(_)&&_.type===t)return c}return null}function Nl(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof as){let a=o;a.resolving&&pA(c2(s[t]));let c=yf(a.canSeeViewProviders);a.resolving=!0;let u,d=a.injectImpl?Sn(a.injectImpl):null,p=$A(n,r,Ee.Default);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&cj(t,s[t],e)}finally{d!==null&&Sn(d),yf(c),a.resolving=!1,WA()}}return o}function bj(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ml)?n[Ml]:void 0;return typeof e=="number"?e>=0?e&ZA:wj:e}function MS(n,e,t){let r=1<<n;return!!(t[e+(n>>XA)]&r)}function PS(n,e){return!(n&Ee.Self)&&!(n&Ee.Host&&e)}var es=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return nx(this._tNode,this._lView,e,Nf(r),t)}};function wj(){return new es(yn(),Se())}function bt(n){return Vl(()=>{let e=n.prototype.constructor,t=e[cf]||Ty(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[cf]||Ty(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ty(n){return lA(n)?()=>{let e=Ty(vn(n));return e&&e()}:ts(n)}function Ej(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ge]&2048&&!gf(s);){let a=rx(o,s,t,r|Ee.Self,Vr);if(a!==Vr)return a;let c=o.parent;if(!c){let u=s[SA];if(u){let d=u.get(t,Vr,r);if(d!==Vr)return d}c=ix(s),s=s[Fa]}o=c}return i}function ix(n){let e=n[Ce],t=e.type;return t===2?e.declTNode:t===1?n[Pn]:null}function Sb(n){return _j(yn(),n)}function RS(n,e=null,t=null,r){let i=ox(n,e,t,r);return i.resolveInjectorInitializers(),i}function ox(n,e=null,t=null,r,i=new Set){let o=[t||An,T2(n)];return r=r||(typeof n=="object"?void 0:xn(n)),new Rl(o,e||Lf(),r||null,i)}var Le=class n{static THROW_IF_NOT_FOUND=Jo;static NULL=new hf;static create(e,t){if(Array.isArray(e))return RS({name:""},t,e,"");{let r=e.name??"";return RS({name:r},e.parent,e.providers,r)}}static \u0275prov=V({token:n,providedIn:"any",factory:()=>Y(yA)});static __NG_ELEMENT_ID__=-1};var Cj=new z("");Cj.__NG_ELEMENT_ID__=n=>{let e=yn();if(e===null)throw new K(204,!1);if(e.type&2)return e.value;if(n&Ee.Optional)return null;throw new K(204,!1)};var sx=!1,fs=(()=>{class n{static __NG_ELEMENT_ID__=Ij;static __NG_ENV_ID__=t=>t}return n})(),Dy=class extends fs{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return Va(t)?(e(),()=>{}):(FA(t,e),()=>q2(t,e))}};function Ij(){return new Dy(Se())}var cs=class{},ax=new z("",{providedIn:"root",factory:()=>!1});var cx=new z(""),lx=new z(""),Ri=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new it(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}return n})(),Wf=(()=>{class n{internalPendingTasks=I(Ri);scheduler=I(cs);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return w(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}return n})(),Sy=class extends fe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,DA()&&(this.destroyRef=I(fs,{optional:!0})??void 0,this.pendingTasks=I(Ri,{optional:!0})??void 0)}emit(e){let t=Me(null);try{super.next(e)}finally{Me(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof rt&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Xe=Sy;function wf(...n){}function ux(n){let e,t;function r(){n=wf;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function OS(n){return queueMicrotask(()=>n()),()=>{n=wf}}var Ab="isAngularZone",Ef=Ab+"_ID",Tj=0,ce=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Xe(!1);onMicrotaskEmpty=new Xe(!1);onStable=new Xe(!1);onError=new Xe(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=sx}=e;if(typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Aj(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ab)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new K(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Dj,wf,wf);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Dj={};function xb(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Sj(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){ux(()=>{n.callbackScheduled=!1,Ay(n),n.isCheckStableRunning=!0,xb(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Ay(n)}function Aj(n){let e=()=>{Sj(n)},t=Tj++;n._inner=n._inner.fork({name:"angular",properties:{[Ab]:!0,[Ef]:t,[Ef+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(xj(c))return r.invokeTask(o,s,a,c);try{return kS(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),NS(n)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return kS(n),r.invoke(o,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Mj(c)&&e(),NS(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Ay(n),xb(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Ay(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function kS(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function NS(n){n._nesting--,xb(n)}var xy=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Xe;onMicrotaskEmpty=new Xe;onStable=new Xe;onError=new Xe;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function xj(n){return dx(n,"__ignore_ng_zone__")}function Mj(n){return dx(n,"__scheduler_tick__")}function dx(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var $r=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Pj=new z("",{providedIn:"root",factory:()=>{let n=I(ce),e=I($r);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function FS(n,e){return aA(n,e)}function Rj(n){return aA(sA,n)}var hx=(FS.required=Rj,FS);function Oj(){return ja(yn(),Se())}function ja(n,e){return new et(Hr(n,e))}var et=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Oj}return n})();function kj(n){return n instanceof et?n.nativeElement:n}function Nj(n){return typeof n=="function"&&n[Qn]!==void 0}function ps(n,e){let t=x_(n,e?.equal),r=t[Qn];return t.set=i=>El(r,i),t.update=i=>M_(r,i),t.asReadonly=Fj.bind(t),t}function Fj(){let n=this[Qn];if(n.readonlyFn===void 0){let e=()=>this();e[Qn]=n,n.readonlyFn=e}return n.readonlyFn}function fx(n){return Nj(n)&&typeof n.set=="function"}function Lj(){return this._results[Symbol.iterator]()}var My=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new fe}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=y2(e);(this._changesDetected=!_2(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Lj};function px(n){return(n.flags&128)===128}var mx=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(mx||{}),gx=new Map,Vj=0;function jj(){return Vj++}function Bj(n){gx.set(n[jf],n)}function Py(n){gx.delete(n[jf])}var LS="__ngContext__";function Ba(n,e){po(e)?(n[LS]=e[jf],Bj(e)):n[LS]=e}function vx(n){return yx(n[kl])}function _x(n){return yx(n[br])}function yx(n){for(;n!==null&&!Mi(n);)n=n[br];return n}var Ry;function bx(n){Ry=n}function Uj(){if(Ry!==void 0)return Ry;if(typeof document<"u")return document;throw new K(210,!1)}var $l=new z("",{providedIn:"root",factory:()=>$j}),$j="ng",Mb=new z(""),qr=new z("",{providedIn:"platform",factory:()=>"unknown"});var Oi=new z(""),zl=new z("",{providedIn:"root",factory:()=>Uj().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var zj="h",Hj="b";var wx=!1,qj=new z("",{providedIn:"root",factory:()=>wx});var Pb=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Pb||{}),Ua=new z(""),VS=new Set;function ms(n){VS.has(n)||(VS.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Ex=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=Wj}return n})();function Wj(){return new Ex(Se(),yn())}var Da=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Da||{}),Cx=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}return n})(),Gj=[Da.EarlyRead,Da.Write,Da.MixedReadWrite,Da.Read],Kj=(()=>{class n{ngZone=I(ce);scheduler=I(cs);errorHandler=I($r,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){I(Ua,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Ke(16),this.executing=!0;for(let r of Gj)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Ke(17)}register(t){let{view:r}=t;r!==void 0?((r[Aa]??=[]).push(t),Bl(r),r[ge]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Pb.AFTER_NEXT_RENDER,t):t()}static \u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}return n})(),Oy=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Aa];e&&(this.view[Aa]=e.filter(t=>t!==this))}};function Hl(n,e){!e?.injector&&Vf(Hl);let t=e?.injector??I(Le);return ms("NgAfterRender"),Ix(n,t,e,!1)}function gs(n,e){!e?.injector&&Vf(gs);let t=e?.injector??I(Le);return ms("NgAfterNextRender"),Ix(n,t,e,!0)}function Yj(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function Ix(n,e,t,r){let i=e.get(Cx);i.impl??=e.get(Kj);let o=e.get(Ua,null,{optional:!0}),s=t?.phase??Da.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(fs):null,c=e.get(Ex,null,{optional:!0}),u=new Oy(i.impl,Yj(n,s),c?.view,r,a,o?.snapshot(null));return i.impl.register(u),u}var Qj=(n,e,t,r)=>{};function Zj(n,e,t,r){Qj(n,e,t,r)}var Xj=()=>null;function Tx(n,e,t=!1){return Xj(n,e,t)}function Dx(n,e){let t=n.contentQueries;if(t!==null){let r=Me(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Eb(o),a.contentQueries(2,e[s],s)}}}finally{Me(r)}}}function ky(n,e,t){Eb(0);let r=Me(null);try{e(n,t)}finally{Me(r)}}function Rb(n,e,t){if(hb(e)){let r=Me(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{Me(r)}}}var zr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(zr||{});var Jh;function Jj(){if(Jh===void 0&&(Jh=null,Xo.trustedTypes))try{Jh=Xo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Jh}function jS(n){return Jj()?.createScriptURL(n)||n}var Cf=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${iA})`}};function ql(n){return n instanceof Cf?n.changingThisBreaksApplicationSecurity:n}function Sx(n,e){let t=eB(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${iA})`)}return t===e}function eB(n){return n instanceof Cf&&n.getTypeName()||null}var tB=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nB(n){return n=String(n),n.match(tB)?n:"unsafe:"+n}var Ob=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Ob||{});function go(n){let e=xx();return e?e.sanitize(Ob.URL,n)||"":Sx(n,"URL")?ql(n):nB(Ei(n))}function rB(n){let e=xx();if(e)return jS(e.sanitize(Ob.RESOURCE_URL,n)||"");if(Sx(n,"ResourceURL"))return jS(ql(n));throw new K(904,!1)}function iB(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?rB:go}function Ax(n,e,t){return iB(e,t)(n)}function xx(){let n=Se();return n&&n[Ci].sanitizer}var oB=/^>|^->|<!--|-->|--!>|<!-$/g,sB=/(<|>)/g,aB="\u200B$1\u200B";function cB(n){return n.replace(oB,e=>e.replace(sB,aB))}function Mx(n){return n instanceof Function?n():n}function lB(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var Px="ng-template";function uB(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&lB(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(kb(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function kb(n){return n.type===4&&n.value!==Px}function dB(n,e,t){let r=n.type===4&&!t?Px:n.value;return e===r}function hB(n,e,t){let r=4,i=n.attrs,o=i!==null?mB(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!_r(r)&&!_r(c))return!1;if(s&&_r(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!dB(n,c,t)||c===""&&e.length===1){if(_r(r))return!1;s=!0}}else if(r&8){if(i===null||!uB(n,i,c,t)){if(_r(r))return!1;s=!0}}else{let u=e[++a],d=fB(c,i,kb(n),t);if(d===-1){if(_r(r))return!1;s=!0;continue}if(u!==""){let p;if(d>o?p="":p=i[d+1].toLowerCase(),r&2&&u!==p){if(_r(r))return!1;s=!0}}}}return _r(r)||s}function _r(n){return(n&1)===0}function fB(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return gB(e,n)}function Rx(n,e,t=!1){for(let r=0;r<e.length;r++)if(hB(n,e[r],t))return!0;return!1}function pB(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function mB(n){for(let e=0;e<n.length;e++){let t=n[e];if(YA(t))return e}return n.length}function gB(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function vB(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function BS(n,e){return n?":not("+e.trim()+")":e}function _B(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!_r(s)&&(e+=BS(o,i),i=""),r=s,o=o||!_r(r);t++}return i!==""&&(e+=BS(o,i)),e}function yB(n){return n.map(_B).join(",")}function bB(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!_r(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var bn={};function wB(n,e){return n.createText(e)}function EB(n,e,t){n.setValue(e,t)}function CB(n,e){return n.createComment(cB(e))}function Ox(n,e,t){return n.createElement(e,t)}function If(n,e,t,r,i){n.insertBefore(e,t,r,i)}function kx(n,e,t){n.appendChild(e,t)}function US(n,e,t,r,i){r!==null?If(n,e,t,r,i):kx(n,e,t)}function IB(n,e,t){n.removeChild(null,e,t)}function TB(n,e,t){n.setAttribute(e,"style",t)}function DB(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Nx(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&hj(n,e,r),i!==null&&DB(n,e,i),o!==null&&TB(n,e,o)}function Nb(n,e,t,r,i,o,s,a,c,u,d){let p=Bt+r,v=p+i,_=SB(p,v),S=typeof u=="function"?u():u;return _[Ce]={type:n,blueprint:_,template:t,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:S,incompleteFirstPass:!1,ssrId:d}}function SB(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:bn);return t}function AB(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Nb(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Fb(n,e,t,r,i,o,s,a,c,u,d){let p=e.blueprint.slice();return p[xi]=i,p[ge]=r|4|128|8|64|1024,(u!==null||n&&n[ge]&2048)&&(p[ge]|=2048),kA(p),p[ln]=p[Fa]=n,p[_n]=t,p[Ci]=s||n&&n[Ci],p[gt]=a||n&&n[gt],p[Pa]=c||n&&n[Pa]||null,p[Pn]=o,p[jf]=jj(),p[Ol]=d,p[SA]=u,p[Jn]=e.type==2?n[Jn]:p,p}function xB(n,e,t){let r=Hr(e,n),i=AB(t),o=n[Ci].rendererFactory,s=Lb(n,Fb(n,i,null,Fx(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function Fx(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Lx(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Lb(n,e){return n[kl]?n[TS][br]=e:n[kl]=e,n[TS]=e,e}function E(n=1){Vx(It(),Se(),Pi()+n,!1)}function Vx(n,e,t,r){if(!r)if((e[ge]&3)===3){let o=n.preOrderCheckHooks;o!==null&&nf(e,o,t)}else{let o=n.preOrderHooks;o!==null&&rf(e,o,0,t)}ss(t)}var Gf=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Gf||{});function Ny(n,e,t,r){let i=Me(null);try{let[o,s,a]=n.inputs[t],c=null;(s&Gf.SignalBased)!==0&&(c=e[o][Qn]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):xA(e,c,o,r)}finally{Me(i)}}function jx(n,e,t,r,i){let o=Pi(),s=r&2;try{ss(-1),s&&e.length>Bt&&Vx(n,e,Bt,!1),Ke(s?2:0,i),t(r,i)}finally{ss(o),Ke(s?3:1,i)}}function Kf(n,e,t){NB(n,e,t),(t.flags&64)===64&&FB(n,e,t)}function Vb(n,e,t=Hr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function MB(n,e,t,r){let o=r.get(qj,wx)||t===zr.ShadowDom,s=n.selectRootElement(e,o);return PB(s),s}function PB(n){RB(n)}var RB=()=>null;function OB(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function jb(n,e,t,r,i,o,s,a){if(!a&&Ub(e,n,t,r,i)){La(e)&&kB(t,e.index);return}if(e.type&3){let c=Hr(e,t);r=OB(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)}else e.type&12}function kB(n,e){let t=Ur(e,n);t[ge]&16||(t[ge]|=64)}function NB(n,e,t){let r=t.directiveStart,i=t.directiveEnd;La(t)&&xB(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||bf(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=Nl(e,n,s,t);if(Ba(c,e),o!==null&&BB(e,s-r,c,a,t,o),jr(a)){let u=Ur(t.index,e);u[_n]=Nl(e,n,s,t)}}}function FB(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=rj();try{ss(o);for(let a=r;a<i;a++){let c=n.data[a],u=e[a];Ey(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&LB(c,u)}}finally{ss(-1),Ey(s)}}function LB(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Bb(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];Rx(e,o.selectors,!1)&&(r??=[],jr(o)?r.unshift(o):r.push(o))}return r}function VB(n,e,t,r,i,o){let s=Hr(n,e);jB(e[gt],s,o,n.value,t,r,i)}function jB(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Ei(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function BB(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];Ny(r,t,c,u)}}function UB(n,e){let t=n[Pa],r=t?t.get($r,null):null;r&&r.handleError(e)}function Ub(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],d=s[c+1],p=e.data[u];Ny(p,t[u],d,i),a=!0}if(o)for(let c of o){let u=t[c],d=e.data[c];Ny(d,u,r,i),a=!0}return a}function $B(n,e){let t=Ur(e,n),r=t[Ce];zB(r,t);let i=t[xi];i!==null&&t[Ol]===null&&(t[Ol]=Tx(i,t[Pa])),Ke(18),$b(r,t,t[_n]),Ke(19,t[_n])}function zB(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function $b(n,e,t){Cb(e);try{let r=n.viewQuery;r!==null&&ky(1,r,t);let i=n.template;i!==null&&jx(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ii]?.finishViewCreation(n),n.staticContentQueries&&Dx(n,e),n.staticViewQueries&&ky(2,n.viewQuery,t);let o=n.components;o!==null&&HB(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ge]&=-5,Ib()}}function HB(n,e){for(let t=0;t<e.length;t++)$B(n,e[t])}function zb(n,e,t,r){let i=Me(null);try{let o=e.tView,a=n[ge]&4096?4096:16,c=Fb(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[rs]=u;let d=n[Ii];return d!==null&&(c[Ii]=d.createEmbeddedView(o)),$b(o,c,t),c}finally{Me(i)}}function Tf(n,e){return!e||e.firstChild===null||px(n)}var qB;function Hb(n,e){return qB(n,e)}var Ti=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ti||{});function qb(n){return(n.flags&32)===32}function Sa(n,e,t,r,i){if(r!=null){let o,s=!1;Mi(r)?o=r:po(r)&&(s=!0,r=r[xi]);let a=Br(r);n===0&&t!==null?i==null?kx(e,t,a):If(e,t,a,i||null,!0):n===1&&t!==null?If(e,t,a,i||null,!0):n===2?IB(e,a,s):n===3&&e.destroyNode(a),o!=null&&tU(e,n,o,t,i)}}function WB(n,e){Bx(n,e),e[xi]=null,e[Pn]=null}function GB(n,e,t,r,i,o){r[xi]=i,r[Pn]=e,Qf(n,r,t,1,i,o)}function Bx(n,e){e[Ci].changeDetectionScheduler?.notify(9),Qf(n,e,e[gt],2,null,null)}function KB(n){let e=n[kl];if(!e)return ry(n[Ce],n);for(;e;){let t=null;if(po(e))t=e[kl];else{let r=e[Mn];r&&(t=r)}if(!t){for(;e&&!e[br]&&e!==n;)po(e)&&ry(e[Ce],e),e=e[ln];e===null&&(e=n),po(e)&&ry(e[Ce],e),t=e&&e[br]}e=t}}function Wb(n,e){let t=n[Ra],r=t.indexOf(e);t.splice(r,1)}function Gb(n,e){if(Va(e))return;let t=e[gt];t.destroyNode&&Qf(n,e,t,3,null,null),KB(e)}function ry(n,e){if(Va(e))return;let t=Me(null);try{e[ge]&=-129,e[ge]|=256,e[Xn]&&D_(e[Xn]),QB(n,e),YB(n,e),e[Ce].type===1&&e[gt].destroy();let r=e[rs];if(r!==null&&Mi(e[ln])){r!==e[ln]&&Wb(r,e);let i=e[Ii];i!==null&&i.detachView(n)}Py(e)}finally{Me(t)}}function YB(n,e){let t=n.cleanup,r=e[ff];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[ff]=null);let i=e[fo];if(i!==null){e[fo]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[pf];if(o!==null){e[pf]=null;for(let s of o)s.destroy()}}function QB(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof as)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Ke(4,a,c);try{c.call(a)}finally{Ke(5,a,c)}}else{Ke(4,i,o);try{o.call(i)}finally{Ke(5,i,o)}}}}}function Ux(n,e,t){return ZB(n,e.parent,t)}function ZB(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[xi];if(La(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===zr.None||i===zr.Emulated)return null}return Hr(r,t)}function $x(n,e,t){return JB(n,e,t)}function XB(n,e,t){return n.type&40?Hr(n,t):null}var JB=XB,$S;function Yf(n,e,t,r){let i=Ux(n,r,e),o=e[gt],s=r.parent||e[Pn],a=$x(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)US(o,i,t[c],a,!1);else US(o,i,t,a,!1);$S!==void 0&&$S(o,r,e,t,i)}function xl(n,e){if(e!==null){let t=e.type;if(t&3)return Hr(e,n);if(t&4)return Fy(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return xl(n,r);{let i=n[e.index];return Mi(i)?Fy(-1,i):Br(i)}}else{if(t&128)return xl(n,e.next);if(t&32)return Hb(e,n)()||Br(n[e.index]);{let r=zx(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=os(n[Jn]);return xl(i,r)}else return xl(n,e.next)}}}return null}function zx(n,e){if(e!==null){let r=n[Jn][Pn],i=e.projection;return r.projection[i]}return null}function Fy(n,e){let t=Mn+n+1;if(t<e.length){let r=e[t],i=r[Ce].firstChild;if(i!==null)return xl(r,i)}return e[is]}function Kb(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&Ba(Br(a),r),t.flags|=2),!qb(t))if(c&8)Kb(n,e,t.child,r,i,o,!1),Sa(e,n,i,a,o);else if(c&32){let u=Hb(t,r),d;for(;d=u();)Sa(e,n,i,d,o);Sa(e,n,i,a,o)}else c&16?Hx(n,e,r,t,i,o):Sa(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Qf(n,e,t,r,i,o){Kb(t,r,n.firstChild,e,i,o,!1)}function eU(n,e,t){let r=e[gt],i=Ux(n,t,e),o=t.parent||e[Pn],s=$x(o,t,e);Hx(r,0,e,t,i,s)}function Hx(n,e,t,r,i,o){let s=t[Jn],c=s[Pn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];Sa(e,n,i,d,o)}else{let u=c,d=s[ln];px(r)&&(u.flags|=128),Kb(n,e,u,d,i,o,!0)}}function tU(n,e,t,r,i){let o=t[is],s=Br(t);o!==s&&Sa(e,n,r,o,i);for(let a=Mn;a<t.length;a++){let c=t[a];Qf(c[Ce],c,n,e,r,o)}}function nU(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Ti.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ti.Important),n.setStyle(t,r,i,o))}}function Df(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Br(o)),Mi(o)&&rU(o,r);let s=t.type;if(s&8)Df(n,e,t.child,r);else if(s&32){let a=Hb(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=zx(e,t);if(Array.isArray(a))r.push(...a);else{let c=os(e[Jn]);Df(c[Ce],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function rU(n,e){for(let t=Mn;t<n.length;t++){let r=n[t],i=r[Ce].firstChild;i!==null&&Df(r[Ce],r,i,e)}n[is]!==n[xi]&&e.push(n[is])}function qx(n){if(n[Aa]!==null){for(let e of n[Aa])e.impl.addSequence(e);n[Aa].length=0}}var Wx=[];function iU(n){return n[Xn]??oU(n)}function oU(n){let e=Wx.pop()??Object.create(aU);return e.lView=n,e}function sU(n){n.lView[Xn]!==n&&(n.lView=null,Wx.push(n))}var aU=ne(L({},bl),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Bl(n.lView)},consumerOnSignalRead(){this.lView[Xn]=this}});function cU(n){let e=n[Xn]??Object.create(lU);return e.lView=n,e}var lU=ne(L({},bl),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=os(n.lView);for(;e&&!Gx(e[Ce]);)e=os(e);e&&NA(e)},consumerOnSignalRead(){this.lView[Xn]=this}});function Gx(n){return n.type!==2}function Kx(n){if(n[pf]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[pf])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ge]&8192)}}var uU=100;function Yx(n,e=!0,t=0){let i=n[Ci].rendererFactory,o=!1;o||i.begin?.();try{dU(n,t)}catch(s){throw e&&UB(n,s),s}finally{o||i.end?.()}}function dU(n,e){let t=jA();try{SS(!0),Ly(n,e);let r=0;for(;Uf(n);){if(r===uU)throw new K(103,!1);r++,Ly(n,1)}}finally{SS(t)}}function hU(n,e,t,r){if(Va(e))return;let i=e[ge],o=!1,s=!1;Cb(e);let a=!0,c=null,u=null;o||(Gx(n)?(u=iU(e),c=yh(u)):b_()===null?(a=!1,u=cU(e),c=yh(u)):e[Xn]&&(D_(e[Xn]),e[Xn]=null));try{kA(e),ej(n.bindingStartIndex),t!==null&&jx(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let _=n.preOrderCheckHooks;_!==null&&nf(e,_,null)}else{let _=n.preOrderHooks;_!==null&&rf(e,_,0,null),ty(e,0)}if(s||fU(e),Kx(e),Qx(e,0),n.contentQueries!==null&&Dx(n,e),!o)if(d){let _=n.contentCheckHooks;_!==null&&nf(e,_)}else{let _=n.contentHooks;_!==null&&rf(e,_,1),ty(e,1)}mU(n,e);let p=n.components;p!==null&&Xx(e,p,0);let v=n.viewQuery;if(v!==null&&ky(2,v,r),!o)if(d){let _=n.viewCheckHooks;_!==null&&nf(e,_)}else{let _=n.viewHooks;_!==null&&rf(e,_,2),ty(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[ey]){for(let _ of e[ey])_();e[ey]=null}o||(qx(e),e[ge]&=-73)}catch(d){throw o||Bl(e),d}finally{u!==null&&(I_(u,c),a&&sU(u)),Ib()}}function Qx(n,e){for(let t=vx(n);t!==null;t=_x(t))for(let r=Mn;r<t.length;r++){let i=t[r];Zx(i,e)}}function fU(n){for(let e=vx(n);e!==null;e=_x(e)){if(!(e[ge]&2))continue;let t=e[Ra];for(let r=0;r<t.length;r++){let i=t[r];NA(i)}}}function pU(n,e,t){Ke(18);let r=Ur(e,n);Zx(r,t),Ke(19,r[_n])}function Zx(n,e){mb(n)&&Ly(n,e)}function Ly(n,e){let r=n[Ce],i=n[ge],o=n[Xn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&T_(o)),s||=!1,o&&(o.dirty=!1),n[ge]&=-9217,s)hU(r,n,r.template,n[_n]);else if(i&8192){Kx(n),Qx(n,1);let a=r.components;a!==null&&Xx(n,a,1),qx(n)}}function Xx(n,e,t){for(let r=0;r<e.length;r++)pU(n,e[r],t)}function mU(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)ss(~i);else{let o=i,s=t[++r],a=t[++r];nj(s,o);let c=e[o];Ke(24,c),a(2,c),Ke(25,c)}}}finally{ss(-1)}}function Yb(n,e){let t=jA()?64:1088;for(n[Ci].changeDetectionScheduler?.notify(e);n;){n[ge]|=t;let r=os(n);if(gf(n)&&!r)return n;n=r}return null}function Jx(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function gU(n,e){let t=Mn+e;if(t<n.length)return n[t]}function Qb(n,e,t,r=!0){let i=e[Ce];if(_U(i,e,n,t),r){let s=Fy(t,n),a=e[gt],c=a.parentNode(n[is]);c!==null&&GB(i,n[Pn],a,e,c,s)}let o=e[Ol];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function vU(n,e){let t=Sf(n,e);return t!==void 0&&Gb(t[Ce],t),t}function Sf(n,e){if(n.length<=Mn)return;let t=Mn+e,r=n[t];if(r){let i=r[rs];i!==null&&i!==n&&Wb(i,r),e>0&&(n[t-1][br]=r[br]);let o=df(n,Mn+e);WB(r[Ce],r);let s=o[Ii];s!==null&&s.detachView(o[Ce]),r[ln]=null,r[br]=null,r[ge]&=-129}return r}function _U(n,e,t,r){let i=Mn+r,o=t.length;r>0&&(t[i-1][br]=e),r<o-Mn?(e[br]=t[i],_A(t,Mn+r,e)):(t.push(e),e[br]=null),e[ln]=t;let s=e[rs];s!==null&&t!==s&&eM(s,e);let a=e[Ii];a!==null&&a.insertView(n),by(e),e[ge]|=128}function eM(n,e){let t=n[Ra],r=e[ln];if(po(r))n[ge]|=2;else{let i=r[ln][Jn];e[Jn]!==i&&(n[ge]|=2)}t===null?n[Ra]=[e]:t.push(e)}var Fl=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[Ce];return Df(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[_n]}set context(e){this._lView[_n]=e}get destroyed(){return Va(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ln];if(Mi(e)){let t=e[mf],r=t?t.indexOf(this):-1;r>-1&&(Sf(e,r),df(t,r))}this._attachedToViewContainer=!1}Gb(this._lView[Ce],this._lView)}onDestroy(e){FA(this._lView,e)}markForCheck(){Yb(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ge]&=-129}reattach(){by(this._lView),this._lView[ge]|=128}detectChanges(){this._lView[ge]|=1024,Yx(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=gf(this._lView),t=this._lView[rs];t!==null&&!e&&Wb(t,this._lView),Bx(this._lView[Ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=e;let t=gf(this._lView),r=this._lView[rs];r!==null&&!t&&eM(r,this._lView),by(this._lView)}};var er=(()=>{class n{static __NG_ELEMENT_ID__=wU}return n})(),yU=er,bU=class extends yU{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=zb(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Fl(i)}};function wU(){return Zf(yn(),Se())}function Zf(n,e){return n.type&4?new bU(e,n,ja(n,e)):null}function Wl(n,e,t,r,i){let o=n.data[e];if(o===null)o=EU(n,e,t,r,i),tj()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=X2();o.injectorIndex=s===null?-1:s.injectorIndex}return hs(o,!0),o}function EU(n,e,t,r,i){let o=VA(),s=yb(),a=s?o:o&&o.parent,c=n.data[e]=IU(n,a,t,e,r,i);return CU(n,c,o,s),c}function CU(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function IU(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return LA()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Xne=new RegExp(`^(\\d+)*(${Hj}|${zj})*(.*)`);var TU=()=>null;function Af(n,e){return TU(n,e)}var DU=class{},tM=class{},Vy=class{resolveComponentFactory(e){throw Error(`No component factory found for ${xn(e)}.`)}},Xf=class{static NULL=new Vy},Zt=class{},Cr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>SU()}return n})();function SU(){let n=Se(),e=yn(),t=Ur(e.index,n);return(po(t)?t:n)[gt]}var AU=(()=>{class n{static \u0275prov=V({token:n,providedIn:"root",factory:()=>null})}return n})();var iy={},jy=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Nf(r);let i=this.injector.get(e,iy,r);return i!==iy||t===iy?i:this.parentInjector.get(e,t,r)}};function By(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=hy(i,a);else if(o==2){let c=a,u=e[++s];r=hy(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function j(n,e=Ee.Default){let t=Se();if(t===null)return Y(n,e);let r=yn();return nx(r,t,vn(n),e)}function nM(){let n="invalid";throw new Error(n)}function Zb(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,c=null,u=null,d=MU(s);d===null?a=s:[a,c,u]=d,OU(n,e,t,a,o,c,u)}o!==null&&r!==null&&xU(t,r,o)}function xU(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new K(-301,!1);r.push(e[i],o)}}function MU(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&jr(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,PU(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function PU(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function RU(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function OU(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let v=0;v<a;v++){let _=r[v];!c&&jr(_)&&(c=!0,RU(n,t,v)),Iy(bf(t,e),n,_.type)}jU(t,n.data.length,a);for(let v=0;v<a;v++){let _=r[v];_.providersResolver&&_.providersResolver(_)}let u=!1,d=!1,p=Lx(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let v=0;v<a;v++){let _=r[v];if(t.mergedAttrs=ka(t.mergedAttrs,_.hostAttrs),NU(n,t,e,p,_),VU(p,_,i),s!==null&&s.has(_)){let[R,k]=s.get(_);t.directiveToIndex.set(_.type,[p,R+t.directiveStart,k+t.directiveStart])}else(o===null||!o.has(_))&&t.directiveToIndex.set(_.type,p);_.contentQueries!==null&&(t.flags|=4),(_.hostBindings!==null||_.hostAttrs!==null||_.hostVars!==0)&&(t.flags|=64);let S=_.type.prototype;!u&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!d&&(S.ngOnChanges||S.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),p++}kU(n,t,o)}function kU(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))zS(0,e,i,r),zS(1,e,i,r),qS(e,r,!1);else{let o=t.get(i);HS(0,e,o,r),HS(1,e,o,r),qS(e,r,!0)}}}function zS(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),rM(e,o)}}function HS(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),rM(e,s)}}function rM(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function qS(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||kb(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let u=i[c];for(let d of u)if(d===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let u=o[c];for(let d=0;d<u.length;d+=2)if(u[d]===e){s??=[],s.push(u[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function NU(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=ts(i.type,!0)),s=new as(o,jr(i),j);n.blueprint[r]=s,t[r]=s,FU(n,e,r,Lx(n,t,i.hostVars,bn),i)}function FU(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;LU(s)!=a&&s.push(a),s.push(t,r,o)}}function LU(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function VU(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;jr(e)&&(t[""]=n)}}function jU(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function iM(n,e,t,r,i,o,s,a){let c=e.consts,u=Oa(c,s),d=Wl(e,n,2,r,u);return o&&Zb(e,t,d,Oa(c,a),i),d.mergedAttrs=ka(d.mergedAttrs,d.attrs),d.attrs!==null&&By(d,d.attrs,!1),d.mergedAttrs!==null&&By(d,d.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,d),d}function oM(n,e){Tb(n,e),hb(e)&&n.queries.elementEnd(e)}var xf=class extends Xf{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=mo(e);return new ls(t,this.ngModule)}};function BU(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Gf.SignalBased)!==0};return i&&(o.transform=i),o})}function UU(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function $U(n,e,t){let r=e instanceof ut?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new jy(t,r):t}function zU(n){let e=n.get(Zt,null);if(e===null)throw new K(407,!1);let t=n.get(AU,null),r=n.get(cs,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function HU(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return Ox(e,t,t==="svg"?j2:t==="math"?B2:null)}var ls=class extends tM{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=BU(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=UU(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=yB(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Ke(22);let o=Me(null);try{let s=this.componentDef,a=r?["ng-version","19.2.13"]:bB(this.componentDef.selectors[0]),c=Nb(0,null,null,1,0,null,null,null,null,[a],null),u=$U(s,i||this.ngModule,e),d=zU(u),p=d.rendererFactory.createRenderer(null,s),v=r?MB(p,r,s.encapsulation,u):HU(s,p),_=Fb(null,c,null,512|Fx(s),null,null,d,p,u,null,Tx(v,u,!0));_[Bt]=v,Cb(_);let S=null;try{let R=iM(Bt,c,_,"#host",()=>[this.componentDef],!0,0);v&&(Nx(p,v,R),Ba(v,_)),Kf(c,_,R),Rb(c,R,_),oM(c,R),t!==void 0&&qU(R,this.ngContentSelectors,t),S=Ur(R.index,_),_[_n]=S[_n],$b(c,_,null)}catch(R){throw S!==null&&Py(S),Py(_),R}finally{Ke(23),Ib()}return new Uy(this.componentType,_)}finally{Me(o)}}},Uy=class extends DU{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=fb(t[Ce],Bt),this.location=ja(this._tNode,t),this.instance=Ur(this._tNode.index,t)[_n],this.hostView=this.changeDetectorRef=new Fl(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Ub(r,i[Ce],i,e,t);this.previousInputValues.set(e,t);let s=Ur(r.index,i);Yb(s,1)}get injector(){return new es(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function qU(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var tr=(()=>{class n{static __NG_ELEMENT_ID__=WU}return n})();function WU(){let n=yn();return aM(n,Se())}var GU=tr,sM=class extends GU{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ja(this._hostTNode,this._hostLView)}get injector(){return new es(this._hostTNode,this._hostLView)}get parentInjector(){let e=Db(this._hostTNode,this._hostLView);if(QA(e)){let t=_f(e,this._hostLView),r=vf(e),i=t[Ce].data[r+8];return new es(i,t)}else return new es(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=WS(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Mn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Af(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Tf(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!N2(e),a;if(s)a=t;else{let S=t||{};a=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let c=s?e:new ls(mo(e)),u=r||this.parentInjector;if(!o&&c.ngModule==null){let R=(s?u:this.parentInjector).get(ut,null);R&&(o=R)}let d=mo(c.componentType??{}),p=Af(this._lContainer,d?.id??null),v=p?.firstChild??null,_=c.create(u,i,v,o);return this.insertImpl(_.hostView,a,Tf(this._hostTNode,p)),_}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(z2(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[ln],u=new sM(c,c[Pn],c[ln]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Qb(s,i,o,r),e.attachToViewContainerRef(),_A(oy(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=WS(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Sf(this._lContainer,t);r&&(df(oy(this._lContainer),t),Gb(r[Ce],r))}detach(e){let t=this._adjustIndex(e,-1),r=Sf(this._lContainer,t);return r&&df(oy(this._lContainer),t)!=null?new Fl(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function WS(n){return n[mf]}function oy(n){return n[mf]||(n[mf]=[])}function aM(n,e){let t,r=e[n.index];return Mi(r)?t=r:(t=Jx(r,e,null,n),e[n.index]=t,Lb(e,t)),YU(t,e,n,r),new sM(t,n,e)}function KU(n,e){let t=n[gt],r=t.createComment(""),i=Hr(e,n),o=t.parentNode(i);return If(t,o,r,t.nextSibling(i),!1),r}var YU=XU,QU=()=>!1;function ZU(n,e,t){return QU(n,e,t)}function XU(n,e,t,r){if(n[is])return;let i;t.type&8?i=Br(r):i=KU(e,t),n[is]=i}var $y=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},zy=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Xb(e,t).matches!==null&&this.queries[t].setDirty()}},Hy=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=s3(e):this.predicate=e}},qy=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Wy=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,JU(t,o)),this.matchTNodeWithReadOption(e,t,of(t,e,o,!1,!1))}else r===er?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,of(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===et||i===tr||i===er&&t.type&4)this.addMatch(t.index,-2);else{let o=of(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function JU(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function e3(n,e){return n.type&11?ja(n,e):n.type&4?Zf(n,e):null}function t3(n,e,t,r){return t===-1?e3(e,n):t===-2?n3(n,e,r):Nl(n,n[Ce],t,e)}function n3(n,e,t){if(t===et)return ja(e,n);if(t===er)return Zf(e,n);if(t===tr)return aM(e,n)}function cM(n,e,t,r){let i=e[Ii].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let d=o[u];a.push(t3(e,d,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function Gy(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=cM(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],d=e[-c];for(let p=Mn;p<d.length;p++){let v=d[p];v[rs]===v[ln]&&Gy(v[Ce],v,u,r)}if(d[Ra]!==null){let p=d[Ra];for(let v=0;v<p.length;v++){let _=p[v];Gy(_[Ce],_,u,r)}}}}}return r}function r3(n,e){return n[Ii].queries[e].queryList}function i3(n,e,t){let r=new My((t&4)===4);return W2(n,e,r,r.destroy),(e[Ii]??=new zy).queries.push(new $y(r))-1}function o3(n,e,t){let r=It();return r.firstCreatePass&&(a3(r,new Hy(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),i3(r,Se(),e)}function s3(n){return n.split(",").map(e=>e.trim())}function a3(n,e,t){n.queries===null&&(n.queries=new qy),n.queries.track(new Wy(e,t))}function Xb(n,e){return n.queries.getByIndex(e)}function c3(n,e){let t=n[Ce],r=Xb(t,e);return r.crossesNgTemplate?Gy(t,n,e,[]):cM(t,n,r,e)}var Di=class{},Jb=class{};var Ky=class extends Di{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new xf(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=wA(e);this._bootstrapComponents=Mx(o.bootstrap),this._r3Injector=ox(e,t,[{provide:Di,useValue:this},{provide:Xf,useValue:this.componentFactoryResolver},...r],xn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Yy=class extends Jb{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Ky(this.moduleType,e,[])}};var Mf=class extends Di{injector;componentFactoryResolver=new xf(this);instance=null;constructor(e){super();let t=new Rl([...e.providers,{provide:Di,useValue:this},{provide:Xf,useValue:this.componentFactoryResolver}],e.parent||Lf(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Gl(n,e,t=null){return new Mf({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var l3=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=EA(!1,t.type),i=r.length>0?Gl([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=V({token:n,providedIn:"environment",factory:()=>new n(Y(ut))})}return n})();function Re(n){return Vl(()=>{let e=lM(n),t=ne(L({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===mx.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(l3).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||zr.Emulated,styles:n.styles||An,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&ms("NgStandalone"),uM(t);let r=n.dependencies;return t.directiveDefs=GS(r,!1),t.pipeDefs=GS(r,!0),t.id=p3(t),t})}function u3(n){return mo(n)||C2(n)}function d3(n){return n!==null}function Jt(n){return Vl(()=>({type:n.type,bootstrap:n.bootstrap||An,declarations:n.declarations||An,imports:n.imports||An,exports:n.exports||An,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function h3(n,e){if(n==null)return ns;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Gf.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function f3(n){if(n==null)return ns;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function he(n){return Vl(()=>{let e=lM(n);return uM(e),e})}function vs(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function lM(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||ns,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||An,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:h3(n.inputs,e),outputs:f3(n.outputs),debugInfo:null}}function uM(n){n.features?.forEach(e=>e(n))}function GS(n,e){if(!n)return null;let t=e?I2:u3;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(d3)}function p3(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function m3(n){return Object.getPrototypeOf(n.prototype).constructor}function qe(n){let e=m3(n.type),t=!0,r=[n];for(;e;){let i;if(jr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new K(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=sy(n.inputs),s.declaredInputs=sy(n.declaredInputs),s.outputs=sy(n.outputs);let a=i.hostBindings;a&&b3(n,a);let c=i.viewQuery,u=i.contentQueries;if(c&&_3(n,c),u&&y3(n,u),g3(n,i),e2(n.outputs,i.outputs),jr(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===qe&&(t=!1)}}e=Object.getPrototypeOf(e)}v3(r)}function g3(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function v3(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ka(i.hostAttrs,t=ka(t,i.hostAttrs))}}function sy(n){return n===ns?{}:n===An?[]:n}function _3(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function y3(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function b3(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function dM(n){return E3(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function w3(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function E3(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function hM(n,e,t){return n[e]=t}function wr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function e0(n,e,t,r){let i=wr(n,e,t);return wr(n,e+1,r)||i}function C3(n,e,t,r,i){let o=e0(n,e,t,r);return wr(n,e+2,i)||o}function I3(n,e,t,r,i,o,s,a,c){let u=e.consts,d=Wl(e,n,4,s||null,a||null);_b()&&Zb(e,t,d,Oa(u,c),Bb),d.mergedAttrs=ka(d.mergedAttrs,d.attrs),Tb(e,d);let p=d.tView=Nb(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),p.queries=e.queries.embeddedTView(d)),d}function fM(n,e,t,r,i,o,s,a,c,u){let d=t+Bt,p=e.firstCreatePass?I3(d,e,n,r,i,o,s,a,c):e.data[d];hs(p,!1);let v=T3(e,n,p,t);Hf()&&Yf(e,n,v,p),Ba(v,n);let _=Jx(v,n,v,p);return n[d]=_,Lb(n,_),ZU(_,p,n),Bf(p)&&Kf(e,n,p),c!=null&&Vb(n,p,u),p}function W(n,e,t,r,i,o,s,a){let c=Se(),u=It(),d=Oa(u.consts,o);return fM(c,u,n,e,t,r,i,d,s,a),W}var T3=D3;function D3(n,e,t,r){return qf(!0),e[gt].createComment("")}var pM=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var mM=new z("");var S3=(()=>{class n{static \u0275prov=V({token:n,providedIn:"root",factory:()=>new Qy})}return n})(),Qy=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function vo(n){return!!n&&typeof n.then=="function"}function t0(n){return!!n&&typeof n.subscribe=="function"}var gM=new z("");function n0(n){return Ai([{provide:gM,multi:!0,useValue:n}])}var vM=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=I(gM,{optional:!0})??[];injector=I(Le);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Ut(this.injector,i);if(vo(o))t.push(o);else if(t0(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jf=new z("");function A3(){A_(()=>{throw new K(600,!1)})}function x3(n){return n.isBoundToModule}var M3=10;var Er=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=I(Pj);afterRenderManager=I(Cx);zonelessEnabled=I(ax);rootEffectScheduler=I(S3);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new fe;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=I(Ri).hasPendingTasks.pipe(de(t=>!t));constructor(){I(Ua,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=I(ut);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Le.NULL){Ke(10);let o=t instanceof tM;if(!this._injector.get(vM).done){let _="";throw new K(405,_)}let a;o?a=t:a=this._injector.get(Xf).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let c=x3(a)?void 0:this._injector.get(Di),u=r||a.selector,d=a.create(i,[],u,c),p=d.location.nativeElement,v=d.injector.get(mM,null);return v?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),sf(this.components,d),v?.unregisterApplication(p)}),this._loadComponent(d),Ke(11,d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ke(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Pb.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new K(101,!1);let t=Me(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Me(t),this.afterTick.next(),Ke(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Zt,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<M3;)Ke(14),this.synchronizeOnce(),Ke(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)P3(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Uf(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;sf(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Jf,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>sf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new K(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sf(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function P3(n,e,t,r){if(!t&&!Uf(n))return;Yx(n,e,t&&!r?0:1)}function $n(n,e,t,r){let i=Se(),o=Ul();if(wr(i,o,e)){let s=It(),a=zf();VB(a,i,n,e,t,r)}return $n}function _M(n,e,t,r){return wr(n,Ul(),t)?e+Ei(t)+r:bn}function R3(n,e,t,r,i,o){let s=BA(),a=e0(n,s,t,i);return $f(2),a?e+Ei(t)+r+Ei(i)+o:bn}function O3(n,e,t,r,i,o,s,a){let c=BA(),u=C3(n,c,t,i,s);return $f(3),u?e+Ei(t)+r+Ei(i)+o+Ei(s)+a:bn}function ef(n,e){return n<<17|e<<2}function us(n){return n>>17&32767}function k3(n){return(n&2)==2}function N3(n,e){return n&131071|e<<17}function Zy(n){return n|2}function Na(n){return(n&131068)>>2}function ay(n,e){return n&-131069|e<<2}function F3(n){return(n&1)===1}function Xy(n){return n|1}function L3(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=us(s),c=Na(s);n[r]=t;let u=!1,d;if(Array.isArray(t)){let p=t;d=p[1],(d===null||jl(p,d)>0)&&(u=!0)}else d=t;if(i)if(c!==0){let v=us(n[a+1]);n[r+1]=ef(v,a),v!==0&&(n[v+1]=ay(n[v+1],r)),n[a+1]=N3(n[a+1],r)}else n[r+1]=ef(a,0),a!==0&&(n[a+1]=ay(n[a+1],r)),a=r;else n[r+1]=ef(c,0),a===0?a=r:n[c+1]=ay(n[c+1],r),c=r;u&&(n[r+1]=Zy(n[r+1])),KS(n,d,r,!0),KS(n,d,r,!1),V3(e,d,n,r,o),s=ef(a,c),o?e.classBindings=s:e.styleBindings=s}function V3(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&jl(o,e)>=0&&(t[r+1]=Xy(t[r+1]))}function KS(n,e,t,r){let i=n[t+1],o=e===null,s=r?us(i):Na(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],u=n[s+1];j3(c,e)&&(a=!0,n[s+1]=r?Xy(u):Zy(u)),s=r?us(u):Na(u)}a&&(n[t+1]=r?Zy(i):Xy(i))}function j3(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?jl(n,e)>=0:!1}var yr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function B3(n){return n.substring(yr.key,yr.keyEnd)}function U3(n){return $3(n),yM(n,bM(n,0,yr.textEnd))}function yM(n,e){let t=yr.textEnd;return t===e?-1:(e=yr.keyEnd=z3(n,yr.key=e,t),bM(n,e,t))}function $3(n){yr.key=0,yr.keyEnd=0,yr.value=0,yr.valueEnd=0,yr.textEnd=n.length}function bM(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function z3(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function F(n,e,t){let r=Se(),i=Ul();if(wr(r,i,e)){let o=It(),s=zf();jb(o,s,r,n,e,r[gt],t,!1)}return F}function Jy(n,e,t,r,i){Ub(e,n,t,i?"class":"style",r)}function ki(n,e,t){return wM(n,e,t,!1),ki}function Ye(n,e){return wM(n,e,null,!0),Ye}function r0(n){q3(Z3,H3,n,!0)}function H3(n,e){for(let t=U3(e);t>=0;t=yM(e,t))ub(n,B3(e),!0)}function wM(n,e,t,r){let i=Se(),o=It(),s=$f(2);if(o.firstUpdatePass&&CM(o,n,s,r),e!==bn&&wr(i,s,e)){let a=o.data[Pi()];IM(o,a,i,i[gt],n,i[s+1]=J3(e,t),r,s)}}function q3(n,e,t,r){let i=It(),o=$f(2);i.firstUpdatePass&&CM(i,null,o,r);let s=Se();if(t!==bn&&wr(s,o,t)){let a=i.data[Pi()];if(TM(a,r)&&!EM(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=hy(c,t||"")),Jy(i,a,s,t,r)}else X3(i,a,s,s[gt],s[o+1],s[o+1]=Q3(n,e,t),r,o)}}function EM(n,e){return e>=n.expandoStartIndex}function CM(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Pi()],s=EM(n,t);TM(o,r)&&e===null&&!s&&(e=!1),e=W3(i,o,e,r),L3(i,o,e,t,s,r)}}function W3(n,e,t,r){let i=ij(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=cy(null,n,e,t,r),t=Ll(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=cy(i,n,e,t,r),o===null){let c=G3(n,e,r);c!==void 0&&Array.isArray(c)&&(c=cy(null,n,e,c[1],r),c=Ll(c,e.attrs,r),K3(n,e,r,c))}else o=Y3(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function G3(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Na(r)!==0)return n[us(r)]}function K3(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[us(i)]=r}function Y3(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ll(r,s,t)}return Ll(r,e.attrs,t)}function cy(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Ll(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Ll(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),ub(n,s,t?!0:e[++o]))}return n===void 0?null:n}function Q3(n,e,t){if(t==null||t==="")return An;let r=[],i=ql(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function Z3(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&ub(n,r,t)}function X3(n,e,t,r,i,o,s,a){i===bn&&(i=An);let c=0,u=0,d=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;d!==null||p!==null;){let v=c<i.length?i[c+1]:void 0,_=u<o.length?o[u+1]:void 0,S=null,R;d===p?(c+=2,u+=2,v!==_&&(S=p,R=_)):p===null||d!==null&&d<p?(c+=2,S=d):(u+=2,S=p,R=_),S!==null&&IM(n,e,t,r,S,R,s,a),d=c<i.length?i[c]:null,p=u<o.length?o[u]:null}}function IM(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],d=F3(u)?YS(c,e,t,i,Na(u),s):void 0;if(!Pf(d)){Pf(o)||k3(u)&&(o=YS(c,null,t,i,a,s));let p=OA(Pi(),t);nU(r,s,p,i,o)}}function YS(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],u=Array.isArray(c),d=u?c[1]:c,p=d===null,v=t[i+1];v===bn&&(v=p?An:void 0);let _=p?X_(v,r):d===r?v:void 0;if(u&&!Pf(_)&&(_=X_(c,r)),Pf(_)&&(a=_,s))return a;let S=n[i+1];i=s?us(S):Na(S)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=X_(c,r))}return a}function Pf(n){return n!==void 0}function J3(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=xn(ql(n)))),n}function TM(n,e){return(n.flags&(e?8:16))!==0}function DM(n,e){ms("NgControlFlow");let t=Se(),r=Ul(),i=t[r]!==bn?t[r]:-1,o=i!==-1?QS(t,Bt+i):void 0,s=0;if(wr(t,r,n)){let a=Me(null);try{if(o!==void 0&&vU(o,s),n!==-1){let c=Bt+n,u=QS(t,c),d=e4(t[Ce],c),p=Af(u,d.tView.ssrId),v=zb(t,d,e,{dehydratedView:p});Qb(u,v,s,Tf(d,p))}}finally{Me(a)}}else if(o!==void 0){let a=gU(o,s);a!==void 0&&(a[_n]=e)}}function QS(n,e){return n[e]}function e4(n,e){return fb(n,e)}function g(n,e,t,r){let i=Se(),o=It(),s=Bt+n,a=i[gt],c=o.firstCreatePass?iM(s,o,i,e,Bb,_b(),t,r):o.data[s],u=t4(o,i,c,a,e,n);i[s]=u;let d=Bf(c);return hs(c,!0),Nx(a,u,c),!qb(c)&&Hf()&&Yf(o,i,u,c),(G2()===0||d)&&Ba(u,i),K2(),d&&(Kf(o,i,c),Rb(o,c,i)),r!==null&&Vb(i,c),g}function m(){let n=yn();yb()?bb():(n=n.parent,hs(n,!1));let e=n;Q2(e)&&Z2(),Y2();let t=It();return t.firstCreatePass&&oM(t,e),e.classesWithoutHost!=null&&uj(e)&&Jy(t,e,Se(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&dj(e)&&Jy(t,e,Se(),e.stylesWithoutHost,!1),m}function ae(n,e,t,r){return g(n,e,t,r),m(),ae}var t4=(n,e,t,r,i,o)=>(qf(!0),Ox(r,i,aj()));function n4(n,e,t,r,i){let o=e.consts,s=Oa(o,r),a=Wl(e,n,8,"ng-container",s);s!==null&&By(a,s,!0);let c=Oa(o,i);return _b()&&Zb(e,t,a,c,Bb),a.mergedAttrs=ka(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function i0(n,e,t){let r=Se(),i=It(),o=n+Bt,s=i.firstCreatePass?n4(o,i,r,e,t):i.data[o];hs(s,!0);let a=r4(i,r,s,n);return r[o]=a,Hf()&&Yf(i,r,a,s),Ba(a,r),Bf(s)&&(Kf(i,r,s),Rb(i,s,r)),t!=null&&Vb(r,s),i0}function o0(){let n=yn(),e=It();return yb()?bb():(n=n.parent,hs(n,!1)),e.firstCreatePass&&(Tb(e,n),hb(n)&&e.queries.elementEnd(n)),o0}var r4=(n,e,t,r)=>(qf(!0),CB(e[gt],""));function Pe(){return Se()}var Zo=void 0;function i4(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var o4=["en",[["a","p"],["AM","PM"],Zo],[["AM","PM"],Zo,Zo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zo,"{1} 'at' {0}",Zo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",i4],ly={};function zn(n){let e=s4(n),t=ZS(e);if(t)return t;let r=e.split("-")[0];if(t=ZS(r),t)return t;if(r==="en")return o4;throw new K(701,!1)}function ZS(n){return n in ly||(ly[n]=Xo.ng&&Xo.ng.common&&Xo.ng.common.locales&&Xo.ng.common.locales[n]),ly[n]}var wt=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(wt||{});function s4(n){return n.toLowerCase().replace(/_/g,"-")}var Rf="en-US";var a4=Rf;function c4(n){typeof n=="string"&&(a4=n.toLowerCase().replace(/_/g,"-"))}function XS(n,e,t){return function r(i){if(i===Function)return t;let o=La(n)?Ur(n.index,e):e;Yb(o,5);let s=e[_n],a=JS(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=JS(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function JS(n,e,t,r){let i=Me(null);try{return Ke(6,e,t),t(r)!==!1}catch(o){return l4(n,o),!1}finally{Ke(7,e,t),Me(i)}}function l4(n,e){let t=n[Pa],r=t?t.get($r,null):null;r&&r.handleError(e)}function eA(n,e,t,r,i,o){let s=e[t],a=e[Ce],u=a.data[t].outputs[r],d=s[u],p=a.firstCreatePass?vb(a):null,v=gb(e),_=d.subscribe(o),S=v.length;v.push(o,_),p&&p.push(i,n.index,S,-(S+1))}function H(n,e,t,r){let i=Se(),o=It(),s=yn();return SM(o,i,i[gt],s,n,e,r),H}function u4(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[ff],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function SM(n,e,t,r,i,o,s){let a=Bf(r),u=n.firstCreatePass?vb(n):null,d=gb(e),p=!0;if(r.type&3||s){let v=Hr(r,e),_=s?s(v):v,S=d.length,R=s?G=>s(Br(G[r.index])):r.index,k=null;if(!s&&a&&(k=u4(n,e,i,r.index)),k!==null){let G=k.__ngLastListenerFn__||k;G.__ngNextListenerFn__=o,k.__ngLastListenerFn__=o,p=!1}else{o=XS(r,e,o),Zj(e,_,i,o);let G=t.listen(_,i,o);d.push(o,G),u&&u.push(i,R,S,S+1)}}else o=XS(r,e,o);if(p){let v=r.outputs?.[i],_=r.hostDirectiveOutputs?.[i];if(_&&_.length)for(let S=0;S<_.length;S+=2){let R=_[S],k=_[S+1];eA(r,e,R,k,i,o)}if(v&&v.length)for(let S of v)eA(r,e,S,i,i,o)}}function U(n=1){return sj(n)}function d4(n,e){let t=null,r=pB(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?Rx(n,o,!0):vB(r,o))return i}return t}function ep(n){let e=Se()[Jn][Pn];if(!e.projection){let t=n?n.length:1,r=e.projection=b2(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?d4(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function $a(n,e=0,t,r,i,o){let s=Se(),a=It(),c=r?n+1:null;c!==null&&fM(s,a,c,r,i,o,null,t);let u=Wl(a,Bt+n,16,null,t||null);u.projection===null&&(u.projection=e),bb();let p=!s[Ol]||LA();s[Jn][Pn].projection[u.projection]===null&&c!==null?h4(s,a,c):p&&!qb(u)&&eU(a,s,u)}function h4(n,e,t){let r=Bt+t,i=e.data[r],o=n[r],s=Af(o,i.tView.ssrId),a=zb(n,i,void 0,{dehydratedView:s});Qb(o,a,0,Tf(i,s))}function s0(n,e,t,r,i){let o=Se(),s=_M(o,e,t,r);if(s!==bn){let a=It(),c=zf();jb(a,c,o,n,s,o[gt],i,!1)}return s0}function tp(n,e,t){o3(n,e,t)}function Kl(n){let e=Se(),t=It(),r=UA();Eb(r+1);let i=Xb(t,r);if(n.dirty&&$2(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=c3(e,r);n.reset(o,kj),n.notifyOnChanges()}return!0}return!1}function Yl(){return r3(Se(),UA())}function za(n){let e=J2();return pb(e,Bt+n)}function b(n,e=""){let t=Se(),r=It(),i=n+Bt,o=r.firstCreatePass?Wl(r,i,1,e,null):r.data[i],s=f4(r,t,o,e,n);t[i]=s,Hf()&&Yf(r,t,s,o),hs(o,!1)}var f4=(n,e,t,r,i)=>(qf(!0),wB(e[gt],r));function re(n){return ie("",n,""),re}function ie(n,e,t){let r=Se(),i=_M(r,n,e,t);return i!==bn&&c0(r,Pi(),i),ie}function _s(n,e,t,r,i){let o=Se(),s=R3(o,n,e,t,r,i);return s!==bn&&c0(o,Pi(),s),_s}function a0(n,e,t,r,i,o,s){let a=Se(),c=O3(a,n,e,t,r,i,o,s);return c!==bn&&c0(a,Pi(),c),a0}function c0(n,e,t){let r=OA(e,n);EB(n[gt],r,t)}function tt(n,e,t){fx(e)&&(e=e());let r=Se(),i=Ul();if(wr(r,i,e)){let o=It(),s=zf();jb(o,s,r,n,e,r[gt],t,!1)}return tt}function ot(n,e){let t=fx(n);return t&&n.set(e),t}function nt(n,e){let t=Se(),r=It(),i=yn();return SM(r,t,t[gt],i,n,e),nt}function p4(n,e,t){let r=It();if(r.firstCreatePass){let i=jr(n);eb(t,r.data,r.blueprint,i,!0),eb(e,r.data,r.blueprint,i,!1)}}function eb(n,e,t,r,i){if(n=vn(n),Array.isArray(n))for(let o=0;o<n.length;o++)eb(n[o],e,t,r,i);else{let o=It(),s=Se(),a=yn(),c=Ma(n)?n:vn(n.provide),u=TA(n),d=a.providerIndexes&1048575,p=a.directiveStart,v=a.providerIndexes>>20;if(Ma(n)||!n.multi){let _=new as(u,i,j),S=dy(c,e,i?d:d+v,p);S===-1?(Iy(bf(a,s),o,c),uy(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(_),s.push(_)):(t[S]=_,s[S]=_)}else{let _=dy(c,e,d+v,p),S=dy(c,e,d,d+v),R=_>=0&&t[_],k=S>=0&&t[S];if(i&&!k||!i&&!R){Iy(bf(a,s),o,c);let G=v4(i?g4:m4,t.length,i,r,u);!i&&k&&(t[S].providerFactory=G),uy(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(G),s.push(G)}else{let G=AM(t[i?S:_],u,!i&&r);uy(o,n,_>-1?_:S,G)}!i&&r&&k&&t[S].componentProviders++}}}function uy(n,e,t,r){let i=Ma(e),o=x2(e);if(i||o){let c=(o?vn(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[r,c]):u[d+1].push(r,c)}else u.push(t,c)}}}function AM(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function dy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function m4(n,e,t,r,i){return tb(this.multi,[])}function g4(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Nl(r,r[Ce],this.providerFactory.index,i);s=c.slice(0,a),tb(o,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],tb(o,s);return s}function tb(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function v4(n,e,t,r,i){let o=new as(n,t,j);return o.multi=[],o.index=e,o.componentProviders=0,AM(o,i,r&&!t),o}function Tt(n,e=[]){return t=>{t.providersResolver=(r,i)=>p4(r,i?i(n):n,e)}}function xM(n,e,t,r){return PM(Se(),wb(),n,e,t,r)}function MM(n,e){let t=n[e];return t===bn?void 0:t}function PM(n,e,t,r,i,o){let s=e+t;return wr(n,s,i)?hM(n,s+1,o?r.call(o,i):r(i)):MM(n,s+1)}function _4(n,e,t,r,i,o,s){let a=e+t;return e0(n,a,i,o)?hM(n,a+2,s?r.call(s,i,o):r(i,o)):MM(n,a+2)}function dt(n,e){let t=It(),r,i=n+Bt;t.firstCreatePass?(r=y4(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=ts(r.type,!0)),s,a=Sn(j);try{let c=yf(!1),u=o();return yf(c),U2(t,Se(),i,u),u}finally{Sn(a)}}function y4(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function en(n,e,t){let r=n+Bt,i=Se(),o=pb(i,r);return RM(i,r)?PM(i,wb(),e,o.transform,t,o):o.transform(t)}function ys(n,e,t,r){let i=n+Bt,o=Se(),s=pb(o,i);return RM(o,i)?_4(o,wb(),e,s.transform,t,r,s):s.transform(t,r)}function RM(n,e){return n[Ce].data[e].pure}function OM(n,e){return Zf(n,e)}var ds=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Ql=new ds("19.2.13"),nb=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},kM=(()=>{class n{compileModuleSync(t){return new Yy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=wA(t),o=Mx(i.declarations).reduce((s,a)=>{let c=mo(a);return c&&s.push(new ls(c)),s},[]);return new nb(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var b4=(()=>{class n{zone=I(ce);changeDetectionScheduler=I(cs);applicationRef=I(Er);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function w4({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ce(ne(L({},E4()),{scheduleInRootZone:t})),[{provide:ce,useFactory:n},{provide:Pl,multi:!0,useFactory:()=>{let r=I(b4,{optional:!0});return()=>r.initialize()}},{provide:Pl,multi:!0,useFactory:()=>{let r=I(C4);return()=>{r.initialize()}}},e===!0?{provide:cx,useValue:!0}:[],{provide:lx,useValue:t??sx}]}function E4(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var C4=(()=>{class n{subscription=new rt;initialized=!1;zone=I(ce);pendingTasks=I(Ri);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ce.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ce.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var I4=(()=>{class n{appRef=I(Er);taskService=I(Ri);ngZone=I(ce);zonelessEnabled=I(ax);tracing=I(Ua,{optional:!0});disableScheduling=I(cx,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new rt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ef):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(I(lx,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof xy||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?OS:ux;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ef+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,OS(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function T4(){return typeof $localize<"u"&&$localize.locale||Rf}var Zl=new z("",{providedIn:"root",factory:()=>I(Zl,Ee.Optional|Ee.SkipSelf)||T4()});var rb=new z(""),D4=new z("");function Sl(n){return!n.moduleRef}function S4(n){let e=Sl(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ce);return t.run(()=>{Sl(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get($r,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Sl(n)){let o=()=>e.destroy(),s=n.platformInjector.get(rb);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(rb);s.add(o),n.moduleRef.onDestroy(()=>{sf(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return x4(r,t,()=>{let o=e.get(vM);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Zl,Rf);if(c4(s||Rf),!e.get(D4,!0))return Sl(n)?e.get(Er):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Sl(n)){let c=e.get(Er);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return A4(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function A4(n,e){let t=n.injector.get(Er);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new K(-403,!1);e.push(n)}function x4(n,e,t){try{let r=t();return vo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var af=null;function M4(n=[],e){return Le.create({name:e,providers:[{provide:Ff,useValue:"platform"},{provide:rb,useValue:new Set([()=>af=null])},...n]})}function P4(n=[]){if(af)return af;let e=M4(n);return af=e,A3(),R4(e),e}function R4(n){let e=n.get(Mb,null);Ut(n,()=>{e?.forEach(t=>t())})}function l0(){return!1}var Ir=(()=>{class n{static __NG_ELEMENT_ID__=O4}return n})();function O4(n){return k4(yn(),Se(),(n&16)===16)}function k4(n,e,t){if(La(n)&&!t){let r=Ur(n.index,e);return new Fl(r,r)}else if(n.type&175){let r=e[Jn];return new Fl(r,e)}return null}var ib=class{constructor(){}supports(e){return dM(e)}create(e){return new ob(e)}},N4=(n,e)=>e,ob=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||N4}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<tA(r,i,o)?t:r,a=tA(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,d=c-i;if(u!=d){for(let v=0;v<u;v++){let _=v<o.length?o[v]:o[v]=0,S=_+v;d<=S&&S<u&&(o[v]=_+1)}let p=s.previousIndex;o[p]=d-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!dM(e))throw new K(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,w3(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new sb(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Of),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Of),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},sb=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},ab=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Of=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new ab,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function tA(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function nA(){return new np([new ib])}var np=(()=>{class n{factories;static \u0275prov=V({token:n,providedIn:"root",factory:nA});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||nA()),deps:[[n,new v2,new Si]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new K(901,!1)}}return n})();function NM(n){Ke(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=P4(r),o=[w4({}),{provide:cs,useExisting:I4},...t||[]],s=new Mf({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return S4({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Ke(9)}}function tn(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function wn(n){return P_(n)}function bs(n,e){return S_(n,e?.equal)}var rA=class{[Qn];constructor(e){this[Qn]=e}destroy(){this[Qn].destroy()}};function rp(n,e){let t=mo(n),r=e.elementInjector||Lf();return new ls(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}function FM(n){let e=mo(n);if(!e)return null;let t=new ls(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Ie=new z("");var jM=null;function nr(){return jM}function u0(n){jM??=n}var Xl=class{},Jl=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>I(BM),providedIn:"platform"})}return n})(),d0=new z(""),BM=(()=>{class n extends Jl{_location;_history;_doc=I(Ie);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return nr().getBaseHref(this._doc)}onPopState(t){let r=nr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=nr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function ip(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function LM(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Tr(n){return n&&n[0]!=="?"?`?${n}`:n}var rr=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>I(sp),providedIn:"root"})}return n})(),op=new z(""),sp=(()=>{class n extends rr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??I(Ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ip(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Tr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Tr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Tr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Y(Jl),Y(op,8))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wr=(()=>{class n{_subject=new fe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=V4(LM(VM(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Tr(r))}normalize(t){return n.stripTrailingSlash(L4(this._basePath,VM(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Tr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Tr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Tr;static joinWithSlash=ip;static stripTrailingSlash=LM;static \u0275fac=function(r){return new(r||n)(Y(rr))};static \u0275prov=V({token:n,factory:()=>F4(),providedIn:"root"})}return n})();function F4(){return new Wr(Y(rr))}function L4(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function VM(n){return n.replace(/\/index.html$/,"")}function V4(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var gp=(()=>{class n extends rr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=ip(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Tr(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Tr(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Y(Jl),Y(op,8))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();var y0=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(y0||{});var un=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(un||{}),Qe=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Qe||{}),Rn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Rn||{}),On={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function qM(n){return zn(n)[wt.LocaleId]}function WM(n,e,t){let r=zn(n),i=[r[wt.DayPeriodsFormat],r[wt.DayPeriodsStandalone]],o=ir(i,e);return ir(o,t)}function GM(n,e,t){let r=zn(n),i=[r[wt.DaysFormat],r[wt.DaysStandalone]],o=ir(i,e);return ir(o,t)}function KM(n,e,t){let r=zn(n),i=[r[wt.MonthsFormat],r[wt.MonthsStandalone]],o=ir(i,e);return ir(o,t)}function YM(n,e){let r=zn(n)[wt.Eras];return ir(r,e)}function eu(n,e){let t=zn(n);return ir(t[wt.DateFormat],e)}function tu(n,e){let t=zn(n);return ir(t[wt.TimeFormat],e)}function nu(n,e){let r=zn(n)[wt.DateTimeFormat];return ir(r,e)}function Gr(n,e){let t=zn(n),r=t[wt.NumberSymbols][e];if(typeof r>"u"){if(e===On.CurrencyDecimal)return t[wt.NumberSymbols][On.Decimal];if(e===On.CurrencyGroup)return t[wt.NumberSymbols][On.Group]}return r}function QM(n,e){return zn(n)[wt.NumberFormats][e]}function ZM(n){if(!n[wt.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[wt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function XM(n){let e=zn(n);return ZM(e),(e[wt.ExtraData][2]||[]).map(r=>typeof r=="string"?h0(r):[h0(r[0]),h0(r[1])])}function JM(n,e,t){let r=zn(n);ZM(r);let i=[r[wt.ExtraData][0],r[wt.ExtraData][1]],o=ir(i,e)||[];return ir(o,t)||[]}function ir(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function h0(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var j4=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ap={},B4=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function eP(n,e,t,r){let i=Y4(n);e=Ni(t,e)||e;let s=[],a;for(;e;)if(a=B4.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=nP(r,c),i=K4(i,r));let u="";return s.forEach(d=>{let p=W4(d);u+=p?p(i,t,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function hp(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Ni(n,e){let t=qM(n);if(ap[t]??={},ap[t][e])return ap[t][e];let r="";switch(e){case"shortDate":r=eu(n,Rn.Short);break;case"mediumDate":r=eu(n,Rn.Medium);break;case"longDate":r=eu(n,Rn.Long);break;case"fullDate":r=eu(n,Rn.Full);break;case"shortTime":r=tu(n,Rn.Short);break;case"mediumTime":r=tu(n,Rn.Medium);break;case"longTime":r=tu(n,Rn.Long);break;case"fullTime":r=tu(n,Rn.Full);break;case"short":let i=Ni(n,"shortTime"),o=Ni(n,"shortDate");r=cp(nu(n,Rn.Short),[i,o]);break;case"medium":let s=Ni(n,"mediumTime"),a=Ni(n,"mediumDate");r=cp(nu(n,Rn.Medium),[s,a]);break;case"long":let c=Ni(n,"longTime"),u=Ni(n,"longDate");r=cp(nu(n,Rn.Long),[c,u]);break;case"full":let d=Ni(n,"fullTime"),p=Ni(n,"fullDate");r=cp(nu(n,Rn.Full),[d,p]);break}return r&&(ap[t][e]=r),r}function cp(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Dr(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function U4(n,e){return Dr(n,3).substring(0,e)}function Mt(n,e,t=0,r=!1,i=!1){return function(o,s){let a=$4(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return U4(a,e);let c=Gr(s,On.MinusSign);return Dr(a,e,c,r,i)}}function $4(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function st(n,e,t=un.Format,r=!1){return function(i,o){return z4(i,o,n,e,t,r)}}function z4(n,e,t,r,i,o){switch(t){case 2:return KM(e,i,r)[n.getMonth()];case 1:return GM(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let u=XM(e),d=JM(e,i,r),p=u.findIndex(v=>{if(Array.isArray(v)){let[_,S]=v,R=s>=_.hours&&a>=_.minutes,k=s<S.hours||s===S.hours&&a<S.minutes;if(_.hours<S.hours){if(R&&k)return!0}else if(R||k)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(p!==-1)return d[p]}return WM(e,i,r)[s<12?0:1];case 3:return YM(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function lp(n){return function(e,t,r){let i=-1*r,o=Gr(t,On.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Dr(s,2,o)+Dr(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Dr(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Dr(s,2,o)+":"+Dr(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Dr(s,2,o)+":"+Dr(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var H4=0,dp=4;function q4(n){let e=hp(n,H4,1).getDay();return hp(n,0,1+(e<=dp?dp:dp+7)-e)}function tP(n){let e=n.getDay(),t=e===0?-3:dp-e;return hp(n.getFullYear(),n.getMonth(),n.getDate()+t)}function f0(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=tP(t),s=q4(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Dr(i,n,Gr(r,On.MinusSign))}}function up(n,e=!1){return function(t,r){let o=tP(t).getFullYear();return Dr(o,n,Gr(r,On.MinusSign),e)}}var p0={};function W4(n){if(p0[n])return p0[n];let e;switch(n){case"G":case"GG":case"GGG":e=st(3,Qe.Abbreviated);break;case"GGGG":e=st(3,Qe.Wide);break;case"GGGGG":e=st(3,Qe.Narrow);break;case"y":e=Mt(0,1,0,!1,!0);break;case"yy":e=Mt(0,2,0,!0,!0);break;case"yyy":e=Mt(0,3,0,!1,!0);break;case"yyyy":e=Mt(0,4,0,!1,!0);break;case"Y":e=up(1);break;case"YY":e=up(2,!0);break;case"YYY":e=up(3);break;case"YYYY":e=up(4);break;case"M":case"L":e=Mt(1,1,1);break;case"MM":case"LL":e=Mt(1,2,1);break;case"MMM":e=st(2,Qe.Abbreviated);break;case"MMMM":e=st(2,Qe.Wide);break;case"MMMMM":e=st(2,Qe.Narrow);break;case"LLL":e=st(2,Qe.Abbreviated,un.Standalone);break;case"LLLL":e=st(2,Qe.Wide,un.Standalone);break;case"LLLLL":e=st(2,Qe.Narrow,un.Standalone);break;case"w":e=f0(1);break;case"ww":e=f0(2);break;case"W":e=f0(1,!0);break;case"d":e=Mt(2,1);break;case"dd":e=Mt(2,2);break;case"c":case"cc":e=Mt(7,1);break;case"ccc":e=st(1,Qe.Abbreviated,un.Standalone);break;case"cccc":e=st(1,Qe.Wide,un.Standalone);break;case"ccccc":e=st(1,Qe.Narrow,un.Standalone);break;case"cccccc":e=st(1,Qe.Short,un.Standalone);break;case"E":case"EE":case"EEE":e=st(1,Qe.Abbreviated);break;case"EEEE":e=st(1,Qe.Wide);break;case"EEEEE":e=st(1,Qe.Narrow);break;case"EEEEEE":e=st(1,Qe.Short);break;case"a":case"aa":case"aaa":e=st(0,Qe.Abbreviated);break;case"aaaa":e=st(0,Qe.Wide);break;case"aaaaa":e=st(0,Qe.Narrow);break;case"b":case"bb":case"bbb":e=st(0,Qe.Abbreviated,un.Standalone,!0);break;case"bbbb":e=st(0,Qe.Wide,un.Standalone,!0);break;case"bbbbb":e=st(0,Qe.Narrow,un.Standalone,!0);break;case"B":case"BB":case"BBB":e=st(0,Qe.Abbreviated,un.Format,!0);break;case"BBBB":e=st(0,Qe.Wide,un.Format,!0);break;case"BBBBB":e=st(0,Qe.Narrow,un.Format,!0);break;case"h":e=Mt(3,1,-12);break;case"hh":e=Mt(3,2,-12);break;case"H":e=Mt(3,1);break;case"HH":e=Mt(3,2);break;case"m":e=Mt(4,1);break;case"mm":e=Mt(4,2);break;case"s":e=Mt(5,1);break;case"ss":e=Mt(5,2);break;case"S":e=Mt(6,1);break;case"SS":e=Mt(6,2);break;case"SSS":e=Mt(6,3);break;case"Z":case"ZZ":case"ZZZ":e=lp(0);break;case"ZZZZZ":e=lp(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=lp(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=lp(2);break;default:return null}return p0[n]=e,e}function nP(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function G4(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function K4(n,e,t){let i=n.getTimezoneOffset(),o=nP(e,i);return G4(n,-1*(o-i))}function Y4(n){if(UM(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return hp(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(j4))return Q4(r)}let e=new Date(n);if(!UM(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function Q4(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,u),e}function UM(n){return n instanceof Date&&!isNaN(n.valueOf())}var Z4=/^(\d+)?\.((\d+)(-(\d+))?)?$/,$M=22,fp=".",ru="0",X4=";",J4=",",m0="#";function e$(n,e,t,r,i,o,s=!1){let a="",c=!1;if(!isFinite(n))a=Gr(t,On.Infinity);else{let u=r$(n);s&&(u=n$(u));let d=e.minInt,p=e.minFrac,v=e.maxFrac;if(o){let te=o.match(Z4);if(te===null)throw new Error(`${o} is not a valid digit info`);let X=te[1],Ne=te[3],St=te[5];X!=null&&(d=g0(X)),Ne!=null&&(p=g0(Ne)),St!=null?v=g0(St):Ne!=null&&p>v&&(v=p)}i$(u,p,v);let _=u.digits,S=u.integerLen,R=u.exponent,k=[];for(c=_.every(te=>!te);S<d;S++)_.unshift(0);for(;S<0;S++)_.unshift(0);S>0?k=_.splice(S,_.length):(k=_,_=[0]);let G=[];for(_.length>=e.lgSize&&G.unshift(_.splice(-e.lgSize,_.length).join(""));_.length>e.gSize;)G.unshift(_.splice(-e.gSize,_.length).join(""));_.length&&G.unshift(_.join("")),a=G.join(Gr(t,r)),k.length&&(a+=Gr(t,i)+k.join("")),R&&(a+=Gr(t,On.Exponential)+"+"+R)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function rP(n,e,t){let r=QM(e,y0.Decimal),i=t$(r,Gr(e,On.MinusSign));return e$(n,i,e,On.Group,On.Decimal,t)}function t$(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(X4),i=r[0],o=r[1],s=i.indexOf(fp)!==-1?i.split(fp):[i.substring(0,i.lastIndexOf(ru)+1),i.substring(i.lastIndexOf(ru)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(m0));for(let d=0;d<c.length;d++){let p=c.charAt(d);p===ru?t.minFrac=t.maxFrac=d+1:p===m0?t.maxFrac=d+1:t.posSuf+=p}let u=a.split(J4);if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){let d=i.length-t.posPre.length-t.posSuf.length,p=o.indexOf(m0);t.negPre=o.substring(0,p).replace(/'/g,""),t.negSuf=o.slice(p+d).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function n$(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function r$(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(fp))>-1&&(e=e.replace(fp,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===ru;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===ru;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>$M&&(r=r.splice(0,$M-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function i$(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,u=e+n.integerLen,d=r.reduceRight(function(p,v,_,S){return v=v+p,S[_]=v<10?v:v-10,c&&(S[_]===0&&_>=u?S.pop():c=!1),v>=10?1:0},0);d&&(r.unshift(d),n.integerLen++)}function g0(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}var pp=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},$t=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new pp(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),zM(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);zM(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(j(tr),j(er),j(np))};static \u0275dir=he({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function zM(n,e){n.context.$implicit=e.item}var vt=(()=>{class n{_viewContainer;_context=new mp;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){HM(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){HM(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(j(tr),j(er))};static \u0275dir=he({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),mp=class{$implicit=null;ngIf=null};function HM(n,e){if(n&&!n.createEmbeddedView)throw new K(2020,!1)}function vp(n,e){return new K(2100,!1)}var v0=class{createSubscription(e,t){return wn(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){wn(()=>e.unsubscribe())}},_0=class{createSubscription(e,t){return e.then(r=>t?.(r),r=>{throw r}),{unsubscribe:()=>{t=null}}}dispose(e){e.unsubscribe()}},o$=new _0,s$=new v0,b0=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(vo(t))return o$;if(t0(t))return s$;throw vp(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(j(Ir,16))};static \u0275pipe=vs({name:"async",type:n,pure:!1})}return n})();var ws=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw vp(n,t);return t.toUpperCase()}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=vs({name:"uppercase",type:n,pure:!0})}return n})(),a$="mediumDate",iP=new z(""),oP=new z(""),_o=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??a$,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return eP(t,s,o||this.locale,a)}catch(s){throw vp(n,s.message)}}static \u0275fac=function(r){return new(r||n)(j(Zl,16),j(iP,24),j(oP,24))};static \u0275pipe=vs({name:"date",type:n,pure:!0})}return n})();var Kr=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!c$(t))return null;i||=this._locale;try{let o=l$(t);return rP(o,i,r)}catch(o){throw vp(n,o.message)}}static \u0275fac=function(r){return new(r||n)(j(Zl,16))};static \u0275pipe=vs({name:"number",type:n,pure:!0})}return n})();function c$(n){return!(n==null||n===""||n!==n)}function l$(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var ht=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Jt({type:n});static \u0275inj=Xt({})}return n})();function iu(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var _p="browser",sP="server";function w0(n){return n===_p}function yp(n){return n===sP}var Es=class{};var aP=(()=>{class n{static \u0275prov=V({token:n,providedIn:"root",factory:()=>new E0(I(Ie),window)})}return n})(),E0=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=d$(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function d$(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Ep=new z(""),D0=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new K(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Y(Ep),Y(ce))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),ou=class{_doc;constructor(e){this._doc=e}manager},bp="ng-app-id";function cP(n){for(let e of n)e.remove()}function lP(n,e){let t=e.createElement("style");return t.textContent=n,t}function h$(n,e,t,r){let i=n.head?.querySelectorAll(`style[${bp}="${e}"],link[${bp}="${e}"]`);if(i)for(let o of i)o.removeAttribute(bp),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function I0(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var S0=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=yp(o),h$(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,lP);r?.forEach(i=>this.addUsage(i,this.external,I0))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(cP(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])cP(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,lP(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,I0(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(bp,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Y(Ie),Y($l),Y(zl,8),Y(qr))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),C0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},A0=/%COMP%/g;var dP="%COMP%",f$=`_nghost-${dP}`,p$=`_ngcontent-${dP}`,m$=!0,g$=new z("",{providedIn:"root",factory:()=>m$});function v$(n){return p$.replace(A0,n)}function _$(n){return f$.replace(A0,n)}function hP(n,e){return e.map(t=>t.replace(A0,n))}var x0=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,u=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=d,this.platformIsServer=yp(a),this.defaultRenderer=new su(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===zr.ShadowDom&&(r=ne(L({},r),{encapsulation:zr.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof wp?i.applyToHost(t):i instanceof au&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,p=this.platformIsServer,v=this.tracingService;switch(r.encapsulation){case zr.Emulated:o=new wp(c,u,r,this.appId,d,s,a,p,v);break;case zr.ShadowDom:return new T0(c,u,t,r,s,a,this.nonce,p,v);default:o=new au(c,u,r,d,s,a,p,v);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Y(D0),Y(S0),Y($l),Y(g$),Y(Ie),Y(qr),Y(ce),Y(zl),Y(Ua,8))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),su=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(C0[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(uP(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(uP(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new K(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=C0[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=C0[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ti.DashCase|Ti.Important)?e.style.setProperty(t,r,i&Ti.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ti.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=nr().getGlobalEventTarget(this.doc,e),!e))throw new K(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function uP(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var T0=class extends su{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,c,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=hP(i.id,d);for(let v of d){let _=document.createElement("style");a&&_.setAttribute("nonce",a),_.textContent=v,this.shadowRoot.appendChild(_)}let p=i.getExternalStyles?.();if(p)for(let v of p){let _=I0(v,o);a&&_.setAttribute("nonce",a),this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},au=class extends su{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=u?hP(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},wp=class extends au{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,u){let d=i+"-"+r.id;super(e,t,r,o,s,a,c,u,d),this.contentAttr=v$(d),this.hostAttr=_$(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Cp=class n extends Xl{supportsDOMEvents=!0;static makeCurrent(){u0(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=y$();return t==null?null:b$(t)}resetBaseElement(){cu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return iu(document.cookie,e)}},cu=null;function y$(){return cu=cu||document.head.querySelector("base"),cu?cu.getAttribute("href"):null}function b$(n){return new URL(n,document.baseURI).pathname}var w$=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),pP=(()=>{class n extends ou{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(Y(Ie))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),fP=["alt","control","meta","shift"],E$={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},C$={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},mP=(()=>{class n extends ou{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>nr().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),fP.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=E$[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),fP.forEach(s=>{if(s!==i){let a=C$[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Y(Ie))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();function M0(n,e){return NM(L({rootComponent:n},I$(e)))}function I$(n){return{appProviders:[...x$,...n?.providers??[]],platformProviders:A$}}function T$(){Cp.makeCurrent()}function D$(){return new $r}function S$(){return bx(document),document}var A$=[{provide:qr,useValue:_p},{provide:Mb,useValue:T$,multi:!0},{provide:Ie,useFactory:S$}];var x$=[{provide:Ff,useValue:"root"},{provide:$r,useFactory:D$},{provide:Ep,useClass:pP,multi:!0,deps:[Ie]},{provide:Ep,useClass:mP,multi:!0,deps:[Ie]},x0,S0,D0,{provide:Zt,useExisting:x0},{provide:Es,useClass:w$},[]];var qa=class{},lu=class{},zt=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Tp=class{encodeKey(e){return gP(e)}encodeValue(e){return gP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function M$(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var P$=/%(\d[a-f0-9])/gi,R$={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function gP(n){return encodeURIComponent(n).replace(P$,(e,t)=>R$[t]??e)}function Ip(n){return`${n}`}var Fi=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Tp,e.fromString){if(e.fromObject)throw new K(2805,!1);this.map=M$(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Ip):[Ip(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Ip(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Ip(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Dp=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function O$(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function vP(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function _P(n){return typeof Blob<"u"&&n instanceof Blob}function yP(n){return typeof FormData<"u"&&n instanceof FormData}function k$(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var bP="Content-Type",wP="Accept",EP="X-Request-URL",CP="text/plain",IP="application/json",N$=`${IP}, ${CP}, */*`,Ha=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(O$(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new zt,this.context??=new Dp,!this.params)this.params=new Fi,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||vP(this.body)||_P(this.body)||yP(this.body)||k$(this.body)?this.body:this.body instanceof Fi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||yP(this.body)?null:_P(this.body)?this.body.type||null:vP(this.body)?null:typeof this.body=="string"?CP:this.body instanceof Fi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?IP:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,d=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((v,_)=>v.set(_,e.setHeaders[_]),u)),e.setParams&&(d=Object.keys(e.setParams).reduce((v,_)=>v.set(_,e.setParams[_]),d)),new n(t,r,s,{params:d,headers:u,context:p,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},Cs=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Cs||{}),Wa=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new zt,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Sp=class n extends Wa{constructor(e={}){super(e)}type=Cs.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},uu=class n extends Wa{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Cs.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},du=class extends Wa{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},F$=200,L$=204;function P0(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var sr=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Ha)o=t;else{let c;i.headers instanceof zt?c=i.headers:c=new zt(i.headers);let u;i.params&&(i.params instanceof Fi?u=i.params:u=new Fi({fromObject:i.params})),o=new Ha(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=Q(o).pipe(Lr(c=>this.handler.handle(c)));if(t instanceof Ha||i.observe==="events")return s;let a=s.pipe(pt(c=>c instanceof uu));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(de(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new K(2806,!1);return c.body}));case"blob":return a.pipe(de(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new K(2807,!1);return c.body}));case"text":return a.pipe(de(c=>{if(c.body!==null&&typeof c.body!="string")throw new K(2808,!1);return c.body}));case"json":default:return a.pipe(de(c=>c.body))}case"response":return a;default:throw new K(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Fi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,P0(i,r))}post(t,r,i={}){return this.request("POST",t,P0(i,r))}put(t,r,i={}){return this.request("PUT",t,P0(i,r))}static \u0275fac=function(r){return new(r||n)(Y(qa))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();var V$=new z("");function j$(n,e){return e(n)}function B$(n,e,t){return(r,i)=>Ut(t,()=>e(r,o=>n(o,i)))}var O0=new z(""),TP=new z(""),DP=new z("",{providedIn:"root",factory:()=>!0});var Ap=(()=>{class n extends qa{backend;injector;chain=null;pendingTasks=I(Ri);contributeToStability=I(DP);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(O0),...this.injector.get(TP,[])]));this.chain=r.reduceRight((i,o)=>B$(i,o,this.injector),j$)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Qo(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(Y(lu),Y(ut))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();var U$=/^\)\]\}',?\n/,$$=RegExp(`^${EP}:`,"m");function z$(n){return"responseURL"in n&&n.responseURL?n.responseURL:$$.test(n.getAllResponseHeaders())?n.getResponseHeader(EP):null}var R0=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new K(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?$e(r.\u0275loadImpl()):Q(null)).pipe(yt(()=>new me(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((R,k)=>s.setRequestHeader(R,k.join(","))),t.headers.has(wP)||s.setRequestHeader(wP,N$),!t.headers.has(bP)){let R=t.detectContentTypeHeader();R!==null&&s.setRequestHeader(bP,R)}if(t.responseType){let R=t.responseType.toLowerCase();s.responseType=R!=="json"?R:"text"}let a=t.serializeBody(),c=null,u=()=>{if(c!==null)return c;let R=s.statusText||"OK",k=new zt(s.getAllResponseHeaders()),G=z$(s)||t.url;return c=new Sp({headers:k,status:s.status,statusText:R,url:G}),c},d=()=>{let{headers:R,status:k,statusText:G,url:te}=u(),X=null;k!==L$&&(X=typeof s.response>"u"?s.responseText:s.response),k===0&&(k=X?F$:0);let Ne=k>=200&&k<300;if(t.responseType==="json"&&typeof X=="string"){let St=X;X=X.replace(U$,"");try{X=X!==""?JSON.parse(X):null}catch(Ue){X=St,Ne&&(Ne=!1,X={error:Ue,text:X})}}Ne?(o.next(new uu({body:X,headers:R,status:k,statusText:G,url:te||void 0})),o.complete()):o.error(new du({error:X,headers:R,status:k,statusText:G,url:te||void 0}))},p=R=>{let{url:k}=u(),G=new du({error:R,status:s.status||0,statusText:s.statusText||"Unknown Error",url:k||void 0});o.error(G)},v=!1,_=R=>{v||(o.next(u()),v=!0);let k={type:Cs.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(k.total=R.total),t.responseType==="text"&&s.responseText&&(k.partialText=s.responseText),o.next(k)},S=R=>{let k={type:Cs.UploadProgress,loaded:R.loaded};R.lengthComputable&&(k.total=R.total),o.next(k)};return s.addEventListener("load",d),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",_),a!==null&&s.upload&&s.upload.addEventListener("progress",S)),s.send(a),o.next({type:Cs.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",d),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",_),a!==null&&s.upload&&s.upload.removeEventListener("progress",S)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(Y(Es))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),SP=new z(""),H$="XSRF-TOKEN",q$=new z("",{providedIn:"root",factory:()=>H$}),W$="X-XSRF-TOKEN",G$=new z("",{providedIn:"root",factory:()=>W$}),hu=class{},K$=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=iu(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(Y(Ie),Y(q$))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();function Y$(n,e){let t=n.url.toLowerCase();if(!I(SP)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=I(hu).getToken(),i=I(G$);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var k0=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(k0||{});function Q$(n,e){return{\u0275kind:n,\u0275providers:e}}function N0(...n){let e=[sr,R0,Ap,{provide:qa,useExisting:Ap},{provide:lu,useFactory:()=>I(V$,{optional:!0})??I(R0)},{provide:O0,useValue:Y$,multi:!0},{provide:SP,useValue:!0},{provide:hu,useClass:K$}];for(let t of n)e.push(...t.\u0275providers);return Ai(e)}function F0(n){return Q$(k0.Interceptors,n.map(e=>({provide:O0,useValue:e,multi:!0})))}var AP=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Y(Ie))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var we="primary",Du=Symbol("RouteTitle"),U0=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ds(n){return new U0(n)}function FP(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function X$(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Yr(n[t],e[t]))return!1;return!0}function Yr(n,e){let t=n?$0(n):void 0,r=e?$0(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!LP(n[i],e[i]))return!1;return!0}function $0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function LP(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function VP(n){return n.length>0?n[n.length-1]:null}function Co(n){return Hh(n)?n:vo(n)?$e(Promise.resolve(n)):Q(n)}var J$={exact:BP,subset:UP},jP={exact:e5,subset:t5,ignored:()=>!0};function xP(n,e,t){return J$[t.paths](n.root,e.root,t.matrixParams)&&jP[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function e5(n,e){return Yr(n,e)}function BP(n,e,t){if(!Is(n.segments,e.segments)||!Pp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!BP(n.children[r],e.children[r],t))return!1;return!0}function t5(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>LP(n[t],e[t]))}function UP(n,e,t){return $P(n,e,e.segments,t)}function $P(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Is(i,t)||e.hasChildren()||!Pp(i,t,r))}else if(n.segments.length===t.length){if(!Is(n.segments,t)||!Pp(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!UP(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Is(n.segments,i)||!Pp(n.segments,i,r)||!n.children[we]?!1:$P(n.children[we],e,o,r)}}function Pp(n,e,t){return e.every((r,i)=>jP[t](n[i].parameters,r.parameters))}var Zr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ze([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ds(this.queryParams),this._queryParamMap}toString(){return i5.serialize(this)}},ze=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rp(this)}},yo=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ds(this.parameters),this._parameterMap}toString(){return HP(this)}};function n5(n,e){return Is(n,e)&&n.every((t,r)=>Yr(t.parameters,e[r].parameters))}function Is(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function r5(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===we&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==we&&(t=t.concat(e(i,r)))}),t}var Ss=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>new bo,providedIn:"root"})}return n})(),bo=class{parse(e){let t=new H0(e);return new Zr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${pu(e.root,!0)}`,r=a5(e.queryParams),i=typeof e.fragment=="string"?`#${o5(e.fragment)}`:"";return`${t}${r}${i}`}},i5=new bo;function Rp(n){return n.segments.map(e=>HP(e)).join("/")}function pu(n,e){if(!n.hasChildren())return Rp(n);if(e){let t=n.children[we]?pu(n.children[we],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==we&&r.push(`${i}:${pu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=r5(n,(r,i)=>i===we?[pu(n.children[we],!1)]:[`${i}:${pu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[we]!=null?`${Rp(n)}/${t[0]}`:`${Rp(n)}/(${t.join("//")})`}}function zP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xp(n){return zP(n).replace(/%3B/gi,";")}function o5(n){return encodeURI(n)}function z0(n){return zP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Op(n){return decodeURIComponent(n)}function MP(n){return Op(n.replace(/\+/g,"%20"))}function HP(n){return`${z0(n.path)}${s5(n.parameters)}`}function s5(n){return Object.entries(n).map(([e,t])=>`;${z0(e)}=${z0(t)}`).join("")}function a5(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${xp(t)}=${xp(i)}`).join("&"):`${xp(t)}=${xp(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var c5=/^[^\/()?;#]+/;function L0(n){let e=n.match(c5);return e?e[0]:""}var l5=/^[^\/()?;=#]+/;function u5(n){let e=n.match(l5);return e?e[0]:""}var d5=/^[^=?&#]+/;function h5(n){let e=n.match(d5);return e?e[0]:""}var f5=/^[^&#]+/;function p5(n){let e=n.match(f5);return e?e[0]:""}var H0=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ze([],{}):new ze([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[we]=new ze(e,t)),r}parseSegment(){let e=L0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new K(4009,!1);return this.capture(e),new yo(Op(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=u5(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=L0(this.remaining);i&&(r=i,this.capture(r))}e[Op(t)]=Op(r)}parseQueryParam(e){let t=h5(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=p5(this.remaining);s&&(r=s,this.capture(r))}let i=MP(t),o=MP(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=L0(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new K(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=we);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[we]:new ze([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new K(4011,!1)}};function qP(n){return n.segments.length>0?new ze([],{[we]:n}):n}function WP(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=WP(i);if(r===we&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new ze(n.segments,e);return m5(t)}function m5(n){if(n.numberOfChildren===1&&n.children[we]){let e=n.children[we];return new ze(n.segments.concat(e.segments),e.children)}return n}function wo(n){return n instanceof Zr}function GP(n,e,t=null,r=null){let i=KP(n);return YP(i,e,t,r)}function KP(n){let e;function t(o){let s={};for(let c of o.children){let u=t(c);s[c.outlet]=u}let a=new ze(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=qP(r);return e??i}function YP(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return V0(i,i,i,t,r);let o=g5(e);if(o.toRoot())return V0(i,i,new ze([],{}),t,r);let s=v5(o,i,n),a=s.processChildren?gu(s.segmentGroup,s.index,o.commands):ZP(s.segmentGroup,s.index,o.commands);return V0(i,s.segmentGroup,a,t,r)}function Np(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function _u(n){return typeof n=="object"&&n!=null&&n.outlets}function V0(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;n===e?s=t:s=QP(n,e,t);let a=qP(WP(s));return new Zr(a,o,i)}function QP(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=QP(o,e,t)}),new ze(n.segments,r)}var Fp=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Np(r[0]))throw new K(4003,!1);let i=r.find(_u);if(i&&i!==VP(r))throw new K(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function g5(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Fp(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Fp(t,e,r)}var Ya=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function v5(n,e,t){if(n.isAbsolute)return new Ya(e,!0,0);if(!t)return new Ya(e,!1,NaN);if(t.parent===null)return new Ya(t,!0,0);let r=Np(n.commands[0])?0:1,i=t.segments.length-1+r;return _5(t,i,n.numberOfDoubleDots)}function _5(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new K(4005,!1);i=r.segments.length}return new Ya(r,!1,i-o)}function y5(n){return _u(n[0])?n[0].outlets:{[we]:n}}function ZP(n,e,t){if(n??=new ze([],{}),n.segments.length===0&&n.hasChildren())return gu(n,e,t);let r=b5(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ze(n.segments.slice(0,r.pathIndex),{});return o.children[we]=new ze(n.segments.slice(r.pathIndex),n.children),gu(o,0,i)}else return r.match&&i.length===0?new ze(n.segments,{}):r.match&&!n.hasChildren()?q0(n,e,t):r.match?gu(n,0,i):q0(n,e,t)}function gu(n,e,t){if(t.length===0)return new ze(n.segments,{});{let r=y5(t),i={};if(Object.keys(r).some(o=>o!==we)&&n.children[we]&&n.numberOfChildren===1&&n.children[we].segments.length===0){let o=gu(n.children[we],e,t);return new ze(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=ZP(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ze(n.segments,i)}}function b5(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(_u(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!RP(c,u,s))return o;r+=2}else{if(!RP(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function q0(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(_u(o)){let c=w5(o.outlets);return new ze(r,c)}if(i===0&&Np(t[0])){let c=n.segments[e];r.push(new yo(c.path,PP(t[0]))),i++;continue}let s=_u(o)?o.outlets[we]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Np(a)?(r.push(new yo(s,PP(a))),i+=2):(r.push(new yo(s,{})),i++)}return new ze(r,{})}function w5(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=q0(new ze([],{}),0,r))}),e}function PP(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function RP(n,e,t){return n==t.path&&Yr(e,t.parameters)}var kp="imperative",Lt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Lt||{}),qn=class{id;url;constructor(e,t){this.id=e,this.url=t}},Eo=class extends qn{type=Lt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ar=class extends qn{urlAfterRedirects;type=Lt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},kn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(kn||{}),Za=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Za||{}),Qr=class extends qn{reason;code;type=Lt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Xr=class extends qn{reason;code;type=Lt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Xa=class extends qn{error;target;type=Lt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},yu=class extends qn{urlAfterRedirects;state;type=Lt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lp=class extends qn{urlAfterRedirects;state;type=Lt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vp=class extends qn{urlAfterRedirects;state;shouldActivate;type=Lt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},jp=class extends qn{urlAfterRedirects;state;type=Lt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bp=class extends qn{urlAfterRedirects;state;type=Lt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Up=class{route;type=Lt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},$p=class{route;type=Lt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},zp=class{snapshot;type=Lt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hp=class{snapshot;type=Lt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qp=class{snapshot;type=Lt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wp=class{snapshot;type=Lt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ja=class{routerEvent;position;anchor;type=Lt.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},bu=class{},ec=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function E5(n,e){return n.providers&&!n._injector&&(n._injector=Gl(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Sr(n){return n.outlet||we}function C5(n,e){let t=n.filter(r=>Sr(r)===e);return t.push(...n.filter(r=>Sr(r)!==e)),t}function Su(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Gp=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Su(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new As(this.rootInjector)}},As=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Gp(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Y(ut))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kp=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=W0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=W0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=G0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return G0(e,this._root).map(t=>t.value)}};function W0(n,e){if(n===e.value)return e;for(let t of e.children){let r=W0(n,t);if(r)return r}return null}function G0(n,e){if(n===e.value)return[e];for(let t of e.children){let r=G0(n,t);if(r.length)return r.unshift(e),r}return[]}var Hn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ka(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var wu=class extends Kp{snapshot;constructor(e,t){super(e),this.snapshot=t,tw(this,e)}toString(){return this.snapshot.toString()}};function XP(n){let e=I5(n),t=new it([new yo("",{})]),r=new it({}),i=new it({}),o=new it({}),s=new it(""),a=new dn(t,r,o,s,i,we,n,e.root);return a.snapshot=e.root,new wu(new Hn(a,[]),e)}function I5(n){let e={},t={},r={},i="",o=new Ts([],e,r,i,t,we,n,null,{});return new Eu("",new Hn(o,[]))}var dn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(de(u=>u[Du]))??Q(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(de(e=>Ds(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(de(e=>Ds(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Yp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),n.params),data:L(L({},e.data),n.data),resolve:L(L(L(L({},n.data),e.data),i?.data),n._resolvedData)}:r={params:L({},n.params),data:L({},n.data),resolve:L(L({},n.data),n._resolvedData??{})},i&&eR(i)&&(r.resolve[Du]=i.title),r}var Ts=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Du]}constructor(e,t,r,i,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ds(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ds(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Eu=class extends Kp{url;constructor(e,t){super(t),this.url=e,tw(this,t)}toString(){return JP(this._root)}};function tw(n,e){e.value._routerState=n,e.children.forEach(t=>tw(n,t))}function JP(n){let e=n.children.length>0?` { ${n.children.map(JP).join(", ")} } `:"";return`${n.value}${e}`}function j0(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Yr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Yr(e.params,t.params)||n.paramsSubject.next(t.params),X$(e.url,t.url)||n.urlSubject.next(t.url),Yr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function K0(n,e){let t=Yr(n.params,e.params)&&n5(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||K0(n.parent,e.parent))}function eR(n){return typeof n.title=="string"||n.title===null}var tR=new z(""),Au=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=we;activateEvents=new Xe;deactivateEvents=new Xe;attachEvents=new Xe;detachEvents=new Xe;routerOutletData=hx(void 0);parentContexts=I(As);location=I(tr);changeDetector=I(Ir);inputBinder=I(xu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new K(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Y0(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Un]})}return n})(),Y0=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===dn?this.route:e===As?this.childContexts:e===tR?this.outletData:this.parent.get(e,t)}},xu=new z(""),nw=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Yo([r.queryParams,r.params,r.data]).pipe(yt(([o,s,a],c)=>(a=L(L(L({},o),s),a),c===0?Q(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=FM(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),rw=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Re({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ae(0,"router-outlet")},dependencies:[Au],encapsulation:2})}return n})();function iw(n){let e=n.children&&n.children.map(iw),t=e?ne(L({},n),{children:e}):L({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==we&&(t.component=rw),t}function T5(n,e,t){let r=Cu(n,e._root,t?t._root:void 0);return new wu(r,e)}function Cu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=D5(n,e,t);return new Hn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Cu(n,a)),s}}let r=S5(e.value),i=e.children.map(o=>Cu(n,o));return new Hn(r,i)}}function D5(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Cu(n,r,i);return Cu(n,r)})}function S5(n){return new dn(new it(n.url),new it(n.params),new it(n.queryParams),new it(n.fragment),new it(n.data),n.outlet,n.component,n)}var tc=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},nR="ngNavigationCancelingError";function Qp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=wo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=rR(!1,kn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function rR(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[nR]=!0,t.cancellationCode=e,t}function A5(n){return iR(n)&&wo(n.url)}function iR(n){return!!n&&n[nR]}var x5=(n,e,t,r)=>de(i=>(new Q0(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Q0=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),j0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Ka(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ka(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ka(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Ka(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Wp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Hp(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(j0(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),j0(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Zp=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Qa=class{component;route;constructor(e,t){this.component=e,this.route=t}};function M5(n,e,t){let r=n._root,i=e?e._root:null;return mu(r,i,t,[r.value])}function P5(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function rc(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!uA(n)?n:e.get(n):r}function mu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ka(e);return n.children.forEach(s=>{R5(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>vu(a,t.getContext(s),i)),i}function R5(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=O5(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Zp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?mu(n,e,a?a.children:null,r,i):mu(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Qa(a.outlet.component,s))}else s&&vu(e,a,i),i.canActivateChecks.push(new Zp(r)),o.component?mu(n,null,a?a.children:null,r,i):mu(n,null,t,r,i);return i}function O5(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Is(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Is(n.url,e.url)||!Yr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!K0(n,e)||!Yr(n.queryParams,e.queryParams);case"paramsChange":default:return!K0(n,e)}}function vu(n,e,t){let r=Ka(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?vu(s,e.children.getContext(o),t):vu(s,null,t):vu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Qa(e.outlet.component,i)):t.canDeactivateChecks.push(new Qa(null,i)):t.canDeactivateChecks.push(new Qa(null,i))}function Mu(n){return typeof n=="function"}function k5(n){return typeof n=="boolean"}function N5(n){return n&&Mu(n.canLoad)}function F5(n){return n&&Mu(n.canActivate)}function L5(n){return n&&Mu(n.canActivateChild)}function V5(n){return n&&Mu(n.canDeactivate)}function j5(n){return n&&Mu(n.canMatch)}function oR(n){return n instanceof vr||n?.name==="EmptyError"}var Mp=Symbol("INITIAL_VALUE");function nc(){return yt(n=>Yo(n.map(e=>e.pipe(mt(1),Ca(Mp)))).pipe(de(e=>{for(let t of e)if(t!==!0){if(t===Mp)return Mp;if(t===!1||B5(t))return t}return!0}),pt(e=>e!==Mp),mt(1)))}function B5(n){return wo(n)||n instanceof tc}function U5(n,e){return Ct(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Q(ne(L({},t),{guardsResult:!0})):$5(s,r,i,n).pipe(Ct(a=>a&&k5(a)?z5(r,o,n,e):Q(a)),de(a=>ne(L({},t),{guardsResult:a})))})}function $5(n,e,t,r){return $e(n).pipe(Ct(i=>K5(i.component,i.route,t,e,r)),wi(i=>i!==!0,!0))}function z5(n,e,t,r){return $e(e).pipe(Lr(i=>uo(q5(i.route.parent,r),H5(i.route,r),G5(n,i.path,t),W5(n,i.route,t))),wi(i=>i!==!0,!0))}function H5(n,e){return n!==null&&e&&e(new qp(n)),Q(!0)}function q5(n,e){return n!==null&&e&&e(new zp(n)),Q(!0)}function W5(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(o=>Kh(()=>{let s=Su(e)??t,a=rc(o,s),c=F5(a)?a.canActivate(e,n):Ut(s,()=>a(e,n));return Co(c).pipe(wi())}));return Q(i).pipe(nc())}function G5(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>P5(s)).filter(s=>s!==null).map(s=>Kh(()=>{let a=s.guards.map(c=>{let u=Su(s.node)??t,d=rc(c,u),p=L5(d)?d.canActivateChild(r,n):Ut(u,()=>d(r,n));return Co(p).pipe(wi())});return Q(a).pipe(nc())}));return Q(o).pipe(nc())}function K5(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Q(!0);let s=o.map(a=>{let c=Su(e)??i,u=rc(a,c),d=V5(u)?u.canDeactivate(n,e,t,r):Ut(c,()=>u(n,e,t,r));return Co(d).pipe(wi())});return Q(s).pipe(nc())}function Y5(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Q(!0);let o=i.map(s=>{let a=rc(s,n),c=N5(a)?a.canLoad(e,t):Ut(n,()=>a(e,t));return Co(c)});return Q(o).pipe(nc(),sR(r))}function sR(n){return V_(Qt(e=>{if(typeof e!="boolean")throw Qp(n,e)}),de(e=>e===!0))}function Q5(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Q(!0);let o=i.map(s=>{let a=rc(s,n),c=j5(a)?a.canMatch(e,t):Ut(n,()=>a(e,t));return Co(c)});return Q(o).pipe(nc(),sR(r))}var Iu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Tu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ga(n){return At(new Iu(n))}function Z5(n){return At(new K(4e3,!1))}function X5(n){return At(rR(!1,kn.GuardRejected))}var Z0=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Q(r);if(i.numberOfChildren>1||!i.children[we])return Z5(`${e.redirectTo}`);i=i.children[we]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:u,routeConfig:d,url:p,outlet:v,params:_,data:S,title:R}=i,k=Ut(o,()=>a({params:_,data:S,queryParams:c,fragment:u,routeConfig:d,url:p,outlet:v,title:R}));if(k instanceof Zr)throw new Tu(k);t=k}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Tu(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Zr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new ze(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new K(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},X0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function J5(n,e,t,r,i){let o=aR(n,e,t);return o.matched?(r=E5(e,r),Q5(r,e,t,i).pipe(de(s=>s===!0?o:L({},X0)))):Q(o)}function aR(n,e,t){if(e.path==="**")return ez(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?L({},X0):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||FP)(t,n,e);if(!i)return L({},X0);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function ez(n){return{matched:!0,parameters:n.length>0?VP(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function OP(n,e,t,r){return t.length>0&&rz(n,t,r)?{segmentGroup:new ze(e,nz(r,new ze(t,n.children))),slicedSegments:[]}:t.length===0&&iz(n,t,r)?{segmentGroup:new ze(n.segments,tz(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ze(n.segments,n.children),slicedSegments:t}}function tz(n,e,t,r){let i={};for(let o of t)if(Jp(n,e,o)&&!r[Sr(o)]){let s=new ze([],{});i[Sr(o)]=s}return L(L({},r),i)}function nz(n,e){let t={};t[we]=e;for(let r of n)if(r.path===""&&Sr(r)!==we){let i=new ze([],{});t[Sr(r)]=i}return t}function rz(n,e,t){return t.some(r=>Jp(n,e,r)&&Sr(r)!==we)}function iz(n,e,t){return t.some(r=>Jp(n,e,r))}function Jp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function oz(n,e,t){return e.length===0&&!n.children[t]}var J0=class{};function sz(n,e,t,r,i,o,s="emptyOnly"){return new ew(n,e,t,r,i,s,o).recognize()}var az=31,ew=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Z0(this.urlSerializer,this.urlTree)}noMatchError(e){return new K(4002,`'${e.segmentGroup}'`)}recognize(){let e=OP(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(de(({children:t,rootSnapshot:r})=>{let i=new Hn(r,t),o=new Eu("",i),s=GP(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Ts([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),we,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,we,t).pipe(de(r=>({children:r,rootSnapshot:t})),Ge(r=>{if(r instanceof Tu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Iu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(de(s=>s instanceof Hn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return $e(o).pipe(Lr(s=>{let a=r.children[s],c=C5(t,s);return this.processSegmentGroup(e,c,a,s,i)}),Z_((s,a)=>(s.push(...a),s)),ho(null),Q_(),Ct(s=>{if(s===null)return Ga(r);let a=cR(s);return cz(a),Q(a)}))}processSegment(e,t,r,i,o,s,a){return $e(t).pipe(Lr(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(Ge(u=>{if(u instanceof Iu)return Q(null);throw u}))),wi(c=>!!c),Ge(c=>{if(oR(c))return oz(r,i,o)?Q(new J0):Ga(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return Sr(r)!==s&&(s===we||!Jp(i,o,r))?Ga(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):Ga(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:p,remainingSegments:v}=aR(t,i,o);if(!c)return Ga(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>az&&(this.allowRedirects=!1));let _=new Ts(o,u,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,kP(i),Sr(i),i.component??i._loadedComponent??null,i,NP(i)),S=Yp(_,a,this.paramsInheritanceStrategy);_.params=Object.freeze(S.params),_.data=Object.freeze(S.data);let R=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,p,_,e);return this.applyRedirects.lineralizeSegments(i,R).pipe(Ct(k=>this.processSegment(e,r,t,k.concat(v),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=J5(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(yt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(yt(({routes:u})=>{let d=r._loadedInjector??e,{parameters:p,consumedSegments:v,remainingSegments:_}=c,S=new Ts(v,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,kP(r),Sr(r),r.component??r._loadedComponent??null,r,NP(r)),R=Yp(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(R.params),S.data=Object.freeze(R.data);let{segmentGroup:k,slicedSegments:G}=OP(t,v,_,u);if(G.length===0&&k.hasChildren())return this.processChildren(d,u,k,S).pipe(de(X=>new Hn(S,X)));if(u.length===0&&G.length===0)return Q(new Hn(S,[]));let te=Sr(r)===o;return this.processSegment(d,u,k,G,te?we:o,!0,S).pipe(de(X=>new Hn(S,X instanceof Hn?[X]:[])))}))):Ga(t)))}getChildConfig(e,t,r){return t.children?Q({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Q({routes:t._loadedRoutes,injector:t._loadedInjector}):Y5(e,t,r,this.urlSerializer).pipe(Ct(i=>i?this.configLoader.loadChildren(e,t).pipe(Qt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):X5(t))):Q({routes:[],injector:e})}};function cz(n){n.sort((e,t)=>e.value.outlet===we?-1:t.value.outlet===we?1:e.value.outlet.localeCompare(t.value.outlet))}function lz(n){let e=n.value.routeConfig;return e&&e.path===""}function cR(n){let e=[],t=new Set;for(let r of n){if(!lz(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=cR(r.children);e.push(new Hn(r.value,i))}return e.filter(r=>!t.has(r))}function kP(n){return n.data||{}}function NP(n){return n.resolve||{}}function uz(n,e,t,r,i,o){return Ct(s=>sz(n,e,t,r,s.extractedUrl,i,o).pipe(de(({state:a,tree:c})=>ne(L({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function dz(n,e){return Ct(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Q(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of lR(c))s.add(u);let a=0;return $e(s).pipe(Lr(c=>o.has(c)?hz(c,r,n,e):(c.data=Yp(c,c.parent,n).resolve,Q(void 0))),Qt(()=>a++),Ea(1),Ct(c=>a===s.size?Q(t):cn))})}function lR(n){let e=n.children.map(t=>lR(t)).flat();return[n,...e]}function hz(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!eR(i)&&(o[Du]=i.title),fz(o,n,e,r).pipe(de(s=>(n._resolvedData=s,n.data=Yp(n,n.parent,t).resolve,null)))}function fz(n,e,t,r){let i=$0(n);if(i.length===0)return Q({});let o={};return $e(i).pipe(Ct(s=>pz(n[s],e,t,r).pipe(wi(),Qt(a=>{if(a instanceof tc)throw Qp(new bo,a);o[s]=a}))),Ea(1),de(()=>o),Ge(s=>oR(s)?cn:At(s)))}function pz(n,e,t,r){let i=Su(e)??r,o=rc(n,i),s=o.resolve?o.resolve(e,t):Ut(i,()=>o(e,t));return Co(s)}function B0(n){return yt(e=>{let t=n(e);return t?$e(t).pipe(de(()=>e)):Q(e)})}var ow=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===we);return r}getResolvedTitleForRoute(t){return t.data[Du]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>I(uR),providedIn:"root"})}return n})(),uR=(()=>{class n extends ow{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Y(AP))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xs=new z("",{providedIn:"root",factory:()=>({})}),Ms=new z(""),em=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=I(kM);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Co(t.loadComponent()).pipe(de(hR),Qt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Qo(()=>{this.componentLoaders.delete(t)})),i=new _a(r,()=>new fe).pipe(va());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=dR(r,this.compiler,t,this.onLoadEndListener).pipe(Qo(()=>{this.childrenLoaders.delete(r)})),s=new _a(o,()=>new fe).pipe(va());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dR(n,e,t,r){return Co(n.loadChildren()).pipe(de(hR),Ct(i=>i instanceof Jb||Array.isArray(i)?Q(i):$e(e.compileModuleAsync(i))),de(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Ms,[],{optional:!0,self:!0}).flat()),{routes:s.map(iw),injector:o}}))}function mz(n){return n&&typeof n=="object"&&"default"in n}function hR(n){return mz(n)?n.default:n}var tm=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>I(gz),providedIn:"root"})}return n})(),gz=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sw=new z(""),aw=new z("");function fR(n,e,t){let r=n.get(aw),i=n.get(Ie);return n.get(ce).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),vz(n))),{onViewTransitionCreated:c}=r;return c&&Ut(n,()=>c({transition:a,from:e,to:t})),s})}function vz(n){return new Promise(e=>{gs({read:()=>setTimeout(e)},{injector:n})})}var cw=new z(""),nm=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new fe;transitionAbortSubject=new fe;configLoader=I(em);environmentInjector=I(ut);destroyRef=I(fs);urlSerializer=I(Ss);rootContexts=I(As);location=I(Wr);inputBindingEnabled=I(xu,{optional:!0})!==null;titleStrategy=I(ow);options=I(xs,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=I(tm);createViewTransition=I(sw,{optional:!0});navigationErrorHandler=I(cw,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Q(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Up(i)),r=i=>this.events.next(new $p(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ne(L({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new it(null),this.transitions.pipe(pt(r=>r!==null),yt(r=>{let i=!1,o=!1;return Q(r).pipe(yt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",kn.SupersededByNewNavigation),cn;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ne(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&c!=="reload"){let u="";return this.events.next(new Xr(s.id,this.urlSerializer.serialize(s.rawUrl),u,Za.IgnoredSameUrlNavigation)),s.resolve(!1),cn}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Q(s).pipe(yt(u=>(this.events.next(new Eo(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?cn:Promise.resolve(u))),uz(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Qt(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=ne(L({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let d=new yu(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:d,source:p,restoredState:v,extras:_}=s,S=new Eo(u,this.urlSerializer.serialize(d),p,v);this.events.next(S);let R=XP(this.rootComponentType).snapshot;return this.currentTransition=r=ne(L({},s),{targetSnapshot:R,urlAfterRedirects:d,extras:ne(L({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,Q(r)}else{let u="";return this.events.next(new Xr(s.id,this.urlSerializer.serialize(s.extractedUrl),u,Za.IgnoredByUrlHandlingStrategy)),s.resolve(!1),cn}}),Qt(s=>{let a=new Lp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),de(s=>(this.currentTransition=r=ne(L({},s),{guards:M5(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),U5(this.environmentInjector,s=>this.events.next(s)),Qt(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Qp(this.urlSerializer,s.guardsResult);let a=new Vp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),pt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",kn.GuardRejected),!1)),B0(s=>{if(s.guards.canActivateChecks.length!==0)return Q(s).pipe(Qt(a=>{let c=new jp(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),yt(a=>{let c=!1;return Q(a).pipe(dz(this.paramsInheritanceStrategy,this.environmentInjector),Qt({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",kn.NoDataFromResolver)}}))}),Qt(a=>{let c=new Bp(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),B0(s=>{let a=c=>{let u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(Qt(d=>{c.component=d}),de(()=>{})));for(let d of c.children)u.push(...a(d));return u};return Yo(a(s.targetSnapshot.root)).pipe(ho(null),mt(1))}),B0(()=>this.afterPreactivation()),yt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?$e(c).pipe(de(()=>r)):Q(r)}),de(s=>{let a=T5(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ne(L({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Qt(()=>{this.events.next(new bu)}),x5(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),mt(1),Qt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ar(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Zn(this.transitionAbortSubject.pipe(Qt(s=>{throw s}))),Qo(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",kn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ge(s=>{if(this.destroyed)return r.resolve(!1),cn;if(o=!0,iR(s))this.events.next(new Qr(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),A5(s)?this.events.next(new ec(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Xa(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=Ut(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof tc){let{message:u,cancellationCode:d}=Qp(this.urlSerializer,c);this.events.next(new Qr(r.id,this.urlSerializer.serialize(r.extractedUrl),u,d)),this.events.next(new ec(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return cn}))}))}cancelNavigationTransition(t,r,i){let o=new Qr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _z(n){return n!==kp}var pR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>I(yz),providedIn:"root"})}return n})(),Xp=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},yz=(()=>{class n extends Xp{static \u0275fac=(()=>{let t;return function(i){return(t||(t=bt(n)))(i||n)}})();static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mR=(()=>{class n{urlSerializer=I(Ss);options=I(xs,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=I(Wr);urlHandlingStrategy=I(tm);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Zr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Zr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=XP(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>I(bz),providedIn:"root"})}return n})(),bz=(()=>{class n extends mR{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Eo?this.updateStateMemento():t instanceof Xr?this.commitTransition(r):t instanceof yu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof bu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Qr&&(t.code===kn.GuardRejected||t.code===kn.NoDataFromResolver)?this.restoreHistory(r):t instanceof Xa?this.restoreHistory(r,!0):t instanceof ar&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=L(L({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=L(L({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=bt(n)))(i||n)}})();static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rm(n,e){n.events.pipe(pt(t=>t instanceof ar||t instanceof Qr||t instanceof Xa||t instanceof Xr),de(t=>t instanceof ar||t instanceof Xr?0:(t instanceof Qr?t.code===kn.Redirect||t.code===kn.SupersededByNewNavigation:!1)?2:1),pt(t=>t!==2),mt(1)).subscribe(()=>{e()})}var wz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ez={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ae=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=I(pM);stateManager=I(mR);options=I(xs,{optional:!0})||{};pendingTasks=I(Ri);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=I(nm);urlSerializer=I(Ss);location=I(Wr);urlHandlingStrategy=I(tm);_events=new fe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=I(pR);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=I(Ms,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!I(xu,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new rt;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Qr&&r.code!==kn.Redirect&&r.code!==kn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ar)this.navigated=!0;else if(r instanceof ec){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||_z(i.source)},s);this.scheduleNavigation(a,kp,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Iz(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),kp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=L({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(iw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let p;try{let v=i?i.snapshot:this.routerState.snapshot.root;p=KP(v)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return YP(p,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=wo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,kp,null,r)}navigate(t,r={skipLocationChange:!1}){return Cz(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=L({},wz):r===!1?i=L({},Ez):i=r,wo(t))return xP(this.currentUrlTree,t,i);let o=this.parseUrl(t);return xP(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((p,v)=>{a=p,c=v});let d=this.pendingTasks.add();return rm(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Cz(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new K(4008,!1)}function Iz(n){return!(n instanceof bu)&&!(n instanceof ec)}var im=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new fe;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof ar&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(wo(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:Ax(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:wo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(j(Ae),j(dn),Sb("tabindex"),j(Cr),j(et),j(rr))};static \u0275dir=he({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&H("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&$n("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",tn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",tn],replaceUrl:[2,"replaceUrl","replaceUrl",tn],routerLink:"routerLink"},features:[Un]})}return n})();var Pu=class{};var gR=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(pt(t=>t instanceof ar),Lr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Gl(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return $e(i).pipe(lo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=Q(null);let o=i.pipe(Ct(s=>s===null?Q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return $e([o,s]).pipe(lo())}else return o})}static \u0275fac=function(r){return new(r||n)(Y(Ae),Y(ut),Y(Pu),Y(em))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vR=new z(""),Tz=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Eo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ar?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Xr&&t.code===Za.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ja&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ja(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){nM()};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();function uw(n,...e){return Ai([{provide:Ms,multi:!0,useValue:n},[],{provide:dn,useFactory:_R,deps:[Ae]},{provide:Jf,multi:!0,useFactory:yR},e.map(t=>t.\u0275providers)])}function _R(n){return n.routerState.root}function ic(n,e){return{\u0275kind:n,\u0275providers:e}}function yR(){let n=I(Le);return e=>{let t=n.get(Er);if(e!==t.components[0])return;let r=n.get(Ae),i=n.get(bR);n.get(dw)===1&&r.initialNavigation(),n.get(CR,null,Ee.Optional)?.setUpPreloading(),n.get(vR,null,Ee.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var bR=new z("",{factory:()=>new fe}),dw=new z("",{providedIn:"root",factory:()=>1});function wR(){let n=[{provide:dw,useValue:0},n0(()=>{let e=I(Le);return e.get(d0,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(Ae),o=e.get(bR);rm(i,()=>{r(!0)}),e.get(nm).afterPreactivation=()=>(r(!0),o.closed?Q(void 0):o),i.initialNavigation()}))})];return ic(2,n)}function ER(){let n=[n0(()=>{I(Ae).setUpLocationChangeListener()}),{provide:dw,useValue:2}];return ic(3,n)}var CR=new z("");function IR(n){return ic(0,[{provide:CR,useExisting:gR},{provide:Pu,useExisting:n}])}function hw(){return ic(6,[{provide:rr,useClass:gp}])}function om(){return ic(8,[nw,{provide:xu,useExisting:nw}])}function TR(n){ms("NgRouterViewTransitions");let e=[{provide:sw,useValue:fR},{provide:aw,useValue:L({skipNextTransition:!!n?.skipInitialTransition},n)}];return ic(9,e)}var DR=[Wr,{provide:Ss,useClass:bo},Ae,As,{provide:dn,useFactory:_R,deps:[Ae]},em,[]],Ps=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[DR,[],{provide:Ms,multi:!0,useValue:t},[],r?.errorHandler?{provide:cw,useValue:r.errorHandler}:[],{provide:xs,useValue:r||{}},r?.useHash?Sz():Az(),Dz(),r?.preloadingStrategy?IR(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?xz(r):[],r?.bindToComponentInputs?om().\u0275providers:[],r?.enableViewTransitions?TR().\u0275providers:[],Mz()]}}static forChild(t){return{ngModule:n,providers:[{provide:Ms,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Jt({type:n});static \u0275inj=Xt({})}return n})();function Dz(){return{provide:vR,useFactory:()=>{let n=I(aP),e=I(ce),t=I(xs),r=I(nm),i=I(Ss);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Tz(i,r,n,e,t)}}}function Sz(){return{provide:rr,useClass:gp}}function Az(){return{provide:rr,useClass:sp}}function xz(n){return[n.initialNavigation==="disabled"?ER().\u0275providers:[],n.initialNavigation==="enabledBlocking"?wR().\u0275providers:[]]}var lw=new z("");function Mz(){return[{provide:lw,useFactory:yR},{provide:Jf,multi:!0,useExisting:lw}]}var FR=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(j(Cr),j(et))};static \u0275dir=he({type:n})}return n})(),Vu=(()=>{class n extends FR{static \u0275fac=(()=>{let t;return function(i){return(t||(t=bt(n)))(i||n)}})();static \u0275dir=he({type:n,features:[qe]})}return n})(),Os=new z(""),Pz={provide:Os,useExisting:xt(()=>gw),multi:!0},gw=(()=>{class n extends Vu{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=bt(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&H("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Tt([Pz]),qe]})}return n})(),Rz={provide:Os,useExisting:xt(()=>Pt),multi:!0};function Oz(){let n=nr()?nr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var kz=new z(""),Pt=(()=>{class n extends FR{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Oz())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(j(Cr),j(et),j(kz,8))};static \u0275dir=he({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&H("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Tt([Rz]),qe]})}return n})();function vw(n){return n==null||_w(n)===0}function _w(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Ar=new z(""),lc=new z(""),Nz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,He=class{static min(e){return LR(e)}static max(e){return VR(e)}static required(e){return jR(e)}static requiredTrue(e){return Fz(e)}static email(e){return BR(e)}static minLength(e){return UR(e)}static maxLength(e){return Lz(e)}static pattern(e){return Vz(e)}static nullValidator(e){return am()}static compose(e){return GR(e)}static composeAsync(e){return KR(e)}};function LR(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function VR(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function jR(n){return vw(n.value)?{required:!0}:null}function Fz(n){return n.value===!0?null:{required:!0}}function BR(n){return vw(n.value)||Nz.test(n.value)?null:{email:!0}}function UR(n){return e=>{let t=e.value?.length??_w(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function Lz(n){return e=>{let t=e.value?.length??_w(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function Vz(n){if(!n)return am;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(vw(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function am(n){return null}function $R(n){return n!=null}function zR(n){return vo(n)?$e(n):n}function HR(n){let e={};return n.forEach(t=>{e=t!=null?L(L({},e),t):e}),Object.keys(e).length===0?null:e}function qR(n,e){return e.map(t=>t(n))}function jz(n){return!n.validate}function WR(n){return n.map(e=>jz(e)?e:t=>e.validate(t))}function GR(n){if(!n)return null;let e=n.filter($R);return e.length==0?null:function(t){return HR(qR(t,e))}}function yw(n){return n!=null?GR(WR(n)):null}function KR(n){if(!n)return null;let e=n.filter($R);return e.length==0?null:function(t){let r=qR(t,e).map(zR);return G_(r).pipe(de(HR))}}function bw(n){return n!=null?KR(WR(n)):null}function SR(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function YR(n){return n._rawValidators}function QR(n){return n._rawAsyncValidators}function fw(n){return n?Array.isArray(n)?n:[n]:[]}function cm(n,e){return Array.isArray(n)?n.includes(e):n===e}function AR(n,e){let t=fw(e);return fw(n).forEach(i=>{cm(t,i)||t.push(i)}),t}function xR(n,e){return fw(e).filter(t=>!cm(n,t))}var lm=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=yw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=bw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},En=class extends lm{name;get formDirective(){return null}get path(){return null}},Rs=class extends lm{_parent=null;name=null;valueAccessor=null},um=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Bz={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Use=ne(L({},Bz),{"[class.ng-submitted]":"isSubmitted"}),Ht=(()=>{class n extends um{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(j(Rs,2))};static \u0275dir=he({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ye("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[qe]})}return n})(),cr=(()=>{class n extends um{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(j(En,10))};static \u0275dir=he({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ye("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[qe]})}return n})();var Ru="VALID",sm="INVALID",oc="PENDING",Ou="DISABLED",Io=class{},dm=class extends Io{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Nu=class extends Io{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Fu=class extends Io{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},sc=class extends Io{status;source;constructor(e,t){super(),this.status=e,this.source=t}},hm=class extends Io{source;constructor(e){super(),this.source=e}},fm=class extends Io{source;constructor(e){super(),this.source=e}};function ww(n){return(vm(n)?n.validators:n)||null}function Uz(n){return Array.isArray(n)?yw(n):n||null}function Ew(n,e){return(vm(e)?e.asyncValidators:n)||null}function $z(n){return Array.isArray(n)?bw(n):n||null}function vm(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function ZR(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new K(1e3,"");if(!r[t])throw new K(1001,"")}function XR(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new K(1002,"")})}var ac=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return wn(this.statusReactive)}set status(e){wn(()=>this.statusReactive.set(e))}_status=bs(()=>this.statusReactive());statusReactive=ps(void 0);get valid(){return this.status===Ru}get invalid(){return this.status===sm}get pending(){return this.status==oc}get disabled(){return this.status===Ou}get enabled(){return this.status!==Ou}errors;get pristine(){return wn(this.pristineReactive)}set pristine(e){wn(()=>this.pristineReactive.set(e))}_pristine=bs(()=>this.pristineReactive());pristineReactive=ps(!0);get dirty(){return!this.pristine}get touched(){return wn(this.touchedReactive)}set touched(e){wn(()=>this.touchedReactive.set(e))}_touched=bs(()=>this.touchedReactive());touchedReactive=ps(!1);get untouched(){return!this.touched}_events=new fe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(AR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(AR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(xR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(xR(e,this._rawAsyncValidators))}hasValidator(e){return cm(this._rawValidators,e)}hasAsyncValidator(e){return cm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ne(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Fu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Fu(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ne(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Nu(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Nu(!0,r))}markAsPending(e={}){this.status=oc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new sc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ne(L({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ou,this.errors=null,this._forEachChild(i=>{i.disable(ne(L({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new dm(this.value,r)),this._events.next(new sc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ne(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ru,this._forEachChild(r=>{r.enable(ne(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ne(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ru||this.status===oc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new dm(this.value,t)),this._events.next(new sc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ne(L({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ou:Ru}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=oc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=zR(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new sc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Xe,this.statusChanges=new Xe}_calculateStatus(){return this._allControlsDisabled()?Ou:this.errors?sm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(oc)?oc:this._anyControlsHaveStatus(sm)?sm:Ru}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Nu(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Fu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){vm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Uz(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=$z(this._rawAsyncValidators)}},cc=class extends ac{constructor(e,t,r){super(ww(t),Ew(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){XR(this,!0,e),Object.keys(e).forEach(r=>{ZR(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var pw=class extends cc{};var ju=new z("",{providedIn:"root",factory:()=>_m}),_m="always";function ym(n,e){return[...e.path,n]}function pm(n,e,t=_m){Cw(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Hz(n,e),Wz(n,e),qz(n,e),zz(n,e)}function MR(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),gm(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function mm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function zz(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Cw(n,e){let t=YR(n);e.validator!==null?n.setValidators(SR(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=QR(n);e.asyncValidator!==null?n.setAsyncValidators(SR(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();mm(e._rawValidators,i),mm(e._rawAsyncValidators,i)}function gm(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=YR(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=QR(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return mm(e._rawValidators,r),mm(e._rawAsyncValidators,r),t}function Hz(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&JR(n,e)})}function qz(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&JR(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function JR(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Wz(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function eO(n,e){n==null,Cw(n,e)}function Gz(n,e){return gm(n,e)}function tO(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Kz(n){return Object.getPrototypeOf(n.constructor)===Vu}function nO(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function rO(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Pt?t=o:Kz(o)?r=o:i=o}),i||r||t||null}function Yz(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var Qz={provide:En,useExisting:xt(()=>Li)},ku=Promise.resolve(),Li=(()=>{class n extends En{callSetDisabledState;get submitted(){return wn(this.submittedReactive)}_submitted=bs(()=>this.submittedReactive());submittedReactive=ps(!1);_directives=new Set;form;ngSubmit=new Xe;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new cc({},yw(t),bw(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ku.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),pm(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ku.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ku.then(()=>{let r=this._findContainer(t.path),i=new cc({});eO(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ku.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){ku.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),nO(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new hm(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new fm(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(j(Ar,10),j(lc,10),j(ju,8))};static \u0275dir=he({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&H("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Tt([Qz]),qe]})}return n})();function PR(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function RR(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Lu=class extends ac{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(ww(t),Ew(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(RR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){PR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){PR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){RR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Zz=n=>n instanceof Lu,Xz=(()=>{class n extends En{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ym(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let t;return function(i){return(t||(t=bt(n)))(i||n)}})();static \u0275dir=he({type:n,standalone:!1,features:[qe]})}return n})();var Jz={provide:Rs,useExisting:xt(()=>Cn)},OR=Promise.resolve(),Cn=(()=>{class n extends Rs{_changeDetectorRef;callSetDisabledState;control=new Lu;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Xe;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=rO(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),tO(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){pm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){OR.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&tn(r);OR.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?ym(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(j(En,9),j(Ar,10),j(lc,10),j(Os,10),j(Ir,8),j(ju,8))};static \u0275dir=he({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Tt([Jz]),qe,Un]})}return n})();var lr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),eH={provide:Os,useExisting:xt(()=>Bu),multi:!0},Bu=(()=>{class n extends Vu{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=bt(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&H("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Tt([eH]),qe]})}return n})();var iO=new z("");var tH={provide:En,useExisting:xt(()=>uc)},uc=(()=>{class n extends En{callSetDisabledState;get submitted(){return wn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=bs(()=>this._submittedReactive());_submittedReactive=ps(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Xe;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(gm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return pm(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){MR(t.control||null,t,!1),Yz(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),nO(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new hm(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new fm(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(MR(r||null,t),Zz(i)&&(pm(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);eO(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&Gz(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Cw(this.form,this),this._oldForm&&gm(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(j(Ar,10),j(lc,10),j(ju,8))};static \u0275dir=he({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&H("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Tt([tH]),qe,Un]})}return n})(),nH={provide:En,useExisting:xt(()=>bm)},bm=(()=>{class n extends Xz{name=null;constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){oO(this._parent)}static \u0275fac=function(r){return new(r||n)(j(En,13),j(Ar,10),j(lc,10))};static \u0275dir=he({type:n,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[Tt([nH]),qe]})}return n})(),rH={provide:En,useExisting:xt(()=>wm)},wm=(()=>{class n extends En{_parent;name=null;constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){oO(this._parent),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective?.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ym(this.name==null?this.name:this.name.toString(),this._parent)}static \u0275fac=function(r){return new(r||n)(j(En,13),j(Ar,10),j(lc,10))};static \u0275dir=he({type:n,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[Tt([rH]),qe]})}return n})();function oO(n){return!(n instanceof bm)&&!(n instanceof uc)&&!(n instanceof wm)}var iH={provide:Rs,useExisting:xt(()=>Uu)},Uu=(()=>{class n extends Rs{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new Xe;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=rO(this,o)}ngOnChanges(t){this._added||this._setUpControl(),tO(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return ym(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(j(En,13),j(Ar,10),j(lc,10),j(Os,10),j(iO,8))};static \u0275dir=he({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Tt([iH]),qe,Un]})}return n})();var oH={provide:Os,useExisting:xt(()=>Jr),multi:!0};function sO(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function sH(n){return n.split(":")[0]}var Jr=(()=>{class n extends Vu{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=sO(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=sH(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=bt(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&H("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Tt([oH]),qe]})}return n})(),To=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(sO(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(j(et),j(Cr),j(Jr,9))};static \u0275dir=he({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),aH={provide:Os,useExisting:xt(()=>aO),multi:!0};function kR(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function cH(n){return n.split(":")[0]}var aO=(()=>{class n extends Vu{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=cH(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=bt(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&H("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Tt([aH]),qe]})}return n})(),Do=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(kR(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(kR(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(j(et),j(Cr),j(aO,9))};static \u0275dir=he({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function lH(n){return typeof n=="number"?n:parseInt(n,10)}function cO(n){return typeof n=="number"?n:parseFloat(n)}var $u=(()=>{class n{_validator=am;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):am,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,features:[Un]})}return n})(),uH={provide:Ar,useExisting:xt(()=>Iw),multi:!0},Iw=(()=>{class n extends $u{max;inputName="max";normalizeInput=t=>cO(t);createValidator=t=>VR(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=bt(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&$n("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[Tt([uH]),qe]})}return n})(),dH={provide:Ar,useExisting:xt(()=>zu),multi:!0},zu=(()=>{class n extends $u{min;inputName="min";normalizeInput=t=>cO(t);createValidator=t=>LR(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=bt(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&$n("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[Tt([dH]),qe]})}return n})(),hH={provide:Ar,useExisting:xt(()=>Vi),multi:!0};var Vi=(()=>{class n extends $u{required;inputName="required";normalizeInput=tn;createValidator=t=>jR;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=bt(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&$n("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Tt([hH]),qe]})}return n})();var fH={provide:Ar,useExisting:xt(()=>Tw),multi:!0},Tw=(()=>{class n extends $u{email;inputName="email";normalizeInput=tn;createValidator=t=>BR;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=bt(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},standalone:!1,features:[Tt([fH]),qe]})}return n})(),pH={provide:Ar,useExisting:xt(()=>Dw),multi:!0},Dw=(()=>{class n extends $u{minlength;inputName="minlength";normalizeInput=t=>lH(t);createValidator=t=>UR(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=bt(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&$n("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[Tt([pH]),qe]})}return n})();var lO=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Jt({type:n});static \u0275inj=Xt({})}return n})(),mw=class extends ac{constructor(e,t,r){super(ww(t),Ew(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){XR(this,!1,e),e.forEach((r,i)=>{ZR(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function NR(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Em=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return NR(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new cc(i,o)}record(t,r=null){let i=this._reduceControls(t);return new pw(i,r)}control(t,r,i){let o={};return this.useNonNullable?(NR(r)?o=r:(o.validators=r,o.asyncValidators=i),new Lu(t,ne(L({},o),{nonNullable:!0}))):new Lu(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new mw(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Lu)return t;if(t instanceof ac)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Nn=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ju,useValue:t.callSetDisabledState??_m}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Jt({type:n});static \u0275inj=Xt({imports:[lO]})}return n})(),dc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:iO,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ju,useValue:t.callSetDisabledState??_m}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Jt({type:n});static \u0275inj=Xt({imports:[lO]})}return n})();var uO=()=>{};var fO=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},mH=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Cm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,d=o>>2,p=(o&3)<<4|a>>4,v=(a&15)<<2|u>>6,_=u&63;c||(_=64,s||(v=64)),r.push(t[d],t[p],t[v],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(fO(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):mH(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||p==null)throw new Aw;let v=o<<2|a>>4;if(r.push(v),u!==64){let _=a<<4&240|u>>2;if(r.push(_),p!==64){let S=u<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Aw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},gH=function(n){let e=fO(n);return Cm.encodeByteArray(e,!0)},qu=function(n){return gH(n).replace(/\./g,"")},Im=function(n){try{return Cm.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Mw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var vH=()=>Mw().__FIREBASE_DEFAULTS__,_H=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},yH=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Im(n[1]);return e&&JSON.parse(e)},Tm=()=>{try{return uO()||vH()||_H()||yH()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Pw=n=>{var e,t;return(t=(e=Tm())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},pO=n=>{let e=Pw(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Rw=()=>{var n;return(n=Tm())===null||n===void 0?void 0:n.config},Ow=n=>{var e;return(e=Tm())===null||e===void 0?void 0:e[`_${n}`]};var ks=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Ns(n){return n.endsWith(".cloudworkstations.dev")}function Dm(n){return w(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function mO(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[qu(JSON.stringify(t)),qu(JSON.stringify(s)),""].join(".")}var Hu={};function bH(){let n={prod:[],emulator:[]};for(let e of Object.keys(Hu))Hu[e]?n.emulator.push(e):n.prod.push(e);return n}function wH(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var dO=!1;function Sm(n,e){if(typeof window>"u"||typeof document>"u"||!Ns(window.location.host)||Hu[n]===e||Hu[n]||dO)return;Hu[n]=e;function t(v){return`__firebase__banner__${v}`}let r="__firebase__banner",o=bH().prod.length>0;function s(){let v=document.getElementById(r);v&&v.remove()}function a(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function c(v,_){v.setAttribute("width","24"),v.setAttribute("id",_),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function u(){let v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{dO=!0,s()},v}function d(v,_){v.setAttribute("id",_),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){let v=wH(r),_=t("text"),S=document.getElementById(_)||document.createElement("span"),R=t("learnmore"),k=document.getElementById(R)||document.createElement("a"),G=t("preprendIcon"),te=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){let X=v.element;a(X),d(k,R);let Ne=u();c(te,G),X.append(te,S,k,Ne),document.body.appendChild(X)}o?(S.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function EH(){var n;let e=(n=Tm())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _O(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function yO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bO(){let n=qt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function wO(){return!EH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wu(){try{return typeof indexedDB=="object"}catch{return!1}}function EO(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var CH="FirebaseError",Gn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=CH,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xr.prototype.create)}},xr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?IH(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Gn(i,a,r)}};function IH(n,e){return n.replace(TH,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var TH=/\{\$([^}]+)}/g;function CO(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ei(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(hO(o)&&hO(s)){if(!ei(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function hO(n){return n!==null&&typeof n=="object"}function Gu(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hc(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function fc(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function IO(n,e){let t=new xw(n,e);return t.subscribe.bind(t)}var xw=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");DH(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Sw),i.error===void 0&&(i.error=Sw),i.complete===void 0&&(i.complete=Sw);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function DH(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Sw(){}var Wse=4*60*60*1e3;function Vt(n){return n&&n._delegate?n._delegate:n}var In=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Fs="[DEFAULT]";var kw=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ks;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AH(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SH(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function SH(n){return n===Fs?void 0:n}function AH(n){return n.instantiationMode==="EAGER"}var Am=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new kw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var xH=[],Oe=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Oe||{}),MH={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},PH=Oe.INFO,RH={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},OH=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=RH[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ti=class{constructor(e){this.name=e,this._logLevel=PH,this._logHandler=OH,this._userLogHandler=null,xH.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}};var kH=(n,e)=>e.some(t=>n instanceof t),TO,DO;function NH(){return TO||(TO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FH(){return DO||(DO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var SO=new WeakMap,Fw=new WeakMap,AO=new WeakMap,Nw=new WeakMap,Vw=new WeakMap;function LH(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(ni(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&SO.set(t,n)}).catch(()=>{}),Vw.set(e,n),e}function VH(n){if(Fw.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Fw.set(n,e)}var Lw={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Fw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||AO.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ni(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function xO(n){Lw=n(Lw)}function jH(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(xm(this),e,...t);return AO.set(r,e.sort?e.sort():[e]),ni(r)}:FH().includes(n)?function(...e){return n.apply(xm(this),e),ni(SO.get(this))}:function(...e){return ni(n.apply(xm(this),e))}}function BH(n){return typeof n=="function"?jH(n):(n instanceof IDBTransaction&&VH(n),kH(n,NH())?new Proxy(n,Lw):n)}function ni(n){if(n instanceof IDBRequest)return LH(n);if(Nw.has(n))return Nw.get(n);let e=BH(n);return e!==n&&(Nw.set(n,e),Vw.set(e,n)),e}var xm=n=>Vw.get(n);function PO(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=ni(s);return r&&s.addEventListener("upgradeneeded",c=>{r(ni(s.result),c.oldVersion,c.newVersion,ni(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var UH=["get","getKey","getAll","getAllKeys","count"],$H=["put","add","delete","clear"],jw=new Map;function MO(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(jw.get(e))return jw.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=$H.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||UH.includes(t)))return;let o=function(s,...a){return w(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&c.done]))[0]})};return jw.set(e,o),o}xO(n=>ne(L({},n),{get:(e,t,r)=>MO(e,t)||n.get(e,t,r),has:(e,t)=>!!MO(e,t)||n.has(e,t)}));var Uw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(zH(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function zH(n){let e=n.getComponent();return e?.type==="VERSION"}var $w="@firebase/app",RO="0.13.0";var Bi=new ti("@firebase/app"),HH="@firebase/app-compat",qH="@firebase/analytics-compat",WH="@firebase/analytics",GH="@firebase/app-check-compat",KH="@firebase/app-check",YH="@firebase/auth",QH="@firebase/auth-compat",ZH="@firebase/database",XH="@firebase/data-connect",JH="@firebase/database-compat",e8="@firebase/functions",t8="@firebase/functions-compat",n8="@firebase/installations",r8="@firebase/installations-compat",i8="@firebase/messaging",o8="@firebase/messaging-compat",s8="@firebase/performance",a8="@firebase/performance-compat",c8="@firebase/remote-config",l8="@firebase/remote-config-compat",u8="@firebase/storage",d8="@firebase/storage-compat",h8="@firebase/firestore",f8="@firebase/ai",p8="@firebase/firestore-compat",m8="firebase",g8="11.8.0";var zw="[DEFAULT]",v8={[$w]:"fire-core",[HH]:"fire-core-compat",[WH]:"fire-analytics",[qH]:"fire-analytics-compat",[KH]:"fire-app-check",[GH]:"fire-app-check-compat",[YH]:"fire-auth",[QH]:"fire-auth-compat",[ZH]:"fire-rtdb",[XH]:"fire-data-connect",[JH]:"fire-rtdb-compat",[e8]:"fire-fn",[t8]:"fire-fn-compat",[n8]:"fire-iid",[r8]:"fire-iid-compat",[i8]:"fire-fcm",[o8]:"fire-fcm-compat",[s8]:"fire-perf",[a8]:"fire-perf-compat",[c8]:"fire-rc",[l8]:"fire-rc-compat",[u8]:"fire-gcs",[d8]:"fire-gcs-compat",[h8]:"fire-fst",[p8]:"fire-fst-compat",[f8]:"fire-vertex","fire-js":"fire-js",[m8]:"fire-js-all"};var Ku=new Map,_8=new Map,Hw=new Map;function OO(n,e){try{n.container.addComponent(e)}catch(t){Bi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Mr(n){let e=n.name;if(Hw.has(e))return Bi.debug(`There were multiple attempts to register component ${e}.`),!1;Hw.set(e,n);for(let t of Ku.values())OO(t,n);for(let t of _8.values())OO(t,n);return!0}function pc(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Fn(n){return n==null?!1:n.settings!==void 0}var y8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},So=new xr("app","Firebase",y8);var qw=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new In("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw So.create("app-deleted",{appName:this._name})}};var Ao=g8;function Qu(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:zw,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw So.create("bad-app-name",{appName:String(i)});if(t||(t=Rw()),!t)throw So.create("no-options");let o=Ku.get(i);if(o){if(ei(t,o.options)&&ei(r,o.config))return o;throw So.create("duplicate-app",{appName:i})}let s=new Am(i);for(let c of Hw.values())s.addComponent(c);let a=new qw(t,r,s);return Ku.set(i,a),a}function Ls(n=zw){let e=Ku.get(n);if(!e&&n===zw&&Rw())return Qu();if(!e)throw So.create("no-app",{appName:n});return e}function Mm(){return Array.from(Ku.values())}function Rt(n,e,t){var r;let i=(r=v8[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bi.warn(a.join(" "));return}Mr(new In(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var b8="firebase-heartbeat-database",w8=1,Yu="firebase-heartbeat-store",Bw=null;function LO(){return Bw||(Bw=PO(b8,w8,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Yu)}catch(t){console.warn(t)}}}}).catch(n=>{throw So.create("idb-open",{originalErrorMessage:n.message})})),Bw}function E8(n){return w(this,null,function*(){try{let t=(yield LO()).transaction(Yu),r=yield t.objectStore(Yu).get(VO(n));return yield t.done,r}catch(e){if(e instanceof Gn)Bi.warn(e.message);else{let t=So.create("idb-get",{originalErrorMessage:e?.message});Bi.warn(t.message)}}})}function kO(n,e){return w(this,null,function*(){try{let r=(yield LO()).transaction(Yu,"readwrite");yield r.objectStore(Yu).put(e,VO(n)),yield r.done}catch(t){if(t instanceof Gn)Bi.warn(t.message);else{let r=So.create("idb-set",{originalErrorMessage:t?.message});Bi.warn(r.message)}}})}function VO(n){return`${n.name}!${n.options.appId}`}var C8=1024,I8=30,Ww=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Gw(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=NO();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>I8){let s=D8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Bi.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=NO(),{heartbeatsToSend:r,unsentEntries:i}=T8(this._heartbeatsCache.heartbeats),o=qu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Bi.warn(t),""}})}};function NO(){return new Date().toISOString().substring(0,10)}function T8(n,e=C8){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),FO(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),FO(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Gw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return Wu()?EO().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield E8(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return kO(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return kO(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function FO(n){return qu(JSON.stringify({version:2,heartbeats:n})).length}function D8(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function S8(n){Mr(new In("platform-logger",e=>new Uw(e),"PRIVATE")),Mr(new In("heartbeat",e=>new Ww(e),"PRIVATE")),Rt($w,RO,n),Rt($w,RO,"esm2017"),Rt("fire-js","")}S8("");function ek(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var tk=ek,nk=new xr("auth","Firebase",ek());var Fm=new ti("@firebase/auth");function A8(n,...e){Fm.logLevel<=Oe.WARN&&Fm.warn(`Auth (${Ao}): ${n}`,...e)}function Rm(n,...e){Fm.logLevel<=Oe.ERROR&&Fm.error(`Auth (${Ao}): ${n}`,...e)}function ii(n,...e){throw gE(n,...e)}function Vs(n,...e){return gE(n,...e)}function rk(n,e,t){let r=Object.assign(Object.assign({},tk()),{[e]:t});return new xr("auth","Firebase",r).create(e,{appName:n.name})}function zi(n){return rk(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gE(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return nk.create(n,...e)}function oe(n,e,...t){if(!n)throw gE(e,...t)}function Ui(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Rm(e),new Error(e)}function Po(n,e){n||Ui(e)}function Lm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function ik(){return jO()==="http:"||jO()==="https:"}function jO(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function x8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ik()||_O()||"connection"in navigator)?navigator.onLine:!0}function M8(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var js=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Po(t>e,"Short delay should be less than long delay!"),this.isMobile=gO()||yO()}get(){return x8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function vE(n,e){Po(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Vm=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var P8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var R8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],O8=new js(3e4,6e4);function oi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ur(o,s,a,c){return w(this,arguments,function*(n,e,t,r,i={}){return ok(n,i,()=>w(null,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let p=Gu(Object.assign({key:n.config.apiKey},d)).slice(1),v=yield n._getAdditionalHeaders();v["Content-Type"]="application/json",n.languageCode&&(v["X-Firebase-Locale"]=n.languageCode);let _=Object.assign({method:e,headers:v},u);return vO()||(_.referrerPolicy="no-referrer"),n.emulatorConfig&&Ns(n.emulatorConfig.host)&&(_.credentials="include"),Vm.fetch()(yield sk(n,n.config.apiHost,t,p),_)}))})}function ok(n,e,t){return w(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},P8),e);try{let i=new Zw(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Pm(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pm(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Pm(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw Pm(n,"user-disabled",s);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw rk(n,d,u);ii(n,d)}}catch(i){if(i instanceof Gn)throw i;ii(n,"network-request-failed",{message:String(i)})}})}function id(o,s,a,c){return w(this,arguments,function*(n,e,t,r,i={}){let u=yield ur(n,e,t,r,i);return"mfaPendingCredential"in u&&ii(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function sk(n,e,t,r){return w(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?vE(n.config,i):`${n.config.apiScheme}://${i}`;return R8.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function k8(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Zw=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Vs(this.auth,"network-request-failed")),O8.get())})}};function Pm(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Vs(n,e,r);return i.customData._tokenResponse=t,i}function BO(n){return n!==void 0&&n.enterprise!==void 0}var Xw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return k8(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function N8(n,e){return w(this,null,function*(){return ur(n,"GET","/v2/recaptchaConfig",oi(n,e))})}function F8(n,e){return w(this,null,function*(){return ur(n,"POST","/v1/accounts:delete",e)})}function jm(n,e){return w(this,null,function*(){return ur(n,"POST","/v1/accounts:lookup",e)})}function Xu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function _E(n,e=!1){return w(this,null,function*(){let t=Vt(n),r=yield t.getIdToken(e),i=yE(r);oe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Xu(Kw(i.auth_time)),issuedAtTime:Xu(Kw(i.iat)),expirationTime:Xu(Kw(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Kw(n){return Number(n)*1e3}function yE(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Rm("JWT malformed, contained fewer than 3 sections"),null;try{let i=Im(t);return i?JSON.parse(i):(Rm("Failed to decode base64 JWT payload"),null)}catch(i){return Rm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function UO(n){let e=yE(n);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Bs(n,e,t=!1){return w(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Gn&&L8(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function L8({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Jw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),t)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ed=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xu(this.lastLoginAt),this.creationTime=Xu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Bm(n){return w(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Bs(n,jm(t,{idToken:r}));oe(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?ak(o.providerUserInfo):[],a=V8(n.providerData,s),c=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,d=c?u:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ed(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,p)})}function bE(n){return w(this,null,function*(){let e=Vt(n);yield Bm(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function V8(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ak(n){return n.map(e=>{var{providerId:t}=e,r=W_(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function j8(n,e){return w(this,null,function*(){let t=yield ok(n,{},()=>w(null,null,function*(){let r=Gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield sk(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Vm.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function B8(n,e){return w(this,null,function*(){return ur(n,"POST","/v2/accounts:revokeToken",oi(n,e))})}var Ju=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){oe(e.length!==0,"internal-error");let t=UO(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return w(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield j8(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(oe(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(oe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(oe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Ui("not implemented")}};function xo(n,e){oe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Mo=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=W_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ed(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let t=yield Bs(this,this.stsTokenManager.getToken(this.auth,e));return oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return _E(this,e)}reload(){return bE(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Bm(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(Fn(this.auth.app))return Promise.reject(zi(this.auth));let e=yield this.getIdToken();return yield Bs(this,F8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,u,d;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,_=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=t.photoURL)!==null&&s!==void 0?s:void 0,R=(a=t.tenantId)!==null&&a!==void 0?a:void 0,k=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,G=(u=t.createdAt)!==null&&u!==void 0?u:void 0,te=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:X,emailVerified:Ne,isAnonymous:St,providerData:Ue,stsTokenManager:x}=t;oe(X&&x,e,"internal-error");let C=Ju.fromJSON(this.name,x);oe(typeof X=="string",e,"internal-error"),xo(p,e.name),xo(v,e.name),oe(typeof Ne=="boolean",e,"internal-error"),oe(typeof St=="boolean",e,"internal-error"),xo(_,e.name),xo(S,e.name),xo(R,e.name),xo(k,e.name),xo(G,e.name),xo(te,e.name);let D=new n({uid:X,auth:e,email:v,emailVerified:Ne,displayName:p,isAnonymous:St,photoURL:S,phoneNumber:_,tenantId:R,stsTokenManager:C,createdAt:G,lastLoginAt:te});return Ue&&Array.isArray(Ue)&&(D.providerData=Ue.map(A=>Object.assign({},A))),k&&(D._redirectEventId=k),D}static _fromIdTokenResponse(e,t,r=!1){return w(this,null,function*(){let i=new Ju;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Bm(o),o})}static _fromGetAccountInfoResponse(e,t,r){return w(this,null,function*(){let i=t.users[0];oe(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?ak(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Ju;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ed(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var $O=new Map;function $i(n){Po(n instanceof Function,"Expected a class definition");let e=$O.get(n);return e?(Po(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,$O.set(n,e),e)}var U8=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(t,r){return w(this,null,function*(){this.storage[t]=r})}_get(t){return w(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return w(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),eE=U8;function Om(n,e,t){return`firebase:${n}:${e}:${t}`}var Um=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Om(this.userKey,i.apiKey,o),this.fullPersistenceKey=Om("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield jm(this.auth,{idToken:e}).catch(()=>{});return t?Mo._fromGetAccountInfoResponse(this.auth,t,e):null}return Mo._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return w(this,null,function*(){if(!t.length)return new n($i(eE),e,r);let i=(yield Promise.all(t.map(u=>w(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||$i(eE),s=Om(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let d=yield u._get(s);if(d){let p;if(typeof d=="string"){let v=yield jm(e,{idToken:d}).catch(()=>{});if(!v)break;p=yield Mo._fromGetAccountInfoResponse(e,v,d)}else p=Mo._fromJSON(e,d);u!==o&&(a=p),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>w(null,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function zO(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ck(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fk(e))return"Blackberry";if(pk(e))return"Webos";if(lk(e))return"Safari";if((e.includes("chrome/")||uk(e))&&!e.includes("edge/"))return"Chrome";if(hk(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function ck(n=qt()){return/firefox\//i.test(n)}function lk(n=qt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uk(n=qt()){return/crios\//i.test(n)}function dk(n=qt()){return/iemobile/i.test(n)}function hk(n=qt()){return/android/i.test(n)}function fk(n=qt()){return/blackberry/i.test(n)}function pk(n=qt()){return/webos/i.test(n)}function wE(n=qt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function $8(n=qt()){var e;return wE(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function z8(){return bO()&&document.documentMode===10}function mk(n=qt()){return wE(n)||hk(n)||pk(n)||fk(n)||/windows phone/i.test(n)||dk(n)}function gk(n,e=[]){let t;switch(n){case"Browser":t=zO(qt());break;case"Worker":t=`${zO(qt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ao}/${r}`}var tE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function H8(t){return w(this,arguments,function*(n,e={}){return ur(n,"GET","/v2/passwordPolicy",oi(n,e))})}var q8=6,nE=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:q8,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var rE=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $m(this),this.idTokenSubscription=new $m(this),this.beforeStateQueue=new tE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$i(t)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Um.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let t=yield jm(this,{idToken:e}),r=yield Mo._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var t;if(Fn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Bm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=M8()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(Fn(this.app))return Promise.reject(zi(this));let t=e?Vt(e):null;return t&&oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return w(this,null,function*(){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return Fn(this.app)?Promise.reject(zi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Fn(this.app)?Promise.reject(zi(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence($i(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield H8(this),t=new nE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield B8(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&$i(e)||this._popupRedirectResolver;oe(t,this,"argument-error"),this.redirectPersistenceManager=yield Um.create(this,[$i(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return w(this,null,function*(){var e;if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&A8(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Ro(n){return Vt(n)}var $m=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=IO(t=>this.observer=t)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Qm={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W8(n){Qm=n}function vk(n){return Qm.loadJS(n)}function G8(){return Qm.recaptchaEnterpriseScript}function K8(){return Qm.gapiScript}function _k(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var iE=class{constructor(){this.enterprise=new oE}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},oE=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var Y8="recaptcha-enterprise",yk="NO_RECAPTCHA",sE=class{constructor(e){this.type=Y8,this.auth=Ro(e)}verify(e="verify",t=!1){return w(this,null,function*(){function r(o){return w(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>w(null,null,function*(){N8(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new Xw(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;BO(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(yk)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iE().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&BO(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=G8();c.length!==0&&(c+=a),vk(c).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function Zu(n,e,t,r=!1,i=!1){return w(this,null,function*(){let o=new sE(n),s;if(i)s=yk;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function zm(n,e,t,r,i){return w(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Zu(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>w(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield Zu(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Zu(n,e,t);return r(n,a).catch(c=>w(null,null,function*(){var u;if(((u=n._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let d=yield Zu(n,e,t,!1,!0);return r(n,d)}return Promise.reject(c)}))}else{let a=yield Zu(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function EE(n,e){let t=pc(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(ei(o,e??{}))return i;ii(i,"already-initialized")}return t.initialize({options:e})}function Q8(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map($i);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function CE(n,e,t){let r=Ro(n);oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=bk(e),{host:s,port:a}=Z8(e),c=a===null?"":`:${a}`,u={url:`${o}//${s}${c}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),oe(ei(u,r.config.emulator)&&ei(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Ns(s)?(Dm(`${o}//${s}${c}`),Sm("Auth",!0)):i||X8()}function bk(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Z8(n){let e=bk(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:HO(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:HO(s)}}}function HO(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function X8(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var td=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ui("not implemented")}_getIdTokenResponse(e){return Ui("not implemented")}_linkToIdToken(e,t){return Ui("not implemented")}_getReauthenticationResolver(e){return Ui("not implemented")}};function J8(n,e){return w(this,null,function*(){return ur(n,"POST","/v1/accounts:update",e)})}function e6(n,e){return w(this,null,function*(){return ur(n,"POST","/v1/accounts:signUp",e)})}function t6(n,e){return w(this,null,function*(){return id(n,"POST","/v1/accounts:signInWithPassword",oi(n,e))})}function wk(n,e){return w(this,null,function*(){return ur(n,"POST","/v1/accounts:sendOobCode",oi(n,e))})}function n6(n,e){return w(this,null,function*(){return wk(n,e)})}function r6(n,e){return w(this,null,function*(){return wk(n,e)})}function i6(n,e){return w(this,null,function*(){return id(n,"POST","/v1/accounts:signInWithEmailLink",oi(n,e))})}function o6(n,e){return w(this,null,function*(){return id(n,"POST","/v1/accounts:signInWithEmailLink",oi(n,e))})}var nd=class n extends td{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zm(e,t,"signInWithPassword",t6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return i6(e,{email:this._email,oobCode:this._password});default:ii(e,"internal-error")}})}_linkToIdToken(e,t){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zm(e,r,"signUpPassword",e6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return o6(e,{idToken:t,email:this._email,oobCode:this._password});default:ii(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Yw(n,e){return w(this,null,function*(){return id(n,"POST","/v1/accounts:signInWithIdp",oi(n,e))})}function s6(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function a6(n){let e=hc(fc(n)).link,t=e?hc(fc(e)).deep_link_id:null,r=hc(fc(n)).deep_link_id;return(r?hc(fc(r)).link:null)||r||t||e||n}var Hm=class n{constructor(e){var t,r,i,o,s,a;let c=hc(fc(e)),u=(t=c.apiKey)!==null&&t!==void 0?t:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,p=s6((i=c.mode)!==null&&i!==void 0?i:null);oe(u&&d&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=d,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=a6(e);try{return new n(t)}catch{return null}}};var Ek=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return nd._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Hm.parseLink(r);return oe(i,"argument-error"),nd._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),qm=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var aE=class extends qm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function c6(n,e){return w(this,null,function*(){return id(n,"POST","/v1/accounts:signUp",oi(n,e))})}var mc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return w(this,null,function*(){let o=yield Mo._fromIdTokenResponse(e,r,i),s=qO(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=qO(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function qO(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var cE=class n extends Gn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function Ck(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?cE._fromErrorAndOperation(n,o,e,r):o})}function l6(n,e,t=!1){return w(this,null,function*(){let r=yield Bs(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return mc._forOperation(n,"link",r)})}function u6(n,e,t=!1){return w(this,null,function*(){let{auth:r}=n;if(Fn(r.app))return Promise.reject(zi(r));let i="reauthenticate";try{let o=yield Bs(n,Ck(r,i,e,n),t);oe(o.idToken,r,"internal-error");let s=yE(o.idToken);oe(s,r,"internal-error");let{sub:a}=s;return oe(n.uid===a,r,"user-mismatch"),mc._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&ii(r,"user-mismatch"),o}})}function Ik(n,e,t=!1){return w(this,null,function*(){if(Fn(n.app))return Promise.reject(zi(n));let r="signIn",i=yield Ck(n,r,e),o=yield mc._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function IE(n,e){return w(this,null,function*(){return Ik(Ro(n),e)})}function Tk(n,e,t){var r;oe(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),oe(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),oe(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(oe(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(oe(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function Dk(n){return w(this,null,function*(){let e=Ro(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Zm(n,e,t){return w(this,null,function*(){let r=Ro(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Tk(r,i,t),yield zm(r,i,"getOobCode",r6,"EMAIL_PASSWORD_PROVIDER")})}function Xm(n,e,t){return w(this,null,function*(){if(Fn(n.app))return Promise.reject(zi(n));let r=Ro(n),s=yield zm(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",c6,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Dk(n),c}),a=yield mc._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function od(n,e,t){return Fn(n.app)?Promise.reject(zi(n)):IE(Vt(n),Ek.credential(e,t)).catch(r=>w(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&Dk(n),r}))}function d6(n,e){return w(this,null,function*(){return ur(n,"POST","/v1/accounts:createAuthUri",oi(n,e))})}function Jm(n,e){return w(this,null,function*(){let t=ik()?Lm():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=yield d6(Vt(n),r);return i||[]})}function eg(n,e){return w(this,null,function*(){let t=Vt(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&Tk(t.auth,i,e);let{email:o}=yield n6(t.auth,i);o!==n.email&&(yield n.reload())})}function h6(n,e){return w(this,null,function*(){return ur(n,"POST","/v1/accounts:update",e)})}function tg(r,i){return w(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let o=Vt(n),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=yield Bs(o,h6(o.auth,a));o.displayName=c.displayName||null,o.photoURL=c.photoUrl||null;let u=o.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=o.displayName,u.photoURL=o.photoURL),yield o._updateTokensIfNecessary(c)})}function ng(n,e){return f6(Vt(n),null,e)}function f6(n,e,t){return w(this,null,function*(){let{auth:r}=n,o={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);let s=yield Bs(n,J8(r,o));yield n._updateTokensIfNecessary(s,!0)})}function TE(n,e,t,r){return Vt(n).onIdTokenChanged(e,t,r)}function DE(n,e,t){return Vt(n).beforeAuthStateChanged(e,t)}function rg(n,e,t,r){return Vt(n).onAuthStateChanged(e,t,r)}var Wm="__sak";var Gm=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Wm,"1"),this.storage.removeItem(Wm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var p6=1e3,m6=10,g6=(()=>{class n extends Gm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mk(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);z8()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,m6):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},p6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return w(this,null,function*(){yield oo(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return w(this,null,function*(){let r=yield oo(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return w(this,null,function*(){yield oo(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),Sk=g6;var v6=(()=>{class n extends Gm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),SE=v6;function _6(n){return Promise.all(n.map(e=>w(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var y6=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return w(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(d=>w(this,null,function*(){return d(r.origin,s)})),u=yield _6(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Ak(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var lE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=Ak("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let v=p;if(v.data.eventId===u)switch(v.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(v.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function ri(){return window}function b6(n){ri().location.href=n}function xk(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}function w6(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function E6(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function C6(){return xk()?self:null}var Mk="firebaseLocalStorageDb",I6=1,Km="firebaseLocalStorage",Pk="fbase_key",Us=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function ig(n,e){return n.transaction([Km],e?"readwrite":"readonly").objectStore(Km)}function T6(){let n=indexedDB.deleteDatabase(Mk);return new Us(n).toPromise()}function uE(){let n=indexedDB.open(Mk,I6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Km,{keyPath:Pk})}catch(i){t(i)}}),n.addEventListener("success",()=>w(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Km)?e(r):(r.close(),yield T6(),e(yield uE()))}))})}function WO(n,e,t){return w(this,null,function*(){let r=ig(n,!0).put({[Pk]:e,value:t});return new Us(r).toPromise()})}function D6(n,e){return w(this,null,function*(){let t=ig(n,!1).get(e),r=yield new Us(t).toPromise();return r===void 0?null:r.value})}function GO(n,e){let t=ig(n,!0).delete(e);return new Us(t).toPromise()}var S6=800,A6=3,x6=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield uE(),this.db)})}_withRetries(t){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>A6)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return xk()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=y6._getInstance(C6()),this.receiver._subscribe("keyChanged",(t,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var t,r;if(this.activeServiceWorker=yield w6(),!this.activeServiceWorker)return;this.sender=new lE(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||E6()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let t=yield uE();return yield WO(t,Wm,"1"),yield GO(t,Wm),!0}catch{}return!1})}_withPendingWrite(t){return w(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>WO(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return w(this,null,function*(){let r=yield this._withRetries(i=>D6(i,t));return this.localCache[t]=r,r})}_remove(t){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>GO(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return w(this,null,function*(){let t=yield this._withRetries(o=>{let s=ig(o,!1).getAll();return new Us(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),S6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),Rk=x6;var bae=_k("rcb"),wae=new js(3e4,6e4);function M6(n,e){return e?$i(e):(oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var rd=class extends td{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yw(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Yw(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Yw(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function P6(n){return Ik(n.auth,new rd(n),n.bypassAuthState)}function R6(n){let{auth:e,user:t}=n;return oe(t,e,"internal-error"),u6(t,new rd(n),n.bypassAuthState)}function O6(n){return w(this,null,function*(){let{auth:e,user:t}=n;return oe(t,e,"internal-error"),l6(t,new rd(n),n.bypassAuthState)})}var dE=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return P6;case"linkViaPopup":case"linkViaRedirect":return O6;case"reauthViaPopup":case"reauthViaRedirect":return R6;default:ii(this.auth,"internal-error")}}resolve(e){Po(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Po(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Eae=new js(2e3,1e4);var k6="pendingRedirect",km=new Map,hE=class n extends dE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=km.get(this.auth._key());if(!e){try{let r=(yield N6(this.resolver,this.auth))?yield oo(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}km.set(this.auth._key(),e)}return this.bypassAuthState||km.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return oo(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,oo(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function N6(n,e){return w(this,null,function*(){let t=V6(e),r=L6(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function F6(n,e){km.set(n._key(),e)}function L6(n){return $i(n._redirectPersistence)}function V6(n){return Om(k6,n.config.apiKey,n.name)}function j6(n,e,t=!1){return w(this,null,function*(){if(Fn(n.app))return Promise.reject(zi(n));let r=Ro(n),i=M6(r,e),s=yield new hE(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var B6=10*60*1e3,fE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!U6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Ok(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Vs(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=B6&&this.cachedEventUids.clear(),this.cachedEventUids.has(KO(e))}saveEventToCache(e){this.cachedEventUids.add(KO(e)),this.lastProcessedEventTime=Date.now()}};function KO(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Ok({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function U6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ok(n);default:return!1}}function $6(t){return w(this,arguments,function*(n,e={}){return ur(n,"GET","/v1/projects",e)})}var z6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,H6=/^https?/;function q6(n){return w(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield $6(n);for(let t of e)try{if(W6(t))return}catch{}ii(n,"unauthorized-domain")})}function W6(n){let e=Lm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!H6.test(t))return!1;if(z6.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var G6=new js(3e4,6e4);function YO(){let n=ri().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function K6(n){return new Promise((e,t)=>{var r,i,o;function s(){YO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YO(),t(Vs(n,"network-request-failed"))},timeout:G6.get()})}if(!((i=(r=ri().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ri().gapi)===null||o===void 0)&&o.load)s();else{let a=_k("iframefcb");return ri()[a]=()=>{gapi.load?s():t(Vs(n,"network-request-failed"))},vk(`${K8()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw Nm=null,e})}var Nm=null;function Y6(n){return Nm=Nm||K6(n),Nm}var Q6=new js(5e3,15e3),Z6="__/auth/iframe",X6="emulator/auth/iframe",J6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tq(n){let e=n.config;oe(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?vE(e,X6):`https://${n.config.authDomain}/${Z6}`,r={apiKey:e.apiKey,appName:n.name,v:Ao},i=eq.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Gu(r).slice(1)}`}function nq(n){return w(this,null,function*(){let e=yield Y6(n),t=ri().gapi;return oe(t,n,"internal-error"),e.open({where:document.body,url:tq(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:J6,dontclear:!0},r=>new Promise((i,o)=>w(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Vs(n,"network-request-failed"),a=ri().setTimeout(()=>{o(s)},Q6.get());function c(){ri().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var rq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iq=500,oq=600,sq="_blank",aq="http://localhost",Ym=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function cq(n,e,t,r=iq,i=oq){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},rq),{width:r.toString(),height:i.toString(),top:o,left:s}),u=qt().toLowerCase();t&&(a=uk(u)?sq:t),ck(u)&&(e=e||aq,c.scrollbars="yes");let d=Object.entries(c).reduce((v,[_,S])=>`${v}${_}=${S},`,"");if($8(u)&&a!=="_self")return lq(e||"",a),new Ym(null);let p=window.open(e||"",a,d);oe(p,n,"popup-blocked");try{p.focus()}catch{}return new Ym(p)}function lq(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var uq="__/auth/handler",dq="emulator/auth/handler",hq=encodeURIComponent("fac");function QO(n,e,t,r,i,o){return w(this,null,function*(){oe(n.config.authDomain,n,"auth-domain-config-required"),oe(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ao,eventId:i};if(e instanceof qm){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",CO(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,p]of Object.entries(o||{}))s[d]=p}if(e instanceof aE){let d=e.getScopes().filter(p=>p!=="");d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield n._getAppCheckToken(),u=c?`#${hq}=${encodeURIComponent(c)}`:"";return`${fq(n)}?${Gu(a).slice(1)}${u}`})}function fq({config:n}){return n.emulator?vE(n,dq):`https://${n.authDomain}/${uq}`}var Qw="webStorageSupport",pE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SE,this._completeRedirectFn=j6,this._overrideRedirectResult=F6}_openPopup(e,t,r,i){return w(this,null,function*(){var o;Po((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield QO(e,t,r,Lm(),i);return cq(e,s,Ak())})}_openRedirect(e,t,r,i){return w(this,null,function*(){yield this._originValidation(e);let o=yield QO(e,t,r,Lm(),i);return b6(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Po(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return w(this,null,function*(){let t=yield nq(e),r=new fE(e);return t.register("authEvent",i=>(oe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Qw,{type:Qw},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Qw];s!==void 0&&t(!!s),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=q6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return mk()||lk()||wE()}},kk=pE;var ZO="@firebase/auth",XO="1.10.6";var mE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function pq(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mq(n){Mr(new In("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;oe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gk(n)},u=new rE(r,i,o,c);return Q8(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Mr(new In("auth-internal",e=>{let t=Ro(e.getProvider("auth").getImmediate());return(r=>new mE(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rt(ZO,XO,pq(n)),Rt(ZO,XO,"esm2017")}var gq=5*60,vq=Ow("authIdTokenMaxAge")||gq,JO=null,_q=n=>e=>w(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>vq)return;let i=t?.token;JO!==i&&(JO=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Pr(n=Ls()){let e=pc(n,"auth");if(e.isInitialized())return e.getImmediate();let t=EE(n,{popupRedirectResolver:kk,persistence:[Rk,Sk,SE]}),r=Ow("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=_q(o.toString());DE(t,s,()=>s(t.currentUser)),TE(t,a=>s(a))}}let i=Pw("auth");return i&&CE(t,`http://${i}`),t}function yq(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}W8({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Vs("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",yq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mq("Browser");var r9="firebase",i9="11.8.1";Rt(r9,i9,"app");var o9={apiKey:"AIzaSyDnCfzF5psHLcnmbeJGrBuWpxOkUp01Lfo",authDomain:"cocreando-2dbd1.firebaseapp.com",projectId:"cocreando-2dbd1",storageBucket:"cocreando-2dbd1.appspot.com",messagingSenderId:"862709485856",appId:"1:123456789:web:abcd1234"},s9=Qu(o9),AE=Pr(s9);var Nk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fk={};var Hi,xE;(function(){var n;function e(x,C){function D(){}D.prototype=C.prototype,x.D=C.prototype,x.prototype=new D,x.prototype.constructor=x,x.C=function(A,M,O){for(var T=Array(arguments.length-2),gi=2;gi<arguments.length;gi++)T[gi-2]=arguments[gi];return C.prototype[M].apply(A,T)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,C,D){D||(D=0);var A=Array(16);if(typeof C=="string")for(var M=0;16>M;++M)A[M]=C.charCodeAt(D++)|C.charCodeAt(D++)<<8|C.charCodeAt(D++)<<16|C.charCodeAt(D++)<<24;else for(M=0;16>M;++M)A[M]=C[D++]|C[D++]<<8|C[D++]<<16|C[D++]<<24;C=x.g[0],D=x.g[1],M=x.g[2];var O=x.g[3],T=C+(O^D&(M^O))+A[0]+3614090360&4294967295;C=D+(T<<7&4294967295|T>>>25),T=O+(M^C&(D^M))+A[1]+3905402710&4294967295,O=C+(T<<12&4294967295|T>>>20),T=M+(D^O&(C^D))+A[2]+606105819&4294967295,M=O+(T<<17&4294967295|T>>>15),T=D+(C^M&(O^C))+A[3]+3250441966&4294967295,D=M+(T<<22&4294967295|T>>>10),T=C+(O^D&(M^O))+A[4]+4118548399&4294967295,C=D+(T<<7&4294967295|T>>>25),T=O+(M^C&(D^M))+A[5]+1200080426&4294967295,O=C+(T<<12&4294967295|T>>>20),T=M+(D^O&(C^D))+A[6]+2821735955&4294967295,M=O+(T<<17&4294967295|T>>>15),T=D+(C^M&(O^C))+A[7]+4249261313&4294967295,D=M+(T<<22&4294967295|T>>>10),T=C+(O^D&(M^O))+A[8]+1770035416&4294967295,C=D+(T<<7&4294967295|T>>>25),T=O+(M^C&(D^M))+A[9]+2336552879&4294967295,O=C+(T<<12&4294967295|T>>>20),T=M+(D^O&(C^D))+A[10]+4294925233&4294967295,M=O+(T<<17&4294967295|T>>>15),T=D+(C^M&(O^C))+A[11]+2304563134&4294967295,D=M+(T<<22&4294967295|T>>>10),T=C+(O^D&(M^O))+A[12]+1804603682&4294967295,C=D+(T<<7&4294967295|T>>>25),T=O+(M^C&(D^M))+A[13]+4254626195&4294967295,O=C+(T<<12&4294967295|T>>>20),T=M+(D^O&(C^D))+A[14]+2792965006&4294967295,M=O+(T<<17&4294967295|T>>>15),T=D+(C^M&(O^C))+A[15]+1236535329&4294967295,D=M+(T<<22&4294967295|T>>>10),T=C+(M^O&(D^M))+A[1]+4129170786&4294967295,C=D+(T<<5&4294967295|T>>>27),T=O+(D^M&(C^D))+A[6]+3225465664&4294967295,O=C+(T<<9&4294967295|T>>>23),T=M+(C^D&(O^C))+A[11]+643717713&4294967295,M=O+(T<<14&4294967295|T>>>18),T=D+(O^C&(M^O))+A[0]+3921069994&4294967295,D=M+(T<<20&4294967295|T>>>12),T=C+(M^O&(D^M))+A[5]+3593408605&4294967295,C=D+(T<<5&4294967295|T>>>27),T=O+(D^M&(C^D))+A[10]+38016083&4294967295,O=C+(T<<9&4294967295|T>>>23),T=M+(C^D&(O^C))+A[15]+3634488961&4294967295,M=O+(T<<14&4294967295|T>>>18),T=D+(O^C&(M^O))+A[4]+3889429448&4294967295,D=M+(T<<20&4294967295|T>>>12),T=C+(M^O&(D^M))+A[9]+568446438&4294967295,C=D+(T<<5&4294967295|T>>>27),T=O+(D^M&(C^D))+A[14]+3275163606&4294967295,O=C+(T<<9&4294967295|T>>>23),T=M+(C^D&(O^C))+A[3]+4107603335&4294967295,M=O+(T<<14&4294967295|T>>>18),T=D+(O^C&(M^O))+A[8]+1163531501&4294967295,D=M+(T<<20&4294967295|T>>>12),T=C+(M^O&(D^M))+A[13]+2850285829&4294967295,C=D+(T<<5&4294967295|T>>>27),T=O+(D^M&(C^D))+A[2]+4243563512&4294967295,O=C+(T<<9&4294967295|T>>>23),T=M+(C^D&(O^C))+A[7]+1735328473&4294967295,M=O+(T<<14&4294967295|T>>>18),T=D+(O^C&(M^O))+A[12]+2368359562&4294967295,D=M+(T<<20&4294967295|T>>>12),T=C+(D^M^O)+A[5]+4294588738&4294967295,C=D+(T<<4&4294967295|T>>>28),T=O+(C^D^M)+A[8]+2272392833&4294967295,O=C+(T<<11&4294967295|T>>>21),T=M+(O^C^D)+A[11]+1839030562&4294967295,M=O+(T<<16&4294967295|T>>>16),T=D+(M^O^C)+A[14]+4259657740&4294967295,D=M+(T<<23&4294967295|T>>>9),T=C+(D^M^O)+A[1]+2763975236&4294967295,C=D+(T<<4&4294967295|T>>>28),T=O+(C^D^M)+A[4]+1272893353&4294967295,O=C+(T<<11&4294967295|T>>>21),T=M+(O^C^D)+A[7]+4139469664&4294967295,M=O+(T<<16&4294967295|T>>>16),T=D+(M^O^C)+A[10]+3200236656&4294967295,D=M+(T<<23&4294967295|T>>>9),T=C+(D^M^O)+A[13]+681279174&4294967295,C=D+(T<<4&4294967295|T>>>28),T=O+(C^D^M)+A[0]+3936430074&4294967295,O=C+(T<<11&4294967295|T>>>21),T=M+(O^C^D)+A[3]+3572445317&4294967295,M=O+(T<<16&4294967295|T>>>16),T=D+(M^O^C)+A[6]+76029189&4294967295,D=M+(T<<23&4294967295|T>>>9),T=C+(D^M^O)+A[9]+3654602809&4294967295,C=D+(T<<4&4294967295|T>>>28),T=O+(C^D^M)+A[12]+3873151461&4294967295,O=C+(T<<11&4294967295|T>>>21),T=M+(O^C^D)+A[15]+530742520&4294967295,M=O+(T<<16&4294967295|T>>>16),T=D+(M^O^C)+A[2]+3299628645&4294967295,D=M+(T<<23&4294967295|T>>>9),T=C+(M^(D|~O))+A[0]+4096336452&4294967295,C=D+(T<<6&4294967295|T>>>26),T=O+(D^(C|~M))+A[7]+1126891415&4294967295,O=C+(T<<10&4294967295|T>>>22),T=M+(C^(O|~D))+A[14]+2878612391&4294967295,M=O+(T<<15&4294967295|T>>>17),T=D+(O^(M|~C))+A[5]+4237533241&4294967295,D=M+(T<<21&4294967295|T>>>11),T=C+(M^(D|~O))+A[12]+1700485571&4294967295,C=D+(T<<6&4294967295|T>>>26),T=O+(D^(C|~M))+A[3]+2399980690&4294967295,O=C+(T<<10&4294967295|T>>>22),T=M+(C^(O|~D))+A[10]+4293915773&4294967295,M=O+(T<<15&4294967295|T>>>17),T=D+(O^(M|~C))+A[1]+2240044497&4294967295,D=M+(T<<21&4294967295|T>>>11),T=C+(M^(D|~O))+A[8]+1873313359&4294967295,C=D+(T<<6&4294967295|T>>>26),T=O+(D^(C|~M))+A[15]+4264355552&4294967295,O=C+(T<<10&4294967295|T>>>22),T=M+(C^(O|~D))+A[6]+2734768916&4294967295,M=O+(T<<15&4294967295|T>>>17),T=D+(O^(M|~C))+A[13]+1309151649&4294967295,D=M+(T<<21&4294967295|T>>>11),T=C+(M^(D|~O))+A[4]+4149444226&4294967295,C=D+(T<<6&4294967295|T>>>26),T=O+(D^(C|~M))+A[11]+3174756917&4294967295,O=C+(T<<10&4294967295|T>>>22),T=M+(C^(O|~D))+A[2]+718787259&4294967295,M=O+(T<<15&4294967295|T>>>17),T=D+(O^(M|~C))+A[9]+3951481745&4294967295,x.g[0]=x.g[0]+C&4294967295,x.g[1]=x.g[1]+(M+(T<<21&4294967295|T>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+O&4294967295}r.prototype.u=function(x,C){C===void 0&&(C=x.length);for(var D=C-this.blockSize,A=this.B,M=this.h,O=0;O<C;){if(M==0)for(;O<=D;)i(this,x,O),O+=this.blockSize;if(typeof x=="string"){for(;O<C;)if(A[M++]=x.charCodeAt(O++),M==this.blockSize){i(this,A),M=0;break}}else for(;O<C;)if(A[M++]=x[O++],M==this.blockSize){i(this,A),M=0;break}}this.h=M,this.o+=C},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var C=1;C<x.length-8;++C)x[C]=0;var D=8*this.o;for(C=x.length-8;C<x.length;++C)x[C]=D&255,D/=256;for(this.u(x),x=Array(16),C=D=0;4>C;++C)for(var A=0;32>A;A+=8)x[D++]=this.g[C]>>>A&255;return x};function o(x,C){var D=a;return Object.prototype.hasOwnProperty.call(D,x)?D[x]:D[x]=C(x)}function s(x,C){this.h=C;for(var D=[],A=!0,M=x.length-1;0<=M;M--){var O=x[M]|0;A&&O==C||(D[M]=O,A=!1)}this.g=D}var a={};function c(x){return-128<=x&&128>x?o(x,function(C){return new s([C|0],0>C?-1:0)}):new s([x|0],0>x?-1:0)}function u(x){if(isNaN(x)||!isFinite(x))return p;if(0>x)return k(u(-x));for(var C=[],D=1,A=0;x>=D;A++)C[A]=x/D|0,D*=4294967296;return new s(C,0)}function d(x,C){if(x.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(x.charAt(0)=="-")return k(d(x.substring(1),C));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=u(Math.pow(C,8)),A=p,M=0;M<x.length;M+=8){var O=Math.min(8,x.length-M),T=parseInt(x.substring(M,M+O),C);8>O?(O=u(Math.pow(C,O)),A=A.j(O).add(u(T))):(A=A.j(D),A=A.add(u(T)))}return A}var p=c(0),v=c(1),_=c(16777216);n=s.prototype,n.m=function(){if(R(this))return-k(this).m();for(var x=0,C=1,D=0;D<this.g.length;D++){var A=this.i(D);x+=(0<=A?A:4294967296+A)*C,C*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(S(this))return"0";if(R(this))return"-"+k(this).toString(x);for(var C=u(Math.pow(x,6)),D=this,A="";;){var M=Ne(D,C).g;D=G(D,M.j(C));var O=((0<D.g.length?D.g[0]:D.h)>>>0).toString(x);if(D=M,S(D))return O+A;for(;6>O.length;)O="0"+O;A=O+A}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function S(x){if(x.h!=0)return!1;for(var C=0;C<x.g.length;C++)if(x.g[C]!=0)return!1;return!0}function R(x){return x.h==-1}n.l=function(x){return x=G(this,x),R(x)?-1:S(x)?0:1};function k(x){for(var C=x.g.length,D=[],A=0;A<C;A++)D[A]=~x.g[A];return new s(D,~x.h).add(v)}n.abs=function(){return R(this)?k(this):this},n.add=function(x){for(var C=Math.max(this.g.length,x.g.length),D=[],A=0,M=0;M<=C;M++){var O=A+(this.i(M)&65535)+(x.i(M)&65535),T=(O>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);A=T>>>16,O&=65535,T&=65535,D[M]=T<<16|O}return new s(D,D[D.length-1]&-2147483648?-1:0)};function G(x,C){return x.add(k(C))}n.j=function(x){if(S(this)||S(x))return p;if(R(this))return R(x)?k(this).j(k(x)):k(k(this).j(x));if(R(x))return k(this.j(k(x)));if(0>this.l(_)&&0>x.l(_))return u(this.m()*x.m());for(var C=this.g.length+x.g.length,D=[],A=0;A<2*C;A++)D[A]=0;for(A=0;A<this.g.length;A++)for(var M=0;M<x.g.length;M++){var O=this.i(A)>>>16,T=this.i(A)&65535,gi=x.i(M)>>>16,el=x.i(M)&65535;D[2*A+2*M]+=T*el,te(D,2*A+2*M),D[2*A+2*M+1]+=O*el,te(D,2*A+2*M+1),D[2*A+2*M+1]+=T*gi,te(D,2*A+2*M+1),D[2*A+2*M+2]+=O*gi,te(D,2*A+2*M+2)}for(A=0;A<C;A++)D[A]=D[2*A+1]<<16|D[2*A];for(A=C;A<2*C;A++)D[A]=0;return new s(D,0)};function te(x,C){for(;(x[C]&65535)!=x[C];)x[C+1]+=x[C]>>>16,x[C]&=65535,C++}function X(x,C){this.g=x,this.h=C}function Ne(x,C){if(S(C))throw Error("division by zero");if(S(x))return new X(p,p);if(R(x))return C=Ne(k(x),C),new X(k(C.g),k(C.h));if(R(C))return C=Ne(x,k(C)),new X(k(C.g),C.h);if(30<x.g.length){if(R(x)||R(C))throw Error("slowDivide_ only works with positive integers.");for(var D=v,A=C;0>=A.l(x);)D=St(D),A=St(A);var M=Ue(D,1),O=Ue(A,1);for(A=Ue(A,2),D=Ue(D,2);!S(A);){var T=O.add(A);0>=T.l(x)&&(M=M.add(D),O=T),A=Ue(A,1),D=Ue(D,1)}return C=G(x,M.j(C)),new X(M,C)}for(M=p;0<=x.l(C);){for(D=Math.max(1,Math.floor(x.m()/C.m())),A=Math.ceil(Math.log(D)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),O=u(D),T=O.j(C);R(T)||0<T.l(x);)D-=A,O=u(D),T=O.j(C);S(O)&&(O=v),M=M.add(O),x=G(x,T)}return new X(M,x)}n.A=function(x){return Ne(this,x).h},n.and=function(x){for(var C=Math.max(this.g.length,x.g.length),D=[],A=0;A<C;A++)D[A]=this.i(A)&x.i(A);return new s(D,this.h&x.h)},n.or=function(x){for(var C=Math.max(this.g.length,x.g.length),D=[],A=0;A<C;A++)D[A]=this.i(A)|x.i(A);return new s(D,this.h|x.h)},n.xor=function(x){for(var C=Math.max(this.g.length,x.g.length),D=[],A=0;A<C;A++)D[A]=this.i(A)^x.i(A);return new s(D,this.h^x.h)};function St(x){for(var C=x.g.length+1,D=[],A=0;A<C;A++)D[A]=x.i(A)<<1|x.i(A-1)>>>31;return new s(D,x.h)}function Ue(x,C){var D=C>>5;C%=32;for(var A=x.g.length-D,M=[],O=0;O<A;O++)M[O]=0<C?x.i(O+D)>>>C|x.i(O+D+1)<<32-C:x.i(O+D);return new s(M,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,xE=Fk.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Hi=Fk.Integer=s}).apply(typeof Nk<"u"?Nk:typeof self<"u"?self:typeof window<"u"?window:{});var og=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qi={};var ME,a9,gc,PE,sd,sg,RE,OE,kE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,f){return l==Array.prototype||l==Object.prototype||(l[h]=f.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof og=="object"&&og];for(var h=0;h<l.length;++h){var f=l[h];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(l,h){if(h)e:{var f=r;l=l.split(".");for(var y=0;y<l.length-1;y++){var P=l[y];if(!(P in f))break e;f=f[P]}l=l[l.length-1],y=f[l],h=h(y),h!=y&&h!=null&&e(f,l,{configurable:!0,writable:!0,value:h})}}function o(l,h){l instanceof String&&(l+="");var f=0,y=!1,P={next:function(){if(!y&&f<l.length){var N=f++;return{value:h(N,l[N]),done:!1}}return y=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}i("Array.prototype.values",function(l){return l||function(){return o(this,function(h,f){return f})}});var s=s||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,f){return l.call.apply(l.bind,arguments)}function p(l,h,f){if(!l)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,y),l.apply(h,P)}}return function(){return l.apply(h,arguments)}}function v(l,h,f){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,v.apply(null,arguments)}function _(l,h){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function S(l,h){function f(){}f.prototype=h.prototype,l.aa=h.prototype,l.prototype=new f,l.prototype.constructor=l,l.Qb=function(y,P,N){for(var q=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)q[Ze-2]=arguments[Ze];return h.prototype[P].apply(y,q)}}function R(l){let h=l.length;if(0<h){let f=Array(h);for(let y=0;y<h;y++)f[y]=l[y];return f}return[]}function k(l,h){for(let f=1;f<arguments.length;f++){let y=arguments[f];if(c(y)){let P=l.length||0,N=y.length||0;l.length=P+N;for(let q=0;q<N;q++)l[P+q]=y[q]}else l.push(y)}}class G{constructor(h,f){this.i=h,this.j=f,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function te(l){return/^[\s\xa0]*$/.test(l)}function X(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function Ne(l){return Ne[" "](l),l}Ne[" "]=function(){};var St=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function Ue(l,h,f){for(let y in l)h.call(f,l[y],y,l)}function x(l,h){for(let f in l)h.call(void 0,l[f],f,l)}function C(l){let h={};for(let f in l)h[f]=l[f];return h}let D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(l,h){let f,y;for(let P=1;P<arguments.length;P++){y=arguments[P];for(f in y)l[f]=y[f];for(let N=0;N<D.length;N++)f=D[N],Object.prototype.hasOwnProperty.call(y,f)&&(l[f]=y[f])}}function M(l){var h=1;l=l.split(":");let f=[];for(;0<h&&l.length;)f.push(l.shift()),h--;return l.length&&f.push(l.join(":")),f}function O(l){a.setTimeout(()=>{throw l},0)}function T(){var l=Hv;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class gi{constructor(){this.h=this.g=null}add(h,f){let y=el.get();y.set(h,f),this.h?this.h.next=y:this.g=y,this.h=y}}var el=new G(()=>new kL,l=>l.reset());class kL{constructor(){this.next=this.g=this.h=null}set(h,f){this.h=h,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let tl,nl=!1,Hv=new gi,LT=()=>{let l=a.Promise.resolve(void 0);tl=()=>{l.then(NL)}};var NL=()=>{for(var l;l=T();){try{l.h.call(l.g)}catch(f){O(f)}var h=el;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}nl=!1};function to(){this.s=this.s,this.C=this.C}to.prototype.s=!1,to.prototype.ma=function(){this.s||(this.s=!0,this.N())},to.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rn(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}rn.prototype.h=function(){this.defaultPrevented=!0};var FL=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let f=()=>{};a.addEventListener("test",f,h),a.removeEventListener("test",f,h)}catch{}return l}();function rl(l,h){if(rn.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var f=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(St){e:{try{Ne(h.nodeName);var P=!0;break e}catch{}P=!1}P||(h=null)}}else f=="mouseover"?h=l.fromElement:f=="mouseout"&&(h=l.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:LL[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&rl.aa.h.call(this)}}S(rl,rn);var LL={2:"touch",3:"pen",4:"mouse"};rl.prototype.h=function(){rl.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var il="closure_listenable_"+(1e6*Math.random()|0),VL=0;function jL(l,h,f,y,P){this.listener=l,this.proxy=null,this.src=h,this.type=f,this.capture=!!y,this.ha=P,this.key=++VL,this.da=this.fa=!1}function eh(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function th(l){this.src=l,this.g={},this.h=0}th.prototype.add=function(l,h,f,y,P){var N=l.toString();l=this.g[N],l||(l=this.g[N]=[],this.h++);var q=Wv(l,h,y,P);return-1<q?(h=l[q],f||(h.fa=!1)):(h=new jL(h,this.src,N,!!y,P),h.fa=f,l.push(h)),h};function qv(l,h){var f=h.type;if(f in l.g){var y=l.g[f],P=Array.prototype.indexOf.call(y,h,void 0),N;(N=0<=P)&&Array.prototype.splice.call(y,P,1),N&&(eh(h),l.g[f].length==0&&(delete l.g[f],l.h--))}}function Wv(l,h,f,y){for(var P=0;P<l.length;++P){var N=l[P];if(!N.da&&N.listener==h&&N.capture==!!f&&N.ha==y)return P}return-1}var Gv="closure_lm_"+(1e6*Math.random()|0),Kv={};function VT(l,h,f,y,P){if(y&&y.once)return BT(l,h,f,y,P);if(Array.isArray(h)){for(var N=0;N<h.length;N++)VT(l,h[N],f,y,P);return null}return f=Xv(f),l&&l[il]?l.K(h,f,u(y)?!!y.capture:!!y,P):jT(l,h,f,!1,y,P)}function jT(l,h,f,y,P,N){if(!h)throw Error("Invalid event type");var q=u(P)?!!P.capture:!!P,Ze=Qv(l);if(Ze||(l[Gv]=Ze=new th(l)),f=Ze.add(h,f,y,q,N),f.proxy)return f;if(y=BL(),f.proxy=y,y.src=l,y.listener=f,l.addEventListener)FL||(P=q),P===void 0&&(P=!1),l.addEventListener(h.toString(),y,P);else if(l.attachEvent)l.attachEvent($T(h.toString()),y);else if(l.addListener&&l.removeListener)l.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function BL(){function l(f){return h.call(l.src,l.listener,f)}let h=UL;return l}function BT(l,h,f,y,P){if(Array.isArray(h)){for(var N=0;N<h.length;N++)BT(l,h[N],f,y,P);return null}return f=Xv(f),l&&l[il]?l.L(h,f,u(y)?!!y.capture:!!y,P):jT(l,h,f,!0,y,P)}function UT(l,h,f,y,P){if(Array.isArray(h))for(var N=0;N<h.length;N++)UT(l,h[N],f,y,P);else y=u(y)?!!y.capture:!!y,f=Xv(f),l&&l[il]?(l=l.i,h=String(h).toString(),h in l.g&&(N=l.g[h],f=Wv(N,f,y,P),-1<f&&(eh(N[f]),Array.prototype.splice.call(N,f,1),N.length==0&&(delete l.g[h],l.h--)))):l&&(l=Qv(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Wv(h,f,y,P)),(f=-1<l?h[l]:null)&&Yv(f))}function Yv(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[il])qv(h.i,l);else{var f=l.type,y=l.proxy;h.removeEventListener?h.removeEventListener(f,y,l.capture):h.detachEvent?h.detachEvent($T(f),y):h.addListener&&h.removeListener&&h.removeListener(y),(f=Qv(h))?(qv(f,l),f.h==0&&(f.src=null,h[Gv]=null)):eh(l)}}}function $T(l){return l in Kv?Kv[l]:Kv[l]="on"+l}function UL(l,h){if(l.da)l=!0;else{h=new rl(h,this);var f=l.listener,y=l.ha||l.src;l.fa&&Yv(l),l=f.call(y,h)}return l}function Qv(l){return l=l[Gv],l instanceof th?l:null}var Zv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xv(l){return typeof l=="function"?l:(l[Zv]||(l[Zv]=function(h){return l.handleEvent(h)}),l[Zv])}function on(){to.call(this),this.i=new th(this),this.M=this,this.F=null}S(on,to),on.prototype[il]=!0,on.prototype.removeEventListener=function(l,h,f,y){UT(this,l,h,f,y)};function pn(l,h){var f,y=l.F;if(y)for(f=[];y;y=y.F)f.push(y);if(l=l.M,y=h.type||h,typeof h=="string")h=new rn(h,l);else if(h instanceof rn)h.target=h.target||l;else{var P=h;h=new rn(y,l),A(h,P)}if(P=!0,f)for(var N=f.length-1;0<=N;N--){var q=h.g=f[N];P=nh(q,y,!0,h)&&P}if(q=h.g=l,P=nh(q,y,!0,h)&&P,P=nh(q,y,!1,h)&&P,f)for(N=0;N<f.length;N++)q=h.g=f[N],P=nh(q,y,!1,h)&&P}on.prototype.N=function(){if(on.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var f=l.g[h],y=0;y<f.length;y++)eh(f[y]);delete l.g[h],l.h--}}this.F=null},on.prototype.K=function(l,h,f,y){return this.i.add(String(l),h,!1,f,y)},on.prototype.L=function(l,h,f,y){return this.i.add(String(l),h,!0,f,y)};function nh(l,h,f,y){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var P=!0,N=0;N<h.length;++N){var q=h[N];if(q&&!q.da&&q.capture==f){var Ze=q.listener,Yt=q.ha||q.src;q.fa&&qv(l.i,q),P=Ze.call(Yt,y)!==!1&&P}}return P&&!y.defaultPrevented}function zT(l,h,f){if(typeof l=="function")f&&(l=v(l,f));else if(l&&typeof l.handleEvent=="function")l=v(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function HT(l){l.g=zT(()=>{l.g=null,l.i&&(l.i=!1,HT(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class $L extends to{constructor(h,f){super(),this.m=h,this.l=f,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:HT(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ol(l){to.call(this),this.h=l,this.g={}}S(ol,to);var qT=[];function WT(l){Ue(l.g,function(h,f){this.g.hasOwnProperty(f)&&Yv(h)},l),l.g={}}ol.prototype.N=function(){ol.aa.N.call(this),WT(this)},ol.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jv=a.JSON.stringify,zL=a.JSON.parse,HL=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function e_(){}e_.prototype.h=null;function GT(l){return l.h||(l.h=l.i())}function KT(){}var sl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function t_(){rn.call(this,"d")}S(t_,rn);function n_(){rn.call(this,"c")}S(n_,rn);var Uo={},YT=null;function rh(){return YT=YT||new on}Uo.La="serverreachability";function QT(l){rn.call(this,Uo.La,l)}S(QT,rn);function al(l){let h=rh();pn(h,new QT(h))}Uo.STAT_EVENT="statevent";function ZT(l,h){rn.call(this,Uo.STAT_EVENT,l),this.stat=h}S(ZT,rn);function mn(l){let h=rh();pn(h,new ZT(h,l))}Uo.Ma="timingevent";function XT(l,h){rn.call(this,Uo.Ma,l),this.size=h}S(XT,rn);function cl(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function ll(){this.g=!0}ll.prototype.xa=function(){this.g=!1};function qL(l,h,f,y,P,N){l.info(function(){if(l.g)if(N)for(var q="",Ze=N.split("&"),Yt=0;Yt<Ze.length;Yt++){var je=Ze[Yt].split("=");if(1<je.length){var sn=je[0];je=je[1];var an=sn.split("_");q=2<=an.length&&an[1]=="type"?q+(sn+"="+je+"&"):q+(sn+"=redacted&")}}else q=null;else q=N;return"XMLHTTP REQ ("+y+") [attempt "+P+"]: "+h+`
`+f+`
`+q})}function WL(l,h,f,y,P,N,q){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+P+"]: "+h+`
`+f+`
`+N+" "+q})}function ca(l,h,f,y){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+KL(l,f)+(y?" "+y:"")})}function GL(l,h){l.info(function(){return"TIMEOUT: "+h})}ll.prototype.info=function(){};function KL(l,h){if(!l.g)return h;if(!h)return null;try{var f=JSON.parse(h);if(f){for(l=0;l<f.length;l++)if(Array.isArray(f[l])){var y=f[l];if(!(2>y.length)){var P=y[1];if(Array.isArray(P)&&!(1>P.length)){var N=P[0];if(N!="noop"&&N!="stop"&&N!="close")for(var q=1;q<P.length;q++)P[q]=""}}}}return Jv(f)}catch{return h}}var ih={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},JT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},r_;function oh(){}S(oh,e_),oh.prototype.g=function(){return new XMLHttpRequest},oh.prototype.i=function(){return{}},r_=new oh;function no(l,h,f,y){this.j=l,this.i=h,this.l=f,this.R=y||1,this.U=new ol(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new eD}function eD(){this.i=null,this.g="",this.h=!1}var tD={},i_={};function o_(l,h,f){l.L=1,l.v=lh(vi(h)),l.m=f,l.P=!0,nD(l,null)}function nD(l,h){l.F=Date.now(),sh(l),l.A=vi(l.v);var f=l.A,y=l.R;Array.isArray(y)||(y=[String(y)]),gD(f.i,"t",y),l.C=0,f=l.j.J,l.h=new eD,l.g=kD(l.j,f?h:null,!l.m),0<l.O&&(l.M=new $L(v(l.Y,l,l.g),l.O)),h=l.U,f=l.g,y=l.ca;var P="readystatechange";Array.isArray(P)||(P&&(qT[0]=P.toString()),P=qT);for(var N=0;N<P.length;N++){var q=VT(f,P[N],y||h.handleEvent,!1,h.h||h);if(!q)break;h.g[q.key]=q}h=l.H?C(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),al(),qL(l.i,l.u,l.A,l.l,l.R,l.m)}no.prototype.ca=function(l){l=l.target;let h=this.M;h&&_i(l)==3?h.j():this.Y(l)},no.prototype.Y=function(l){try{if(l==this.g)e:{let an=_i(this.g);var h=this.g.Ba();let da=this.g.Z();if(!(3>an)&&(an!=3||this.g&&(this.h.h||this.g.oa()||CD(this.g)))){this.J||an!=4||h==7||(h==8||0>=da?al(3):al(2)),s_(this);var f=this.g.Z();this.X=f;t:if(rD(this)){var y=CD(this.g);l="";var P=y.length,N=_i(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$o(this),ul(this);var q="";break t}this.h.i=new a.TextDecoder}for(h=0;h<P;h++)this.h.h=!0,l+=this.h.i.decode(y[h],{stream:!(N&&h==P-1)});y.length=0,this.h.g+=l,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=f==200,WL(this.i,this.u,this.A,this.l,this.R,an,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Yt=this.g;if((Ze=Yt.g?Yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(Ze)){var je=Ze;break t}}je=null}if(f=je)ca(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,a_(this,f);else{this.o=!1,this.s=3,mn(12),$o(this),ul(this);break e}}if(this.P){f=!0;let mr;for(;!this.J&&this.C<q.length;)if(mr=YL(this,q),mr==i_){an==4&&(this.s=4,mn(14),f=!1),ca(this.i,this.l,null,"[Incomplete Response]");break}else if(mr==tD){this.s=4,mn(15),ca(this.i,this.l,q,"[Invalid Chunk]"),f=!1;break}else ca(this.i,this.l,mr,null),a_(this,mr);if(rD(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),an!=4||q.length!=0||this.h.h||(this.s=1,mn(16),f=!1),this.o=this.o&&f,!f)ca(this.i,this.l,q,"[Invalid Chunked Response]"),$o(this),ul(this);else if(0<q.length&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.ba&&!sn.M&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),f_(sn),sn.M=!0,mn(11))}}else ca(this.i,this.l,q,null),a_(this,q);an==4&&$o(this),this.o&&!this.J&&(an==4?MD(this.j,this):(this.o=!1,sh(this)))}else hV(this.g),f==400&&0<q.indexOf("Unknown SID")?(this.s=3,mn(12)):(this.s=0,mn(13)),$o(this),ul(this)}}}catch{}finally{}};function rD(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function YL(l,h){var f=l.C,y=h.indexOf(`
`,f);return y==-1?i_:(f=Number(h.substring(f,y)),isNaN(f)?tD:(y+=1,y+f>h.length?i_:(h=h.slice(y,y+f),l.C=y+f,h)))}no.prototype.cancel=function(){this.J=!0,$o(this)};function sh(l){l.S=Date.now()+l.I,iD(l,l.I)}function iD(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=cl(v(l.ba,l),h)}function s_(l){l.B&&(a.clearTimeout(l.B),l.B=null)}no.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(GL(this.i,this.A),this.L!=2&&(al(),mn(17)),$o(this),this.s=2,ul(this)):iD(this,this.S-l)};function ul(l){l.j.G==0||l.J||MD(l.j,l)}function $o(l){s_(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,WT(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function a_(l,h){try{var f=l.j;if(f.G!=0&&(f.g==l||c_(f.h,l))){if(!l.K&&c_(f.h,l)&&f.G==3){try{var y=f.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var P=y;if(P[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<l.F)ph(f),hh(f);else break e;h_(f),mn(18)}}else f.za=P[1],0<f.za-f.T&&37500>P[2]&&f.F&&f.v==0&&!f.C&&(f.C=cl(v(f.Za,f),6e3));if(1>=aD(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ho(f,11)}else if((l.K||f.g==l)&&ph(f),!te(h))for(P=f.Da.g.parse(h),h=0;h<P.length;h++){let je=P[h];if(f.T=je[0],je=je[1],f.G==2)if(je[0]=="c"){f.K=je[1],f.ia=je[2];let sn=je[3];sn!=null&&(f.la=sn,f.j.info("VER="+f.la));let an=je[4];an!=null&&(f.Aa=an,f.j.info("SVER="+f.Aa));let da=je[5];da!=null&&typeof da=="number"&&0<da&&(y=1.5*da,f.L=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;let mr=l.g;if(mr){let gh=mr.g?mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gh){var N=y.h;N.g||gh.indexOf("spdy")==-1&&gh.indexOf("quic")==-1&&gh.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(l_(N,N.h),N.h=null))}if(y.D){let p_=mr.g?mr.g.getResponseHeader("X-HTTP-Session-Id"):null;p_&&(y.ya=p_,ct(y.I,y.D,p_))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-l.F,f.j.info("Handshake RTT: "+f.R+"ms")),y=f;var q=l;if(y.qa=OD(y,y.J?y.ia:null,y.W),q.K){cD(y.h,q);var Ze=q,Yt=y.L;Yt&&(Ze.I=Yt),Ze.B&&(s_(Ze),sh(Ze)),y.g=q}else AD(y);0<f.i.length&&fh(f)}else je[0]!="stop"&&je[0]!="close"||Ho(f,7);else f.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Ho(f,7):d_(f):je[0]!="noop"&&f.l&&f.l.ta(je),f.v=0)}}al(4)}catch{}}var QL=class{constructor(l,h){this.g=l,this.map=h}};function oD(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sD(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function aD(l){return l.h?1:l.g?l.g.size:0}function c_(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function l_(l,h){l.g?l.g.add(h):l.h=h}function cD(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}oD.prototype.cancel=function(){if(this.i=lD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function lD(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let f of l.g.values())h=h.concat(f.D);return h}return R(l.i)}function ZL(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],f=l.length,y=0;y<f;y++)h.push(l[y]);return h}h=[],f=0;for(y in l)h[f++]=l[y];return h}function XL(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var f=0;f<l;f++)h.push(f);return h}h=[],f=0;for(let y in l)h[f++]=y;return h}}}function uD(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var f=XL(l),y=ZL(l),P=y.length,N=0;N<P;N++)h.call(void 0,y[N],f&&f[N],l)}var dD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function JL(l,h){if(l){l=l.split("&");for(var f=0;f<l.length;f++){var y=l[f].indexOf("="),P=null;if(0<=y){var N=l[f].substring(0,y);P=l[f].substring(y+1)}else N=l[f];h(N,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function zo(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof zo){this.h=l.h,ah(this,l.j),this.o=l.o,this.g=l.g,ch(this,l.s),this.l=l.l;var h=l.i,f=new fl;f.i=h.i,h.g&&(f.g=new Map(h.g),f.h=h.h),hD(this,f),this.m=l.m}else l&&(h=String(l).match(dD))?(this.h=!1,ah(this,h[1]||"",!0),this.o=dl(h[2]||""),this.g=dl(h[3]||"",!0),ch(this,h[4]),this.l=dl(h[5]||"",!0),hD(this,h[6]||"",!0),this.m=dl(h[7]||"")):(this.h=!1,this.i=new fl(null,this.h))}zo.prototype.toString=function(){var l=[],h=this.j;h&&l.push(hl(h,fD,!0),":");var f=this.g;return(f||h=="file")&&(l.push("//"),(h=this.o)&&l.push(hl(h,fD,!0),"@"),l.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&l.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&l.push("/"),l.push(hl(f,f.charAt(0)=="/"?nV:tV,!0))),(f=this.i.toString())&&l.push("?",f),(f=this.m)&&l.push("#",hl(f,iV)),l.join("")};function vi(l){return new zo(l)}function ah(l,h,f){l.j=f?dl(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function ch(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function hD(l,h,f){h instanceof fl?(l.i=h,oV(l.i,l.h)):(f||(h=hl(h,rV)),l.i=new fl(h,l.h))}function ct(l,h,f){l.i.set(h,f)}function lh(l){return ct(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function dl(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function hl(l,h,f){return typeof l=="string"?(l=encodeURI(l).replace(h,eV),f&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function eV(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var fD=/[#\/\?@]/g,tV=/[#\?:]/g,nV=/[#\?]/g,rV=/[#\?@]/g,iV=/#/g;function fl(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function ro(l){l.g||(l.g=new Map,l.h=0,l.i&&JL(l.i,function(h,f){l.add(decodeURIComponent(h.replace(/\+/g," ")),f)}))}n=fl.prototype,n.add=function(l,h){ro(this),this.i=null,l=la(this,l);var f=this.g.get(l);return f||this.g.set(l,f=[]),f.push(h),this.h+=1,this};function pD(l,h){ro(l),h=la(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function mD(l,h){return ro(l),h=la(l,h),l.g.has(h)}n.forEach=function(l,h){ro(this),this.g.forEach(function(f,y){f.forEach(function(P){l.call(h,P,y,this)},this)},this)},n.na=function(){ro(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),f=[];for(let y=0;y<h.length;y++){let P=l[y];for(let N=0;N<P.length;N++)f.push(h[y])}return f},n.V=function(l){ro(this);let h=[];if(typeof l=="string")mD(this,l)&&(h=h.concat(this.g.get(la(this,l))));else{l=Array.from(this.g.values());for(let f=0;f<l.length;f++)h=h.concat(l[f])}return h},n.set=function(l,h){return ro(this),this.i=null,l=la(this,l),mD(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},n.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function gD(l,h,f){pD(l,h),0<f.length&&(l.i=null,l.g.set(la(l,h),R(f)),l.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var f=0;f<h.length;f++){var y=h[f];let N=encodeURIComponent(String(y)),q=this.V(y);for(y=0;y<q.length;y++){var P=N;q[y]!==""&&(P+="="+encodeURIComponent(String(q[y]))),l.push(P)}}return this.i=l.join("&")};function la(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function oV(l,h){h&&!l.j&&(ro(l),l.i=null,l.g.forEach(function(f,y){var P=y.toLowerCase();y!=P&&(pD(this,y),gD(this,P,f))},l)),l.j=h}function sV(l,h){let f=new ll;if(a.Image){let y=new Image;y.onload=_(io,f,"TestLoadImage: loaded",!0,h,y),y.onerror=_(io,f,"TestLoadImage: error",!1,h,y),y.onabort=_(io,f,"TestLoadImage: abort",!1,h,y),y.ontimeout=_(io,f,"TestLoadImage: timeout",!1,h,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else h(!1)}function aV(l,h){let f=new ll,y=new AbortController,P=setTimeout(()=>{y.abort(),io(f,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:y.signal}).then(N=>{clearTimeout(P),N.ok?io(f,"TestPingServer: ok",!0,h):io(f,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(P),io(f,"TestPingServer: error",!1,h)})}function io(l,h,f,y,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),y(f)}catch{}}function cV(){this.g=new HL}function lV(l,h,f){let y=f||"";try{uD(l,function(P,N){let q=P;u(P)&&(q=Jv(P)),h.push(y+N+"="+encodeURIComponent(q))})}catch(P){throw h.push(y+"type="+encodeURIComponent("_badmap")),P}}function pl(l){this.l=l.Ub||null,this.j=l.eb||!1}S(pl,e_),pl.prototype.g=function(){return new uh(this.l,this.j)},pl.prototype.i=function(l){return function(){return l}}({});function uh(l,h){on.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(uh,on),n=uh.prototype,n.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,gl(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ml(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,gl(this)),this.g&&(this.readyState=3,gl(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vD(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function vD(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?ml(this):gl(this),this.readyState==3&&vD(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,ml(this))},n.Qa=function(l){this.g&&(this.response=l,ml(this))},n.ga=function(){this.g&&ml(this)};function ml(l){l.readyState=4,l.l=null,l.j=null,l.v=null,gl(l)}n.setRequestHeader=function(l,h){this.u.append(l,h)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var f=h.next();!f.done;)f=f.value,l.push(f[0]+": "+f[1]),f=h.next();return l.join(`\r
`)};function gl(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(uh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function _D(l){let h="";return Ue(l,function(f,y){h+=y,h+=":",h+=f,h+=`\r
`}),h}function u_(l,h,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=_D(f),typeof l=="string"?f!=null&&encodeURIComponent(String(f)):ct(l,h,f))}function _t(l){on.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(_t,on);var uV=/^https?$/i,dV=["POST","PUT"];n=_t.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,h,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():r_.g(),this.v=this.o?GT(this.o):GT(r_),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(N){yD(this,N);return}if(l=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var P in y)f.set(P,y[P]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let N of y.keys())f.set(N,y.get(N));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),P=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(dV,h,void 0))||y||P||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,q]of f)this.g.setRequestHeader(N,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ED(this),this.u=!0,this.g.send(l),this.u=!1}catch(N){yD(this,N)}};function yD(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,bD(l),dh(l)}function bD(l){l.A||(l.A=!0,pn(l,"complete"),pn(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,pn(this,"complete"),pn(this,"abort"),dh(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dh(this,!0)),_t.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?wD(this):this.bb())},n.bb=function(){wD(this)};function wD(l){if(l.h&&typeof s<"u"&&(!l.v[1]||_i(l)!=4||l.Z()!=2)){if(l.u&&_i(l)==4)zT(l.Ea,0,l);else if(pn(l,"readystatechange"),_i(l)==4){l.h=!1;try{let q=l.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var f;if(!(f=h)){var y;if(y=q===0){var P=String(l.D).match(dD)[1]||null;!P&&a.self&&a.self.location&&(P=a.self.location.protocol.slice(0,-1)),y=!uV.test(P?P.toLowerCase():"")}f=y}if(f)pn(l,"complete"),pn(l,"success");else{l.m=6;try{var N=2<_i(l)?l.g.statusText:""}catch{N=""}l.l=N+" ["+l.Z()+"]",bD(l)}}finally{dh(l)}}}}function dh(l,h){if(l.g){ED(l);let f=l.g,y=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||pn(l,"ready");try{f.onreadystatechange=y}catch{}}}function ED(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function _i(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<_i(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),zL(h)}};function CD(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function hV(l){let h={};l=(l.g&&2<=_i(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<l.length;y++){if(te(l[y]))continue;var f=M(l[y]);let P=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let N=h[P]||[];h[P]=N,N.push(f)}x(h,function(y){return y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vl(l,h,f){return f&&f.internalChannelParams&&f.internalChannelParams[l]||h}function ID(l){this.Aa=0,this.i=[],this.j=new ll,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vl("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vl("baseRetryDelayMs",5e3,l),this.cb=vl("retryDelaySeedMs",1e4,l),this.Wa=vl("forwardChannelMaxRetries",2,l),this.wa=vl("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new oD(l&&l.concurrentRequestLimit),this.Da=new cV,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ID.prototype,n.la=8,n.G=1,n.connect=function(l,h,f,y){mn(0),this.W=l,this.H=h||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.I=OD(this,null,this.W),fh(this)};function d_(l){if(TD(l),l.G==3){var h=l.U++,f=vi(l.I);if(ct(f,"SID",l.K),ct(f,"RID",h),ct(f,"TYPE","terminate"),_l(l,f),h=new no(l,l.j,h),h.L=2,h.v=lh(vi(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=h.v,f=!0),f||(h.g=kD(h.j,null),h.g.ea(h.v)),h.F=Date.now(),sh(h)}RD(l)}function hh(l){l.g&&(f_(l),l.g.cancel(),l.g=null)}function TD(l){hh(l),l.u&&(a.clearTimeout(l.u),l.u=null),ph(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function fh(l){if(!sD(l.h)&&!l.s){l.s=!0;var h=l.Ga;tl||LT(),nl||(tl(),nl=!0),Hv.add(h,l),l.B=0}}function fV(l,h){return aD(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=cl(v(l.Ga,l,h),PD(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let P=new no(this,this.j,l),N=this.o;if(this.S&&(N?(N=C(N),A(N,this.S)):N=this.S),this.m!==null||this.O||(P.H=N,N=null),this.P)e:{for(var h=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=f;break e}if(h===4096||f===this.i.length-1){h=f+1;break e}}h=1e3}else h=1e3;h=SD(this,P,h),f=vi(this.I),ct(f,"RID",l),ct(f,"CVER",22),this.D&&ct(f,"X-HTTP-Session-Id",this.D),_l(this,f),N&&(this.O?h="headers="+encodeURIComponent(String(_D(N)))+"&"+h:this.m&&u_(f,this.m,N)),l_(this.h,P),this.Ua&&ct(f,"TYPE","init"),this.P?(ct(f,"$req",h),ct(f,"SID","null"),P.T=!0,o_(P,f,null)):o_(P,f,h),this.G=2}}else this.G==3&&(l?DD(this,l):this.i.length==0||sD(this.h)||DD(this))};function DD(l,h){var f;h?f=h.l:f=l.U++;let y=vi(l.I);ct(y,"SID",l.K),ct(y,"RID",f),ct(y,"AID",l.T),_l(l,y),l.m&&l.o&&u_(y,l.m,l.o),f=new no(l,l.j,f,l.B+1),l.m===null&&(f.H=l.o),h&&(l.i=h.D.concat(l.i)),h=SD(l,f,1e3),f.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),l_(l.h,f),o_(f,y,h)}function _l(l,h){l.H&&Ue(l.H,function(f,y){ct(h,y,f)}),l.l&&uD({},function(f,y){ct(h,y,f)})}function SD(l,h,f){f=Math.min(l.i.length,f);var y=l.l?v(l.l.Na,l.l,l):null;e:{var P=l.i;let N=-1;for(;;){let q=["count="+f];N==-1?0<f?(N=P[0].g,q.push("ofs="+N)):N=0:q.push("ofs="+N);let Ze=!0;for(let Yt=0;Yt<f;Yt++){let je=P[Yt].g,sn=P[Yt].map;if(je-=N,0>je)N=Math.max(0,P[Yt].g-100),Ze=!1;else try{lV(sn,q,"req"+je+"_")}catch{y&&y(sn)}}if(Ze){y=q.join("&");break e}}}return l=l.i.splice(0,f),h.D=l,y}function AD(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;tl||LT(),nl||(tl(),nl=!0),Hv.add(h,l),l.v=0}}function h_(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=cl(v(l.Fa,l),PD(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,xD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=cl(v(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mn(10),hh(this),xD(this))};function f_(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function xD(l){l.g=new no(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=vi(l.qa);ct(h,"RID","rpc"),ct(h,"SID",l.K),ct(h,"AID",l.T),ct(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&ct(h,"TO",l.ja),ct(h,"TYPE","xmlhttp"),_l(l,h),l.m&&l.o&&u_(h,l.m,l.o),l.L&&(l.g.I=l.L);var f=l.g;l=l.ia,f.L=1,f.v=lh(vi(h)),f.m=null,f.P=!0,nD(f,l)}n.Za=function(){this.C!=null&&(this.C=null,hh(this),h_(this),mn(19))};function ph(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function MD(l,h){var f=null;if(l.g==h){ph(l),f_(l),l.g=null;var y=2}else if(c_(l.h,h))f=h.D,cD(l.h,h),y=1;else return;if(l.G!=0){if(h.o)if(y==1){f=h.m?h.m.length:0,h=Date.now()-h.F;var P=l.B;y=rh(),pn(y,new XT(y,f)),fh(l)}else AD(l);else if(P=h.s,P==3||P==0&&0<h.X||!(y==1&&fV(l,h)||y==2&&h_(l)))switch(f&&0<f.length&&(h=l.h,h.i=h.i.concat(f)),P){case 1:Ho(l,5);break;case 4:Ho(l,10);break;case 3:Ho(l,6);break;default:Ho(l,2)}}}function PD(l,h){let f=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(f*=2),f*h}function Ho(l,h){if(l.j.info("Error code "+h),h==2){var f=v(l.fb,l),y=l.Xa;let P=!y;y=new zo(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ah(y,"https"),lh(y),P?sV(y.toString(),f):aV(y.toString(),f)}else mn(2);l.G=0,l.l&&l.l.sa(h),RD(l),TD(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),mn(2)):(this.j.info("Failed to ping google.com"),mn(1))};function RD(l){if(l.G=0,l.ka=[],l.l){let h=lD(l.h);(h.length!=0||l.i.length!=0)&&(k(l.ka,h),k(l.ka,l.i),l.h.i.length=0,R(l.i),l.i.length=0),l.l.ra()}}function OD(l,h,f){var y=f instanceof zo?vi(f):new zo(f);if(y.g!="")h&&(y.g=h+"."+y.g),ch(y,y.s);else{var P=a.location;y=P.protocol,h=h?h+"."+P.hostname:P.hostname,P=+P.port;var N=new zo(null);y&&ah(N,y),h&&(N.g=h),P&&ch(N,P),f&&(N.l=f),y=N}return f=l.D,h=l.ya,f&&h&&ct(y,f,h),ct(y,"VER",l.la),_l(l,y),y}function kD(l,h,f){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new _t(new pl({eb:f})):new _t(l.pa),h.Ha(l.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ND(){}n=ND.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function mh(){}mh.prototype.g=function(l,h){return new Bn(l,h)};function Bn(l,h){on.call(this),this.g=new ID(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!te(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!te(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new ua(this)}S(Bn,on),Bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bn.prototype.close=function(){d_(this.g)},Bn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var f={};f.__data__=l,l=f}else this.u&&(f={},f.__data__=Jv(l),l=f);h.i.push(new QL(h.Ya++,l)),h.G==3&&fh(h)},Bn.prototype.N=function(){this.g.l=null,delete this.j,d_(this.g),delete this.g,Bn.aa.N.call(this)};function FD(l){t_.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let f in h){l=f;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}S(FD,t_);function LD(){n_.call(this),this.status=1}S(LD,n_);function ua(l){this.g=l}S(ua,ND),ua.prototype.ua=function(){pn(this.g,"a")},ua.prototype.ta=function(l){pn(this.g,new FD(l))},ua.prototype.sa=function(l){pn(this.g,new LD)},ua.prototype.ra=function(){pn(this.g,"b")},mh.prototype.createWebChannel=mh.prototype.g,Bn.prototype.send=Bn.prototype.o,Bn.prototype.open=Bn.prototype.m,Bn.prototype.close=Bn.prototype.close,kE=qi.createWebChannelTransport=function(){return new mh},OE=qi.getStatEventTarget=function(){return rh()},RE=qi.Event=Uo,sg=qi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ih.NO_ERROR=0,ih.TIMEOUT=8,ih.HTTP_ERROR=6,sd=qi.ErrorCode=ih,JT.COMPLETE="complete",PE=qi.EventType=JT,KT.EventType=sl,sl.OPEN="a",sl.CLOSE="b",sl.ERROR="c",sl.MESSAGE="d",on.prototype.listen=on.prototype.K,gc=qi.WebChannel=KT,a9=qi.FetchXmlHttpFactory=pl,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,ME=qi.XhrIo=_t}).apply(typeof og<"u"?og:typeof self<"u"?self:typeof window<"u"?window:{});var Lk="@firebase/firestore",Vk="4.7.16";var Wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");var Fc="11.8.1";var qs=new ti("@firebase/firestore");function vc(){return qs.logLevel}function Z(n,...e){if(qs.logLevel<=Oe.DEBUG){let t=e.map(II);qs.debug(`Firestore (${Fc}): ${n}`,...t)}}function Wi(n,...e){if(qs.logLevel<=Oe.ERROR){let t=e.map(II);qs.error(`Firestore (${Fc}): ${n}`,...t)}}function Cc(n,...e){if(qs.logLevel<=Oe.WARN){let t=e.map(II);qs.warn(`Firestore (${Fc}): ${n}`,...t)}}function II(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function le(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,T1(n,r,t)}function T1(n,e,t){let r=`FIRESTORE (${Fc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Wi(r),new Error(r)}function We(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||T1(e,i,r)}function ve(n,e){return n}var $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},se=class extends Gn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ai=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var fg=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},jE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wt.UNAUTHENTICATED))}shutdown(){}},BE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},UE=class{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ai,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>w(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ai)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string",31837,{l:r}),new fg(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}},$E=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},zE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new $E(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},pg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},HE=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){We(this.o===void 0,3512);let r=o=>{o.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,Z("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new pg(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new pg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function c9(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function D1(){return new TextEncoder}var mg=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=c9(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function xe(n,e){return n<e?-1:n>e?1:0}function qE(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return xe(r,i);{let o=D1(),s=l9(o.encode(jk(n,t)),o.encode(jk(e,t)));return s!==0?s:xe(r,i)}}t+=r>65535?2:1}return xe(n.length,e.length)}function jk(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function l9(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return xe(n[t],e[t]);return xe(n.length,e.length)}function Ic(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Bk=-62135596800,Uk=1e6,nn=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Uk);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new se($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new se($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Bk)throw new se($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uk}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-Bk;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var be=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new nn(0,0))}static max(){return new n(new nn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var $k="__name__",gg=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&le(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&le(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return xe(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):qE(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hi.fromString(e.substring(4,e.length-2))}},Nt=class n extends gg{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new se($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},u9=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Kn=class n extends gg{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return u9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$k}static keyField(){return new n([$k])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new se($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new se($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new se($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new se($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ue=class n{constructor(e){this.path=e}static fromPath(e){return new n(Nt.fromString(e))}static fromName(e){return new n(Nt.fromString(e).popFirst(5))}static empty(){return new n(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Nt(e.slice()))}};var hd=-1,WE=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};WE.UNKNOWN_ID=-1;function d9(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=be.fromTimestamp(r===1e9?new nn(t+1,0):new nn(t,r));return new Ws(i,ue.empty(),e)}function h9(n){return new Ws(n.readTime,n.key,hd)}var Ws=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(be.min(),ue.empty(),hd)}static max(){return new n(be.max(),ue.empty(),hd)}};function f9(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ue.comparator(n.documentKey,e.documentKey),t!==0?t:xe(n.largestBatchId,e.largestBatchId))}var p9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",GE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Lc(n){return w(this,null,function*(){if(n.code!==$.FAILED_PRECONDITION||n.message!==p9)throw n;Z("LocalStore","Unexpectedly lost primary lease")})}var B=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;t(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function m9(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Vc(n){return n.name==="IndexedDbTransactionError"}var TI=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),DI=-1;function Wg(n){return n==null}function fd(n){return n===0&&1/n==-1/0}function g9(n){return typeof n=="number"&&Number.isInteger(n)&&!fd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var S1="";function v9(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=zk(e)),e=_9(n.get(t),e);return zk(e)}function _9(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case S1:t+="";break;default:t+=o}}return t}function zk(n){return n+S1+""}var y9="remoteDocuments",A1="owner";var x1="mutationQueues";var M1="mutations";var P1="documentMutations",b9="remoteDocumentsV14";var R1="remoteDocumentGlobal";var O1="targets";var k1="targetDocuments";var N1="targetGlobal",F1="collectionParents";var L1="clientMetadata";var V1="bundles";var j1="namedQueries";var w9="indexConfiguration";var E9="indexState";var C9="indexEntries";var B1="documentOverlays";var I9="globals";var T9=[x1,M1,P1,y9,O1,A1,N1,k1,L1,R1,F1,V1,j1],yce=[...T9,B1],D9=[x1,M1,P1,b9,O1,A1,N1,k1,L1,R1,F1,V1,j1,B1],S9=D9,A9=[...S9,w9,E9,C9];var bce=[...A9,I9];function Hk(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zs(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function U1(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Et=class n{constructor(e,t){this.comparator=e,this.root=t||ci.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ci.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ci.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wc(this.root,e,this.comparator,!0)}},wc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ci=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw le(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw le(27949);return e+(this.isRed()?0:1)}};ci.EMPTY=null,ci.RED=!0,ci.BLACK=!1;ci.EMPTY=new class{constructor(){this.size=0}get key(){throw le(57766)}get value(){throw le(16141)}get color(){throw le(16727)}get left(){throw le(29726)}get right(){throw le(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new ci(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Gt=class n{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vg(this.data.getIterator())}getIteratorFrom(e){return new vg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},vg=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var si=class n{constructor(e){this.fields=e,e.sort(Kn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Gt(Kn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ic(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var _g=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var fn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new _g("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};fn.EMPTY_BYTE_STRING=new fn("");var x9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gi(n){if(We(!!n,39018),typeof n=="string"){let e=0,t=x9.exec(n);if(We(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ft(n.seconds),nanos:ft(n.nanos)}}function ft(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ki(n){return typeof n=="string"?fn.fromBase64String(n):fn.fromUint8Array(n)}var $1="server_timestamp",z1="__type__",H1="__previous_value__",q1="__local_write_time__";function SI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[z1])===null||t===void 0?void 0:t.stringValue)===$1}function Gg(n){let e=n.mapValue.fields[H1];return SI(e)?Gg(e):e}function pd(n){let e=Gi(n.mapValue.fields[q1].timestampValue);return new nn(e.seconds,e.nanos)}var KE=class{constructor(e,t,r,i,o,s,a,c,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}},yg="(default)",bg=class n{constructor(e,t){this.projectId=e,this.database=t||yg}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===yg}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var AI="__type__",W1="__max__",ag={mapValue:{fields:{__type__:{stringValue:W1}}}},xI="__vector__",Tc="value";function Oo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?SI(n)?4:K1(n)?9007199254740991:G1(n)?10:11:le(28295,{value:n})}function di(n,e){if(n===e)return!0;let t=Oo(n);if(t!==Oo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pd(n).isEqual(pd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Gi(i.timestampValue),a=Gi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Ki(i.bytesValue).isEqual(Ki(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return ft(i.geoPointValue.latitude)===ft(o.geoPointValue.latitude)&&ft(i.geoPointValue.longitude)===ft(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ft(i.integerValue)===ft(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ft(i.doubleValue),a=ft(o.doubleValue);return s===a?fd(s)===fd(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Ic(n.arrayValue.values||[],e.arrayValue.values||[],di);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Hk(s)!==Hk(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!di(s[c],a[c])))return!1;return!0}(n,e);default:return le(52216,{left:n})}}function md(n,e){return(n.values||[]).find(t=>di(t,e))!==void 0}function Dc(n,e){if(n===e)return 0;let t=Oo(n),r=Oo(e);if(t!==r)return xe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return xe(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=ft(o.integerValue||o.doubleValue),c=ft(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return qk(n.timestampValue,e.timestampValue);case 4:return qk(pd(n),pd(e));case 5:return qE(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Ki(o),c=Ki(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=xe(a[u],c[u]);if(d!==0)return d}return xe(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=xe(ft(o.latitude),ft(s.latitude));return a!==0?a:xe(ft(o.longitude),ft(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Wk(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,u,d;let p=o.fields||{},v=s.fields||{},_=(a=p[Tc])===null||a===void 0?void 0:a.arrayValue,S=(c=v[Tc])===null||c===void 0?void 0:c.arrayValue,R=xe(((u=_?.values)===null||u===void 0?void 0:u.length)||0,((d=S?.values)===null||d===void 0?void 0:d.length)||0);return R!==0?R:Wk(_,S)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===ag.mapValue&&s===ag.mapValue)return 0;if(o===ag.mapValue)return 1;if(s===ag.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){let v=qE(c[p],d[p]);if(v!==0)return v;let _=Dc(a[c[p]],u[d[p]]);if(_!==0)return _}return xe(c.length,d.length)}(n.mapValue,e.mapValue);default:throw le(23264,{Pe:t})}}function qk(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return xe(n,e);let t=Gi(n),r=Gi(e),i=xe(t.seconds,r.seconds);return i!==0?i:xe(t.nanos,r.nanos)}function Wk(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Dc(t[i],r[i]);if(o)return o}return xe(t.length,r.length)}function Sc(n){return YE(n)}function YE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Gi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ki(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ue.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=YE(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${YE(t.fields[s])}`;return i+"}"}(n.mapValue):le(61005,{value:n})}function ug(n){switch(Oo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Gg(n);return e?16+ug(e):16;case 5:return 2*n.stringValue.length;case 6:return Ki(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+ug(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Zs(r.fields,(o,s)=>{i+=o.length+ug(s)}),i}(n.mapValue);default:throw le(13486,{value:n})}}function QE(n){return!!n&&"integerValue"in n}function MI(n){return!!n&&"arrayValue"in n}function Gk(n){return!!n&&"nullValue"in n}function Kk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dg(n){return!!n&&"mapValue"in n}function G1(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[AI])===null||t===void 0?void 0:t.stringValue)===xI}function cd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Zs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=cd(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=cd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function K1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===W1}var Ece={mapValue:{fields:{[AI]:{stringValue:xI},[Tc]:{arrayValue:{}}}}};var Rr=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!dg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cd(t)}setAll(e){let t=Kn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=cd(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());dg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];dg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Zs(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(cd(this.value))}};function Y1(n){let e=[];return Zs(n.fields,(t,r)=>{let i=new Kn([t]);if(dg(r)){let o=Y1(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new si(e)}var Or=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,be.min(),be.min(),be.min(),Rr.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,be.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,be.min(),be.min(),Rr.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,be.min(),be.min(),Rr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ac=class{constructor(e,t){this.position=e,this.inclusive=t}};function Yk(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ue.comparator(ue.fromName(s.referenceValue),t.key):r=Dc(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Qk(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!di(n.position[t],e.position[t]))return!1;return!0}var xc=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function M9(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var wg=class{},jt=class n extends wg{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new XE(e,t,r):t==="array-contains"?new tC(e,r):t==="in"?new nC(e,r):t==="not-in"?new rC(e,r):t==="array-contains-any"?new iC(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new JE(e,r):new eC(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Dc(t,this.value)):t!==null&&Oo(this.value)===Oo(t)&&this.matchesComparison(Dc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},hi=class n extends wg{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return Q1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function Q1(n){return n.op==="and"}function Z1(n){return P9(n)&&Q1(n)}function P9(n){for(let e of n.filters)if(e instanceof hi)return!1;return!0}function ZE(n){if(n instanceof jt)return n.field.canonicalString()+n.op.toString()+Sc(n.value);if(Z1(n))return n.filters.map(e=>ZE(e)).join(",");{let e=n.filters.map(t=>ZE(t)).join(",");return`${n.op}(${e})`}}function X1(n,e){return n instanceof jt?function(r,i){return i instanceof jt&&r.op===i.op&&r.field.isEqual(i.field)&&di(r.value,i.value)}(n,e):n instanceof hi?function(r,i){return i instanceof hi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&X1(s,i.filters[a]),!0):!1}(n,e):void le(19439)}function J1(n){return n instanceof jt?function(t){return`${t.field.canonicalString()} ${t.op} ${Sc(t.value)}`}(n):n instanceof hi?function(t){return t.op.toString()+" {"+t.getFilters().map(J1).join(" ,")+"}"}(n):"Filter"}var XE=class extends jt{constructor(e,t,r){super(e,t,r),this.key=ue.fromName(r.referenceValue)}matches(e){let t=ue.comparator(e.key,this.key);return this.matchesComparison(t)}},JE=class extends jt{constructor(e,t){super(e,"in",t),this.keys=eN("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},eC=class extends jt{constructor(e,t){super(e,"not-in",t),this.keys=eN("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function eN(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ue.fromName(r.referenceValue))}var tC=class extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return MI(t)&&md(t.arrayValue,this.value)}},nC=class extends jt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&md(this.value.arrayValue,t)}},rC=class extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(md(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!md(this.value.arrayValue,t)}},iC=class extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!MI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>md(this.value.arrayValue,r))}};var oC=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function Zk(n,e=null,t=[],r=[],i=null,o=null,s=null){return new oC(n,e,t,r,i,o,s)}function PI(n){let e=ve(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ZE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Wg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Sc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Sc(r)).join(",")),e.Ie=t}return e.Ie}function RI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!M9(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!X1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Qk(n.startAt,e.startAt)&&Qk(n.endAt,e.endAt)}function sC(n){return ue.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Mc=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function R9(n,e,t,r,i,o,s,a){return new Mc(n,e,t,r,i,o,s,a)}function OI(n){return new Mc(n)}function Xk(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function O9(n){return n.collectionGroup!==null}function ld(n){let e=ve(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Gt(Kn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new xc(o,r))}),t.has(Kn.keyField().canonicalString())||e.Ee.push(new xc(Kn.keyField(),r))}return e.Ee}function li(n){let e=ve(n);return e.de||(e.de=k9(e,ld(n))),e.de}function k9(n,e){if(n.limitType==="F")return Zk(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new xc(i.field,o)});let t=n.endAt?new Ac(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ac(n.startAt.position,n.startAt.inclusive):null;return Zk(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function aC(n,e,t){return new Mc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Kg(n,e){return RI(li(n),li(e))&&n.limitType===e.limitType}function tN(n){return`${PI(li(n))}|lt:${n.limitType}`}function _c(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>J1(i)).join(", ")}]`),Wg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Sc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Sc(i)).join(",")),`Target(${r})`}(li(n))}; limitType=${n.limitType})`}function Yg(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ue.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of ld(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=Yk(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,ld(r),i)||r.endAt&&!function(s,a,c){let u=Yk(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,ld(r),i))}(n,e)}function N9(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function nN(n){return(e,t)=>{let r=!1;for(let i of ld(n)){let o=F9(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function F9(n,e,t){let r=n.field.isKeyField()?ue.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?Dc(c,u):le(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return le(19790,{direction:n.dir})}}var Yi=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zs(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return U1(this.inner)}size(){return this.innerSize}};var L9=new Et(ue.comparator);function Qi(){return L9}var rN=new Et(ue.comparator);function ad(...n){let e=rN;for(let t of n)e=e.insert(t.key,t);return e}function iN(n){let e=rN;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function $s(){return ud()}function oN(){return ud()}function ud(){return new Yi(n=>n.toString(),(n,e)=>n.isEqual(e))}var V9=new Et(ue.comparator),j9=new Gt(ue.comparator);function ke(...n){let e=j9;for(let t of n)e=e.add(t);return e}var B9=new Gt(xe);function U9(){return B9}function kI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fd(e)?"-0":e}}function sN(n){return{integerValue:""+n}}function $9(n,e){return g9(e)?sN(e):kI(n,e)}var Pc=class{constructor(){this._=void 0}};function z9(n,e,t){return n instanceof Rc?function(i,o){let s={fields:{[z1]:{stringValue:$1},[q1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&SI(o)&&(o=Gg(o)),o&&(s.fields[H1]=o),{mapValue:s}}(t,e):n instanceof Gs?cN(n,e):n instanceof Ks?lN(n,e):function(i,o){let s=aN(i,o),a=Jk(s)+Jk(i.Re);return QE(s)&&QE(i.Re)?sN(a):kI(i.serializer,a)}(n,e)}function H9(n,e,t){return n instanceof Gs?cN(n,e):n instanceof Ks?lN(n,e):t}function aN(n,e){return n instanceof Oc?function(r){return QE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Rc=class extends Pc{},Gs=class extends Pc{constructor(e){super(),this.elements=e}};function cN(n,e){let t=uN(e);for(let r of n.elements)t.some(i=>di(i,r))||t.push(r);return{arrayValue:{values:t}}}var Ks=class extends Pc{constructor(e){super(),this.elements=e}};function lN(n,e){let t=uN(e);for(let r of n.elements)t=t.filter(i=>!di(i,r));return{arrayValue:{values:t}}}var Oc=class extends Pc{constructor(e,t){super(),this.serializer=e,this.Re=t}};function Jk(n){return ft(n.integerValue||n.doubleValue)}function uN(n){return MI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function q9(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Gs&&i instanceof Gs||r instanceof Ks&&i instanceof Ks?Ic(r.elements,i.elements,di):r instanceof Oc&&i instanceof Oc?di(r.Re,i.Re):r instanceof Rc&&i instanceof Rc}(n.transform,e.transform)}var cC=class{constructor(e,t){this.version=e,this.transformResults=t}},Hs=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function hg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var kc=class{};function dN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Eg(n.key,Hs.none()):new Ys(n.key,n.data,Hs.none());{let t=n.data,r=Rr.empty(),i=new Gt(Kn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Zi(n.key,r,new si(i.toArray()),Hs.none())}}function W9(n,e,t){n instanceof Ys?function(i,o,s){let a=i.value.clone(),c=t1(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Zi?function(i,o,s){if(!hg(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=t1(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(hN(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function dd(n,e,t,r){return n instanceof Ys?function(o,s,a,c){if(!hg(o.precondition,s))return a;let u=o.value.clone(),d=n1(o.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Zi?function(o,s,a,c){if(!hg(o.precondition,s))return a;let u=n1(o.fieldTransforms,c,s),d=s.data;return d.setAll(hN(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return hg(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function G9(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=aN(r.transform,i||null);o!=null&&(t===null&&(t=Rr.empty()),t.set(r.field,o))}return t||null}function e1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ic(r,i,(o,s)=>q9(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ys=class extends kc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Zi=class extends kc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function hN(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function t1(n,e,t){let r=new Map;We(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,H9(s,a,t[i]))}return r}function n1(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,z9(o,s,e))}return r}var Eg=class extends kc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},lC=class extends kc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var uC=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&W9(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=dd(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=dd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=oN();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=dN(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&Ic(this.mutations,e.mutations,(t,r)=>e1(t,r))&&Ic(this.baseMutations,e.baseMutations,(t,r)=>e1(t,r))}},dC=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){We(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return V9}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var hC=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var fC=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ot,Ve;function K9(n){switch(n){case $.OK:return le(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return le(15467,{code:n})}}function fN(n){if(n===void 0)return Wi("GRPC error has no .code"),$.UNKNOWN;switch(n){case Ot.OK:return $.OK;case Ot.CANCELLED:return $.CANCELLED;case Ot.UNKNOWN:return $.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return $.INTERNAL;case Ot.UNAVAILABLE:return $.UNAVAILABLE;case Ot.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ot.NOT_FOUND:return $.NOT_FOUND;case Ot.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ot.ABORTED:return $.ABORTED;case Ot.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ot.DATA_LOSS:return $.DATA_LOSS;default:return le(39323,{code:n})}}(Ve=Ot||(Ot={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";var r1=null;var Y9=new Hi([4294967295,4294967295],0);function i1(n){let e=D1().encode(n),t=new xE;return t.update(e),new Uint8Array(t.digest())}function o1(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Hi([t,r],0),new Hi([i,o],0)]}var pC=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new zs(`Invalid padding: ${t}`);if(r<0)throw new zs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zs(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new zs(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Hi.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Hi.fromNumber(r)));return i.compare(Y9)===1&&(i=new Hi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=i1(e),[r,i]=o1(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.Se(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let t=i1(e),[r,i]=o1(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.be(s)}}be(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},zs=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Cg=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,gd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(be.min(),i,new Et(xe),Qi(),ke())}},gd=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ke(),ke(),ke())}};var Ec=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},Ig=class{constructor(e,t){this.targetId=e,this.Ce=t}},Tg=class{constructor(e,t,r=fn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Dg=class{constructor(){this.Fe=0,this.Me=s1(),this.xe=fn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ke(),t=ke(),r=ke();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:le(38017,{changeType:o})}}),new gd(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=s1()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,We(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},mC=class{constructor(e){this.ze=e,this.je=new Map,this.He=Qi(),this.Je=cg(),this.Ye=cg(),this.Ze=new Et(xe)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:le(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let o=i.target;if(sC(o))if(r===0){let s=new ue(o.path);this.tt(t,s,Or.newNoDocument(s,be.min()))}else We(r===1,20013,{expectedCount:r});else{let s=this.ut(t);if(s!==r){let a=this.ct(e),c=a?this.lt(a,e,s):1;if(c!==0){this.st(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,u)}r1?.ht(function(d,p,v,_,S){var R,k,G,te,X,Ne;let St={localCacheCount:d,existenceFilterCount:p.count,databaseId:v.database,projectId:v.projectId},Ue=p.unchangedNames;return Ue&&(St.bloomFilter={applied:S===0,hashCount:(R=Ue?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(te=(G=(k=Ue?.bits)===null||k===void 0?void 0:k.bitmap)===null||G===void 0?void 0:G.length)!==null&&te!==void 0?te:0,padding:(Ne=(X=Ue?.bits)===null||X===void 0?void 0:X.padding)!==null&&Ne!==void 0?Ne:0,mightContain:x=>{var C;return(C=_?.mightContain(x))!==null&&C!==void 0&&C}}),St}(s,e.Ce,this.ze.Pt(),a,c))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Ki(r).toUint8Array()}catch(c){if(c instanceof _g)return Cc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new pC(s,i,o)}catch(c){return Cc(c instanceof zs?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,o,null),i++)}),i}It(e){let t=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&sC(a.target)){let c=new ue(a.target.path);this.Et(c).has(s)||this.dt(s,c)||this.tt(s,c,Or.newNoDocument(c,e))}o.Le&&(t.set(s,o.qe()),o.Qe())}});let r=ke();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this._t(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new Cg(e,t,this.Ze,this.He,r);return this.He=Qi(),this.Je=cg(),this.Ye=cg(),this.Ze=new Et(xe),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Dg,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Gt(xe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Gt(xe),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||Z("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Dg),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function cg(){return new Et(ue.comparator)}function s1(){return new Et(ue.comparator)}var Q9={asc:"ASCENDING",desc:"DESCENDING"},Z9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X9={and:"AND",or:"OR"},gC=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function vC(n,e){return n.useProto3Json||Wg(e)?e:{value:e}}function Sg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function J9(n,e){return Sg(n,e.toTimestamp())}function ui(n){return We(!!n,49232),be.fromTimestamp(function(t){let r=Gi(t);return new nn(r.seconds,r.nanos)}(n))}function NI(n,e){return _C(n,e).canonicalString()}function _C(n,e){let t=function(i){return new Nt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function mN(n){let e=Nt.fromString(n);return We(bN(e),10190,{key:e.toString()}),e}function yC(n,e){return NI(n.databaseId,e.path)}function NE(n,e){let t=mN(e);if(t.get(1)!==n.databaseId.projectId)throw new se($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new se($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ue(vN(t))}function gN(n,e){return NI(n.databaseId,e)}function eW(n){let e=mN(n);return e.length===4?Nt.emptyPath():vN(e)}function bC(n){return new Nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vN(n){return We(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function a1(n,e,t){return{name:yC(n,e),fields:t.value.mapValue.fields}}function tW(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:le(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(We(d===void 0||typeof d=="string",58123),fn.fromBase64String(d||"")):(We(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),fn.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let d=u.code===void 0?$.UNKNOWN:fN(u.code);return new se(d,u.message||"")}(s);t=new Tg(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=NE(n,r.document.name),o=ui(r.document.updateTime),s=r.document.createTime?ui(r.document.createTime):be.min(),a=new Rr({mapValue:{fields:r.document.fields}}),c=Or.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];t=new Ec(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=NE(n,r.document),o=r.readTime?ui(r.readTime):be.min(),s=Or.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Ec([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=NE(n,r.document),o=r.removedTargetIds||[];t=new Ec([],o,i,null)}else{if(!("filter"in e))return le(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new fC(i,o),a=r.targetId;t=new Ig(a,s)}}return t}function nW(n,e){let t;if(e instanceof Ys)t={update:a1(n,e.key,e.value)};else if(e instanceof Eg)t={delete:yC(n,e.key)};else if(e instanceof Zi)t={update:a1(n,e.key,e.data),updateMask:dW(e.fieldMask)};else{if(!(e instanceof lC))return le(16599,{ft:e.type});t={verify:yC(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Rc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Gs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ks)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Oc)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw le(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:J9(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:le(27497)}(n,e.precondition)),t}function rW(n,e){return n&&n.length>0?(We(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?ui(i.updateTime):ui(o);return s.isEqual(be.min())&&(s=ui(o)),new cC(s,i.transformResults||[])}(t,e))):[]}function iW(n,e){return{documents:[gN(n,e.path)]}}function oW(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=gN(n,i);let o=function(u){if(u.length!==0)return yN(hi.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(d=>function(v){return{field:yc(v.field),direction:cW(v.dir)}}(d))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=vC(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:t,parent:i}}function sW(n){let e=eW(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){We(r===1,65062);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(p){let v=_N(p);return v instanceof hi&&Z1(v)?v.getFilters():[v]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(v=>function(S){return new xc(bc(S.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(v))}(t.orderBy));let a=null;t.limit&&(a=function(p){let v;return v=typeof p=="object"?p.value:p,Wg(v)?null:v}(t.limit));let c=null;t.startAt&&(c=function(p){let v=!!p.before,_=p.values||[];return new Ac(_,v)}(t.startAt));let u=null;return t.endAt&&(u=function(p){let v=!p.before,_=p.values||[];return new Ac(_,v)}(t.endAt)),R9(e,i,s,o,a,"F",c,u)}function aW(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _N(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=bc(t.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=bc(t.unaryFilter.field);return jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=bc(t.unaryFilter.field);return jt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=bc(t.unaryFilter.field);return jt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return le(61313);default:return le(60726)}}(n):n.fieldFilter!==void 0?function(t){return jt.create(bc(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return le(58110);default:return le(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return hi.create(t.compositeFilter.filters.map(r=>_N(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le(1026)}}(t.compositeFilter.op))}(n):le(30097,{filter:n})}function cW(n){return Q9[n]}function lW(n){return Z9[n]}function uW(n){return X9[n]}function yc(n){return{fieldPath:n.canonicalString()}}function bc(n){return Kn.fromServerFormat(n.fieldPath)}function yN(n){return n instanceof jt?function(t){if(t.op==="=="){if(Kk(t.value))return{unaryFilter:{field:yc(t.field),op:"IS_NAN"}};if(Gk(t.value))return{unaryFilter:{field:yc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Kk(t.value))return{unaryFilter:{field:yc(t.field),op:"IS_NOT_NAN"}};if(Gk(t.value))return{unaryFilter:{field:yc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yc(t.field),op:lW(t.op),value:t.value}}}(n):n instanceof hi?function(t){let r=t.getFilters().map(i=>yN(i));return r.length===1?r[0]:{compositeFilter:{op:uW(t.op),filters:r}}}(n):le(54877,{filter:n})}function dW(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var vd=class n{constructor(e,t,r,i,o=be.min(),s=be.min(),a=fn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var wC=class{constructor(e){this.wt=e}};function hW(n){let e=sW({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?aC(e,e.limit,"L"):e}var Ag=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(ft(e.integerValue));else if("doubleValue"in e){let r=ft(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),fd(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=Gi(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Ki(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?K1(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):G1(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):le(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let o=e.fields||{};this.Mt(t,53);let s=Tc,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(ft(a)),this.Nt(s,t),this.Ct(o[s],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),ue.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};Ag.Wt=new Ag;var EC=class{constructor(){this.Cn=new CC}addToCollectionParentIndex(e,t){return this.Cn.add(t),B.resolve()}getCollectionParents(e,t){return B.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return B.resolve()}deleteFieldIndex(e,t){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,t){return B.resolve()}getDocumentsMatchingTarget(e,t){return B.resolve(null)}getIndexType(e,t){return B.resolve(0)}getFieldIndexes(e,t){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,t){return B.resolve(Ws.min())}getMinOffsetFromCollectionGroup(e,t){return B.resolve(Ws.min())}updateCollectionGroup(e,t,r){return B.resolve()}updateIndexEntries(e,t){return B.resolve()}},CC=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Gt(Nt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Gt(Nt.comparator)).toArray()}};var Cce=new Uint8Array(0);var c1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wN=41943040,dr=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};dr.DEFAULT_COLLECTION_PERCENTILE=10,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dr.DEFAULT=new dr(wN,dr.DEFAULT_COLLECTION_PERCENTILE,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dr.DISABLED=new dr(-1,0,0);var _d=class n{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new n(0)}static lr(){return new n(-1)}};var l1="LruGarbageCollector",fW=1048576;function u1([n,e],[t,r]){let i=xe(n,t);return i===0?xe(e,r):i}var IC=class{constructor(e){this.Er=e,this.buffer=new Gt(u1),this.dr=0}Ar(){return++this.dr}Rr(e){let t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();u1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},TC=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Z(l1,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>w(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Vc(t)?Z(l1,"Ignoring IndexedDB error during garbage collection: ",t):yield Lc(t)}yield this.mr(3e5)}))}},DC=class{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return B.resolve(TI.le);let r=new IC(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(c1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c1):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,s,a,c,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),vc()<=Oe.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function pW(n,e){return new DC(n,e)}var SC=class{constructor(){this.changes=new Yi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Or.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?B.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var AC=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var xC=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&dd(r.mutation,i,si.empty(),nn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ke()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ke()){let i=$s();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=ad();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=$s();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ke()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Qi(),s=ud(),a=function(){return ud()}();return t.forEach((c,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Zi)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),dd(d.mutation,u,d.mutation.getFieldMask(),nn.now())):s.set(u.key,si.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>s.set(u,d)),t.forEach((u,d)=>{var p;return a.set(u,new AC(d,(p=s.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=ud(),i=new Et((s,a)=>s-a),o=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let d=r.get(c)||si.empty();d=a.applyToLocalView(u,d),r.set(c,d);let p=(i.get(a.batchId)||ke()).add(c);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,p=oN();d.forEach(v=>{if(!o.has(v)){let _=dN(t.get(v),r.get(v));_!==null&&p.set(v,_),o=o.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,p))}return B.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return ue.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):O9(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):B.resolve($s()),a=hd,c=o;return s.next(u=>B.forEach(u,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(v=>{c=c.insert(d,v)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,ke())).next(d=>({batchId:a,changes:iN(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ue(t)).next(r=>{let i=ad();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=ad();return this.indexManager.getCollectionParents(e,o).next(a=>B.forEach(a,c=>{let u=function(p,v){return new Mc(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((p,v)=>{s=s.insert(p,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,u)=>{let d=u.getKey();s.get(d)===null&&(s=s.insert(d,Or.newInvalidDocument(d)))});let a=ad();return s.forEach((c,u)=>{let d=o.get(c);d!==void 0&&dd(d.mutation,u,si.empty(),nn.now()),Yg(t,u)&&(a=a.insert(c,u))}),a})}};var MC=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return B.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ui(i.createTime)}}(t)),B.resolve()}getNamedQuery(e,t){return B.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:hW(i.bundledQuery),readTime:ui(i.readTime)}}(t)),B.resolve()}};var PC=class{constructor(){this.overlays=new Et(ue.comparator),this.Qr=new Map}getOverlay(e,t){return B.resolve(this.overlays.get(t))}getOverlays(e,t){let r=$s();return B.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.bt(e,t,o)}),B.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),B.resolve()}getOverlaysForCollection(e,t,r){let i=$s(),o=t.length+1,s=new ue(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return B.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Et((u,d)=>u-d),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=$s(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=$s(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return B.resolve(a)}bt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new hC(t,r));let o=this.Qr.get(t);o===void 0&&(o=ke(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}};var RC=class{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,B.resolve()}};var yd=class{constructor(){this.$r=new Gt(kt.Ur),this.Kr=new Gt(kt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){let r=new kt(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new kt(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){let t=new ue(new Nt([])),r=new kt(t,e),i=new kt(t,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let t=new ue(new Nt([])),r=new kt(t,e),i=new kt(t,e+1),o=ke();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new kt(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},kt=class{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ue.comparator(e.key,t.key)||xe(e.Zr,t.Zr)}static Wr(e,t){return xe(e.Zr,t.Zr)||ue.comparator(e.key,t.key)}};var OC=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Gt(kt.Ur)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new uC(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new kt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(s)}lookupMutationBatch(e,t){return B.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ti(r),o=i<0?0:i;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?DI:this.nr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new kt(t,0),i=new kt(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Gt(xe);return t.forEach(i=>{let o=new kt(i,0),s=new kt(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),B.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;ue.isDocumentKey(o)||(o=o.child(""));let s=new kt(new ue(o),0),a=new Gt(xe);return this.Xr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Zr)),!0)},s),B.resolve(this.ni(a))}ni(e){let t=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){We(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return B.forEach(t.mutations,i=>{let o=new kt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){let r=new kt(t,0),i=this.Xr.firstAfterOrEqual(r);return B.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var kC=class{constructor(e){this.ii=e,this.docs=function(){return new Et(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return B.resolve(r?r.document.mutableCopy():Or.newInvalidDocument(t))}getEntries(e,t){let r=Qi();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Or.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Qi(),s=t.path,a=new ue(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||f9(h9(d),r)<=0||(i.has(d.key)||Yg(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,t,r,i){le(9500)}si(e,t){return B.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new NC(this)}getSize(e){return B.resolve(this.size)}},NC=class extends SC{constructor(e){super(),this.Br=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),B.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}};var FC=class{constructor(e){this.persistence=e,this.oi=new Yi(t=>PI(t),RI),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this._i=0,this.ai=new yd,this.targetCount=0,this.ui=_d.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),B.resolve()}Tr(e){this.oi.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ui=new _d(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,B.resolve()}updateTargetData(e,t){return this.Tr(t),B.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(o).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,t){let r=this.oi.get(t)||null;return B.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),B.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),B.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),B.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ai.Yr(t);return B.resolve(r)}containsKey(e,t){return B.resolve(this.ai.containsKey(t))}};var xg=class{constructor(e,t){this.ci={},this.overlays={},this.li=new TI(0),this.hi=!1,this.hi=!0,this.Pi=new RC,this.referenceDelegate=e(this),this.Ti=new FC(this),this.indexManager=new EC,this.remoteDocumentCache=function(i){return new kC(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new wC(t),this.Ei=new MC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new PC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new OC(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){Z("MemoryPersistence","Starting transaction:",e);let i=new LC(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return B.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}},LC=class extends GE{constructor(e){super(),this.currentSequenceNumber=e}},VC=class n{constructor(e){this.persistence=e,this.Vi=new yd,this.mi=null}static fi(e){return new n(e)}get gi(){if(this.mi)return this.mi;throw le(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),B.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),B.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.gi,r=>{let i=ue.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,be.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return B.or([()=>B.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}},Mg=class n{constructor(e,t){this.persistence=e,this.yi=new Yi(r=>v9(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=pW(this,t)}static fi(e,t){return new n(e,t)}di(){}Ai(e){return B.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){let t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return B.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?B.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,be.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),B.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),B.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ug(e.data.value)),t}Dr(e,t,r){return B.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.yi.get(t);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var jC=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=ke(),i=ke();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var BC=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var UC=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return wO()?8:m9(qt())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ws(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Ss(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new BC;return this.bs(e,t,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,t,s,a.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(vc()<=Oe.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",_c(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),B.resolve()):(vc()<=Oe.DEBUG&&Z("QueryEngine","Query:",_c(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(vc()<=Oe.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",_c(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(t))):B.resolve())}ws(e,t){if(Xk(t))return B.resolve(null);let r=li(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=aC(t,null,"F"),r=li(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ke(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.vs(t,a);return this.Cs(t,u,s,c.readTime)?this.ws(e,aC(t,null,"F")):this.Fs(e,u,t,c)}))})))}Ss(e,t,r,i){return Xk(t)||i.isEqual(be.min())?B.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(t,o);return this.Cs(t,s,r,i)?B.resolve(null):(vc()<=Oe.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_c(t)),this.Fs(e,s,t,d9(i,hd)).next(a=>a))})}vs(e,t){let r=new Gt(nN(e));return t.forEach((i,o)=>{Yg(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}bs(e,t,r){return vc()<=Oe.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",_c(t)),this.ys.getDocumentsMatchingQuery(e,t,Ws.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var FI="LocalStore",mW=3e8,$C=class{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new Et(xe),this.Os=new Yi(o=>PI(o),RI),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xC(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}};function gW(n,e,t,r){return new $C(n,e,t,r)}function EN(n,e){return w(this,null,function*(){let t=ve(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=ke();for(let u of i){s.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of o){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(u=>({ks:u,removedBatchIds:s,addedBatchIds:a}))})})})}function vW(n,e){let t=ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let p=u.batch,v=p.keys(),_=B.resolve();return v.forEach(S=>{_=_.next(()=>d.getEntry(c,S)).next(R=>{let k=u.docVersions.get(S);We(k!==null,48541),R.version.compareTo(k)<0&&(p.applyToRemoteDocument(R,u),R.isValidDocument()&&(R.setReadTime(u.commitVersion),d.addEntry(R)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ke();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function CN(n){let e=ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function _W(n,e){let t=ve(n),r=e.snapshotVersion,i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;let a=[];e.targetChanges.forEach((d,p)=>{let v=i.get(p);if(!v)return;a.push(t.Ti.removeMatchingKeys(o,d.removedDocuments,p).next(()=>t.Ti.addMatchingKeys(o,d.addedDocuments,p)));let _=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(fn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,r)),i=i.insert(p,_),function(R,k,G){return R.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=mW?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(v,_,d)&&a.push(t.Ti.updateTargetData(o,_))});let c=Qi(),u=ke();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(yW(o,s,e.documentUpdates).next(d=>{c=d.qs,u=d.Qs})),!r.isEqual(be.min())){let d=t.Ti.getLastRemoteSnapshotVersion(o).next(p=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(t.xs=i,o))}function yW(n,e,t){let r=ke(),i=ke();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Qi();return t.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(be.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):Z(FI,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{qs:s,Qs:i}})}function bW(n,e){let t=ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=DI),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wW(n,e){let t=ve(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,B.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new vd(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}function zC(n,e,t){return w(this,null,function*(){let r=ve(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Vc(s))throw s;Z(FI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function d1(n,e,t){let r=ve(n),i=be.min(),o=ke();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){let p=ve(c),v=p.Os.get(d);return v!==void 0?B.resolve(p.xs.get(v)):p.Ti.getTargetData(u,d)}(r,s,li(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:be.min(),t?o:ke())).next(a=>(EW(r,N9(e),a),{documents:a,$s:o})))}function EW(n,e,t){let r=n.Ns.get(e)||be.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}var Pg=class{constructor(){this.activeTargetIds=U9()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var HC=class{constructor(){this.xo=new Pg,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Pg,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var qC=class{No(e){}shutdown(){}};var h1="ConnectivityMonitor",Rg=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Z(h1,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){Z(h1,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var lg=null;function WC(){return lg===null?lg=function(){return 268435456+Math.round(2147483648*Math.random())}():lg++,"0x"+lg.toString(16)}var FE="RestConnection",CW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},GC=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===yg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){let s=WC(),a=this.jo(e,t.toUriEncodedString());Z(FE,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,o);let{host:u}=new URL(a),d=Ns(u);return this.Jo(e,a,c,r,d).then(p=>(Z(FE,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Cc(FE,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,t,r,i,o,s){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){let r=CW[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}};var KC=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var hn="WebChannelConnection",YC=class extends GC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=WC();return new Promise((a,c)=>{let u=new ME;u.setWithCredentials(!0),u.listenOnce(PE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case sd.NO_ERROR:let p=u.getResponseJson();Z(hn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case sd.TIMEOUT:Z(hn,`RPC '${e}' ${s} timed out`),c(new se($.DEADLINE_EXCEEDED,"Request time out"));break;case sd.HTTP_ERROR:let v=u.getStatus();if(Z(hn,`RPC '${e}' ${s} failed with status:`,v,"response text:",u.getResponseText()),v>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let S=_?.error;if(S&&S.status&&S.message){let R=function(G){let te=G.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(te)>=0?te:$.UNKNOWN}(S.status);c(new se(R,S.message))}else c(new se($.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new se($.UNAVAILABLE,"Connection failed."));break;default:le(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Z(hn,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);Z(hn,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",d,r,15)})}T_(e,t,r){let i=WC(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=kE(),a=OE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let d=o.join("");Z(hn,`Creating RPC '${e}' stream ${i}: ${d}`,c);let p=s.createWebChannel(d,c),v=!1,_=!1,S=new KC({Zo:k=>{_?Z(hn,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(v||(Z(hn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),Z(hn,`RPC '${e}' stream ${i} sending:`,k),p.send(k))},Xo:()=>p.close()}),R=(k,G,te)=>{k.listen(G,X=>{try{te(X)}catch(Ne){setTimeout(()=>{throw Ne},0)}})};return R(p,gc.EventType.OPEN,()=>{_||(Z(hn,`RPC '${e}' stream ${i} transport opened.`),S.__())}),R(p,gc.EventType.CLOSE,()=>{_||(_=!0,Z(hn,`RPC '${e}' stream ${i} transport closed`),S.u_())}),R(p,gc.EventType.ERROR,k=>{_||(_=!0,Cc(hn,`RPC '${e}' stream ${i} transport errored. Name:`,k.name,"Message:",k.message),S.u_(new se($.UNAVAILABLE,"The operation could not be completed")))}),R(p,gc.EventType.MESSAGE,k=>{var G;if(!_){let te=k.data[0];We(!!te,16349);let X=te,Ne=X?.error||((G=X[0])===null||G===void 0?void 0:G.error);if(Ne){Z(hn,`RPC '${e}' stream ${i} received error:`,Ne);let St=Ne.status,Ue=function(D){let A=Ot[D];if(A!==void 0)return fN(A)}(St),x=Ne.message;Ue===void 0&&(Ue=$.INTERNAL,x="Unknown error status: "+St+" with message "+Ne.message),_=!0,S.u_(new se(Ue,x)),p.close()}else Z(hn,`RPC '${e}' stream ${i} received:`,te),S.c_(te)}}),R(a,RE.STAT_EVENT,k=>{k.stat===sg.PROXY?Z(hn,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===sg.NOPROXY&&Z(hn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.a_()},0),S}};function LE(){return typeof document<"u"?document:null}function Qg(n){return new gC(n,!0)}var Og=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=i,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();let t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,t-r);i>0&&Z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}};var f1="PersistentStream",kg=class{constructor(e,t,r,i,o,s,a,c){this.xi=e,this.y_=r,this.w_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Og(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}stop(){return w(this,null,function*(){this.F_()&&(yield this.close(0))})}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}B_(){return w(this,null,function*(){if(this.M_())return this.close(0)})}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}close(e,t){return w(this,null,function*(){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===$.RESOURCE_EXHAUSTED?(Wi(t.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(t)})}Q_(){}auth(){this.state=1;let e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===t&&this.K_(r,i)},r=>{e(()=>{let i=new se($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,t){let r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(()=>w(this,null,function*(){this.state=0,this.start()}))}W_(e){return Z(f1,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(Z(f1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},QC=class extends kg{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();let t=tW(this.serializer,e),r=function(o){if(!("targetChange"in o))return be.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?be.min():s.readTime?ui(s.readTime):be.min()}(e);return this.listener.j_(t,r)}H_(e){let t={};t.database=bC(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=sC(c)?{documents:iW(o,c)}:{query:oW(o,c).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=pN(o,s.resumeToken);let u=vC(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(be.min())>0){a.readTime=Sg(o,s.snapshotVersion.toTimestamp());let u=vC(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=aW(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){let t={};t.database=bC(this.serializer),t.removeTarget=e,this.L_(t)}},ZC=class extends kg{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();let t=rW(e.writeResults,e.commitTime),r=ui(e.commitTime);return this.listener.ea(r,t)}ta(){let e={};e.database=bC(this.serializer),this.L_(e)}Z_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>nW(this.serializer,r))};this.L_(t)}};var XC=class{},JC=class extends XC{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new se($.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,_C(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new se($.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,_C(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se($.UNKNOWN,s.toString())})}terminate(){this.na=!0,this.connection.terminate()}},eI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Wi(t),this.oa=!1):Z("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}};var Qs="RemoteStore",tI=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(s=>{r.enqueueAndForget(()=>w(this,null,function*(){Xs(this)&&(Z(Qs,"Restarting streams for network reachability change."),yield function(c){return w(this,null,function*(){let u=ve(c);u.Ta.add(4),yield Ad(u),u.da.set("Unknown"),u.Ta.delete(4),yield Zg(u)})}(this))}))}),this.da=new eI(r,i)}};function Zg(n){return w(this,null,function*(){if(Xs(n))for(let e of n.Ia)yield e(!0)})}function Ad(n){return w(this,null,function*(){for(let e of n.Ia)yield e(!1)})}function IN(n,e){let t=ve(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),BI(t)?jI(t):jc(t).M_()&&VI(t,e))}function LI(n,e){let t=ve(n),r=jc(t);t.Pa.delete(e),r.M_()&&TN(t,e),t.Pa.size===0&&(r.M_()?r.N_():Xs(t)&&t.da.set("Unknown"))}function VI(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}jc(n).H_(e)}function TN(n,e){n.Aa.Ke(e),jc(n).J_(e)}function jI(n){n.Aa=new mC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),jc(n).start(),n.da._a()}function BI(n){return Xs(n)&&!jc(n).F_()&&n.Pa.size>0}function Xs(n){return ve(n).Ta.size===0}function DN(n){n.Aa=void 0}function IW(n){return w(this,null,function*(){n.da.set("Online")})}function TW(n){return w(this,null,function*(){n.Pa.forEach((e,t)=>{VI(n,e)})})}function DW(n,e){return w(this,null,function*(){DN(n),BI(n)?(n.da.ca(e),jI(n)):n.da.set("Unknown")})}function SW(n,e,t){return w(this,null,function*(){if(n.da.set("Online"),e instanceof Tg&&e.state===2&&e.cause)try{yield function(i,o){return w(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Pa.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Pa.delete(a),i.Aa.removeTarget(a))})}(n,e)}catch(r){Z(Qs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ng(n,r)}else if(e instanceof Ec?n.Aa.Xe(e):e instanceof Ig?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(be.min()))try{let r=yield CN(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Aa.It(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.Pa.get(u);d&&o.Pa.set(u,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let d=o.Pa.get(c);if(!d)return;o.Pa.set(c,d.withResumeToken(fn.EMPTY_BYTE_STRING,d.snapshotVersion)),TN(o,c);let p=new vd(d.target,c,u,d.sequenceNumber);VI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){Z(Qs,"Failed to raise snapshot:",r),yield Ng(n,r)}})}function Ng(n,e,t){return w(this,null,function*(){if(!Vc(e))throw e;n.Ta.add(1),yield Ad(n),n.da.set("Offline"),t||(t=()=>CN(n.localStore)),n.asyncQueue.enqueueRetryable(()=>w(null,null,function*(){Z(Qs,"Retrying IndexedDB access"),yield t(),n.Ta.delete(1),yield Zg(n)}))})}function SN(n,e){return e().catch(t=>Ng(n,t,e))}function Xg(n){return w(this,null,function*(){let e=ve(n),t=ko(e),r=e.ha.length>0?e.ha[e.ha.length-1].batchId:DI;for(;AW(e);)try{let i=yield bW(e.localStore,r);if(i===null){e.ha.length===0&&t.N_();break}r=i.batchId,xW(e,i)}catch(i){yield Ng(e,i)}AN(e)&&xN(e)})}function AW(n){return Xs(n)&&n.ha.length<10}function xW(n,e){n.ha.push(e);let t=ko(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function AN(n){return Xs(n)&&!ko(n).F_()&&n.ha.length>0}function xN(n){ko(n).start()}function MW(n){return w(this,null,function*(){ko(n).ta()})}function PW(n){return w(this,null,function*(){let e=ko(n);for(let t of n.ha)e.Z_(t.mutations)})}function RW(n,e,t){return w(this,null,function*(){let r=n.ha.shift(),i=dC.from(r,e,t);yield SN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Xg(n)})}function OW(n,e){return w(this,null,function*(){e&&ko(n).Y_&&(yield function(r,i){return w(this,null,function*(){if(function(s){return K9(s)&&s!==$.ABORTED}(i.code)){let o=r.ha.shift();ko(r).O_(),yield SN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Xg(r)}})}(n,e)),AN(n)&&xN(n)})}function p1(n,e){return w(this,null,function*(){let t=ve(n);t.asyncQueue.verifyOperationInProgress(),Z(Qs,"RemoteStore received new credentials");let r=Xs(t);t.Ta.add(3),yield Ad(t),r&&t.da.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),yield Zg(t)})}function kW(n,e){return w(this,null,function*(){let t=ve(n);e?(t.Ta.delete(2),yield Zg(t)):e||(t.Ta.add(2),yield Ad(t),t.da.set("Unknown"))})}function jc(n){return n.Ra||(n.Ra=function(t,r,i){let o=ve(t);return o.ra(),new QC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:IW.bind(null,n),n_:TW.bind(null,n),i_:DW.bind(null,n),j_:SW.bind(null,n)}),n.Ia.push(e=>w(null,null,function*(){e?(n.Ra.O_(),BI(n)?jI(n):n.da.set("Unknown")):(yield n.Ra.stop(),DN(n))}))),n.Ra}function ko(n){return n.Va||(n.Va=function(t,r,i){let o=ve(t);return o.ra(),new ZC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:MW.bind(null,n),i_:OW.bind(null,n),X_:PW.bind(null,n),ea:RW.bind(null,n)}),n.Ia.push(e=>w(null,null,function*(){e?(n.Va.O_(),yield Xg(n)):(yield n.Va.stop(),n.ha.length>0&&(Z(Qs,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))}))),n.Va}var nI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function UI(n,e){if(Wi("AsyncQueue",`${e}: ${n}`),Vc(n))return new se($.UNAVAILABLE,`${e}: ${n}`);throw n}var Fg=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ue.comparator(t.key,r.key):(t,r)=>ue.comparator(t.key,r.key),this.keyedMap=ad(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Lg=class{constructor(){this.ma=new Et(ue.comparator)}track(e){let t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):le(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){let e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}},Nc=class n{constructor(e,t,r,i,o,s,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Fg.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var rI=class{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}},iI=class{constructor(){this.queries=m1(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){let i=ve(t),o=i.queries;i.queries=m1(),o.forEach((s,a)=>{for(let c of a.ya)c.onError(r)})})(this,new se($.ABORTED,"Firestore shutting down"))}};function m1(){return new Yi(n=>tN(n),Kg)}function NW(n,e){return w(this,null,function*(){let t=ve(n),r=3,i=e.query,o=t.queries.get(i);o?!o.wa()&&e.Sa()&&(r=2):(o=new rI,r=e.Sa()?0:1);try{switch(r){case 0:o.pa=yield t.onListen(i,!0);break;case 1:o.pa=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=UI(s,`Initialization of query '${_c(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.ya.push(e),e.Da(t.onlineState),o.pa&&e.va(o.pa)&&$I(t)})}function FW(n,e){return w(this,null,function*(){let t=ve(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.ya.indexOf(e);s>=0&&(o.ya.splice(s,1),o.ya.length===0?i=e.Sa()?0:1:!o.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function LW(n,e){let t=ve(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.ya)a.va(i)&&(r=!0);s.pa=i}}r&&$I(t)}function VW(n,e,t){let r=ve(n),i=r.queries.get(e);if(i)for(let o of i.ya)o.onError(t);r.queries.delete(e)}function $I(n){n.ba.forEach(e=>{e.next()})}var oI,g1;(g1=oI||(oI={})).Ca="default",g1.Cache="cache";var sI=class{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Nc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;let r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;let t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=Nc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==oI.Cache}};var Vg=class{constructor(e){this.key=e}},jg=class{constructor(e){this.key=e}},aI=class{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=ke(),this.mutatedKeys=ke(),this.Ha=nN(e),this.Ja=new Fg(this.Ha)}get Ya(){return this.Ga}Za(e,t){let r=t?t.Xa:new Lg,i=t?t.Ja:this.Ja,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{let v=i.get(d),_=Yg(this.query,p)?p:null,S=!!v&&this.mutatedKeys.has(v.key),R=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),k=!1;v&&_?v.data.isEqual(_.data)?S!==R&&(r.track({type:3,doc:_}),k=!0):this.eu(v,_)||(r.track({type:2,doc:_}),k=!0,(c&&this.Ha(_,c)>0||u&&this.Ha(_,u)<0)&&(a=!0)):!v&&_?(r.track({type:0,doc:_}),k=!0):v&&!_&&(r.track({type:1,doc:v}),k=!0,(c||u)&&(a=!0)),k&&(_?(s=s.add(_),o=R?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ja:s,Xa:r,Cs:a,mutatedKeys:o}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;let s=e.Xa.ga();s.sort((d,p)=>function(_,S){let R=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le(20277,{Vt:k})}};return R(_)-R(S)}(d.type,p.type)||this.Ha(d.doc,p.doc)),this.tu(r),i=i!=null&&i;let a=t&&!i?this.nu():[],c=this.ja.size===0&&this.current&&!i?1:0,u=c!==this.za;return this.za=c,s.length!==0||u?{snapshot:new Nc(this.query,e.Ja,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Lg,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];let e=this.ja;this.ja=ke(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});let t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new jg(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new Vg(r))}),t}su(e){this.Ga=e.$s,this.ja=ke();let t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return Nc.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}},zI="SyncEngine",cI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},lI=class{constructor(e){this.key=e,this._u=!1}},uI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.au={},this.uu=new Yi(a=>tN(a),Kg),this.cu=new Map,this.lu=new Set,this.hu=new Et(ue.comparator),this.Pu=new Map,this.Tu=new yd,this.Iu={},this.Eu=new Map,this.du=_d.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}};function jW(n,e,t=!0){return w(this,null,function*(){let r=NN(n),i,o=r.uu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ou()):i=yield MN(r,e,t,!0),i})}function BW(n,e){return w(this,null,function*(){let t=NN(n);yield MN(t,e,!0,!1)})}function MN(n,e,t,r){return w(this,null,function*(){let i=yield wW(n.localStore,li(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield UW(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&IN(n.remoteStore,i),a})}function UW(n,e,t,r,i){return w(this,null,function*(){n.Ru=(p,v,_)=>function(R,k,G,te){return w(this,null,function*(){let X=k.view.Za(G);X.Cs&&(X=yield d1(R.localStore,k.query,!1).then(({documents:x})=>k.view.Za(x,X)));let Ne=te&&te.targetChanges.get(k.targetId),St=te&&te.targetMismatches.get(k.targetId)!=null,Ue=k.view.applyChanges(X,R.isPrimaryClient,Ne,St);return _1(R,k.targetId,Ue.ru),Ue.snapshot})}(n,p,v,_);let o=yield d1(n.localStore,e,!0),s=new aI(e,o.$s),a=s.Za(o.documents),c=gd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,c);_1(n,t,u.ru);let d=new cI(e,t,s);return n.uu.set(e,d),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),u.snapshot})}function $W(n,e,t){return w(this,null,function*(){let r=ve(n),i=r.uu.get(e),o=r.cu.get(i.targetId);if(o.length>1)return r.cu.set(i.targetId,o.filter(s=>!Kg(s,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield zC(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&LI(r.remoteStore,i.targetId),dI(r,i.targetId)}).catch(Lc))):(dI(r,i.targetId),yield zC(r.localStore,i.targetId,!0))})}function zW(n,e){return w(this,null,function*(){let t=ve(n),r=t.uu.get(e),i=t.cu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),LI(t.remoteStore,r.targetId))})}function HW(n,e,t){return w(this,null,function*(){let r=ZW(n);try{let i=yield function(s,a){let c=ve(s),u=nn.now(),d=a.reduce((_,S)=>_.add(S.key),ke()),p,v;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let S=Qi(),R=ke();return c.Bs.getEntries(_,d).next(k=>{S=k,S.forEach((G,te)=>{te.isValidDocument()||(R=R.add(G))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,S)).next(k=>{p=k;let G=[];for(let te of a){let X=G9(te,p.get(te.key).overlayedDocument);X!=null&&G.push(new Zi(te.key,X,Y1(X.value.mapValue),Hs.exists(!0)))}return c.mutationQueue.addMutationBatch(_,u,G,a)}).next(k=>{v=k;let G=k.applyToLocalDocumentSet(p,R);return c.documentOverlayCache.saveOverlays(_,k.batchId,G)})}).then(()=>({batchId:v.batchId,changes:iN(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Iu[s.currentUser.toKey()];u||(u=new Et(xe)),u=u.insert(a,c),s.Iu[s.currentUser.toKey()]=u}(r,i.batchId,t),yield xd(r,i.changes),yield Xg(r.remoteStore)}catch(i){let o=UI(i,"Failed to persist write");t.reject(o)}})}function PN(n,e){return w(this,null,function*(){let t=ve(n);try{let r=yield _W(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Pu.get(o);s&&(We(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s._u=!0:i.modifiedDocuments.size>0?We(s._u,14607):i.removedDocuments.size>0&&(We(s._u,42227),s._u=!1))}),yield xd(t,r,e)}catch(r){yield Lc(r)}})}function v1(n,e,t){let r=ve(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.uu.forEach((o,s)=>{let a=s.view.Da(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=ve(s);c.onlineState=a;let u=!1;c.queries.forEach((d,p)=>{for(let v of p.ya)v.Da(a)&&(u=!0)}),u&&$I(c)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function qW(n,e,t){return w(this,null,function*(){let r=ve(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Pu.get(e),o=i&&i.key;if(o){let s=new Et(ue.comparator);s=s.insert(o,Or.newNoDocument(o,be.min()));let a=ke().add(o),c=new Cg(be.min(),new Map,new Et(xe),s,a);yield PN(r,c),r.hu=r.hu.remove(o),r.Pu.delete(e),HI(r)}else yield zC(r.localStore,e,!1).then(()=>dI(r,e,t)).catch(Lc)})}function WW(n,e){return w(this,null,function*(){let t=ve(n),r=e.batch.batchId;try{let i=yield vW(t.localStore,e);ON(t,r,null),RN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield xd(t,i)}catch(i){yield Lc(i)}})}function GW(n,e,t){return w(this,null,function*(){let r=ve(n);try{let i=yield function(s,a){let c=ve(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(p=>(We(p!==null,37113),d=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);ON(r,e,t),RN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield xd(r,i)}catch(i){yield Lc(i)}})}function RN(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function ON(n,e,t){let r=ve(n),i=r.Iu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function dI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||kN(n,r)})}function kN(n,e){n.lu.delete(e.path.canonicalString());let t=n.hu.get(e);t!==null&&(LI(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),HI(n))}function _1(n,e,t){for(let r of t)r instanceof Vg?(n.Tu.addReference(r.key,e),KW(n,r)):r instanceof jg?(Z(zI,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||kN(n,r.key)):le(19791,{mu:r})}function KW(n,e){let t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(Z(zI,"New document in limbo: "+t),n.lu.add(r),HI(n))}function HI(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){let e=n.lu.values().next().value;n.lu.delete(e);let t=new ue(Nt.fromString(e)),r=n.du.next();n.Pu.set(r,new lI(t)),n.hu=n.hu.insert(t,r),IN(n.remoteStore,new vd(li(OI(t.path)),r,"TargetPurposeLimboResolution",TI.le))}}function xd(n,e,t){return w(this,null,function*(){let r=ve(n),i=[],o=[],s=[];r.uu.isEmpty()||(r.uu.forEach((a,c)=>{s.push(r.Ru(c,e,t).then(u=>{var d;if((u||t)&&r.isPrimaryClient){let p=u?!u.fromCache:(d=t?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){i.push(u);let p=jC.Rs(c.targetId,u);o.push(p)}}))}),yield Promise.all(s),r.au.j_(i),yield function(c,u){return w(this,null,function*(){let d=ve(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>B.forEach(u,v=>B.forEach(v.ds,_=>d.persistence.referenceDelegate.addReference(p,v.targetId,_)).next(()=>B.forEach(v.As,_=>d.persistence.referenceDelegate.removeReference(p,v.targetId,_)))))}catch(p){if(!Vc(p))throw p;Z(FI,"Failed to update sequence numbers: "+p)}for(let p of u){let v=p.targetId;if(!p.fromCache){let _=d.xs.get(v),S=_.snapshotVersion,R=_.withLastLimboFreeSnapshotVersion(S);d.xs=d.xs.insert(v,R)}}})}(r.localStore,o))})}function YW(n,e){return w(this,null,function*(){let t=ve(n);if(!t.currentUser.isEqual(e)){Z(zI,"User change. New user:",e.toKey());let r=yield EN(t.localStore,e);t.currentUser=e,function(o,s){o.Eu.forEach(a=>{a.forEach(c=>{c.reject(new se($.CANCELLED,s))})}),o.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield xd(t,r.ks)}})}function QW(n,e){let t=ve(n),r=t.Pu.get(e);if(r&&r._u)return ke().add(r.key);{let i=ke(),o=t.cu.get(e);if(!o)return i;for(let s of o){let a=t.uu.get(s);i=i.unionWith(a.view.Ya)}return i}}function NN(n){let e=ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=PN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qW.bind(null,e),e.au.j_=LW.bind(null,e.eventManager),e.au.Vu=VW.bind(null,e.eventManager),e}function ZW(n){let e=ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GW.bind(null,e),e}var FN=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return w(this,null,function*(){this.serializer=Qg(t.databaseInfo.databaseId),this.sharedClientState=this.pu(t),this.persistence=this.yu(t),yield this.persistence.start(),this.localStore=this.wu(t),this.gcScheduler=this.Su(t,this.localStore),this.indexBackfillerScheduler=this.bu(t,this.localStore)})}Su(t,r){return null}bu(t,r){return null}wu(t){return gW(this.persistence,new UC,t.initialUser,this.serializer)}yu(t){return new xg(VC.fi,this.serializer)}pu(t){return new HC}terminate(){return w(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),hI=class extends FN{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){We(this.persistence.referenceDelegate instanceof Mg,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new TC(r,e.asyncQueue,t)}yu(e){let t=this.cacheSizeBytes!==void 0?dr.withCacheSize(this.cacheSizeBytes):dr.DEFAULT;return new xg(r=>Mg.fi(r,t),this.serializer)}};var XW=(()=>{class n{initialize(t,r){return w(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>v1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=YW.bind(null,this.syncEngine),yield kW(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new iI}()}createDatastore(t){let r=Qg(t.databaseInfo.databaseId),i=function(s){return new YC(s)}(t.databaseInfo);return function(s,a,c,u){return new JC(s,a,c,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new tI(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>v1(this.syncEngine,r,0),function(){return Rg.C()?new Rg:new qC}())}createSyncEngine(t,r){return function(o,s,a,c,u,d,p){let v=new uI(o,s,a,c,u,d);return p&&(v.Au=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return w(this,null,function*(){var t,r;yield function(o){return w(this,null,function*(){let s=ve(o);Z(Qs,"RemoteStore shutting down."),s.Ta.add(5),yield Ad(s),s.Ea.shutdown(),s.da.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var fI=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Wi("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var No="FirestoreClient",pI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Wt.UNAUTHENTICATED,this.clientId=mg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>w(this,null,function*(){Z(No,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(Z(No,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=UI(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function VE(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),Z(No,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>w(null,null,function*(){r.isEqual(i)||(yield EN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function y1(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield JW(n);Z(No,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>p1(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>p1(e.remoteStore,i)),n._onlineComponents=e})}function JW(n){return w(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Z(No,"Using user provided OfflineComponentProvider");try{yield VE(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Cc("Error using user provided cache. Falling back to memory cache: "+t),yield VE(n,new FN)}}else Z(No,"Using default OfflineComponentProvider"),yield VE(n,new hI(void 0));return n._offlineComponents})}function LN(n){return w(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(Z(No,"Using user provided OnlineComponentProvider"),yield y1(n,n._uninitializedComponentsProvider._online)):(Z(No,"Using default OnlineComponentProvider"),yield y1(n,new XW))),n._onlineComponents})}function eG(n){return LN(n).then(e=>e.syncEngine)}function tG(n){return w(this,null,function*(){let e=yield LN(n),t=e.eventManager;return t.onListen=jW.bind(null,e.syncEngine),t.onUnlisten=$W.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=BW.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=zW.bind(null,e.syncEngine),t})}function nG(n,e,t={}){let r=new ai;return n.asyncQueue.enqueueAndForget(()=>w(null,null,function*(){return function(o,s,a,c,u){let d=new fI({next:v=>{d.Cu(),s.enqueueAndForget(()=>FW(o,p));let _=v.docs.has(a);!_&&v.fromCache?u.reject(new se($.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&v.fromCache&&c&&c.source==="server"?u.reject(new se($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(v)},error:v=>u.reject(v)}),p=new sI(OI(a.path),d,{includeMetadataChanges:!0,La:!0});return NW(o,p)}(yield tG(n),n.asyncQueue,e,t,r)})),r.promise}function VN(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var b1=new Map;function rG(n,e,t){if(!t)throw new se($.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function iG(n,e,t,r){if(e===!0&&r===!0)throw new se($.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function w1(n){if(!ue.isDocumentKey(n))throw new se($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qI(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":le(12329,{type:typeof n})}function bd(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new se($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=qI(n);throw new se($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var jN="firestore.googleapis.com",E1=!0,Bg=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new se($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jN,this.ssl=E1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:E1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fW)throw new se($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new se($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new se($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new se($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},wd=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jE;switch(r.type){case"firstParty":return new zE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return w(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=b1.get(t);r&&(Z("ComponentProvider","Removing Datastore"),b1.delete(t),r.terminate())}(this),Promise.resolve()}};function oG(n,e,t,r={}){var i;n=bd(n,wd);let o=Ns(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(Dm(`https://${c}`),Sm("Firestore",!0)),s.host!==jN&&s.host!==c&&Cc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!ei(u,a)&&(n._setSettings(u),r.mockUserToken)){let d,p;if(typeof r.mockUserToken=="string")d=r.mockUserToken,p=Wt.MOCK_USER;else{d=mO(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new se($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Wt(v)}n._authCredentials=new BE(new fg(d,p))}}var mI=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},hr=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ed(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Ed=class n extends mI{constructor(e,t,r){super(e,t,OI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new hr(this.firestore,null,new ue(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Jg(n,e,...t){if(n=Vt(n),arguments.length===1&&(e=mg.newId()),rG("doc","path",e),n instanceof wd){let r=Nt.fromString(e,...t);return w1(r),new hr(n,null,new ue(r))}{if(!(n instanceof hr||n instanceof Ed))throw new se($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Nt.fromString(e,...t));return w1(r),new hr(n.firestore,n instanceof Ed?n.converter:null,new ue(r))}}var C1="AsyncQueue",Ug=class{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Og(this,"async_queue_retry"),this.ec=()=>{let r=LE();r&&Z(C1,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;let t=LE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;let t=LE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});let t=new ai;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}sc(){return w(this,null,function*(){if(this.zu.length!==0){try{yield this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Vc(e))throw e;Z(C1,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}})}rc(e){let t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Wi("INTERNAL UNHANDLED ERROR: ",I1(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);let i=nI.createAndSchedule(this,e,t,r,o=>this.oc(o));return this.Hu.push(i),i}nc(){this.Ju&&le(47125,{_c:I1(this.Ju)})}verifyOperationInProgress(){}ac(){return w(this,null,function*(){let e;do e=this.tc,yield e;while(e!==this.tc)})}uc(e){for(let t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){let t=this.Hu.indexOf(e);this.Hu.splice(t,1)}};function I1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var Cd=class extends wd{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Ug,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return w(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Ug(e),this._firestoreClient=void 0,yield e}})}};function ev(n,e){let t=typeof n=="object"?n:Ls(),r=typeof n=="string"?n:e||yg,i=pc(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=pO("firestore");o&&oG(i,...o)}return i}function BN(n){if(n._terminated)throw new se($.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||sG(n),n._firestoreClient}function sG(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,u,d){return new KE(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,VN(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new pI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var Id=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(fn.fromBase64String(e))}catch(t){throw new se($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Td=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new se($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var $g=class{constructor(e){this._methodName=e}};var Dd=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new se($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new se($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}};var Sd=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var aG=/^__.*__$/,gI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Zi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ys(e,this.data,t,this.fieldTransforms)}};function UN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le(40011,{hc:n})}}var vI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return zg(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(UN(this.hc)&&aG.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}},_I=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Qg(e)}gc(e,t,r,i=!1){return new vI({hc:e,methodName:t,fc:r,path:Kn.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function cG(n){let e=n._freezeSettings(),t=Qg(n._databaseId);return new _I(n._databaseId,!!e.ignoreUndefinedProperties,t)}function lG(n,e,t,r,i,o={}){let s=n.gc(o.merge||o.mergeFields?2:0,e,t,i);qN("Data must be an object, but it was:",s,r);let a=zN(r,s),c,u;if(o.merge)c=new si(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let p of o.mergeFields){let v=uG(e,p,t);if(!s.contains(v))throw new se($.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);hG(d,v)||d.push(v)}c=new si(d),u=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=s.fieldTransforms;return new gI(new Rr(a),c,u)}function $N(n,e){if(HN(n=Vt(n)))return qN("Unsupported field value:",e,n),zN(n,e);if(n instanceof $g)return function(r,i){if(!UN(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=$N(a,i.Rc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=nn.fromDate(r);return{timestampValue:Sg(i.serializer,o)}}if(r instanceof nn){let o=new nn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sg(i.serializer,o)}}if(r instanceof Dd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Id)return{bytesValue:pN(i.serializer,r._byteString)};if(r instanceof hr){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Vc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:NI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Sd)return function(s,a){return{mapValue:{fields:{[AI]:{stringValue:xI},[Tc]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Vc("VectorValues must only contain numeric values.");return kI(a.serializer,u)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${qI(r)}`)}(n,e)}function zN(n,e){let t={};return U1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zs(n,(r,i)=>{let o=$N(i,e.Ic(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function HN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof nn||n instanceof Dd||n instanceof Id||n instanceof hr||n instanceof $g||n instanceof Sd)}function qN(n,e,t){if(!HN(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=qI(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}function uG(n,e,t){if((e=Vt(e))instanceof Td)return e._internalPath;if(typeof e=="string")return WN(n,e);throw zg("Field path arguments must be of type string or ",n,!1,void 0,t)}var dG=new RegExp("[~\\*/\\[\\]]");function WN(n,e,t){if(e.search(dG)>=0)throw zg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Td(...e.split("."))._internalPath}catch{throw zg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function zg(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new se($.INVALID_ARGUMENT,a+n+c)}function hG(n,e){return n.some(t=>t.isEqual(e))}var Hg=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new hr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new yI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(GN("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},yI=class extends Hg{data(){return super.data()}};function GN(n,e){return typeof e=="string"?WN(n,e):e instanceof Td?e._internalPath:e._delegate._internalPath}var bI=class{convertValue(e,t="none"){switch(Oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw le(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Zs(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Tc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ft(s.doubleValue));return new Sd(o)}convertGeoPoint(e){return new Dd(ft(e.latitude),ft(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Gg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(pd(e));default:return null}}convertTimestamp(e){let t=Gi(e);return new nn(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Nt.fromString(e);We(bN(r),9688,{name:e});let i=new bg(r.get(1),r.get(3)),o=new ue(r.popFirst(5));return i.isEqual(t)||Wi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function fG(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var wI=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},qg=class extends Hg{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new EI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(GN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},EI=class extends qg{data(e={}){return super.data(e)}};function WI(n){n=bd(n,hr);let e=bd(n.firestore,Cd);return nG(BN(e),n._key).then(t=>mG(e,n,t))}var CI=class extends bI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Id(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,t)}};function KN(n,e,t){n=bd(n,hr);let r=bd(n.firestore,Cd),i=fG(n.converter,e,t);return pG(r,[lG(cG(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Hs.none())])}function pG(n,e){return function(r,i){let o=new ai;return r.asyncQueue.enqueueAndForget(()=>w(null,null,function*(){return HW(yield eG(r),i,o)})),o.promise}(BN(n),e)}function mG(n,e,t){let r=t.docs.get(e._key),i=new CI(n);return new qg(n,i,e._key,r,new wI(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Fc=i})(Ao),Mr(new In("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Cd(new UE(r.getProvider("auth-internal")),new HE(s,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new se($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bg(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Rt(Lk,Vk,e),Rt(Lk,Vk,"esm2017")})();var Be=class n{constructor(e,t){this.http=e;this.router=t;this.initializeAuthState()}loggedIn=new it(!1);currentUser=new it(null);initialized=!1;initializeAuthState(){if(this.initialized)return;this.initialized=!0;let e=localStorage.getItem("custom_user");if(e){let r=JSON.parse(e);this.currentUser.next(r),this.loggedIn.next(!0)}let t=Pr();rg(t,r=>w(this,null,function*(){r?(yield r.reload(),r.emailVerified?yield this.loadUserData(r):this.handleUnverifiedUser()):this.handleNoUser()}))}loadUserData(e){return w(this,null,function*(){try{let t=ev(),r=Jg(t,"users",e.uid),i=yield WI(r),o=i.exists()?i.data():{},s={email:e.email,name:e.displayName||e.email?.split("@")[0],id:e.uid,uid:e.uid,token:yield e.getIdToken(),role:o.role||o.rol||"usuario",status:o.status||"active"};this.loggedIn.next(!0),this.currentUser.next(s),localStorage.setItem("custom_user",JSON.stringify(s)),localStorage.setItem("user_id",s.uid),localStorage.setItem("token",s.token)}catch(t){console.error("Error loading user data:",t),this.handleNoUser()}})}handleUnverifiedUser(){this.loggedIn.next(!1),this.currentUser.next(null),localStorage.removeItem("custom_user"),localStorage.removeItem("token"),this.router.navigate(["/login"],{queryParams:{message:"Por favor verifica tu correo electr\xF3nico"}})}handleNoUser(){this.loggedIn.next(!1),this.currentUser.next(null)}firebaseLogin(e,t){return w(this,null,function*(){try{let r=yield this.http.post("https://cocreandoback.onrender.com/login",{email:e,password:t}).toPromise();if(!r?.success)throw{code:r?.code||"backend_error",message:r?.message||"Error en la validaci\xF3n del backend"};let i=Pr(),o=yield od(i,e,t);if(yield o.user.reload(),!o.user.emailVerified)throw{code:"email_not_verified",message:"Por favor verifica tu correo electr\xF3nico antes de iniciar sesi\xF3n"};let s=ev(),a=Jg(s,"users",o.user.uid),c=yield WI(a),u=c.exists()?c.data():{},d={email:o.user.email,name:o.user.displayName||o.user.email?.split("@")[0],id:o.user.uid,uid:o.user.uid,token:yield o.user.getIdToken(),role:u.role||u.rol||"usuario",status:u.status||"active"};return this.loggedIn.next(!0),this.currentUser.next(d),localStorage.setItem("custom_user",JSON.stringify(d)),localStorage.setItem("user_id",d.uid),localStorage.setItem("token",d.token),!0}catch(r){if(console.error("Login error:",r),r.code?.startsWith("auth/"))switch(r.code){case"auth/user-not-found":throw{code:"user_not_found",message:"Usuario no encontrado"};case"auth/wrong-password":throw{code:"wrong_credentials",message:"Contrase\xF1a incorrecta"};case"auth/too-many-requests":throw{code:"too_many_attempts",message:"Demasiados intentos. Intenta m\xE1s tarde"};default:throw{code:"firebase_error",message:r.message||"Error de autenticaci\xF3n"}}throw r}})}firebaseRegister(e,t,r){return w(this,null,function*(){let i=yield Xm(AE,t,r),o=i.user;yield tg(i.user,{displayName:e}),yield eg(i.user);let s=ev(),a=Jg(s,"users",o.uid);return yield KN(a,{uid:o.uid,name:e,email:t,createdAt:new Date().toISOString(),role:"usuario",status:"active"}),!0})}isEmailVerified(){return w(this,null,function*(){let e=Pr();return e.currentUser?(yield e.currentUser.reload(),e.currentUser.emailVerified):!1})}isAdmin(){return this.getCurrentUserValue()?.role?.toLowerCase()==="admin"}sendPasswordResetEmail(e){return w(this,null,function*(){try{let t=Pr();yield Zm(t,e)}catch(t){console.error("Error al enviar correo de recuperaci\xF3n:",t);let r="Error al enviar el correo. Intenta nuevamente.";throw t.code==="auth/user-not-found"?r="No existe una cuenta con este correo.":t.code==="auth/too-many-requests"&&(r="Demasiados intentos. Espera antes de reintentar."),new Error(r)}})}fetchSignInMethodsForEmail(e){return Jm(AE,e)}fetchUserProfile(){return w(this,null,function*(){try{let e=yield this.http.get("https://cocreandoback.onrender.com/api/users/me").toPromise();return this.currentUser.next(e),localStorage.setItem("custom_user",JSON.stringify(e)),e}catch(e){throw console.error("Error fetching user profile:",e),e}})}register(e,t,r){return w(this,null,function*(){try{let i=yield this.http.post("https://cocreandoback.onrender.com/registro",{name:e,email:t,password:r}).toPromise();if(i.success)return yield this.firebaseRegister(e,t,r),!0;throw{message:i.message||"Error en validaci\xF3n del backend"}}catch(i){throw console.error("Register error:",i),i}})}logout(){localStorage.removeItem("custom_user"),sessionStorage.removeItem("custom_user"),this.loggedIn.next(!1),this.currentUser.next(null),this.router.navigate(["/login"])}get isAuthenticated(){return this.loggedIn.value}get isAuthenticated$(){return this.loggedIn.asObservable()}get currentUser$(){return this.currentUser.asObservable()}getToken(){return localStorage.getItem("token")}getCurrentUserValue(){return this.currentUser.value}changePassword(e,t){let r=Pr(),i=r.currentUser;return!i||!i.email?At(()=>new Error("No hay usuario autenticado")):$e(od(r,i.email,e)).pipe(yt(o=>$e(ng(o.user,t))),Ge(o=>{console.error("Error changing password:",o);let s="Revisa los campos ingresados o no es la contrase\xF1a actual o la contrase\xF1a nueva debe tener: -una letra -un numero - un caracter";return o.code==="auth/wrong-password"?s="La contrase\xF1a actual es incorrecta":o.code==="auth/requires-recent-login"?s="La sesi\xF3n es muy antigua. Por favor cierra sesi\xF3n y vuelve a iniciar":o.code==="auth/weak-password"&&(s="La nueva contrase\xF1a es muy d\xE9bil (m\xEDnimo 6 caracteres)"),At(()=>new Error(s))}))}static \u0275fac=function(t){return new(t||n)(Y(sr),Y(Ae))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};function gG(n,e){n&1&&(g(0,"span"),b(1,"Iniciar Sesi\xF3n"),m())}function vG(n,e){n&1&&ae(0,"span",26)}function _G(n,e){if(n&1&&(g(0,"div",27)(1,"i",28),b(2,"\u26A0\uFE0F"),m(),b(3),m()),n&2){let t=U();E(3),ie(" ",t.errorMessage," ")}}var tv=class n{constructor(e,t){this.router=e;this.authService=t}email="";password="";rememberMe=!1;errorMessage="";loading=!1;activeField="";showPassword=!1;navigateTo(e){this.router.navigate([e])}togglePasswordVisibility(){this.showPassword=!this.showPassword;let e=document.getElementById("password");e&&(e.type=this.showPassword?"text":"password")}onSubmit(){return w(this,null,function*(){if(!this.email||!this.password){this.errorMessage="Por favor completa todos los campos";return}this.loading=!0,this.errorMessage="";try{(yield this.authService.firebaseLogin(this.email,this.password))&&(this.rememberMe?localStorage.setItem("rememberedEmail",this.email):localStorage.removeItem("rememberedEmail"),this.authService.isAdmin()?this.router.navigate(["/admin"]):this.router.navigate(["/dashboard"]))}catch(e){this.errorMessage=e.error?.message||e.message||"Error al iniciar sesi\xF3n",e.error?.code==="email_not_verified"&&(this.errorMessage="Por favor verifica tu email antes de iniciar sesi\xF3n"),e.error?.code==="account_banned"&&(this.errorMessage="Cuenta suspendida. Contacta al soporte."),e.error?.code}finally{this.loading=!1}})}getFirebaseErrorMessage(e){switch(e){case"auth/user-not-found":return"Usuario no encontrado";case"auth/wrong-password":return"Contrase\xF1a incorrecta";case"auth/too-many-requests":return"Demasiados intentos. Intenta m\xE1s tarde";default:return"Error al iniciar sesi\xF3n"}}getErrorMessage(e){return e.error?.message?e.error.message:"Ocurri\xF3 un error durante el inicio de sesi\xF3n. Por favor int\xE9ntalo m\xE1s tarde."}validateEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}ngOnInit(){let e=localStorage.getItem("rememberedEmail");e&&(this.email=e,this.rememberMe=!0)}static \u0275fac=function(t){return new(t||n)(j(Ae),j(Be))};static \u0275cmp=Re({type:n,selectors:[["app-login"]],decls:44,vars:11,consts:[[1,"login-wrapper"],[1,"login-container"],[1,"login-header"],["src","https://res.cloudinary.com/dtg8i6j9f/image/upload/v1748278760/CoCreando__2_-removebg-preview_fzjn1g.png","alt","CoCreando Logo",1,"logo"],[1,"login-form",3,"ngSubmit"],[1,"form-group","floating"],["type","email","id","email","name","email","required","","placeholder"," ",3,"ngModelChange","focus","blur","ngModel"],["for","email"],[1,"icon"],["type","password","id","password","name","password","required","","placeholder"," ",3,"ngModelChange","focus","blur","ngModel"],["for","password"],["type","button",1,"toggle-password",3,"click"],[1,"form-options"],[1,"remember-me"],["type","checkbox","name","rememberMe",3,"ngModelChange","ngModel"],[1,"checkmark"],[3,"click"],["type","submit",1,"login-button",3,"disabled"],[4,"ngIf"],["class","spinner",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"register-link"],[1,"login-background"],[1,"shape","shape-1"],[1,"shape","shape-2"],[1,"shape","shape-3"],[1,"spinner"],[1,"error-message"],[1,"error-icon"]],template:function(t,r){t&1&&(g(0,"div",0)(1,"div",1)(2,"div",2),ae(3,"img",3),g(4,"h1"),b(5,"Bienvenido a "),g(6,"span"),b(7,"CoCreando"),m()(),g(8,"p"),b(9,"Colabora, crea y comparte tus proyectos"),m()(),g(10,"form",4),H("ngSubmit",function(){return r.onSubmit()}),g(11,"div",5)(12,"input",6),nt("ngModelChange",function(o){return ot(r.email,o)||(r.email=o),o}),H("focus",function(){return r.activeField="email"})("blur",function(){return r.activeField=""}),m(),g(13,"label",7),b(14,"Correo electr\xF3nico"),m(),g(15,"i",8),b(16,"\u2709\uFE0F"),m()(),g(17,"div",5)(18,"input",9),nt("ngModelChange",function(o){return ot(r.password,o)||(r.password=o),o}),H("focus",function(){return r.activeField="password"})("blur",function(){return r.activeField=""}),m(),g(19,"label",10),b(20,"Contrase\xF1a"),m(),g(21,"i",8),b(22,"\u{1F512}"),m(),g(23,"button",11),H("click",function(){return r.togglePasswordVisibility()}),b(24," \u{1F441}\uFE0F "),m()(),g(25,"div",12)(26,"label",13)(27,"input",14),nt("ngModelChange",function(o){return ot(r.rememberMe,o)||(r.rememberMe=o),o}),m(),ae(28,"span",15),b(29," Recordarme "),m(),g(30,"a",16),H("click",function(){return r.navigateTo("/forgot-password")}),b(31,"\xBFOlvidaste tu contrase\xF1a?"),m()(),g(32,"button",17),W(33,gG,2,0,"span",18)(34,vG,1,0,"span",19),m(),W(35,_G,4,1,"div",20),g(36,"div",21),b(37," \xBFNo tienes una cuenta? "),g(38,"a",16),H("click",function(){return r.navigateTo("/register")}),b(39,"Reg\xEDstrate"),m()()()(),g(40,"div",22),ae(41,"div",23)(42,"div",24)(43,"div",25),m()()),t&2&&(E(12),tt("ngModel",r.email),E(),Ye("active",r.activeField==="email"||r.email),E(5),tt("ngModel",r.password),E(),Ye("active",r.activeField==="password"||r.password),E(8),tt("ngModel",r.rememberMe),E(5),F("disabled",r.loading),E(),F("ngIf",!r.loading),E(),F("ngIf",r.loading),E(),F("ngIf",r.errorMessage))},dependencies:[Nn,lr,Pt,gw,Ht,cr,Vi,Cn,Li,ht,vt],styles:['.login-form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}.login-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f8f9fa;position:relative;overflow:hidden;padding:2rem}.login-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 25px -5px #0000001a;width:100%;max-width:450px;z-index:2;overflow:hidden;transition:all .3s ease-in-out}.login-container[_ngcontent-%COMP%]:hover{box-shadow:0 15px 30px -5px #00000026}.login-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#426e28,#146b08);color:#fff;padding:2.5rem 2rem;text-align:center}.login-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:50px;margin-bottom:1rem}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.8rem;font-weight:600}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#88c9a1}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0 0;opacity:.9;font-size:.95rem}.login-form[_ngcontent-%COMP%]{padding:2rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:1.5rem}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;left:3rem;top:1rem;color:#718096;pointer-events:none;transition:all .3s ease-in-out}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   label.active[_ngcontent-%COMP%]{top:-.6rem;left:2.8rem;font-size:.75rem;background:#fff;padding:0 .3rem;color:#426e28}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:3rem;height:3rem}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#426e28;box-shadow:0 0 0 2px #426e2833}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:1rem;font-size:1rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:1px solid #e2e8f0;border-radius:8px;font-size:1rem;transition:all .3s ease-in-out}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem;background:none;border:none;cursor:pointer;opacity:.5;transition:all .3s ease-in-out}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover{opacity:1}.form-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:1.5rem 0}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;color:#718096;font-size:.9rem}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{display:inline-block;width:18px;height:18px;margin-right:8px;border:1px solid #cbd5e0;border-radius:4px;position:relative;transition:all .3s ease-in-out}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none;left:6px;top:2px;width:5px;height:10px;border:solid white;border-width:0 2px 2px 0;transform:rotate(45deg)}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#426e28;border-color:#426e28}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.form-options[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{color:#426e28;text-decoration:none;font-size:.9rem;transition:all .3s ease-in-out}.form-options[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-button[_ngcontent-%COMP%]{width:100%;padding:1rem;background:linear-gradient(135deg,#426e28,#146b08);color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease-in-out}.login-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#375b21,#105306);transform:translateY(-2px)}.login-button[_ngcontent-%COMP%]:disabled{background:#cbd5e0;cursor:not-allowed;transform:none}.login-button[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;border:3px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.error-message[_ngcontent-%COMP%]{color:#e53e3e;background:#e53e3e1a;padding:.8rem;border-radius:8px;margin:1rem 0;display:flex;align-items:center;font-size:.9rem}.error-message[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-right:.5rem}.social-login[_ngcontent-%COMP%]{margin:2rem 0 1rem;text-align:center}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;font-size:.9rem;position:relative;margin:1rem 0}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before, .social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:after{content:"";display:inline-block;width:30%;height:1px;background:#e2e8f0;position:absolute;top:50%}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before{left:0}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:after{right:0}.social-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem}.social-buttons[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]{flex:1;padding:.7rem;border:1px solid #e2e8f0;border-radius:8px;background:#fff;display:flex;align-items:center;justify-content:center;gap:.5rem;font-size:.9rem;cursor:pointer;transition:all .3s ease-in-out}.social-buttons[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:hover{background:#f8fafc;transform:translateY(-2px)}.social-buttons[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:18px;height:18px}.social-buttons[_ngcontent-%COMP%]   .social-button.google[_ngcontent-%COMP%]{color:#db4437}.social-buttons[_ngcontent-%COMP%]   .social-button.github[_ngcontent-%COMP%]{color:#333}.register-link[_ngcontent-%COMP%]{text-align:center;color:#718096;font-size:.9rem;margin-top:1.5rem}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#426e28;text-decoration:none;font-weight:500;transition:all .3s ease-in-out}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}.login-background[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{position:absolute;border-radius:50%;background:#88c9a11a;transition:all 15s linear}.login-background[_ngcontent-%COMP%]   .shape.shape-1[_ngcontent-%COMP%]{width:300px;height:300px;top:-100px;left:-100px;animation:_ngcontent-%COMP%_float 12s ease-in-out infinite}.login-background[_ngcontent-%COMP%]   .shape.shape-2[_ngcontent-%COMP%]{width:200px;height:200px;bottom:-50px;right:-50px;animation:_ngcontent-%COMP%_float 8s ease-in-out infinite reverse}.login-background[_ngcontent-%COMP%]   .shape.shape-3[_ngcontent-%COMP%]{width:150px;height:150px;top:30%;right:20%;animation:_ngcontent-%COMP%_float 10s ease-in-out infinite 2s}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-20px) rotate(5deg)}}@media (max-width: 576px){.login-wrapper[_ngcontent-%COMP%]{padding:1rem}.login-header[_ngcontent-%COMP%]{padding:1.5rem 1rem}.login-form[_ngcontent-%COMP%]{padding:1.5rem}.social-buttons[_ngcontent-%COMP%]{flex-direction:column}}']})};var pi={production:!1,apiUrl:"https://cocreandoback.onrender.com",payuSandbox:!0,firebaseConfig:{apiKey:"AIzaSyDnCfzF5psHLcnmbeJGrBuWpxOkUp01Lfo",authDomain:"cocreando-2dbd1.firebaseapp.com",projectId:"cocreando-2dbd1",storageBucket:"cocreando-2dbd1.firebasestorage.app",messagingSenderId:"862709485856",appId:"1:862709485856:web:e0994b08e2a748679b0745",measurementId:"G-EXLRNLVN1B"}};var Vn=class n{constructor(e,t){this.http=e;this.authService=t}apiUrl=pi.apiUrl||"https://cocreandoback.onrender.com";getProjects(){let e=localStorage.getItem("custom_user"),r=(e?JSON.parse(e):null)?.role==="admin";return this.http.get(`${this.apiUrl}/proyecto/listarProyectos`,{withCredentials:!0}).pipe(yt(i=>{if(r)return Q(i);{let o=i.filter(s=>s.status==="approved");return Q(o)}}),Ge(i=>(console.error("Error fetching projects from API:",i),Q([]))))}getProjectAnalytics(e){return this.http.get(`${this.apiUrl}/analytics/${e}`)}getProjectById(e){return this.http.get(`${this.apiUrl}/proyecto/obtenerProyecto/${e}`,{withCredentials:!0}).pipe(Ge(t=>(console.error(`Error fetching project ${e}:`,t),Q(null))))}createProject(e){e.id||(e.id=this.generateProjectId()),e.deadline&&(e.deadline=new Date(e.deadline).toISOString()),e.rewards=e.rewards||[],e.updates=e.updates||[],e.supporters=[];let t=this.authService.getToken(),r=new zt({"Content-Type":"application/json",Authorization:`Bearer ${t}`});return this.http.post(`${this.apiUrl}/proyecto/crearProyecto`,e,{headers:r,withCredentials:!0}).pipe(Ge(i=>{throw console.error("Error creating project:",i),i}))}generateProjectId(){return"proj-"+Math.random().toString(36).substr(2,9)}updateProject(e,t){let r=this.authService.getToken(),i=new zt({"Content-Type":"application/json",Authorization:`Bearer ${r}`});return this.http.put(`${this.apiUrl}/proyecto/actualizarProyecto/${e}`,t,{headers:i,withCredentials:!0}).pipe(Ge(o=>{throw console.error(`Error updating project ${e}:`,o),o}))}deleteProject(e){let t=this.authService.getToken(),r=new zt({"Content-Type":"application/json",Authorization:`Bearer ${t}`});return this.http.delete(`${this.apiUrl}/proyecto/eliminarProyecto/${e}`,{headers:r,withCredentials:!0}).pipe(Ge(i=>{throw console.error(`Error deleting project ${e}:`,i),i}))}static \u0275fac=function(t){return new(t||n)(Y(sr),Y(Be))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};function yG(n,e){if(n&1&&(g(0,"option",13),b(1),m()),n&2){let t=e.$implicit;F("value",t),E(),re(t)}}function bG(n,e){n&1&&(g(0,"div",14)(1,"p"),b(2,"Cargando proyectos..."),m()())}function wG(n,e){if(n&1){let t=Pe();g(0,"div",15)(1,"p"),b(2),m(),g(3,"button",16),H("click",function(){J(t);let i=U();return ee(i.loadProjects())}),b(4,"Reintentar"),m()()}if(n&2){let t=U();E(2),re(t.error)}}function EG(n,e){n&1&&(g(0,"div",20)(1,"p"),b(2,"No se encontraron proyectos con los filtros aplicados."),m()())}function CG(n,e){if(n&1){let t=Pe();g(0,"div",21),H("click",function(){let i=J(t).$implicit,o=U(2);return ee(o.viewDetails(i.id))}),g(1,"div",22),ae(2,"img",23),m(),g(3,"div",24)(4,"h3"),b(5),m(),g(6,"p",25),b(7),m(),g(8,"div",26),b(9),m(),g(10,"div",26),b(11),dt(12,"uppercase"),m(),g(13,"div",27)(14,"div",28),ae(15,"div",29),m(),g(16,"div",30)(17,"span",31),b(18),m(),g(19,"span",32),b(20),m()()(),g(21,"div",33)(22,"div",34)(23,"span",35),b(24,"Recaudado:"),m(),g(25,"span",36),b(26),dt(27,"number"),m()(),g(28,"div",34)(29,"span",35),b(30,"Meta:"),m(),g(31,"span",36),b(32),dt(33,"number"),m()()(),g(34,"button",37),H("click",function(i){let o=J(t).$implicit;return U(2).viewDetails(o.id),ee(i.stopPropagation())}),b(35," Ver Detalles "),m()()()}if(n&2){let t=e.$implicit,r=U(2);E(2),F("src",(t.creator==null?null:t.creator.avatar)||"assets/default-project.jpg",go),E(3),re(t.title),E(2),re(t.description),E(2),re(t.category),E(),Ye("pending",t.status==="pending")("approved",t.status==="approved")("rejected",t.status==="rejected"),E(),ie(" ",en(12,17,t.status)," "),E(4),ki("width",r.getProgressPercentage(t)+"%"),E(3),ie("",r.getProgressPercentage(t).toFixed(0),"%"),E(2),ie("",r.getDaysRemaining(t.deadline)," d\xEDas restantes"),E(6),ie("$",en(27,19,t.collected),""),E(6),ie("$",en(33,21,t.goal),"")}}function IG(n,e){if(n&1&&(g(0,"div"),W(1,EG,3,0,"div",17),g(2,"div",18),W(3,CG,36,23,"div",19),m()()),n&2){let t=U();E(),F("ngIf",t.filteredProjects.length===0),E(2),F("ngForOf",t.filteredProjects)("ngForTrackBy",t.trackByProjectId)}}var nv=class n{constructor(e,t){this.router=e;this.projectService=t}projects=[];filteredProjects=[];categories=["Todos","Tecnolog\xEDa","Social","Medio Ambiente","Educaci\xF3n"];selectedCategory="Todos";isLoading=!0;error=null;searchTerm="";ngOnInit(){this.loadProjects()}loadProjects(){this.isLoading=!0,this.error=null,this.projectService.getProjects().subscribe({next:e=>{e.length===0&&(this.error="No se encontraron proyectos."),this.projects=this.parseProjects(e),this.applyFilters(),this.isLoading=!1},error:e=>{console.error("Error loading projects",e),this.error="No se pudieron cargar los proyectos. Por favor intenta m\xE1s tarde.",this.isLoading=!1,this.projects=[],this.filteredProjects=[]}})}parseProjects(e){return e.map(t=>ne(L({},t),{deadline:new Date(t.deadline),updates:t.updates?.map(r=>ne(L({},r),{date:new Date(r.date)}))||[],supporters:t.supporters?.map(r=>ne(L({},r),{date:new Date(r.date)}))||[]}))}handleError(e){console.error("Error:",e),this.error="Error al cargar proyectos. Verifica la consola para m\xE1s detalles.",this.isLoading=!1,this.projects=[],this.filteredProjects=[]}applyFilters(){if(this.filteredProjects=this.selectedCategory==="Todos"?[...this.projects]:this.projects.filter(e=>e.category===this.selectedCategory),this.searchTerm.trim()){let e=this.searchTerm.toLowerCase().trim();this.filteredProjects=this.filteredProjects.filter(t=>t.title.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)||t.category.toLowerCase().includes(e))}}onCategoryChange(){this.applyFilters()}onSearch(){this.applyFilters()}getDaysRemaining(e){if(!e)return 0;let r=(typeof e=="string"?new Date(e):e).getTime()-new Date().getTime();return Math.max(0,Math.ceil(r/(1e3*60*60*24)))}getProgressPercentage(e){return!e.goal||e.goal<=0?0:Math.min(100,e.collected/e.goal*100)}viewDetails(e){this.router.navigate(["/project",e])}refreshProjects(){this.searchTerm="",this.selectedCategory="Todos",this.loadProjects()}trackByProjectId(e,t){return t.id}static \u0275fac=function(t){return new(t||n)(j(Ae),j(Vn))};static \u0275cmp=Re({type:n,selectors:[["app-dashboard"]],decls:17,vars:6,consts:[[1,"dashboard-container"],[1,"header"],[1,"refresh-button",3,"click"],[1,"refresh-icon"],[1,"filters"],[1,"search-filter"],["type","text","placeholder","Buscar proyectos...",3,"ngModelChange","input","ngModel"],[1,"category-filter"],[3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","loading-spinner",4,"ngIf"],["class","error-message",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"loading-spinner"],[1,"error-message"],[3,"click"],["class","no-projects",4,"ngIf"],[1,"projects-grid"],["class","project-card",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"no-projects"],[1,"project-card",3,"click"],[1,"project-image"],["alt","Imagen del proyecto",3,"src"],[1,"project-content"],[1,"description"],[1,"category-tag"],[1,"progress-container"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-info"],[1,"percentage"],[1,"days-left"],[1,"stats"],[1,"stat"],[1,"label"],[1,"value"],[1,"button-primary",3,"click"]],template:function(t,r){t&1&&(g(0,"div",0)(1,"div",1)(2,"h1"),b(3,"Proyectos Destacados"),m(),g(4,"button",2),H("click",function(){return r.refreshProjects()}),g(5,"i",3),b(6,"\u21BB"),m(),b(7," Actualizar "),m()(),g(8,"div",4)(9,"div",5)(10,"input",6),nt("ngModelChange",function(o){return ot(r.searchTerm,o)||(r.searchTerm=o),o}),H("input",function(){return r.onSearch()}),m()(),g(11,"div",7)(12,"select",8),nt("ngModelChange",function(o){return ot(r.selectedCategory,o)||(r.selectedCategory=o),o}),H("change",function(){return r.onCategoryChange()}),W(13,yG,2,2,"option",9),m()()(),W(14,bG,3,0,"div",10)(15,wG,5,1,"div",11)(16,IG,4,3,"div",12),m()),t&2&&(E(10),tt("ngModel",r.searchTerm),E(2),tt("ngModel",r.selectedCategory),E(),F("ngForOf",r.categories),E(),F("ngIf",r.isLoading),E(),F("ngIf",r.error),E(),F("ngIf",!r.isLoading&&!r.error))},dependencies:[ht,$t,vt,ws,Kr,Nn,To,Do,Pt,Jr,Ht,Cn,Ps],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#2c3e50}.filters[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:2rem}.filters[_ngcontent-%COMP%]   .search-filter[_ngcontent-%COMP%]{flex:1}.filters[_ngcontent-%COMP%]   .search-filter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #ddd;border-radius:4px}.filters[_ngcontent-%COMP%]   .category-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #ddd;border-radius:4px;background-color:#fff}.projects-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:2rem}.project-card[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:8px;overflow:hidden;transition:transform .2s,box-shadow .2s;cursor:pointer}.project-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 15px #0000001a}.project-card[_ngcontent-%COMP%]   .project-image[_ngcontent-%COMP%]{height:160px;overflow:hidden}.project-card[_ngcontent-%COMP%]   .project-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.project-card[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]{padding:1.5rem}.project-card[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#2c3e50}.project-card[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#666;margin-bottom:1rem}.project-card[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .category-tag[_ngcontent-%COMP%]{display:inline-block;background-color:#f0f0f0;padding:.25rem .5rem;border-radius:4px;font-size:.8rem;margin-bottom:1rem}.progress-container[_ngcontent-%COMP%]{margin:1rem 0}.progress-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:8px;background-color:#f0f0f0;border-radius:4px;overflow:hidden}.progress-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background-color:#42b983;transition:width .3s}.progress-container[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:.5rem;font-size:.9rem}.progress-container[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]{font-weight:700;color:#42b983}.progress-container[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]   .days-left[_ngcontent-%COMP%]{color:#666}.stats[_ngcontent-%COMP%]{display:flex;gap:1rem;margin:1rem 0}.stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{flex:1}.stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;font-size:.8rem;color:#666}.stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700}.button-primary[_ngcontent-%COMP%]{width:100%;padding:.75rem;background-color:#42b983;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .2s}.button-primary[_ngcontent-%COMP%]:hover{background-color:#369f73}.loading-spinner[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%], .no-projects[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#666}.error-message[_ngcontent-%COMP%]{color:#e74c3c}.error-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1rem;padding:.5rem 1rem;background-color:#e74c3c;color:#fff;border:none;border-radius:4px;cursor:pointer}.refresh-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;display:flex;align-items:center;gap:.5rem;color:#666}.refresh-button[_ngcontent-%COMP%]:hover{color:#42b983}.refresh-button[_ngcontent-%COMP%]   .refresh-icon[_ngcontent-%COMP%]{font-size:1.2rem}"]})};var rv=class n{constructor(e,t){this.http=e;this.authService=t}apiUrl=`${pi.apiUrl}`;getHeaders(){let e=this.authService.getToken();if(!e)return console.error("No se encontr\xF3 token JWT"),new zt;let t=e.startsWith("Bearer ")?e:`Bearer ${e}`;return new zt({Authorization:t,"Content-Type":"application/json"})}getUsers(){return this.http.get(`${this.apiUrl}/usuario/listarUsuarios`,{headers:this.getHeaders(),withCredentials:!0})}updateUserRole(e,t){return this.http.put(`${this.apiUrl}/usuario/actualizarUsuario/${e}`,{role:t},{headers:this.getHeaders(),withCredentials:!0})}banUser(e){return this.http.put(`${this.apiUrl}/usuario/actualizarUsuario/${e}`,{status:"banned"},{headers:this.getHeaders(),withCredentials:!0})}unbanUser(e){return this.http.put(`${this.apiUrl}/usuario/actualizarUsuario/${e}`,{status:"active"},{headers:this.getHeaders(),withCredentials:!0})}approveProject(e){return this.http.put(`${this.apiUrl}/proyecto/aprobarProyecto/${e}`,{},{headers:this.getHeaders(),withCredentials:!0})}rejectProject(e){return this.http.put(`${this.apiUrl}/proyecto/rechazarProyecto/${e}`,{},{headers:this.getHeaders(),withCredentials:!0})}getPendingProjects(){return this.http.get(`${this.apiUrl}/proyecto/listarProyectosStatus/pending`,{headers:this.getHeaders(),withCredentials:!0})}getAllProjects(){return this.http.get(`${this.apiUrl}/proyecto/listarProyectos`,{headers:this.getHeaders(),withCredentials:!0})}static \u0275fac=function(t){return new(t||n)(Y(sr),Y(Be))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};var DG=n=>["/project",n];function SG(n,e){n&1&&(g(0,"div",4)(1,"p"),b(2,"Cargando datos..."),m()())}function AG(n,e){if(n&1){let t=Pe();g(0,"div",5)(1,"p"),b(2),m(),g(3,"button",6),H("click",function(){J(t);let i=U();return ee(i.refreshData())}),b(4,"Reintentar"),m()()}if(n&2){let t=U();E(2),re(t.error)}}function xG(n,e){n&1&&(g(0,"span",26),b(1,"Baneado"),m())}function MG(n,e){n&1&&(g(0,"span",27),b(1,"Activo"),m())}function PG(n,e){if(n&1){let t=Pe();g(0,"button",28),H("click",function(){J(t);let i=U().$implicit,o=U(2);return ee(o.banUser(i.id))}),b(1," Banear "),m()}}function RG(n,e){if(n&1){let t=Pe();g(0,"button",29),H("click",function(){J(t);let i=U().$implicit,o=U(2);return ee(o.unbanUser(i.id))}),b(1," Desbanear "),m()}}function OG(n,e){if(n&1){let t=Pe();g(0,"tr")(1,"td"),b(2),m(),g(3,"td"),b(4),m(),g(5,"td")(6,"select",11),nt("ngModelChange",function(i){let o=J(t).$implicit;return ot(o.role,i)||(o.role=i),ee(i)}),H("change",function(){let i=J(t).$implicit,o=U(2);return ee(o.updateUserRole(i.id,i.role))}),g(7,"option",13),b(8,"Usuario"),m(),g(9,"option",14),b(10,"Administrador"),m()()(),g(11,"td"),W(12,xG,2,0,"span",22)(13,MG,2,0,"span",23),m(),g(14,"td"),W(15,PG,2,0,"button",24)(16,RG,2,0,"button",25),m()()}if(n&2){let t=e.$implicit;E(2),re(t.name),E(2),re(t.email),E(2),tt("ngModel",t.role),E(6),F("ngIf",t.status==="banned"),E(),F("ngIf",t.status!=="banned"),E(2),F("ngIf",t.status!=="banned"),E(),F("ngIf",t.status==="banned")}}function kG(n,e){n&1&&(g(0,"div",30),b(1," No se encontraron usuarios con los filtros aplicados. "),m())}function NG(n,e){if(n&1){let t=Pe();g(0,"tr")(1,"td"),b(2),m(),g(3,"td"),b(4),m(),g(5,"td"),b(6),m(),g(7,"td")(8,"span"),b(9),dt(10,"uppercase"),m()(),g(11,"td")(12,"div",31)(13,"button",29),H("click",function(){let i=J(t).$implicit,o=U(2);return ee(o.approveProject(i.id))}),b(14,"Aprobar"),m(),g(15,"button",28),H("click",function(){let i=J(t).$implicit,o=U(2);return ee(o.rejectProject(i.id))}),b(16,"Rechazar"),m(),g(17,"a",32),b(18,"Ver"),m()()()()}if(n&2){let t=e.$implicit;E(2),re(t.title),E(2),re((t.creator==null?null:t.creator.name)||t.creator),E(2),re(t.category),E(2),Ye("pending",t.status==="pending")("approved",t.status==="approved")("rejected",t.status==="rejected"),E(),ie(" ",en(10,11,t.status)," "),E(8),F("routerLink",xM(13,DG,t.id))}}function FG(n,e){n&1&&(g(0,"div",30),b(1," No se encontraron proyectos con los filtros aplicados o para ser aprobados o rechazados. "),m())}function LG(n,e){if(n&1){let t=Pe();g(0,"div",7)(1,"div",8)(2,"h2"),b(3,"Gesti\xF3n de Usuarios"),m(),g(4,"div",9)(5,"input",10),nt("ngModelChange",function(i){J(t);let o=U();return ot(o.searchUserTerm,i)||(o.searchUserTerm=i),ee(i)}),H("input",function(){J(t);let i=U();return ee(i.filterUsers())}),m(),g(6,"select",11),nt("ngModelChange",function(i){J(t);let o=U();return ot(o.selectedUserRole,i)||(o.selectedUserRole=i),ee(i)}),H("change",function(){J(t);let i=U();return ee(i.filterUsers())}),g(7,"option",12),b(8,"Todos los roles"),m(),g(9,"option",13),b(10,"Usuario"),m(),g(11,"option",14),b(12,"Administrador"),m()()(),g(13,"div",15)(14,"table")(15,"thead")(16,"tr")(17,"th"),b(18,"Nombre"),m(),g(19,"th"),b(20,"Email"),m(),g(21,"th"),b(22,"Rol"),m(),g(23,"th"),b(24,"Estado"),m(),g(25,"th"),b(26,"Acciones"),m()()(),g(27,"tbody"),W(28,OG,17,7,"tr",16),m()(),W(29,kG,2,0,"div",17),m()(),g(30,"div",8)(31,"h2"),b(32,"Gesti\xF3n de Proyectos"),m(),g(33,"div",9)(34,"input",18),nt("ngModelChange",function(i){J(t);let o=U();return ot(o.searchProjectTerm,i)||(o.searchProjectTerm=i),ee(i)}),H("input",function(){J(t);let i=U();return ee(i.filterProjects())}),m(),g(35,"select",11),nt("ngModelChange",function(i){J(t);let o=U();return ot(o.selectedProjectStatus,i)||(o.selectedProjectStatus=i),ee(i)}),H("change",function(){J(t);let i=U();return ee(i.filterProjects())}),g(36,"option",19),b(37,"Pendientes"),m(),g(38,"option",20),b(39,"Aprobados"),m(),g(40,"option",21),b(41,"Rechazados"),m(),g(42,"option",12),b(43,"Todos"),m()()(),g(44,"div",15)(45,"table")(46,"thead")(47,"tr")(48,"th"),b(49,"T\xEDtulo"),m(),g(50,"th"),b(51,"Creador"),m(),g(52,"th"),b(53,"Categor\xEDa"),m(),g(54,"th"),b(55,"Estado"),m(),g(56,"th"),b(57,"Acciones"),m()()(),g(58,"tbody"),W(59,NG,19,15,"tr",16),m()(),W(60,FG,2,0,"div",17),m()()()}if(n&2){let t=U();E(5),tt("ngModel",t.searchUserTerm),E(),tt("ngModel",t.selectedUserRole),E(22),F("ngForOf",t.filteredUsers),E(),F("ngIf",t.filteredUsers.length===0),E(5),tt("ngModel",t.searchProjectTerm),E(),tt("ngModel",t.selectedProjectStatus),E(24),F("ngForOf",t.filteredProjects),E(),F("ngIf",t.filteredProjects.length===0)}}var iv=class n{constructor(e,t,r){this.adminService=e;this.authService=t;this.router=r}users=[];pendingProjects=[];allProjects=[];filteredUsers=[];filteredProjects=[];searchUserTerm="";searchProjectTerm="";selectedUserRole="all";selectedProjectStatus="pending";isLoading=!0;error=null;ngOnInit(){if(!this.authService.isAdmin()){this.router.navigate(["/dashboard"]);return}this.loadData()}loadData(){this.isLoading=!0,this.error=null,this.adminService.getUsers().subscribe({next:e=>{this.users=e,this.filteredUsers=[...e],this.adminService.getAllProjects().subscribe({next:t=>{this.allProjects=t,this.filteredProjects=[...t],this.isLoading=!1},error:t=>{console.error("Error loading projects:",t),this.error="Error al cargar proyectos: "+this.getErrorMessage(t),this.isLoading=!1}})},error:e=>{console.error("Error loading users:",e),this.error="Error al cargar usuarios",this.isLoading=!1}})}getErrorMessage(e){return e.status===403?"Acceso denegado. No tienes permisos de administrador.":e.status===401?"Sesi\xF3n expirada. Por favor inicia sesi\xF3n nuevamente.":"Error en el servidor. Intenta nuevamente m\xE1s tarde."}filterUsers(){this.filteredUsers=this.users.filter(e=>{let t=e.name.toLowerCase().includes(this.searchUserTerm.toLowerCase())||e.email.toLowerCase().includes(this.searchUserTerm.toLowerCase()),r=this.selectedUserRole==="all"||e.role===this.selectedUserRole;return t&&r})}filterProjects(){this.filteredProjects=this.allProjects.filter(e=>{let t=e.title.toLowerCase().includes(this.searchProjectTerm.toLowerCase())||e.description.toLowerCase().includes(this.searchProjectTerm.toLowerCase()),r=this.selectedProjectStatus==="all"||e.status===this.selectedProjectStatus;return t&&r})}updateUserRole(e,t){this.adminService.updateUserRole(e,t).subscribe({next:()=>{let r=this.users.find(i=>i.id===e);r&&(r.role=t),this.filterUsers()},error:r=>{console.error("Error updating user role:",r),this.error="Error al actualizar rol del usuario: "+this.getErrorMessage(r)}})}banUser(e){confirm("\xBFEst\xE1s seguro de que quieres banear a este usuario?")&&this.adminService.banUser(e).subscribe({next:()=>{let t=this.users.find(r=>r.id===e);t&&(t.status="banned"),this.filterUsers()},error:t=>{console.error("Error banning user:",t),this.error="Error al banear usuario: "+this.getErrorMessage(t)}})}unbanUser(e){this.adminService.unbanUser(e).subscribe({next:()=>{let t=this.users.find(r=>r.id===e);t&&(t.status="active"),this.filterUsers()},error:t=>{console.error("Error unbanning user:",t),this.error="Error al desbanear usuario: "+this.getErrorMessage(t)}})}approveProject(e){this.adminService.approveProject(e).subscribe({next:()=>{let t=this.allProjects.findIndex(r=>r.id===e);t!==-1&&(this.allProjects[t].status="approved"),this.filterProjects()},error:t=>{console.error("Error approving project:",t),this.error="Error al aprobar proyecto"}})}rejectProject(e){this.adminService.rejectProject(e).subscribe({next:()=>{let t=this.allProjects.findIndex(r=>r.id===e);t!==-1&&(this.allProjects[t].status="rejected"),this.filterProjects()},error:t=>{console.error("Error rejecting project:",t),this.error="Error al rechazar proyecto: "+this.getErrorMessage(t)}})}refreshData(){this.loadData()}static \u0275fac=function(t){return new(t||n)(j(rv),j(Be),j(Ae))};static \u0275cmp=Re({type:n,selectors:[["app-admin"]],decls:6,vars:3,consts:[[1,"admin-container"],["class","loading-spinner",4,"ngIf"],["class","error-message",4,"ngIf"],["class","admin-content",4,"ngIf"],[1,"loading-spinner"],[1,"error-message"],[3,"click"],[1,"admin-content"],[1,"admin-section"],[1,"filters"],["type","text","placeholder","Buscar usuarios...",3,"ngModelChange","input","ngModel"],[3,"ngModelChange","change","ngModel"],["value","all"],["value","usuario"],["value","admin"],[1,"table-container"],[4,"ngFor","ngForOf"],["class","no-results",4,"ngIf"],["type","text","placeholder","Buscar proyectos...",3,"ngModelChange","input","ngModel"],["value","pending"],["value","approved"],["value","rejected"],["class","banned-status",4,"ngIf"],["class","active-status",4,"ngIf"],["class","danger",3,"click",4,"ngIf"],["class","success",3,"click",4,"ngIf"],[1,"banned-status"],[1,"active-status"],[1,"danger",3,"click"],[1,"success",3,"click"],[1,"no-results"],[1,"action-buttons"],[1,"button",3,"routerLink"]],template:function(t,r){t&1&&(g(0,"div",0)(1,"h1"),b(2,"Panel de Administraci\xF3n"),m(),W(3,SG,3,0,"div",1)(4,AG,5,1,"div",2)(5,LG,61,8,"div",3),m()),t&2&&(E(3),F("ngIf",r.isLoading),E(),F("ngIf",r.error),E(),F("ngIf",!r.isLoading&&!r.error))},dependencies:[ht,$t,vt,ws,Nn,To,Do,Pt,Jr,Ht,Cn,Ps,im],styles:[".admin-container[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:1rem}.admin-section[_ngcontent-%COMP%]{margin-bottom:3rem;background:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 10px #0000001a}h2[_ngcontent-%COMP%]{color:#333;margin-bottom:1.5rem;padding-bottom:.5rem;border-bottom:1px solid #eee}.filters[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1.5rem}.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #ddd;border-radius:4px;font-size:1rem}.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;max-width:400px}.table-container[_ngcontent-%COMP%]{overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;text-align:left;border-bottom:1px solid #eee}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f5f5f5;font-weight:600}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}table[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.25rem;border:1px solid #ddd;border-radius:4px}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.35rem .75rem;border:none;border-radius:4px;cursor:pointer;font-size:.9rem;text-decoration:none;display:inline-flex;align-items:center;justify-content:center}.action-buttons[_ngcontent-%COMP%]   button.success[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   a.success[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.action-buttons[_ngcontent-%COMP%]   button.danger[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   a.danger[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.action-buttons[_ngcontent-%COMP%]   button.button[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   a.button[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.no-results[_ngcontent-%COMP%]{padding:1.5rem;text-align:center;color:#666;background-color:#f9f9f9;border-radius:4px;margin-top:1rem}.loading-spinner[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%]{text-align:center;padding:2rem}.error-message[_ngcontent-%COMP%]{color:#d32f2f}.banned-status[_ngcontent-%COMP%]{color:#f44336;font-weight:700}.active-status[_ngcontent-%COMP%]{color:#4caf50;font-weight:700}.pending[_ngcontent-%COMP%]{color:#ff9800;font-weight:700}.approved[_ngcontent-%COMP%]{color:#4caf50;font-weight:700}.rejected[_ngcontent-%COMP%]{color:#f44336;font-weight:700}.danger[_ngcontent-%COMP%]{padding:.35rem .75rem;border:none;border-radius:4px;cursor:pointer;font-size:.9rem;text-decoration:none;display:inline-flex;align-items:center;justify-content:center;background-color:#f44336;color:#fff}.success[_ngcontent-%COMP%]{padding:.35rem .75rem;border:none;border-radius:4px;cursor:pointer;font-size:.9rem;text-decoration:none;display:inline-flex;align-items:center;justify-content:center;background-color:#4caf50;color:#fff}"]})};var ov=class n{constructor(e){this.http=e}apiUrl=`${pi.apiUrl}`;getCurrentUser(e){let t=localStorage.getItem("custom_user");if(!t)return At(()=>new Error("No user data available"));let r=JSON.parse(t),i=r?.token;if(!i)return At(()=>new Error("No authentication token available"));let o=new zt({Authorization:`Bearer ${i}`,"Content-Type":"application/json"});return this.http.get(`${this.apiUrl}/usuario/obtenerUsuario/${e}`,{headers:o,withCredentials:!0}).pipe(Ge(s=>{if(console.error("Error fetching user:",s),s.status===404){let a={uid:e,email:r.email,name:r.name||r.email.split("@")[0],role:"usuario",status:"active"};return Q(a)}return At(()=>s)}))}updateUser(e,t){return this.http.put(`${this.apiUrl}/${e}`,t)}promoteToAdmin(e){return this.http.put(`${this.apiUrl}/usuario/actualizarUsuario/${e}`,{rol:"admin"},{withCredentials:!0})}banUser(e){return this.http.put(`${this.apiUrl}/usuario/actualizarUsuario/${e}`,{status:"banned"},{withCredentials:!0})}deleteAccount(e){if(!e)return At(()=>new Error("ID de usuario no proporcionado"));let t=this.getToken();if(!t)return At(()=>new Error("No hay token de autenticaci\xF3n"));let r=new zt({Authorization:`Bearer ${t}`,"Content-Type":"application/json"});return this.http.delete(`${this.apiUrl}/usuario/eliminarUsuario/${e}`,{headers:r,withCredentials:!0}).pipe(Ge(i=>{let o="Error al eliminar la cuenta";return i.status===403?o="No tienes permisos para eliminar esta cuenta":i.status===404&&(o="Usuario no encontrado"),At(()=>new Error(o))}))}getToken(){let e=localStorage.getItem("custom_user");return e?JSON.parse(e).token:null}static \u0275fac=function(t){return new(t||n)(Y(sr))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};function jG(n,e){n&1&&(g(0,"div",4)(1,"p"),b(2,"Cargando perfil..."),m()())}function BG(n,e){if(n&1){let t=Pe();g(0,"div",5)(1,"p"),b(2),m(),g(3,"button",6),H("click",function(){J(t);let i=U();return ee(i.loadUserProfile())}),b(4,"Reintentar"),m()()}if(n&2){let t=U();E(2),re(t.error)}}function UG(n,e){if(n&1){let t=Pe();g(0,"button",23),H("click",function(){J(t);let i=U(2);return ee(i.deleteAccount())}),b(1," Eliminar Cuenta "),m()}}function $G(n,e){n&1&&(g(0,"div",38),b(1," Contrase\xF1a cambiada exitosamente! "),m())}function zG(n,e){if(n&1&&(g(0,"div",39),b(1),m()),n&2){let t=U(3);E(),ie(" ",t.passwordChangeError," ")}}function HG(n,e){if(n&1){let t=Pe();g(0,"div",24)(1,"h3"),b(2,"Cambiar Contrase\xF1a"),m(),W(3,$G,2,0,"div",25)(4,zG,2,1,"div",26),g(5,"form",27),H("ngSubmit",function(){J(t);let i=U(2);return ee(i.changePassword(i.oldPassword,i.newPassword,i.confirmPassword))}),g(6,"div",28)(7,"label",29),b(8,"Contrase\xF1a Actual:"),m(),g(9,"input",30),nt("ngModelChange",function(i){J(t);let o=U(2);return ot(o.oldPassword,i)||(o.oldPassword=i),ee(i)}),m()(),g(10,"div",28)(11,"label",31),b(12,"Nueva Contrase\xF1a (m\xEDnimo 6 caracteres):"),m(),g(13,"input",32),nt("ngModelChange",function(i){J(t);let o=U(2);return ot(o.newPassword,i)||(o.newPassword=i),ee(i)}),m()(),g(14,"div",28)(15,"label",33),b(16,"Confirmar Nueva Contrase\xF1a:"),m(),g(17,"input",34),nt("ngModelChange",function(i){J(t);let o=U(2);return ot(o.confirmPassword,i)||(o.confirmPassword=i),ee(i)}),m()(),g(18,"div",35)(19,"button",36),b(20," Cambiar Contrase\xF1a "),m(),g(21,"button",37),H("click",function(){J(t);let i=U(2);return i.showChangePassword=!1,ee(i.passwordChangeError=null)}),b(22," Cancelar "),m()()()()}if(n&2){let t=U(2);E(3),F("ngIf",t.passwordChangeSuccess),E(),F("ngIf",t.passwordChangeError),E(5),tt("ngModel",t.oldPassword),E(4),tt("ngModel",t.newPassword),E(4),tt("ngModel",t.confirmPassword),E(2),F("disabled",!t.oldPassword||!t.newPassword||!t.confirmPassword)}}function qG(n,e){if(n&1){let t=Pe();g(0,"button",23),H("click",function(){J(t);let i=U().$implicit,o=U(3);return ee(o.deleteProject(i.id))}),b(1," Eliminar "),m()}}function WG(n,e){if(n&1){let t=Pe();g(0,"div",43)(1,"h3"),b(2),m(),g(3,"p",44),b(4),m(),g(5,"p"),b(6),m(),g(7,"div",45)(8,"span"),b(9),dt(10,"number"),dt(11,"number"),m(),g(12,"span"),b(13),m()(),g(14,"div",46)(15,"button",19),H("click",function(){let i=J(t).$implicit,o=U(3);return ee(o.navigateToProjectAnalytics(i.id))}),b(16," Ver An\xE1lisis "),m(),W(17,qG,2,0,"button",18),m()()}if(n&2){let t=e.$implicit;E(2),re(t.title),E(2),re(t.category),E(2),re(t.description),E(3),_s("Recaudado: $",en(10,7,t.collected)," / $",en(11,9,t.goal),""),E(4),ie("",(t.collected/t.goal*100).toFixed(0),"%"),E(4),F("ngIf",t.collected===0)}}function GG(n,e){if(n&1&&(g(0,"div",40)(1,"h2"),b(2),m(),g(3,"div",41),W(4,WG,18,11,"div",42),m()()),n&2){let t=U(2);E(2),ie("Mis Proyectos (",t.userProjects.length,")"),E(2),F("ngForOf",t.userProjects)}}function KG(n,e){if(n&1){let t=Pe();g(0,"div",47)(1,"p"),b(2,"A\xFAn no has creado ning\xFAn proyecto."),m(),g(3,"button",17),H("click",function(){J(t);let i=U(2);return ee(i.navigateToProjectCreation())}),b(4," Crear mi primer proyecto "),m()()}}function YG(n,e){if(n&1){let t=Pe();g(0,"div",7)(1,"div",8)(2,"div",9),ae(3,"img",10),m(),g(4,"div",11)(5,"h1"),b(6),m(),g(7,"p",12),b(8),m(),g(9,"p",13),b(10),m(),g(11,"p",14),b(12),m(),g(13,"p",15),b(14),m()()(),g(15,"div",16)(16,"button",17),H("click",function(){J(t);let i=U();return ee(i.navigateToProjectCreation())}),b(17," Crear Nuevo Proyecto "),m(),W(18,UG,2,0,"button",18),g(19,"button",19),H("click",function(){J(t);let i=U();return ee(i.showChangePassword=!i.showChangePassword)}),b(20," Cambiar Contrase\xF1a "),m()(),W(21,HG,23,6,"div",20)(22,GG,5,2,"div",21)(23,KG,5,0,"div",22),m()}if(n&2){let t=U();E(3),F("src","https://help.seesaw.me/hc/article_attachments/29802779436429",go),E(3),re(t.user.name),E(2),re(t.user.email),E(2),ie("Estado: ",t.user.status,""),E(2),ie("Rol: ",t.user.role,""),E(2),ie("Creacion: ",t.user.createdAt,""),E(4),F("ngIf",!t.isCurrentUser),E(3),F("ngIf",t.showChangePassword),E(),F("ngIf",t.userProjects.length>0),E(),F("ngIf",t.userProjects.length===0&&t.isCurrentUser)}}var sv=class n{constructor(e,t,r,i){this.userService=e;this.projectService=t;this.authService=r;this.router=i}user=null;userProjects=[];isLoading=!0;error=null;isCurrentUser=!1;showChangePassword=!1;oldPassword="";newPassword="";confirmPassword="";passwordChangeError=null;passwordChangeSuccess=!1;ngOnInit(){this.loadUserProfile()}loadUserProfile(){return w(this,null,function*(){this.isLoading=!0,this.error=null;try{let e=localStorage.getItem("custom_user");if(!e){this.router.navigate(["/login"]);return}let t=JSON.parse(e),r=t.id||t.uid;if(!r)throw new Error("ID de usuario no disponible");let i=this.userService.getCurrentUser(r).pipe(Ge(a=>(console.error("Error loading user:",a),t?Q(ne(L({},t),{role:t.role||"usuario",id:t.id||t.uid,status:t.status||"active",email_verified:t.email_verified||"False"})):At(()=>a))));this.user=yield bi(i),this.isCurrentUser=t.email===this.user.email;let o=this.projectService.getProjects().pipe(Ge(a=>(console.error("Error loading projects:",a),Q([])))),s=yield bi(o);this.userProjects=(s||[]).filter(a=>a.creator&&a.creator.email===this.user.email)}catch(e){console.error("Error loading profile:",e),this.error="Error al cargar el perfil. Por favor intenta nuevamente.",e.status===401&&(this.authService.logout(),this.router.navigate(["/login"]))}finally{this.isLoading=!1}})}navigateToProjectCreation(){this.router.navigate(["/project-creation"])}navigateToProjectAnalytics(e){this.router.navigate(["/project-analytics",e])}deleteAccount(){return w(this,null,function*(){let e=this.user?.id||this.user?.uid;if(!e){this.error="No se pudo obtener tu informaci\xF3n de usuario. Por favor recarga la p\xE1gina.";return}if(this.userProjects.length>0){alert("No puedes eliminar tu cuenta porque tienes proyectos creados.");return}if(confirm("\xBFEst\xE1s seguro de que quieres eliminar tu cuenta permanentemente?"))try{this.isLoading=!0,this.error=null,yield bi(this.userService.deleteAccount(e)),this.authService.logout(),this.router.navigate(["/login"],{queryParams:{message:"Tu cuenta ha sido eliminada exitosamente"}})}catch(t){console.error("Error al eliminar cuenta:",t),this.error=t.message||"Ocurri\xF3 un error al eliminar la cuenta. Por favor intenta nuevamente.",t.message.includes("No tienes permisos")&&setTimeout(()=>{this.authService.logout(),this.router.navigate(["/login"])},3e3)}finally{this.isLoading=!1}})}changePassword(e,t,r){return w(this,null,function*(){if(this.passwordChangeError=null,this.passwordChangeSuccess=!1,!e||!t||!r){this.passwordChangeError="Todos los campos son obligatorios";return}if(t!==r){this.passwordChangeError="Las contrase\xF1as nuevas no coinciden";return}if(t.length<6){this.passwordChangeError="La contrase\xF1a debe tener al menos 6 caracteres";return}try{yield bi(this.authService.changePassword(e,t).pipe(Ge(i=>{throw console.error("Error changing password:",i),i}))),this.passwordChangeSuccess=!0,this.oldPassword="",this.newPassword="",this.confirmPassword="",setTimeout(()=>{this.showChangePassword=!1},2e3)}catch(i){console.error("Error en changePassword:",i),this.passwordChangeError=i.message||"Revisa los campos ingresados o no es la contrase\xF1a actual o la contrase\xF1a nueva debe tener: -una letra -un numero - un caracter",i.message.includes("antigua")&&(this.passwordChangeError+=". Redirigiendo a login...",setTimeout(()=>{this.authService.logout(),this.router.navigate(["/login"])},3e3))}})}editProject(e){this.router.navigate(["/edit-project",e])}deleteProject(e){return w(this,null,function*(){if(confirm("\xBFEst\xE1s seguro de que quieres eliminar este proyecto? Esta acci\xF3n no se puede deshacer."))try{yield bi(this.projectService.deleteProject(e)),this.userProjects=this.userProjects.filter(r=>r.id!==e),alert("Proyecto eliminado exitosamente")}catch(r){console.error("Error al eliminar proyecto:",r),alert("Ocurri\xF3 un error al eliminar el proyecto")}})}static \u0275fac=function(t){return new(t||n)(j(ov),j(Vn),j(Be),j(Ae))};static \u0275cmp=Re({type:n,selectors:[["app-user-profile"]],decls:4,vars:3,consts:[[1,"profile-container"],["class","loading-spinner",4,"ngIf"],["class","error-message",4,"ngIf"],["class","profile-content",4,"ngIf"],[1,"loading-spinner"],[1,"error-message"],[3,"click"],[1,"profile-content"],[1,"profile-header"],[1,"avatar-container"],["alt","Avatar",1,"profile-avatar",3,"src"],[1,"profile-info"],[1,"email"],[1,"status"],[1,"role"],[1,"login-count"],[1,"profile-actions"],[1,"button-primary",3,"click"],["class","button-danger",3,"click",4,"ngIf"],[1,"button-secondary",3,"click"],["class","password-change-form",4,"ngIf"],["class","projects-section",4,"ngIf"],["class","no-projects",4,"ngIf"],[1,"button-danger",3,"click"],[1,"password-change-form"],["class","alert alert-success",4,"ngIf"],["class","alert alert-error",4,"ngIf"],[3,"ngSubmit"],[1,"form-group"],["for","oldPassword"],["type","password","id","oldPassword","name","oldPassword","required","",3,"ngModelChange","ngModel"],["for","newPassword"],["type","password","id","newPassword","name","newPassword","required","","minlength","6",3,"ngModelChange","ngModel"],["for","confirmPassword"],["type","password","id","confirmPassword","name","confirmPassword","required","",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit",1,"button-primary",3,"disabled"],["type","button",1,"button-secondary",3,"click"],[1,"alert","alert-success"],[1,"alert","alert-error"],[1,"projects-section"],[1,"projects-grid"],["class","project-card",4,"ngFor","ngForOf"],[1,"project-card"],[1,"category"],[1,"project-stats"],[1,"project-actions"],[1,"no-projects"]],template:function(t,r){t&1&&(g(0,"div",0),W(1,jG,3,0,"div",1)(2,BG,5,1,"div",2)(3,YG,24,10,"div",3),m()),t&2&&(E(),F("ngIf",r.isLoading),E(),F("ngIf",r.error),E(),F("ngIf",!r.isLoading&&!r.error&&r.user))},dependencies:[ht,$t,vt,Kr,Nn,lr,Pt,Ht,cr,Vi,Dw,Cn,Li,dc],styles:['@charset "UTF-8";.profile-container[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:1rem}.profile-container[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]{display:flex;gap:2rem;align-items:center;margin-bottom:2rem}.profile-container[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .avatar-container[_ngcontent-%COMP%]   .profile-avatar[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;object-fit:cover;border:3px solid #4caf50}.profile-container[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2e7d32;margin:0}.profile-container[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{color:#52bf57;margin:.5rem 0}.profile-container[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .bio[_ngcontent-%COMP%]{color:#2e7d32;max-width:600px}.profile-container[_ngcontent-%COMP%]   .profile-actions[_ngcontent-%COMP%]{margin:2rem 0}.profile-container[_ngcontent-%COMP%]   .projects-section[_ngcontent-%COMP%]{margin-top:3rem}.profile-container[_ngcontent-%COMP%]   .projects-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2e7d32;border-bottom:2px solid #c8e6c9;padding-bottom:.5rem}.profile-container[_ngcontent-%COMP%]   .projects-section[_ngcontent-%COMP%]   .projects-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.5rem;margin-top:1.5rem}.profile-container[_ngcontent-%COMP%]   .projects-section[_ngcontent-%COMP%]   .projects-grid[_ngcontent-%COMP%]   .project-card[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:8px;box-shadow:0 2px 8px #0000001a}.profile-container[_ngcontent-%COMP%]   .projects-section[_ngcontent-%COMP%]   .projects-grid[_ngcontent-%COMP%]   .project-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#4caf50;margin-top:0}.profile-container[_ngcontent-%COMP%]   .projects-section[_ngcontent-%COMP%]   .projects-grid[_ngcontent-%COMP%]   .project-card[_ngcontent-%COMP%]   .project-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:1rem 0;color:#2e7d32}.profile-container[_ngcontent-%COMP%]   .no-projects[_ngcontent-%COMP%]{text-align:center;margin:3rem 0;color:#2e7d32}.profile-container[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{background:#4caf50;color:#fff;border:none;padding:.8rem 1.5rem;border-radius:5px;cursor:pointer;font-weight:700;transition:background .3s}.profile-container[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]:hover{background:#3d8b40}.profile-container[_ngcontent-%COMP%]   .button-secondary[_ngcontent-%COMP%]{background:#fff;color:#4caf50;border:2px solid #4caf50;padding:.6rem 1.2rem;border-radius:5px;cursor:pointer;font-weight:700;transition:all .3s}.profile-container[_ngcontent-%COMP%]   .button-secondary[_ngcontent-%COMP%]:hover{background:#4caf50;color:#fff}@media (max-width: 768px){.profile-header[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}.button-danger[_ngcontent-%COMP%]{background:#f44336;color:#fff;border:none;padding:.8rem 1.5rem;border-radius:5px;cursor:pointer;font-weight:700;transition:background .3s;margin-left:1rem}.button-danger[_ngcontent-%COMP%]:hover{background:#ea1c0d}.password-change-form[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 2px 8px #0000001a;margin:2rem 0;max-width:500px}.password-change-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#4caf50}.password-change-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.password-change-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#2e7d32}.password-change-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.8rem;border:1px solid #c8e6c9;border-radius:4px;font-size:1rem}@media (max-width: 768px){.profile-actions[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.profile-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-left:0!important}}.profile-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin:2rem 0;flex-wrap:wrap}.profile-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.8rem 1.5rem;border-radius:5px;cursor:pointer;font-weight:700;transition:all .3s;border:none}.profile-actions[_ngcontent-%COMP%]   button.button-primary[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.profile-actions[_ngcontent-%COMP%]   button.button-primary[_ngcontent-%COMP%]:hover{background:#3d8b40}.profile-actions[_ngcontent-%COMP%]   button.button-secondary[_ngcontent-%COMP%]{background:#fff;color:#4caf50;border:2px solid #4caf50}.profile-actions[_ngcontent-%COMP%]   button.button-secondary[_ngcontent-%COMP%]:hover{background:#4caf50;color:#fff}.profile-actions[_ngcontent-%COMP%]   button.button-danger[_ngcontent-%COMP%]{background:#f44336;color:#fff}.profile-actions[_ngcontent-%COMP%]   button.button-danger[_ngcontent-%COMP%]:hover{background:#ea1c0d}.password-change-form[_ngcontent-%COMP%]{margin-top:2rem;padding:1.5rem;background:#f5f5f5;border-radius:8px}.password-change-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.password-change-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500}.password-change-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #ddd;border-radius:4px}.password-change-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1.5rem}.password-change-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:.75rem;margin-bottom:1rem;border-radius:4px}.password-change-form[_ngcontent-%COMP%]   .alert.alert-success[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.password-change-form[_ngcontent-%COMP%]   .alert.alert-error[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.project-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:1rem}.project-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:4px;font-size:.9rem;cursor:pointer;transition:all .3s}.project-actions[_ngcontent-%COMP%]   .button-edit[_ngcontent-%COMP%]{background:#2196f3;color:#fff;border:none}.project-actions[_ngcontent-%COMP%]   .button-edit[_ngcontent-%COMP%]:hover{background:#0c7cd5}.project-actions[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]{background:#f44336;color:#fff;border:none}.project-actions[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]:hover{background:#ea1c0d}.projects-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.5rem;margin:1rem 0}.project-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 8px #0000001a;transition:transform .2s ease,box-shadow .2s ease}.project-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 4px 12px #00000026}.project-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;margin:0 0 .5rem;color:#2e7d32;overflow-wrap:break-word;word-break:break-word}.project-card[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{font-size:.9rem;color:#666;margin:0 0 .5rem;font-weight:700}.project-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;color:#333;line-height:1.5;overflow-wrap:break-word;word-break:break-word;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.project-card[_ngcontent-%COMP%]   .project-stats[_ngcontent-%COMP%]{margin-top:1rem;font-size:.9rem;color:#666}.project-card[_ngcontent-%COMP%]   .project-stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;margin-bottom:.25rem}']})};var Fo=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.isAuthenticated$.pipe(mt(1),de(e=>e?!0:(this.router.navigate(["/login"]),!1)))}static \u0275fac=function(t){return new(t||n)(Y(Be),Y(Ae))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})},av=class n{constructor(e){this.router=e}canActivate(){return localStorage.getItem("projectCreationData")?(this.router.navigate(["/user-profile"]),!1):!0}static \u0275fac=function(t){return new(t||n)(Y(Ae))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};var cv=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.isAuthenticated$.pipe(pt(e=>e!==null),mt(1),yt(()=>this.authService.currentUser$),de(e=>e&&e.role?.toLowerCase()==="admin"?!0:(this.router.navigate(["/dashboard"],{queryParams:{message:"No tienes permisos de administrador"}}),!1)),Ge(()=>(this.router.navigate(["/dashboard"]),Q(!1))))}static \u0275fac=function(t){return new(t||n)(Y(Be),Y(Ae))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};function QG(n,e){n&1&&(g(0,"span"),b(1,"Registrarse"),m())}function ZG(n,e){n&1&&ae(0,"span",26)}function XG(n,e){if(n&1&&(g(0,"div",27)(1,"i",28),b(2,"\u26A0\uFE0F"),m(),b(3),m()),n&2){let t=U();E(3),ie(" ",t.errorMessage," ")}}var lv=class n{constructor(e,t){this.authService=e;this.router=t}name="";email="";password="";confirmPassword="";errorMessage="";loading=!1;activeField="";showPassword=!1;showConfirmPassword=!1;togglePasswordVisibility(e){e==="password"?this.showPassword=!this.showPassword:this.showConfirmPassword=!this.showConfirmPassword}onSubmit(){return w(this,null,function*(){if(!this.name||!this.email||!this.password||!this.confirmPassword){this.errorMessage="Por favor completa todos los campos";return}if(!this.validateEmail(this.email)){this.errorMessage="Por favor ingresa un correo electr\xF3nico v\xE1lido";return}if(this.password!==this.confirmPassword){this.errorMessage="Las contrase\xF1as no coinciden";return}if(this.password.length<6){this.errorMessage="La contrase\xF1a debe tener al menos 6 caracteres";return}this.loading=!0,this.errorMessage="";try{(yield this.authService.register(this.name,this.email,this.password))?(alert("Se ha enviado un Correo Electr\xF3nico de Verificaci\xF3n."),this.router.navigate(["/dashboard"])):this.errorMessage="Error al registrar el usuario"}catch(e){console.error("Registration error:",e),this.errorMessage=this.getErrorMessage(e)}finally{this.loading=!1}})}getErrorMessage(e){return e.error?.message?e.error.message:e.status===0?"No se pudo conectar al servidor":"Ocurri\xF3 un error durante el registro. Por favor int\xE9ntalo m\xE1s tarde."}navigateTo(e){this.router.navigate([e])}validateEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}static \u0275fac=function(t){return new(t||n)(j(Be),j(Ae))};static \u0275cmp=Re({type:n,selectors:[["app-register"]],decls:51,vars:20,consts:[[1,"login-wrapper"],[1,"login-container"],[1,"login-header"],["src","https://res.cloudinary.com/dtg8i6j9f/image/upload/v1748278760/CoCreando__2_-removebg-preview_fzjn1g.png","alt","CoCreando Logo",1,"logo"],[1,"login-form",3,"ngSubmit"],[1,"form-group","floating"],["type","text","id","name","name","name","required","","placeholder"," ",3,"ngModelChange","focus","blur","ngModel"],["for","name"],[1,"icon"],["type","email","id","email","name","email","required","","placeholder"," ",3,"ngModelChange","focus","blur","ngModel"],["for","email"],["id","password","name","password","required","","placeholder"," ",3,"ngModelChange","focus","blur","type","ngModel"],["for","password"],["type","button",1,"toggle-password",3,"click"],["id","confirmPassword","name","confirmPassword","required","","placeholder"," ",3,"ngModelChange","focus","blur","type","ngModel"],["for","confirmPassword"],["type","submit",1,"login-button",3,"disabled"],[4,"ngIf"],["class","spinner",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"register-link"],["routerLink","/login"],[1,"login-background"],[1,"shape","shape-1"],[1,"shape","shape-2"],[1,"shape","shape-3"],[1,"spinner"],[1,"error-message"],[1,"error-icon"]],template:function(t,r){t&1&&(g(0,"div",0)(1,"div",1)(2,"div",2),ae(3,"img",3),g(4,"h1"),b(5,"Reg\xEDstrate en "),g(6,"span"),b(7,"CoCreando"),m()(),g(8,"p"),b(9,"Crea tu cuenta para empezar a colaborar"),m()(),g(10,"form",4),H("ngSubmit",function(){return r.onSubmit()}),g(11,"div",5)(12,"input",6),nt("ngModelChange",function(o){return ot(r.name,o)||(r.name=o),o}),H("focus",function(){return r.activeField="name"})("blur",function(){return r.activeField=""}),m(),g(13,"label",7),b(14,"Nombre completo"),m(),g(15,"i",8),b(16,"\u{1F464}"),m()(),g(17,"div",5)(18,"input",9),nt("ngModelChange",function(o){return ot(r.email,o)||(r.email=o),o}),H("focus",function(){return r.activeField="email"})("blur",function(){return r.activeField=""}),m(),g(19,"label",10),b(20,"Correo electr\xF3nico"),m(),g(21,"i",8),b(22,"\u2709\uFE0F"),m()(),g(23,"div",5)(24,"input",11),nt("ngModelChange",function(o){return ot(r.password,o)||(r.password=o),o}),H("focus",function(){return r.activeField="password"})("blur",function(){return r.activeField=""}),m(),g(25,"label",12),b(26,"Contrase\xF1a"),m(),g(27,"i",8),b(28,"\u{1F512}"),m(),g(29,"button",13),H("click",function(){return r.togglePasswordVisibility("password")}),b(30),m()(),g(31,"div",5)(32,"input",14),nt("ngModelChange",function(o){return ot(r.confirmPassword,o)||(r.confirmPassword=o),o}),H("focus",function(){return r.activeField="confirmPassword"})("blur",function(){return r.activeField=""}),m(),g(33,"label",15),b(34,"Confirmar contrase\xF1a"),m(),g(35,"i",8),b(36,"\u{1F512}"),m(),g(37,"button",13),H("click",function(){return r.togglePasswordVisibility("confirmPassword")}),b(38),m()(),g(39,"button",16),W(40,QG,2,0,"span",17)(41,ZG,1,0,"span",18),m(),W(42,XG,4,1,"div",19),g(43,"div",20),b(44," \xBFYa tienes una cuenta? "),g(45,"a",21),b(46,"Inicia sesi\xF3n"),m()()()(),g(47,"div",22),ae(48,"div",23)(49,"div",24)(50,"div",25),m()()),t&2&&(E(12),tt("ngModel",r.name),E(),Ye("active",r.activeField==="name"||r.name),E(5),tt("ngModel",r.email),E(),Ye("active",r.activeField==="email"||r.email),E(5),F("type",r.showPassword?"text":"password"),tt("ngModel",r.password),E(),Ye("active",r.activeField==="password"||r.password),E(5),ie(" ",r.showPassword?"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F":"\u{1F441}\uFE0F"," "),E(2),F("type",r.showConfirmPassword?"text":"password"),tt("ngModel",r.confirmPassword),E(),Ye("active",r.activeField==="confirmPassword"||r.confirmPassword),E(5),ie(" ",r.showConfirmPassword?"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F":"\u{1F441}\uFE0F"," "),E(),F("disabled",r.loading),E(),F("ngIf",!r.loading),E(),F("ngIf",r.loading),E(),F("ngIf",r.errorMessage))},dependencies:[Nn,lr,Pt,Ht,cr,Vi,Cn,Li,ht,vt],styles:['.login-form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}.login-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f8f9fa;position:relative;overflow:hidden;padding:2rem}.login-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 25px -5px #0000001a;width:100%;max-width:450px;z-index:2;overflow:hidden;transition:all .3s ease-in-out}.login-container[_ngcontent-%COMP%]:hover{box-shadow:0 15px 30px -5px #00000026}.login-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#426e28,#146b08);color:#fff;padding:2.5rem 2rem;text-align:center}.login-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:50px;margin-bottom:1rem}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.8rem;font-weight:600}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#88c9a1}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0 0;opacity:.9;font-size:.95rem}.login-form[_ngcontent-%COMP%]{padding:2rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:1.5rem}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;left:3rem;top:1rem;color:#718096;pointer-events:none;transition:all .3s ease-in-out}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   label.active[_ngcontent-%COMP%]{top:-.6rem;left:2.8rem;font-size:.75rem;background:#fff;padding:0 .3rem;color:#426e28}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:3rem;height:3rem}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#426e28;box-shadow:0 0 0 2px #426e2833}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:1rem;font-size:1rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:1px solid #e2e8f0;border-radius:8px;font-size:1rem;transition:all .3s ease-in-out}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem;background:none;border:none;cursor:pointer;opacity:.5;transition:all .3s ease-in-out}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover{opacity:1}.form-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:1.5rem 0}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;color:#718096;font-size:.9rem}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{display:inline-block;width:18px;height:18px;margin-right:8px;border:1px solid #cbd5e0;border-radius:4px;position:relative;transition:all .3s ease-in-out}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none;left:6px;top:2px;width:5px;height:10px;border:solid white;border-width:0 2px 2px 0;transform:rotate(45deg)}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#426e28;border-color:#426e28}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.form-options[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{color:#426e28;text-decoration:none;font-size:.9rem;transition:all .3s ease-in-out}.form-options[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-button[_ngcontent-%COMP%]{width:100%;padding:1rem;background:linear-gradient(135deg,#426e28,#146b08);color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease-in-out}.login-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#375b21,#105306);transform:translateY(-2px)}.login-button[_ngcontent-%COMP%]:disabled{background:#cbd5e0;cursor:not-allowed;transform:none}.login-button[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;border:3px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.error-message[_ngcontent-%COMP%]{color:#e53e3e;background:#e53e3e1a;padding:.8rem;border-radius:8px;margin:1rem 0;display:flex;align-items:center;font-size:.9rem}.error-message[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-right:.5rem}.social-login[_ngcontent-%COMP%]{margin:2rem 0 1rem;text-align:center}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;font-size:.9rem;position:relative;margin:1rem 0}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before, .social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:after{content:"";display:inline-block;width:30%;height:1px;background:#e2e8f0;position:absolute;top:50%}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before{left:0}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:after{right:0}.social-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem}.social-buttons[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]{flex:1;padding:.7rem;border:1px solid #e2e8f0;border-radius:8px;background:#fff;display:flex;align-items:center;justify-content:center;gap:.5rem;font-size:.9rem;cursor:pointer;transition:all .3s ease-in-out}.social-buttons[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:hover{background:#f8fafc;transform:translateY(-2px)}.social-buttons[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:18px;height:18px}.social-buttons[_ngcontent-%COMP%]   .social-button.google[_ngcontent-%COMP%]{color:#db4437}.social-buttons[_ngcontent-%COMP%]   .social-button.github[_ngcontent-%COMP%]{color:#333}.register-link[_ngcontent-%COMP%]{text-align:center;color:#718096;font-size:.9rem;margin-top:1.5rem}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#426e28;text-decoration:none;font-weight:500;transition:all .3s ease-in-out}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}.login-background[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{position:absolute;border-radius:50%;background:#88c9a11a;transition:all 15s linear}.login-background[_ngcontent-%COMP%]   .shape.shape-1[_ngcontent-%COMP%]{width:300px;height:300px;top:-100px;left:-100px;animation:_ngcontent-%COMP%_float 12s ease-in-out infinite}.login-background[_ngcontent-%COMP%]   .shape.shape-2[_ngcontent-%COMP%]{width:200px;height:200px;bottom:-50px;right:-50px;animation:_ngcontent-%COMP%_float 8s ease-in-out infinite reverse}.login-background[_ngcontent-%COMP%]   .shape.shape-3[_ngcontent-%COMP%]{width:150px;height:150px;top:30%;right:20%;animation:_ngcontent-%COMP%_float 10s ease-in-out infinite 2s}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-20px) rotate(5deg)}}@media (max-width: 576px){.login-wrapper[_ngcontent-%COMP%]{padding:1rem}.login-header[_ngcontent-%COMP%]{padding:1.5rem 1rem}.login-form[_ngcontent-%COMP%]{padding:1.5rem}.social-buttons[_ngcontent-%COMP%]{flex-direction:column}}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.7rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.3rem}']})};function JG(n,e){if(n&1){let t=Pe();g(0,"button",40),H("click",function(){J(t);let i=U(3);return ee(i.deleteProject())}),b(1," Eliminar proyecto "),m()}}function e7(n,e){if(n&1&&(g(0,"div",38),W(1,JG,2,0,"button",39),m()),n&2){let t=U(2);E(),F("ngIf",t.project.collected===0)}}function t7(n,e){if(n&1&&(g(0,"div",41)(1,"h3"),b(2),g(3,"span",42),b(4),dt(5,"date"),m()(),g(6,"p"),b(7),m()()),n&2){let t=e.$implicit;E(2),ie(" ",t.title," "),E(2),re(en(5,3,t.date)),E(3),re(t.content)}}function n7(n,e){n&1&&(g(0,"span"),b(1,"Invertir ahora"),m())}function r7(n,e){n&1&&(g(0,"span"),b(1,"Procesando pago..."),m())}function i7(n,e){if(n&1&&(g(0,"div",43)(1,"h4"),b(2),m(),g(3,"h5"),b(4),m(),g(5,"p"),b(6),m()()),n&2){let t=e.$implicit;E(2),ie("$",t.minimumAmount," o m\xE1s"),E(2),re(t.title),E(2),re(t.description)}}function o7(n,e){if(n&1&&(g(0,"div",44)(1,"span",45),b(2),m(),g(3,"span",46),b(4),m()()),n&2){let t=e.$implicit;E(2),re(t.name),E(2),ie("$",t.amount,"")}}function s7(n,e){if(n&1){let t=Pe();g(0,"div",1)(1,"div",2)(2,"h1"),b(3),m(),g(4,"p",3),b(5),m(),g(6,"p",4),b(7),m(),W(8,e7,2,1,"div",5),m(),g(9,"div",6)(10,"div",7)(11,"div",8)(12,"h2"),b(13,"Acerca de este proyecto"),m(),g(14,"p"),b(15),m()(),g(16,"div",9)(17,"h2"),b(18,"Retos y desaf\xEDos"),m(),g(19,"p"),b(20),m()(),g(21,"div",10)(22,"h2"),b(23,"Actualizaciones"),m(),W(24,t7,8,5,"div",11),m(),g(25,"button",12),H("click",function(){J(t);let i=U();return ee(i.navigateAnalisis())}),b(26," Analisis de Proyecto "),m()(),g(27,"div",13)(28,"div",14)(29,"h3"),b(30),dt(31,"uppercase"),m()(),g(32,"div",15)(33,"div",16),ae(34,"div",17),m(),g(35,"div",18)(36,"span",19),b(37),m(),g(38,"span",20),b(39),m()(),g(40,"div",21)(41,"span"),b(42),m()()(),g(43,"div",22)(44,"h3"),b(45,"Invertir en este proyecto"),m(),g(46,"div",23)(47,"label",24),b(48,"Monto a invertir ($)"),m(),g(49,"input",25),nt("ngModelChange",function(i){J(t);let o=U();return ot(o.investmentAmount,i)||(o.investmentAmount=i),ee(i)}),m()(),g(50,"button",26),H("click",function(){J(t);let i=U();return ee(i.invest())}),W(51,n7,2,0,"span",27)(52,r7,2,0,"span",27),m(),g(53,"p",28),b(54," Ser\xE1s redirigido a PayU para completar el pago de forma segura "),m()(),g(55,"div",29)(56,"h3"),b(57,"Recompensas"),m(),W(58,i7,7,3,"div",30),m(),g(59,"div",31)(60,"h3"),b(61,"Creador del proyecto"),m(),g(62,"div",32),ae(63,"img",33),g(64,"div",34)(65,"h4"),b(66),m(),g(67,"p"),b(68),m(),g(69,"a",35),b(70,"Contactar"),m()()()(),g(71,"div",36)(72,"h3"),b(73,"Principales aportantes"),m(),W(74,o7,5,2,"div",37),m()()()()}if(n&2){let t=U();E(3),re(t.project.title),E(2),ie("\u{1F4CD} ",t.project.location,""),E(2),re(t.project.category),E(),F("ngIf",t.isProjectCreator()),E(7),re(t.project.longDescription),E(5),re(t.project.risksAndChallenges),E(4),F("ngForOf",t.project.updates),E(4),Ye("pending",t.project.status==="pending")("approved",t.project.status==="approved")("rejected",t.project.status==="rejected"),E(2),ie("Estado: ",en(31,33,t.project.status),""),E(4),ki("width",t.project.collected/t.project.goal*100+"%"),E(3),ie("",(t.project.collected/t.project.goal*100).toFixed(0),"%"),E(2),_s("$",t.project.collected," recaudados de $",t.project.goal,""),E(3),ie("",t.getDaysRemaining(t.project.deadline)," d\xEDas restantes"),E(7),tt("ngModel",t.investmentAmount),F("max",t.project.goal-t.project.collected)("disabled",t.isProcessingPayment),E(),F("disabled",t.isProcessingPayment),E(),F("ngIf",!t.isProcessingPayment),E(),F("ngIf",t.isProcessingPayment),E(6),F("ngForOf",t.project.rewards),E(5),F("src",t.project.creator.avatar,go),E(3),re(t.project.creator.name),E(2),re(t.project.creator.bio),E(),s0("href","mailto:",t.project.creator.email,"",go),E(5),F("ngForOf",t.getTopSupporters())}}var uv=class n{constructor(e,t,r,i,o){this.route=e;this.router=t;this.projectService=r;this.authService=i;this.http=o}projectId="";project=null;investmentAmount=0;currentUser;isLoading=!0;error=null;isProcessingPayment=!1;ngOnInit(){this.route.paramMap.subscribe(e=>{this.projectId=e.get("id")||"",this.authService.currentUser$.subscribe(t=>{this.currentUser=t}),this.projectId?this.loadProject(this.projectId):this.router.navigate(["/dashboard"],{replaceUrl:!0})})}loadProject(e){this.isLoading=!0,this.error=null,this.projectService.getProjectById(e).subscribe({next:t=>{if(!t){this.router.navigate(["/dashboard"],{replaceUrl:!0});return}this.project=ne(L({},t),{deadline:new Date(t.deadline),longDescription:t.longDescription||`Este proyecto busca ${t.description.toLowerCase()} a trav\xE9s de un enfoque innovador y colaborativo.`,location:t.location||"Ubicaci\xF3n no especificada",creator:t.creator||this.getDefaultCreator(),risksAndChallenges:t.risksAndChallenges||"No se han especificado los retos y desaf\xEDos de este proyecto.",rewards:t.rewards||this.getDefaultRewards(),updates:(t.updates||[]).map(r=>ne(L({},r),{date:new Date(r.date)})),supporters:(t.supporters||[]).map(r=>ne(L({},r),{date:new Date(r.date)}))}),this.isLoading=!1},error:t=>{console.error("Error loading project",t),this.error="No se pudo cargar el proyecto. Por favor intenta m\xE1s tarde.",this.isLoading=!1}})}invest(){if(this.investmentAmount<=0){alert("Por favor ingresa un monto v\xE1lido");return}if(!this.currentUser){alert("Debes iniciar sesi\xF3n para invertir"),this.router.navigate(["/login"]);return}if(this.investmentAmount>this.project.goal-this.project.collected){alert("El monto ingresado supera lo que falta para alcanzar la meta del proyecto");return}this.isProcessingPayment=!0;let e={id_proyecto:this.projectId,descripcion:`Inversi\xF3n en ${this.project.title}`,valor:this.investmentAmount,email:this.currentUser.email};this.http.post(`${pi.apiUrl}/pasarela/crear-pago`,e,{responseType:"text"}).subscribe({next:t=>{let r=window.open("","PayU","width=800,height=600");if(r)r.document.write(t);else{let i=document.createElement("div");i.innerHTML=t,document.body.appendChild(i);let o=i.querySelector("form");o&&o.submit()}},error:t=>{console.error("Error al procesar el pago",t),alert("Ocurri\xF3 un error al procesar tu pago. Por favor intenta nuevamente."),this.isProcessingPayment=!1},complete:()=>{this.isProcessingPayment=!1}})}navigateAnalisis(){this.router.navigate(["/project-analytics",this.projectId])}getDefaultCreator(){return{name:"Creador An\xF3nimo",email:"contacto@proyecto.com",bio:"Informaci\xF3n no disponible sobre el creador de este proyecto.",avatar:"https://randomuser.me/api/portraits/lego/0.jpg"}}getDefaultRewards(){return[{title:"Agradecimiento p\xFAblico",description:"Menci\xF3n en nuestras redes sociales y p\xE1gina web.",minimumAmount:10},{title:"Kit del proyecto",description:"Recibir\xE1s un kit con productos relacionados al proyecto.",minimumAmount:50}]}getDaysRemaining(e){return Math.floor((e.getTime()-new Date().getTime())/(1e3*60*60*24))}getTopSupporters(){return[...this.project.supporters].sort((e,t)=>t.amount-e.amount).slice(0,3)}isProjectCreator(){return!this.currentUser||!this.project?!1:this.currentUser.uid===this.project.creator?.uid||this.currentUser.id===this.project.creator?.id}editProject(){this.project?.id&&this.router.navigate(["/edit-project",this.project.id])}deleteProject(){return w(this,null,function*(){if(!(!this.project?.id||!confirm("\xBFEst\xE1s seguro de que quieres eliminar este proyecto? Esta acci\xF3n no se puede deshacer.")))try{yield this.projectService.deleteProject(this.project.id).toPromise(),alert("Proyecto eliminado exitosamente"),this.router.navigate(["/dashboard"])}catch(t){console.error("Error al eliminar proyecto:",t),alert("Ocurri\xF3 un error al eliminar el proyecto")}})}static \u0275fac=function(t){return new(t||n)(j(dn),j(Ae),j(Vn),j(Be),j(sr))};static \u0275cmp=Re({type:n,selectors:[["app-project-details"]],decls:1,vars:1,consts:[["class","project-details-container",4,"ngIf"],[1,"project-details-container"],[1,"project-header"],[1,"location"],[1,"category"],["class","creator-actions",4,"ngIf"],[1,"project-content"],[1,"main-content"],[1,"project-description"],[1,"project-risks"],[1,"project-updates"],["class","update",4,"ngFor","ngForOf"],[1,"analisisPro",3,"click"],[1,"sidebar"],[1,"project-status"],[1,"progress-container"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-stats"],[1,"percentage"],[1,"amount"],[1,"time-remaining"],[1,"investment-section"],[1,"form-group"],["for","amount"],["type","number","id","amount","min","1",3,"ngModelChange","ngModel","max","disabled"],[1,"invest-button",3,"click","disabled"],[4,"ngIf"],[1,"note"],[1,"rewards-section"],["class","reward",4,"ngFor","ngForOf"],[1,"creator-section"],[1,"creator-info"],["alt","Avatar del creador",1,"creator-avatar",3,"src"],[1,"creator-details"],[3,"href"],[1,"supporters-section"],["class","supporter",4,"ngFor","ngForOf"],[1,"creator-actions"],["class","delete-button",3,"click",4,"ngIf"],[1,"delete-button",3,"click"],[1,"update"],[1,"date"],[1,"reward"],[1,"supporter"],[1,"supporter-name"],[1,"supporter-amount"]],template:function(t,r){t&1&&W(0,s7,75,35,"div",0),t&2&&F("ngIf",r.project)},dependencies:[ht,$t,vt,ws,_o,Nn,Pt,Bu,Ht,zu,Iw,Cn],styles:[".project-details-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem;overflow-x:hidden;word-wrap:break-word}.project-details-container[_ngcontent-%COMP%]   .project-header[_ngcontent-%COMP%]{margin-bottom:2rem}.project-details-container[_ngcontent-%COMP%]   .project-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#4caf50;margin-bottom:.5rem}.project-details-container[_ngcontent-%COMP%]   .project-header[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{color:#52bf57;font-size:1.1rem;margin-bottom:.5rem}.project-details-container[_ngcontent-%COMP%]   .project-header[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{display:inline-block;background:#c8e6c9;color:#2e7d32;padding:.3rem .8rem;border-radius:20px;font-size:.9rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]{display:flex;gap:2rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{flex:2}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#4caf50;margin:1.5rem 0 1rem;border-bottom:2px solid #c8e6c9;padding-bottom:.5rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .project-updates[_ngcontent-%COMP%]   .update[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:8px;margin-bottom:1rem;box-shadow:0 2px 4px #0000001a}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .project-updates[_ngcontent-%COMP%]   .update[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#77cd7b;font-size:.9rem;margin-left:1rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{flex:1}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:8px;margin-bottom:1.5rem;box-shadow:0 2px 4px #0000001a}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#4caf50;margin-top:0;margin-bottom:1rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:10px;background:#c8e6c9;border-radius:5px;margin-bottom:.5rem;overflow:hidden}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:#88c9a1;transition:width .5s ease}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:.5rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]{font-weight:700;color:#4caf50}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .time-remaining[_ngcontent-%COMP%]{text-align:center;color:#52bf57;font-size:.9rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .investment-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .investment-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#2e7d32}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .investment-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:2px solid #c8e6c9;border-radius:5px}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .investment-section[_ngcontent-%COMP%]   .invest-button[_ngcontent-%COMP%]{width:100%;padding:.8rem;background:#4caf50;color:#fff;border:none;border-radius:5px;font-weight:700;cursor:pointer;transition:background .3s}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .investment-section[_ngcontent-%COMP%]   .invest-button[_ngcontent-%COMP%]:hover{background:#3d8b40}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .rewards-section[_ngcontent-%COMP%]   .reward[_ngcontent-%COMP%]{margin-bottom:1rem;padding-bottom:1rem;border-bottom:1px dashed #c8e6c9}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .rewards-section[_ngcontent-%COMP%]   .reward[_ngcontent-%COMP%]:last-child{border-bottom:none}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .rewards-section[_ngcontent-%COMP%]   .reward[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#4caf50;margin:.5rem 0}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .rewards-section[_ngcontent-%COMP%]   .reward[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:.5rem 0;color:#2e7d32}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .creator-section[_ngcontent-%COMP%]   .creator-info[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .creator-section[_ngcontent-%COMP%]   .creator-info[_ngcontent-%COMP%]   .creator-avatar[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;object-fit:cover}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .creator-section[_ngcontent-%COMP%]   .creator-info[_ngcontent-%COMP%]   .creator-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .3rem;color:#2e7d32}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .creator-section[_ngcontent-%COMP%]   .creator-info[_ngcontent-%COMP%]   .creator-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4caf50;text-decoration:none;font-size:.9rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .creator-section[_ngcontent-%COMP%]   .creator-info[_ngcontent-%COMP%]   .creator-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .supporters-section[_ngcontent-%COMP%]   .supporter[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.5rem 0;border-bottom:1px dashed #c8e6c9}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .supporters-section[_ngcontent-%COMP%]   .supporter[_ngcontent-%COMP%]:last-child{border-bottom:none}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .supporters-section[_ngcontent-%COMP%]   .supporter[_ngcontent-%COMP%]   .supporter-name[_ngcontent-%COMP%]{color:#2e7d32}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .supporters-section[_ngcontent-%COMP%]   .supporter[_ngcontent-%COMP%]   .supporter-amount[_ngcontent-%COMP%]{color:#4caf50;font-weight:700}@media (max-width: 768px){.project-content[_ngcontent-%COMP%]{flex-direction:column!important}}.analisisPro[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:4px;cursor:pointer;font-size:1rem}.analisisPro[_ngcontent-%COMP%]:hover{background-color:#3e8e41}.main-content[_ngcontent-%COMP%]{flex:2;min-width:0}.main-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#4caf50;margin:1.5rem 0 1rem;border-bottom:2px solid #c8e6c9;padding-bottom:.5rem}.main-content[_ngcontent-%COMP%]   .project-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .project-risks[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .project-updates[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:normal;overflow-wrap:break-word}.creator-actions[_ngcontent-%COMP%]{margin-top:1rem;display:flex;gap:1rem}.creator-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:4px;font-weight:700;cursor:pointer;transition:all .3s ease}.creator-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.creator-actions[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none}.creator-actions[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover{background-color:#3d8b40}.creator-actions[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]{background-color:#f44336;color:#fff;border:none}.creator-actions[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]:hover{background-color:#ea1c0d}"]})};function a7(n,e){n&1&&(g(0,"div",31),b(1," El t\xEDtulo debe tener al menos 5 caracteres "),m())}function c7(n,e){n&1&&(g(0,"div",31),b(1," La descripci\xF3n debe tener al menos 20 caracteres "),m())}function l7(n,e){n&1&&(g(0,"div",31),b(1," La descripci\xF3n detallada debe tener al menos 100 caracteres "),m())}function u7(n,e){n&1&&(g(0,"div",31),b(1," La meta m\xEDnima es $100 "),m())}function d7(n,e){if(n&1&&(g(0,"option",32),b(1),m()),n&2){let t=e.$implicit;F("value",t),E(),re(t)}}function h7(n,e){n&1&&(g(0,"div",31),b(1," Debes seleccionar una categor\xEDa "),m())}function f7(n,e){n&1&&(g(0,"div",31),b(1," Debes establecer una fecha l\xEDmite "),m())}function p7(n,e){n&1&&(g(0,"div",31),b(1," Debes especificar una ubicaci\xF3n "),m())}function m7(n,e){if(n&1){let t=Pe();g(0,"button",39),H("click",function(){J(t);let i=U().index,o=U();return ee(o.removeReward(i))}),b(1," Eliminar Recompensa "),m()}}function g7(n,e){if(n&1&&(g(0,"div",33)(1,"div",11)(2,"div",3)(3,"label",34),b(4,"T\xEDtulo de la Recompensa *"),m(),ae(5,"input",35),m(),g(6,"div",3)(7,"label",34),b(8,"Monto M\xEDnimo ($) *"),m(),ae(9,"input",36),m()(),g(10,"div",3)(11,"label",34),b(12,"Descripci\xF3n *"),m(),ae(13,"textarea",37),m(),W(14,m7,2,0,"button",38),m()),n&2){let t=e.index,r=U();F("formGroupName",t),E(3),F("for","reward-title-"+t),E(2),F("id","reward-title-"+t),E(2),F("for","reward-amount-"+t),E(2),F("id","reward-amount-"+t),E(2),F("for","reward-desc-"+t),E(2),F("id","reward-desc-"+t),E(),F("ngIf",r.rewards.length>1)}}function v7(n,e){if(n&1){let t=Pe();g(0,"button",39),H("click",function(){J(t);let i=U().index,o=U();return ee(o.removeUpdate(i))}),b(1," Eliminar Actualizaci\xF3n "),m()}}function _7(n,e){if(n&1&&(g(0,"div",40)(1,"div",11)(2,"div",3)(3,"label",34),b(4,"T\xEDtulo *"),m(),ae(5,"input",41),m(),g(6,"div",3)(7,"label",34),b(8,"Fecha *"),m(),ae(9,"input",42),m()(),g(10,"div",3)(11,"label",34),b(12,"Contenido *"),m(),ae(13,"textarea",43),m(),W(14,v7,2,0,"button",38),m()),n&2){let t=e.index,r=U();F("formGroupName",t),E(3),F("for","update-title-"+t),E(2),F("id","update-title-"+t),E(2),F("for","update-date-"+t),E(2),F("id","update-date-"+t),E(2),F("for","update-content-"+t),E(2),F("id","update-content-"+t),E(),F("ngIf",r.updates.length>1)}}function y7(n,e){n&1&&(g(0,"div",31),b(1," Debes describir los riesgos y desaf\xEDos de tu proyecto "),m())}function b7(n,e){n&1&&(g(0,"span"),b(1,"Publicar Proyecto"),m())}function w7(n,e){n&1&&(g(0,"span"),b(1,"Enviando..."),m())}function E7(n,e){if(n&1&&(g(0,"div",31),b(1),m()),n&2){let t=U();E(),ie(" ",t.error," ")}}var dv=class n{constructor(e,t,r,i){this.fb=e;this.projectService=t;this.authService=r;this.router=i;this.projectForm=this.fb.group({title:["",[He.required,He.minLength(5)]],description:["",[He.required,He.minLength(20)]],longDescription:["",[He.required,He.minLength(100)]],goal:[0,[He.required,He.min(100)]],category:["",He.required],deadline:["",He.required],location:["",He.required],risksAndChallenges:["",He.required],rewards:this.fb.array([this.createReward()]),updates:this.fb.array([this.createUpdate()])})}projectForm;categories=["Tecnolog\xEDa","Social","Medio Ambiente","Educaci\xF3n","Arte"];isLoading=!1;error=null;get rewards(){return this.projectForm.get("rewards")}get updates(){return this.projectForm.get("updates")}createReward(){return this.fb.group({title:["",He.required],description:["",He.required],minimumAmount:[0,[He.required,He.min(1)]]})}createUpdate(){return this.fb.group({title:["",He.required],content:["",He.required],date:[new Date().toISOString().split("T")[0]]})}addReward(){this.rewards.push(this.createReward())}removeReward(e){this.rewards.removeAt(e)}addUpdate(){this.updates.push(this.createUpdate())}removeUpdate(e){this.updates.removeAt(e)}onSubmit(){this.projectForm.invalid||this.isLoading||(this.isLoading=!0,this.error=null,this.authService.currentUser$.pipe(mt(1)).subscribe(e=>{if(!e){this.error="Debes iniciar sesi\xF3n para crear un proyecto",this.isLoading=!1;return}let t=this.projectForm.get("deadline")?.value;if(!t){this.error="La fecha l\xEDmite es requerida",this.isLoading=!1;return}let r=new Date(t).toISOString(),i=this.projectForm.get("updates")?.value,o=i?i.map(u=>ne(L({},u),{date:u.date?new Date(u.date).toISOString():new Date().toISOString()})):[],s=["https://projectcor.com/es/wp-content/uploads/2019/05/gestion-de-proyectos.jpg","https://d2fl3xywvvllvq.cloudfront.net/wp-content/uploads/2019/10/nutcache-image-2-600x360.jpg","https://eadic.com/wp-content/uploads/2020/05/Proyecto-2-1.jpg","https://www.ceupe.com.ve/images/easyblog_articles/230/ges_proyec.png","https://acortar.link/25ILfh"];function a(){let u=Math.floor(Math.random()*s.length);return s[u]}let c=ne(L({},this.projectForm.value),{deadline:r,updates:o,creator:{name:e.name,email:e.email,bio:e.bio||"",uid:e.uid,avatar:a()},collected:0,status:"pending",createdAt:new Date().toISOString(),supporters:[]});this.projectService.createProject(c).pipe(mt(1)).subscribe({next:u=>{this.projectForm.reset();let d=u?.projectId||"";d?this.router.navigate(["/project",d],{replaceUrl:!0}):this.router.navigate(["/user-profile"])},error:u=>{console.error("Error creating project",u),this.error="Error al crear el proyecto. Por favor intenta nuevamente.",this.isLoading=!1}})}))}static \u0275fac=function(t){return new(t||n)(j(Em),j(Vn),j(Be),j(Ae))};static \u0275cmp=Re({type:n,selectors:[["app-project-creation"]],decls:78,vars:16,consts:[[1,"creation-container"],[1,"project-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"form-group"],["for","title"],["type","text","id","title","formControlName","title","placeholder","Nombre de tu proyecto"],["class","error-message",4,"ngIf"],["for","description"],["id","description","formControlName","description","placeholder","Describe tu proyecto brevemente (m\xEDnimo 20 caracteres)"],["for","longDescription"],["id","longDescription","formControlName","longDescription","placeholder","Explica tu proyecto en detalle (m\xEDnimo 100 caracteres)"],[1,"form-row"],["for","goal"],["type","number","id","goal","formControlName","goal","min","100"],["for","category"],["id","category","formControlName","category"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","deadline"],["type","date","id","deadline","formControlName","deadline"],["for","location"],["type","text","id","location","formControlName","location","placeholder","Ciudad, Pa\xEDs"],["formArrayName","rewards"],["class","reward-item",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"button-add",3,"click"],["formArrayName","updates"],["class","update-item",3,"formGroupName",4,"ngFor","ngForOf"],["id","risks","formControlName","risksAndChallenges","placeholder","Describe los posibles retos de tu proyecto y c\xF3mo planeas superarlos"],[1,"form-actions"],["type","submit",1,"button-primary",3,"disabled"],[4,"ngIf"],[1,"error-message"],[3,"value"],[1,"reward-item",3,"formGroupName"],[3,"for"],["type","text","formControlName","title","placeholder","Ej: Certificado digital",3,"id"],["type","number","formControlName","minimumAmount","min","1",3,"id"],["formControlName","description","placeholder","Describe qu\xE9 recibir\xE1 el patrocinador",3,"id"],["type","button","class","button-remove",3,"click",4,"ngIf"],["type","button",1,"button-remove",3,"click"],[1,"update-item",3,"formGroupName"],["type","text","formControlName","title","placeholder","Ej: Campa\xF1a lanzada",3,"id"],["type","date","formControlName","date",3,"id"],["formControlName","content","placeholder","Detalles de la actualizaci\xF3n",3,"id"]],template:function(t,r){if(t&1&&(g(0,"div",0)(1,"h2"),b(2,"Crear Nuevo Proyecto"),m(),g(3,"form",1),H("ngSubmit",function(){return r.onSubmit()}),g(4,"div",2)(5,"h3"),b(6,"Informaci\xF3n B\xE1sica"),m(),g(7,"div",3)(8,"label",4),b(9,"T\xEDtulo del Proyecto *"),m(),ae(10,"input",5),W(11,a7,2,0,"div",6),m(),g(12,"div",3)(13,"label",7),b(14,"Descripci\xF3n Corta *"),m(),ae(15,"textarea",8),W(16,c7,2,0,"div",6),m(),g(17,"div",3)(18,"label",9),b(19,"Descripci\xF3n Detallada *"),m(),ae(20,"textarea",10),W(21,l7,2,0,"div",6),m()(),g(22,"div",2)(23,"h3"),b(24,"Financiaci\xF3n y Categor\xEDa"),m(),g(25,"div",11)(26,"div",3)(27,"label",12),b(28,"Meta de financiaci\xF3n ($) *"),m(),ae(29,"input",13),W(30,u7,2,0,"div",6),m(),g(31,"div",3)(32,"label",14),b(33,"Categor\xEDa *"),m(),g(34,"select",15)(35,"option",16),b(36,"Selecciona una categor\xEDa"),m(),W(37,d7,2,2,"option",17),m(),W(38,h7,2,0,"div",6),m()()(),g(39,"div",2)(40,"h3"),b(41,"Fechas y Ubicaci\xF3n"),m(),g(42,"div",11)(43,"div",3)(44,"label",18),b(45,"Fecha L\xEDmite *"),m(),ae(46,"input",19),W(47,f7,2,0,"div",6),m(),g(48,"div",3)(49,"label",20),b(50,"Ubicaci\xF3n *"),m(),ae(51,"input",21),W(52,p7,2,0,"div",6),m()()(),g(53,"div",2)(54,"h3"),b(55,"Recompensas para Patrocinadores"),m(),g(56,"div",22),W(57,g7,15,8,"div",23),m(),g(58,"button",24),H("click",function(){return r.addReward()}),b(59," + A\xF1adir Otra Recompensa "),m()(),g(60,"div",2)(61,"h3"),b(62,"Actualizaciones Iniciales"),m(),g(63,"div",25),W(64,_7,15,8,"div",26),m(),g(65,"button",24),H("click",function(){return r.addUpdate()}),b(66," + A\xF1adir Otra Actualizaci\xF3n "),m()(),g(67,"div",2)(68,"h3"),b(69,"Riesgos y Desaf\xEDos *"),m(),g(70,"div",3),ae(71,"textarea",27),W(72,y7,2,0,"div",6),m()(),g(73,"div",28)(74,"button",29),W(75,b7,2,0,"span",30)(76,w7,2,0,"span",30),m(),W(77,E7,2,1,"div",6),m()()()),t&2){let i,o,s,a,c,u,d,p;E(3),F("formGroup",r.projectForm),E(8),F("ngIf",((i=r.projectForm.get("title"))==null?null:i.invalid)&&((i=r.projectForm.get("title"))==null?null:i.touched)),E(5),F("ngIf",((o=r.projectForm.get("description"))==null?null:o.invalid)&&((o=r.projectForm.get("description"))==null?null:o.touched)),E(5),F("ngIf",((s=r.projectForm.get("longDescription"))==null?null:s.invalid)&&((s=r.projectForm.get("longDescription"))==null?null:s.touched)),E(9),F("ngIf",((a=r.projectForm.get("goal"))==null?null:a.invalid)&&((a=r.projectForm.get("goal"))==null?null:a.touched)),E(7),F("ngForOf",r.categories),E(),F("ngIf",((c=r.projectForm.get("category"))==null?null:c.invalid)&&((c=r.projectForm.get("category"))==null?null:c.touched)),E(9),F("ngIf",((u=r.projectForm.get("deadline"))==null?null:u.invalid)&&((u=r.projectForm.get("deadline"))==null?null:u.touched)),E(5),F("ngIf",((d=r.projectForm.get("location"))==null?null:d.invalid)&&((d=r.projectForm.get("location"))==null?null:d.touched)),E(5),F("ngForOf",r.rewards.controls),E(7),F("ngForOf",r.updates.controls),E(8),F("ngIf",((p=r.projectForm.get("risksAndChallenges"))==null?null:p.invalid)&&((p=r.projectForm.get("risksAndChallenges"))==null?null:p.touched)),E(2),F("disabled",r.projectForm.invalid||r.isLoading),E(),F("ngIf",!r.isLoading),E(),F("ngIf",r.isLoading),E(),F("ngIf",r.error)}},dependencies:[ht,$t,vt,dc,lr,To,Do,Pt,Bu,Jr,Ht,cr,zu,uc,Uu,bm,wm],styles:[".creation-container[_ngcontent-%COMP%]{max-width:900px;margin:2rem auto;padding:2rem;background-color:#fff;border-radius:12px;box-shadow:0 4px 20px #00000014}.creation-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2e7d32;text-align:center;margin-bottom:2rem;font-size:2rem}.project-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.form-section[_ngcontent-%COMP%]{padding:1.5rem;border-radius:8px;background-color:#e4f3e5}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2e7d32;margin-top:0;margin-bottom:1.5rem;font-size:1.3rem;border-bottom:2px solid #88c9a1;padding-bottom:.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#205823}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:6px;font-size:1rem;transition:border-color .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#88c9a1;box-shadow:0 0 0 2px #88c9a133}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:100px;resize:vertical}.form-row[_ngcontent-%COMP%]{display:flex;gap:1.5rem}.form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1}@media (max-width: 600px){.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}}.reward-item[_ngcontent-%COMP%], .update-item[_ngcontent-%COMP%]{background-color:#fff;padding:1.5rem;border-radius:8px;margin-bottom:1.5rem;box-shadow:0 2px 8px #0000000d}.button-primary[_ngcontent-%COMP%]{background-color:#88c9a1;color:#fff;border:none;padding:1rem 2rem;font-size:1rem;border-radius:6px;cursor:pointer;transition:background-color .3s;font-weight:600}.button-primary[_ngcontent-%COMP%]:hover{background-color:#65b985}.button-primary[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.button-add[_ngcontent-%COMP%]{background-color:#c8e6c9;color:#2e7d32;border:1px dashed #88c9a1;padding:.75rem 1.5rem;font-size:.9rem;border-radius:6px;cursor:pointer;transition:all .3s;display:flex;align-items:center;gap:.5rem;margin:0 auto}.button-add[_ngcontent-%COMP%]:hover{background-color:#b6deb8}.button-remove[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828;border:1px solid #ef9a9a;padding:.5rem 1rem;font-size:.8rem;border-radius:4px;cursor:pointer;transition:all .3s}.button-remove[_ngcontent-%COMP%]:hover{background-color:#ffcdd2}.error-message[_ngcontent-%COMP%]{color:#d32f2f;font-size:.85rem;margin-top:.5rem}.form-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;margin-top:1rem}"]})};function C7(n,e){if(n&1&&(g(0,"div",5),b(1),m()),n&2){let t=U(2);E(),ie(" ",t.error," ")}}function I7(n,e){if(n&1){let t=Pe();g(0,"button",27),H("click",function(){J(t);let i=U(3);return ee(i.navigateToEdit())}),b(1," Editar Proyecto "),m()}}function T7(n,e){if(n&1){let t=Pe();g(0,"button",28),H("click",function(){J(t);let i=U(3);return ee(i.deleteProject())}),b(1," Eliminar Proyecto "),m()}}function D7(n,e){if(n&1&&(g(0,"p",36),b(1),m()),n&2){let t=U().$implicit;E(),ie(" ",t.reward," ")}}function S7(n,e){if(n&1&&(g(0,"div",29)(1,"div",30),b(2),m(),g(3,"div",31)(4,"p",32),b(5),m(),g(6,"p",33),b(7),dt(8,"number"),m(),g(9,"p",34),b(10),m(),W(11,D7,2,1,"p",35),m()()),n&2){let t=e.$implicit;E(2),re(t.name.charAt(0)),E(3),re(t.name),E(2),ie(" $",ys(8,5,t.amount,"1.0-0")," "),E(3),re(t.date),E(),F("ngIf",t.reward)}}function A7(n,e){if(n&1&&(g(0,"div",37)(1,"h4"),b(2),m(),g(3,"p"),b(4),m(),g(5,"p"),b(6),dt(7,"number"),m(),g(8,"div",38),ae(9,"div",39),m()()),n&2){let t=e.$implicit,r=U(3);E(2),re(t.reward),E(2),ie("",t.count," personas"),E(2),ie("Total: $",ys(7,5,t.totalAmount,"1.0-0"),""),E(3),ki("width",t.count/r.analyticsData.basicStats.supportersCount*100,"%")}}function x7(n,e){if(n&1&&(g(0,"div",40)(1,"div",41),b(2),m(),g(3,"div",42)(4,"p",43),b(5),m(),g(6,"p",44),b(7),dt(8,"date"),m()()()),n&2){let t=e.$implicit;E(),Ye("update",t.type==="update")("support",t.type==="support"),E(),ie(" ",t.type==="update"?"\u{1F504}":"\u{1F49A}"," "),E(3),re(t.description),E(2),ie(" ",ys(8,7,t.date,"mediumDate")," ")}}function M7(n,e){if(n&1&&(g(0,"div")(1,"h2"),b(2,"An\xE1lisis del Proyecto"),m(),g(3,"p",6),b(4),m(),ae(5,"br"),W(6,I7,2,0,"button",7),g(7,"div",8),W(8,T7,2,0,"button",9),m(),g(9,"div",10)(10,"div",11)(11,"h3"),b(12,"Recaudado"),m(),g(13,"p",12),b(14),dt(15,"number"),m(),g(16,"p",13),b(17),m()(),g(18,"div",11)(19,"h3"),b(20,"Apoyos"),m(),g(21,"p",12),b(22),m(),g(23,"p",13),b(24,"personas han apoyado"),m()(),g(25,"div",11)(26,"h3"),b(27,"Tiempo restante"),m(),g(28,"p",12),b(29),m(),g(30,"p",13),b(31,"d\xEDas para finalizar"),m()(),g(32,"div",11)(33,"h3"),b(34,"Recompensas"),m(),g(35,"p",12),b(36),m(),g(37,"p",13),b(38,"recompensas reclamadas"),m()()(),g(39,"div",14)(40,"h3"),b(41,"Progreso de financiaci\xF3n"),m(),g(42,"div",15),ae(43,"div",16),m(),g(44,"p",17),b(45),dt(46,"number"),dt(47,"number"),m()(),g(48,"div",18)(49,"h3"),b(50,"Apoyos recientes"),m(),g(51,"div",19),W(52,S7,12,8,"div",20),m()(),g(53,"div",21)(54,"h3"),b(55,"Distribuci\xF3n de recompensas"),m(),g(56,"div",22),W(57,A7,10,8,"div",23),m()(),g(58,"div",24)(59,"h3"),b(60,"Actividad reciente"),m(),g(61,"div",25),W(62,x7,9,10,"div",26),m()()()),n&2){let t=U(2);E(4),re(t.project.title),E(2),F("ngIf",t.isCreator),E(2),F("ngIf",t.isCreator&&(t.project==null?null:t.project.collected)===0),E(6),ie(" $",ys(15,16,t.analyticsData.basicStats.totalCollected,"1.0-0")," "),E(3),ie(" ",t.analyticsData.basicStats.percentageFunded,"% de la meta "),E(5),re(t.analyticsData.basicStats.supportersCount),E(7),re(t.analyticsData.basicStats.daysRemaining),E(7),re(t.analyticsData.basicStats.rewardsClaimed),E(7),ki("width",t.analyticsData.basicStats.percentageFunded,"%"),E(2),a0(" $",ys(46,19,t.analyticsData.basicStats.totalCollected,"1.0-0")," de $",ys(47,22,t.project.goal,"1.0-0")," (",t.analyticsData.basicStats.percentageFunded,"%) "),E(7),F("ngForOf",t.analyticsData.supporters.slice(0,5)),E(5),F("ngForOf",t.analyticsData.rewardsDistribution),E(5),F("ngForOf",t.analyticsData.recentActivity.slice(0,5))}}function P7(n,e){if(n&1&&(g(0,"div",2),W(1,C7,2,1,"div",3)(2,M7,63,25,"div",4),m()),n&2){let t=U();E(),F("ngIf",t.error),E(),F("ngIf",!t.error)}}function R7(n,e){n&1&&(g(0,"div",45)(1,"p"),b(2,"Cargando an\xE1lisis..."),m()())}var hv=class n{constructor(e,t,r,i,o,s){this.route=e;this.projectService=t;this.router=r;this.authService=i;this.decimalPipe=o;this.datePipe=s}projectId="";project=null;analyticsData=null;isLoading=!0;error=null;currentUserEmail="";isCreator=!1;currentUserId="";ngOnInit(){let e=JSON.parse(localStorage.getItem("current_user")||"{}");this.currentUserId=e?.uid||"",this.projectId=this.route.snapshot.paramMap.get("id")||"",this.authService.currentUser$.subscribe(t=>{this.currentUserEmail=t?.email||"",this.loadProjectData()})}loadProjectData(){this.isLoading=!0,this.projectService.getProjectById(this.projectId).subscribe({next:e=>{if(!e){this.error="Proyecto no encontrado",this.isLoading=!1;return}this.project=e,this.isCreator=e.creator?.email===this.currentUserEmail,this.generateAnalytics(e)},error:e=>{console.error("Error loading project",e),this.error="Error al cargar el proyecto",this.isLoading=!1}})}generateAnalytics(e){let t=e.collected||0,r=Math.min(Math.round(t/e.goal*100),100),i=new Date(e.deadline),o=new Date,s=Math.max(0,Math.ceil((i.getTime()-o.getTime())/(1e3*60*60*24))),a=e.supporters?.map(p=>({name:p.name,amount:p.amount,date:new Date(p.date).toLocaleDateString(),reward:this.getRewardName(e.rewards,p.amount)}))||[],c=this.generateFundingProgress(e),u=this.calculateRewardsDistribution(e),d=this.generateRecentActivity(e);this.analyticsData={basicStats:{totalCollected:t,percentageFunded:r,daysRemaining:s,supportersCount:a.length,rewardsClaimed:u.reduce((p,v)=>p+v.count,0)},supporters:a,fundingProgress:c,rewardsDistribution:u,recentActivity:d},this.isLoading=!1}navigateToEdit(){this.router.navigate(["/project-edit",this.projectId])}getRewardName(e,t){return e&&e.filter(i=>t>=i.minimumAmount).sort((i,o)=>o.minimumAmount-i.minimumAmount)[0]?.title||"Sin recompensa"}generateFundingProgress(e){if(e.fundingProgress)return e.fundingProgress;let t=[],r=new Date(e.createdAt),o=Math.ceil((new Date().getTime()-r.getTime())/(1e3*60*60*24)),s=0;for(let a=0;a<=o;a++){let c=new Date(r);c.setDate(r.getDate()+a),s+=Math.random()*(e.goal/10),s>e.collected&&(s=e.collected),t.push({date:c.toISOString().split("T")[0],amount:Math.round(s)})}return t}calculateRewardsDistribution(e){return!e.rewards||!e.supporters?[]:e.rewards.map(t=>{let r=e.supporters.filter(i=>i.amount>=t.minimumAmount);return{reward:t.title,count:r.length,totalAmount:r.reduce((i,o)=>i+o.amount,0)}})}generateRecentActivity(e){let t=[];return e.updates&&e.updates.forEach(r=>{t.push({type:"update",description:r.title,date:r.date})}),e.supporters&&e.supporters.slice(-5).forEach(r=>{t.push({type:"support",description:`Nuevo apoyo de ${r.name} ($${r.amount})`,date:r.date})}),t.sort((r,i)=>new Date(i.date).getTime()-new Date(r.date).getTime())}deleteProject(){return w(this,null,function*(){if(confirm("\xBFEst\xE1s seguro de que quieres eliminar este proyecto? Esta acci\xF3n no se puede deshacer."))try{yield bi(this.projectService.deleteProject(this.projectId)),alert("Proyecto eliminado exitosamente"),this.router.navigate(["/user-profile"])}catch(t){console.error("Error al eliminar proyecto:",t),alert("Ocurri\xF3 un error al eliminar el proyecto")}})}static \u0275fac=function(t){return new(t||n)(j(dn),j(Vn),j(Ae),j(Be),j(Kr),j(_o))};static \u0275cmp=Re({type:n,selectors:[["app-project-analytics"]],features:[Tt([Kr,_o])],decls:2,vars:2,consts:[["class","analytics-container",4,"ngIf"],["class","loading-container",4,"ngIf"],[1,"analytics-container"],["class","error-message",4,"ngIf"],[4,"ngIf"],[1,"error-message"],[1,"project-title"],["class","edit-button",3,"click",4,"ngIf"],[1,"action-buttons"],["class","delete-button",3,"click",4,"ngIf"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-value"],[1,"stat-label"],[1,"chart-container"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"],[1,"supporters-section"],[1,"supporters-grid"],["class","supporter-card",4,"ngFor","ngForOf"],[1,"rewards-section"],[1,"rewards-grid"],["class","reward-card",4,"ngFor","ngForOf"],[1,"activity-section"],[1,"activity-timeline"],["class","activity-item",4,"ngFor","ngForOf"],[1,"edit-button",3,"click"],[1,"delete-button",3,"click"],[1,"supporter-card"],[1,"supporter-avatar"],[1,"supporter-info"],[1,"supporter-name"],[1,"supporter-amount"],[1,"supporter-date"],["class","supporter-reward",4,"ngIf"],[1,"supporter-reward"],[1,"reward-card"],[1,"reward-bar"],[1,"reward-fill"],[1,"activity-item"],[1,"activity-icon"],[1,"activity-content"],[1,"activity-description"],[1,"activity-date"],[1,"loading-container"]],template:function(t,r){t&1&&W(0,P7,3,2,"div",0)(1,R7,3,0,"div",1),t&2&&(F("ngIf",!r.isLoading&&r.analyticsData&&r.project),E(),F("ngIf",r.isLoading))},dependencies:[ht,$t,vt,Kr,_o],styles:['@charset "UTF-8";.analytics-container[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:1rem}.error-message[_ngcontent-%COMP%]{color:#d32f2f;background-color:#ffebee;padding:1rem;border-radius:4px;margin-bottom:1rem}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 8px #0000001a;text-align:center}.stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#2e7d32;margin:.5rem 0}.stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:#666;margin:0}.chart-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.5rem;margin-bottom:2rem;box-shadow:0 2px 8px #0000001a}.chart-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.progress-bar[_ngcontent-%COMP%]{height:20px;background-color:#e0e0e0;border-radius:10px;margin:1rem 0;overflow:hidden}.progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background-color:#4caf50;transition:width .5s ease}.progress-text[_ngcontent-%COMP%]{text-align:center;color:#666}.supporters-section[_ngcontent-%COMP%], .rewards-section[_ngcontent-%COMP%], .activity-section[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.5rem;margin-bottom:2rem;box-shadow:0 2px 8px #0000001a}.supporters-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .rewards-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .activity-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.supporters-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1rem}.supporter-card[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1rem;border:1px solid #e0e0e0;border-radius:8px}.supporter-card[_ngcontent-%COMP%]   .supporter-avatar[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#4caf50;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-right:1rem;font-weight:700}.supporter-card[_ngcontent-%COMP%]   .supporter-name[_ngcontent-%COMP%]{font-weight:700;margin:0}.supporter-card[_ngcontent-%COMP%]   .supporter-amount[_ngcontent-%COMP%]{color:#2e7d32;font-weight:700;margin:.25rem 0}.supporter-card[_ngcontent-%COMP%]   .supporter-date[_ngcontent-%COMP%], .supporter-card[_ngcontent-%COMP%]   .supporter-reward[_ngcontent-%COMP%]{color:#666;font-size:.8rem;margin:.1rem 0}.rewards-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1rem}.reward-card[_ngcontent-%COMP%]{padding:1rem;border:1px solid #e0e0e0;border-radius:8px}.reward-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0;color:#2e7d32}.reward-card[_ngcontent-%COMP%]   .reward-bar[_ngcontent-%COMP%]{height:8px;background-color:#e0e0e0;border-radius:4px;margin-top:.5rem;overflow:hidden}.reward-card[_ngcontent-%COMP%]   .reward-bar[_ngcontent-%COMP%]   .reward-fill[_ngcontent-%COMP%]{height:100%;background-color:#4caf50}.activity-timeline[_ngcontent-%COMP%]{border-left:2px solid #e0e0e0;padding-left:1.5rem;margin-left:1rem}.activity-item[_ngcontent-%COMP%]{display:flex;margin-bottom:1.5rem;position:relative}.activity-item[_ngcontent-%COMP%]   .activity-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background-color:#e8f5e9;display:flex;align-items:center;justify-content:center;margin-right:1rem;position:absolute;left:-17px}.activity-item[_ngcontent-%COMP%]   .activity-icon.update[_ngcontent-%COMP%]{background-color:#e3f2fd}.activity-item[_ngcontent-%COMP%]   .activity-icon.support[_ngcontent-%COMP%]{background-color:#f1f8e9}.activity-item[_ngcontent-%COMP%]   .activity-content[_ngcontent-%COMP%]{margin-left:2rem}.activity-item[_ngcontent-%COMP%]   .activity-content[_ngcontent-%COMP%]   .activity-description[_ngcontent-%COMP%]{margin:0 0 .25rem}.activity-item[_ngcontent-%COMP%]   .activity-content[_ngcontent-%COMP%]   .activity-date[_ngcontent-%COMP%]{color:#666;font-size:.8rem;margin:0}.loading-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#666}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.supporters-grid[_ngcontent-%COMP%], .rewards-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.delete-button[_ngcontent-%COMP%]{background-color:#f44336;align-items:center;margin-top:1rem;display:flex;gap:1rem;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:4px;cursor:pointer;font-size:1rem}.delete-button[_ngcontent-%COMP%]:hover{background-color:#ea1c0d}.edit-button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:4px;cursor:pointer;font-size:1rem}.edit-button[_ngcontent-%COMP%]:hover{background-color:#3e8e41}.project-title[_ngcontent-%COMP%]{text-align:center;color:#3e8e41;padding:.75rem 1.5rem;border-radius:9px;font-size:clamp(1.5rem,5vw,3rem);text-transform:uppercase;overflow-wrap:break-word;word-break:break-word;max-width:100%;margin:0 auto;box-sizing:border-box}']})};function O7(n,e){n&1&&(g(0,"div",3)(1,"p"),b(2,"Cargando datos del proyecto..."),m()())}function k7(n,e){n&1&&(g(0,"div",24),b(1," El t\xEDtulo debe tener al menos 5 caracteres "),m())}function N7(n,e){n&1&&(g(0,"div",24),b(1," La descripci\xF3n debe tener al menos 20 caracteres "),m())}function F7(n,e){if(n&1&&(g(0,"option",25),b(1),m()),n&2){let t=e.$implicit,r=U(2);F("value",t)("selected",t===r.projectForm.value.category),E(),ie(" ",t," ")}}function L7(n,e){if(n&1&&(g(0,"div",24),b(1),m()),n&2){let t=U(2);E(),ie(" ",t.error," ")}}function V7(n,e){if(n&1){let t=Pe();g(0,"form",4),H("ngSubmit",function(){J(t);let i=U();return ee(i.onSubmit())}),g(1,"div",5)(2,"label",6),b(3,"T\xEDtulo del Proyecto *"),m(),ae(4,"input",7),W(5,k7,2,0,"div",8),m(),g(6,"div",5)(7,"label",9),b(8,"Descripci\xF3n Corta *"),m(),g(9,"textarea",10),b(10),m(),W(11,N7,2,0,"div",8),m(),g(12,"div",5)(13,"label",11),b(14,"Descripci\xF3n Detallada *"),m(),g(15,"textarea",12),b(16),m()(),g(17,"div",5)(18,"label",13),b(19,"Categor\xEDa *"),m(),g(20,"select",14)(21,"option",15),b(22,"Selecciona una categor\xEDa"),m(),W(23,F7,2,3,"option",16),m()(),g(24,"div",5)(25,"label",17),b(26,"Ubicaci\xF3n *"),m(),ae(27,"input",18),m(),g(28,"div",5)(29,"label",19),b(30,"Retos y desaf\xEDos *"),m(),g(31,"textarea",20),b(32),m()(),g(33,"div",21)(34,"button",22),b(35),m(),g(36,"button",23),H("click",function(){J(t);let i=U();return ee(i.onCancel())}),b(37," Cancelar "),m()(),W(38,L7,2,1,"div",8),m()}if(n&2){let t,r,i=U();F("formGroup",i.projectForm),E(4),F("value",i.projectForm.value.title),E(),F("ngIf",((t=i.projectForm.get("title"))==null?null:t.invalid)&&((t=i.projectForm.get("title"))==null?null:t.touched)),E(5),re(i.projectForm.value.description),E(),F("ngIf",((r=i.projectForm.get("description"))==null?null:r.invalid)&&((r=i.projectForm.get("description"))==null?null:r.touched)),E(5),re(i.projectForm.value.longDescription),E(7),F("ngForOf",i.categories),E(4),F("value",i.projectForm.value.location),E(5),re(i.projectForm.value.risksAndChallenges),E(2),F("disabled",i.projectForm.invalid||i.isLoading),E(),ie(" ",i.isLoading?"Guardando...":"Guardar Cambios"," "),E(3),F("ngIf",i.error)}}var fv=class n{constructor(e,t,r,i,o){this.fb=e;this.route=t;this.router=r;this.projectService=i;this.authService=o;this.projectForm=this.fb.group({title:["",[He.required,He.minLength(5)]],description:["",[He.required,He.minLength(20)]],longDescription:["",[He.required,He.minLength(100)]],category:["",He.required],location:["",He.required],risksAndChallenges:["",He.required]})}projectId="";projectForm;isLoading=!0;error=null;categories=["Tecnolog\xEDa","Social","Medio Ambiente","Educaci\xF3n","Arte"];ngOnInit(){this.projectId=this.route.snapshot.paramMap.get("id")||"",this.loadProjectData()}loadProjectData(){this.authService.currentUser$.pipe(mt(1)).subscribe(e=>{this.projectService.getProjectById(this.projectId).subscribe({next:t=>{if(!t){this.error="Proyecto no encontrado",this.isLoading=!1;return}if(t.creator?.email!==e?.email){this.error="No tienes permiso para editar este proyecto",this.isLoading=!1;return}this.projectForm.patchValue({title:t.title,description:t.description,longDescription:t.longDescription||"",category:t.category,location:t.location||"",risksAndChallenges:t.risksAndChallenges||""}),this.isLoading=!1},error:t=>{console.error("Error loading project",t),this.error="Error al cargar el proyecto",this.isLoading=!1}})})}onSubmit(){if(this.projectForm.invalid||this.isLoading)return;this.isLoading=!0,this.error=null;let e=L({},this.projectForm.value);this.projectService.updateProject(this.projectId,e).subscribe({next:()=>{this.router.navigate(["/project-analytics",this.projectId])},error:t=>{console.error("Error updating project",t),this.error="Error al actualizar el proyecto",this.isLoading=!1}})}onCancel(){this.router.navigate(["/project-analytics",this.projectId])}static \u0275fac=function(t){return new(t||n)(j(Em),j(dn),j(Ae),j(Vn),j(Be))};static \u0275cmp=Re({type:n,selectors:[["app-project-edit"]],decls:5,vars:2,consts:[[1,"edit-container"],["class","loading-message",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"loading-message"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","title"],["type","text","id","title","formControlName","title",3,"value"],["class","error-message",4,"ngIf"],["for","description"],["id","description","formControlName","description"],["for","longDescription"],["id","longDescription","formControlName","longDescription"],["for","category"],["id","category","formControlName","category"],["value",""],[3,"value","selected",4,"ngFor","ngForOf"],["for","location"],["type","text","id","location","formControlName","location",3,"value"],["for","risks"],["id","risks","formControlName","risksAndChallenges"],[1,"form-actions"],["type","submit",3,"disabled"],["type","button",3,"click"],[1,"error-message"],[3,"value","selected"]],template:function(t,r){t&1&&(g(0,"div",0)(1,"h2"),b(2,"Editar Proyecto"),m(),W(3,O7,3,0,"div",1)(4,V7,39,12,"form",2),m()),t&2&&(E(3),F("ngIf",r.isLoading),E(),F("ngIf",!r.isLoading))},dependencies:[dc,lr,To,Do,Pt,Jr,Ht,cr,uc,Uu,ht,$t,vt],styles:[`@charset "UTF-8";.edit-container[_ngcontent-%COMP%]{max-width:800px;margin:2rem auto;padding:2rem;background:#fff;border-radius:8px;box-shadow:0 2px 10px #0000001a}.edit-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2e7d32;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:4px;font-size:1rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#4caf50}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:120px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:2rem}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:4px;cursor:pointer;font-size:1rem}.form-actions[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none}.form-actions[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:disabled{background-color:#ccc}.form-actions[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd}.error-message[_ngcontent-%COMP%]{color:#d32f2f;margin-top:.5rem}.loading-message[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#666}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#333}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;transition:border-color .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#4caf50;box-shadow:0 0 0 2px #4caf5033}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:120px;resize:vertical}select[_ngcontent-%COMP%]{appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .5rem center;background-size:1em}`]})};function Md(n){return n.buttons===0||n.detail===0}function Pd(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var GI;function YN(){if(GI==null){let n=typeof document<"u"?document.head:null;GI=!!(n&&(n.createShadowRoot||n.attachShadow))}return GI}function KI(n){if(YN()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function jn(n){return n.composedPath?n.composedPath()[0]:n.target}function fr(n,e,t,r,i){let o=parseInt(Ql.major),s=parseInt(Ql.minor);return o>19||o===19&&s>0||o===0&&s===0?n.listen(e,t,r,i):(e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)})}var YI;try{YI=typeof Intl<"u"&&Intl.v8BreakIterator}catch{YI=!1}var Kt=(()=>{class n{_platformId=I(qr);isBrowser=this._platformId?w0(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||YI)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Rd;function QN(){if(Rd==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Rd=!0}))}finally{Rd=Rd||!1}return Rd}function Uc(n){return QN()?n:!!n.capture}function mi(n){return n instanceof et?n.nativeElement:n}var ZN=new z("cdk-input-modality-detector-options"),XN={ignoreKeys:[18,17,224,91,16]},JN=650,QI={passive:!0,capture:!0},eF=(()=>{class n{_platform=I(Kt);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new it(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(r=>r===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=jn(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<JN||(this._modality.next(Md(t)?"keyboard":"mouse"),this._mostRecentTarget=jn(t))};_onTouchstart=t=>{if(Pd(t)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=jn(t)};constructor(){let t=I(ce),r=I(Ie),i=I(ZN,{optional:!0});if(this._options=L(L({},XN),i),this.modalityDetected=this._modality.pipe(Dl(1)),this.modalityChanged=this.modalityDetected.pipe(Qh()),this._platform.isBrowser){let o=I(Zt).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[fr(o,r,"keydown",this._onKeydown,QI),fr(o,r,"mousedown",this._onMousedown,QI),fr(o,r,"touchstart",this._onTouchstart,QI)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t())}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Od=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(Od||{}),tF=new z("cdk-focus-monitor-default-options"),pv=Uc({passive:!0,capture:!0}),ZI=(()=>{class n{_ngZone=I(ce);_platform=I(Kt);_inputModalityDetector=I(eF);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=I(Ie,{optional:!0});_stopInputModalityDetector=new fe;constructor(){let t=I(tF,{optional:!0});this._detectionMode=t?.detectionMode||Od.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{let r=jn(t);for(let i=r;i;i=i.parentElement)t.type==="focus"?this._onFocus(t,i):this._onBlur(t,i)};monitor(t,r=!1){let i=mi(t);if(!this._platform.isBrowser||i.nodeType!==1)return Q();let o=KI(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;let a={checkChildren:r,subject:new fe,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){let r=mi(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){let o=mi(t),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,r,c)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===Od.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused",r==="touch"),t.classList.toggle("cdk-keyboard-focused",r==="keyboard"),t.classList.toggle("cdk-mouse-focused",r==="mouse"),t.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&r,this._detectionMode===Od.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?JN:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(t,r){let i=this._elementInfo.get(r),o=jn(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){let i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,pv),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,pv)}),this._rootNodeFocusListenerCount.set(r,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Zn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,pv),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,pv),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){let r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!r||r===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0}return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var mv=new WeakMap,Lo=(()=>{class n{_appRef;_injector=I(Le);_environmentInjector=I(ut);load(t){let r=this._appRef=this._appRef||this._injector.get(Er),i=mv.get(r);i||(i={loaders:new Set,refs:[]},mv.set(r,i),r.onDestroy(()=>{mv.get(r)?.refs.forEach(o=>o.destroy()),mv.delete(r)})),i.loaders.has(t)||(i.loaders.add(t),i.refs.push(rp(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $c(n){return Array.isArray(n)?n:[n]}var nF=new Set,Js,iF=(()=>{class n{_platform=I(Kt);_nonce=I(zl,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):B7}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&j7(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function j7(n,e){if(!nF.has(n))try{Js||(Js=document.createElement("style"),e&&Js.setAttribute("nonce",e),Js.setAttribute("type","text/css"),document.head.appendChild(Js)),Js.sheet&&(Js.sheet.insertRule(`@media ${n} {body{ }}`,0),nF.add(n))}catch(t){console.error(t)}}function B7(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var XI=(()=>{class n{_mediaMatcher=I(iF);_zone=I(ce);_queries=new Map;_destroySubject=new fe;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return rF($c(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let i=rF($c(t)).map(s=>this._registerQuery(s).observable),o=Yo(i);return o=uo(o.pipe(mt(1)),o.pipe(Dl(1),Y_(0))),o.pipe(de(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:u})=>{a.matches=a.matches||c,a.breakpoints[u]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let r=this._mediaMatcher.matchMedia(t),o={observable:new me(s=>{let a=c=>this._zone.run(()=>s.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(Ca(r),de(({matches:s})=>({query:t,matches:s})),Zn(this._destroySubject)),mql:r};return this._queries.set(t,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rF(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var oF=new z("liveAnnouncerElement",{providedIn:"root",factory:sF});function sF(){return null}var aF=new z("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),U7=0,JI=(()=>{class n{_ngZone=I(ce);_defaultOptions=I(aF,{optional:!0});_liveElement;_document=I(Ie);_previousTimeout;_currentPromise;_currentResolve;constructor(){let t=I(oF,{optional:!0});this._liveElement=t||this._createLiveElement()}announce(t,...r){let i=this._defaultOptions,o,s;return r.length===1&&typeof r[0]=="number"?s=r[0]:[o,s]=r,this.clear(),clearTimeout(this._previousTimeout),o||(o=i&&i.politeness?i.politeness:"polite"),s==null&&i&&(s=i.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let o=0;o<r.length;o++)r[o].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id=`cdk-live-announcer-${U7++}`,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(t){let r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){let o=r[i],s=o.getAttribute("aria-owns");s?s.indexOf(t)===-1&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var eT={},kd=(()=>{class n{_appId=I($l);getId(t){return this._appId!=="ng"&&(t+=this._appId),eT.hasOwnProperty(t)||(eT[t]=0),`${t}${eT[t]++}`}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ea;function cF(){if(ea==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return ea=!1,ea;if("scrollBehavior"in document.documentElement.style)ea=!0;else{let n=Element.prototype.scrollTo;n?ea=!/\{\s*\[native code\]\s*\}/.test(n.toString()):ea=!1}}return ea}function tT(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Dt(n){return n==null?"":typeof n=="string"?n:`${n}px`}var pr=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(pr||{}),nT=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=pr.HIDDEN;constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i}fadeOut(){this._renderer.fadeOutRipple(this)}},lF=Uc({passive:!0,capture:!0}),rT=class{_events=new Map;addHandler(e,t,r,i){let o=this._events.get(t);if(o){let s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,lF)})}removeHandler(e,t,r){let i=this._events.get(e);if(!i)return;let o=i.get(t);o&&(o.delete(r),o.size===0&&i.delete(t),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,lF)))}_delegateEventHandler=e=>{let t=jn(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(o=>o.handleEvent(e))})}},Nd={enterDuration:225,exitDuration:150},z7=800,uF=Uc({passive:!0,capture:!0}),dF=["mousedown","touchstart"],hF=["mouseup","mouseleave","touchend","touchcancel"],H7=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Re({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return n})(),gv=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new rT;constructor(e,t,r,i,o){this._target=e,this._ngZone=t,this._platform=i,i.isBrowser&&(this._containerElement=mi(r)),o&&o.get(Lo).load(H7)}fadeInRipple(e,t,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=L(L({},Nd),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);let s=r.radius||q7(e,t,i),a=e-i.left,c=t-i.top,u=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${c-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,r.color!=null&&(d.style.backgroundColor=r.color),d.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(d);let p=window.getComputedStyle(d),v=p.transitionProperty,_=p.transitionDuration,S=v==="none"||_==="0s"||_==="0s, 0s"||i.width===0&&i.height===0,R=new nT(this,d,r,S);d.style.transform="scale3d(1, 1, 1)",R.state=pr.FADING_IN,r.persistent||(this._mostRecentTransientRipple=R);let k=null;return!S&&(u||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let G=()=>{k&&(k.fallbackTimer=null),clearTimeout(X),this._finishRippleTransition(R)},te=()=>this._destroyRipple(R),X=setTimeout(te,u+100);d.addEventListener("transitionend",G),d.addEventListener("transitioncancel",te),k={onTransitionEnd:G,onTransitionCancel:te,fallbackTimer:X}}),this._activeRipples.set(R,k),(S||!u)&&this._finishRippleTransition(R),R}fadeOutRipple(e){if(e.state===pr.FADING_OUT||e.state===pr.HIDDEN)return;let t=e.element,r=L(L({},Nd),e.config.animation);t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=pr.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=mi(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,dF.forEach(r=>{n._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{hF.forEach(t=>{this._triggerElement.addEventListener(t,this,uF)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===pr.FADING_IN?this._startFadeOutTransition(e):e.state===pr.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=pr.VISIBLE,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=pr.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=Md(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+z7;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Pd(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===pr.VISIBLE||e.config.terminateOnPointerUp&&e.state===pr.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(dF.forEach(t=>n._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(hF.forEach(t=>e.removeEventListener(t,this,uF)),this._pointerUpEventsRegistered=!1))}};function q7(n,e,t){let r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}var fF=new z("mat-ripple-global-options");var W7={capture:!0},G7=["focus","mousedown","mouseenter","touchstart"],iT="mat-ripple-loader-uninitialized",oT="mat-ripple-loader-class-name",pF="mat-ripple-loader-centered",vv="mat-ripple-loader-disabled",mF=(()=>{class n{_document=I(Ie);_animationMode=I(Oi,{optional:!0});_globalRippleOptions=I(fF,{optional:!0});_platform=I(Kt);_ngZone=I(ce);_injector=I(Le);_eventCleanups;_hosts=new Map;constructor(){let t=I(Zt).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>G7.map(r=>fr(t,this._document,r,this._onInteraction,W7)))}ngOnDestroy(){let t=this._hosts.keys();for(let r of t)this.destroyRipple(r);this._eventCleanups.forEach(r=>r())}configureRipple(t,r){t.setAttribute(iT,this._globalRippleOptions?.namespace??""),(r.className||!t.hasAttribute(oT))&&t.setAttribute(oT,r.className||""),r.centered&&t.setAttribute(pF,""),r.disabled&&t.setAttribute(vv,"")}setDisabled(t,r){let i=this._hosts.get(t);i?(i.target.rippleDisabled=r,!r&&!i.hasSetUpEvents&&(i.hasSetUpEvents=!0,i.renderer.setupTriggerEvents(t))):r?t.setAttribute(vv,""):t.removeAttribute(vv)}_onInteraction=t=>{let r=jn(t);if(r instanceof HTMLElement){let i=r.closest(`[${iT}="${this._globalRippleOptions?.namespace??""}"]`);i&&this._createRipple(i)}};_createRipple(t){if(!this._document||this._hosts.has(t))return;t.querySelector(".mat-ripple")?.remove();let r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(oT)),t.append(r);let i=this._animationMode==="NoopAnimations",o=this._globalRippleOptions,s=i?0:o?.animation?.enterDuration??Nd.enterDuration,a=i?0:o?.animation?.exitDuration??Nd.exitDuration,c={rippleDisabled:i||o?.disabled||t.hasAttribute(vv),rippleConfig:{centered:t.hasAttribute(pF),terminateOnPointerUp:o?.terminateOnPointerUp,animation:{enterDuration:s,exitDuration:a}}},u=new gv(c,this._ngZone,r,this._platform,this._injector),d=!c.rippleDisabled;d&&u.setupTriggerEvents(t),this._hosts.set(t,{target:c,renderer:u,hasSetUpEvents:d}),t.removeAttribute(iT)}destroyRipple(t){let r=this._hosts.get(t);r&&(r.renderer._removeTriggerEvents(),this._hosts.delete(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var gF=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Re({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(r,i){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return n})();var K7=new z("MAT_BUTTON_CONFIG");var Y7=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],vF=(()=>{class n{_elementRef=I(et);_ngZone=I(ce);_animationMode=I(Oi,{optional:!0});_focusMonitor=I(ZI);_rippleLoader=I(mF);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){I(Lo).load(gF);let t=I(K7,{optional:!0}),r=this._elementRef.nativeElement,i=r.classList;this.disabledInteractive=t?.disabledInteractive??!1,this.color=t?.color??null,this._rippleLoader?.configureRipple(r,{className:"mat-mdc-button-ripple"});for(let{attribute:o,mdcClasses:s}of Y7)r.hasAttribute(o)&&i.add(...s)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",tn],disabled:[2,"disabled","disabled",tn],ariaDisabled:[2,"aria-disabled","ariaDisabled",tn],disabledInteractive:[2,"disabledInteractive","disabledInteractive",tn]}})}return n})();var Q7=new z("cdk-dir-doc",{providedIn:"root",factory:Z7});function Z7(){return I(Ie)}var X7=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function J7(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?X7.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var _F=(()=>{class n{value="ltr";change=new Xe;constructor(){let t=I(Q7,{optional:!0});if(t){let r=t.body?t.body.dir:null,i=t.documentElement?t.documentElement.dir:null;this.value=J7(r||i||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var eK=["mat-button",""],tK=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],nK=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var yF=(()=>{class n extends vF{static \u0275fac=(()=>{let t;return function(i){return(t||(t=bt(n)))(i||n)}})();static \u0275cmp=Re({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,i){r&2&&($n("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled()),r0(i.color?"mat-"+i.color:""),Ye("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable",i._animationMode==="NoopAnimations")("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[qe],attrs:eK,ngContentSelectors:nK,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(ep(tK),ae(0,"span",0),$a(1),g(2,"span",1),$a(3,1),m(),$a(4,2),ae(5,"span",2)(6,"span",3)),r&2&&Ye("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();var zc=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},ta=class extends zc{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(e,t,r,i,o){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.projectableNodes=o}},na=class extends zc{templateRef;viewContainerRef;context;injector;constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},_v=class extends zc{element;constructor(e){super(),this.element=e instanceof et?e.nativeElement:e}},ra=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof ta)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof na)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof _v)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Fd=class extends ra{outletElement;_appRef;_defaultInjector;_document;constructor(e,t,r,i,o){super(),this.outletElement=e,this._appRef=r,this._defaultInjector=i,this._document=o}attachComponentPortal(e){let t;if(e.viewContainerRef){let r=e.injector||e.viewContainerRef.injector,i=r.get(Di,null,{optional:!0})||void 0;t=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:r,ngModuleRef:i,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{let r=this._appRef,i=e.injector||this._defaultInjector||Le.NULL,o=i.get(ut,r.injector);t=rp(e.component,{elementInjector:i,environmentInjector:o,projectableNodes:e.projectableNodes||void 0}),r.attachView(t.hostView),this.setDisposeFn(()=>{r.viewCount>0&&r.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);i!==-1&&t.remove(i)}),this._attachedPortal=e,r}attachDomPortal=e=>{let t=e.element;t.parentNode;let r=this._document.createComment("dom-portal");t.parentNode.insertBefore(r,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(t,r)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var yv=(()=>{class n extends ra{_moduleRef=I(Di,{optional:!0});_document=I(Ie);_viewContainerRef=I(tr);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}attached=new Xe;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let r=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,i=r.createComponent(t.component,{index:r.length,injector:t.injector||r.injector,projectableNodes:t.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return r!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachDomPortal=t=>{let r=t.element;r.parentNode;let i=this._document.createComment("dom-portal");t.setAttachedHost(this),r.parentNode.insertBefore(i,r),this._getRootNode().appendChild(r),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(r,i)})};_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[qe]})}return n})();var wF={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var rK=20,EF=(()=>{class n{_ngZone=I(ce);_platform=I(Kt);_renderer=I(Zt).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new fe;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=rK){return this._platform.isBrowser?new me(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=t>0?this._scrolled.pipe(Yh(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Q()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){let i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(pt(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){let r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_scrollableContainsElement(t,r){let i=mi(r),o=t.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var iK=20,sT=(()=>{class n{_platform=I(Kt);_listeners;_viewportSize;_change=new fe;_document=I(Ie,{optional:!0});constructor(){let t=I(ce),r=I(Zt).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect(),s=-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,a=-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:s,left:a}}change(t=iK){return t>0?this._change.pipe(Yh(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var CF=cF(),bv=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,t){this._viewportRuler=e,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Dt(-this._previousScrollPosition.left),e.style.top=Dt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,r=e.style,i=t.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),CF&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),CF&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.documentElement,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}};var wv=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(pt(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},Ld=class{enable(){}disable(){}attach(){}};function aT(n,e){return e.some(t=>{let r=n.bottom<t.top,i=n.top>t.bottom,o=n.right<t.left,s=n.left>t.right;return r||i||o||s})}function IF(n,e){return e.some(t=>{let r=n.top<t.top,i=n.bottom>t.bottom,o=n.left<t.left,s=n.right>t.right;return r||i||o||s})}var Ev=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();aT(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},MF=(()=>{class n{_scrollDispatcher=I(EF);_viewportRuler=I(sT);_ngZone=I(ce);_document=I(Ie);constructor(){}noop=()=>new Ld;close=t=>new wv(this._scrollDispatcher,this._ngZone,this._viewportRuler,t);block=()=>new bv(this._viewportRuler,this._document);reposition=t=>new Ev(this._scrollDispatcher,this._viewportRuler,this._ngZone,t);static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hc=class{positionStrategy;scrollStrategy=new Ld;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(e){if(e){let t=Object.keys(e);for(let r of t)e[r]!==void 0&&(this[r]=e[r])}}};var Cv=class{connectionPair;scrollableViewProperties;constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var PF=(()=>{class n{_attachedOverlays=[];_document=I(Ie);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),RF=(()=>{class n extends PF{_ngZone=I(ce);_renderer=I(Zt).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=t=>{let r=this._attachedOverlays;for(let i=r.length-1;i>-1;i--)if(r[i]._keydownEvents.observers.length>0){this._ngZone.run(()=>r[i]._keydownEvents.next(t));break}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=bt(n)))(i||n)}})();static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),OF=(()=>{class n extends PF{_platform=I(Kt);_ngZone=I(ce);_renderer=I(Zt).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(t){if(super.add(t),!this._isAttached){let r=this._document.body,i={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[fr(this._renderer,r,"pointerdown",this._pointerDownListener,i),fr(this._renderer,r,"click",this._clickListener,i),fr(this._renderer,r,"auxclick",this._clickListener,i),fr(this._renderer,r,"contextmenu",this._clickListener,i)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=t=>{this._pointerDownEventTarget=jn(t)};_clickListener=t=>{let r=jn(t),i=t.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:r;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(TF(a.overlayElement,r)||TF(a.overlayElement,i))break;let c=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>c.next(t)):c.next(t)}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=bt(n)))(i||n)}})();static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function TF(n,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,r=e;for(;r;){if(r===n)return!0;r=t&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}var kF=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Re({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return n})(),NF=(()=>{class n{_platform=I(Kt);_containerElement;_document=I(Ie);_styleLoader=I(Lo);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||tT()){let i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}let r=this._document.createElement("div");r.classList.add(t),tT()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}_loadStyles(){this._styleLoader.load(kF)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cT=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,t,r,i){this._renderer=t,this._ngZone=r,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",i)}detach(){this._ngZone.runOutsideAngular(()=>{let e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},Iv=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new fe;_attachments=new fe;_detachments=new fe;_positionStrategy;_scrollStrategy;_locationChanges=rt.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new fe;_outsidePointerEvents=new fe;_renders=new fe;_afterRenderRef;_afterNextRenderRef;constructor(e,t,r,i,o,s,a,c,u,d=!1,p,v){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=u,this._animationsDisabled=d,this._injector=p,this._renderer=v,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy,this._afterRenderRef=wn(()=>Hl(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=gs(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=L(L({},this._config),e),this._updateElementSize()}setDirection(e){this._config=ne(L({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Dt(this._config.width),e.height=Dt(this._config.height),e.minWidth=Dt(this._config.minWidth),e.minHeight=Dt(this._config.minHeight),e.maxWidth=Dt(this._config.maxWidth),e.maxHeight=Dt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new cT(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,t,r){let i=$c(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(Zn(K_(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e?.disable(),e?.detach?.()}},DF="cdk-overlay-connected-position-bounding-box",oK=/([A-Za-z%]+)$/,Tv=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new fe;_resizeSubscription=rt.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(DF),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[],s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,i,a),u=this._getOverlayPoint(c,t,a),d=this._getOverlayFit(u,t,r,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(d,u,r)){o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:u,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(let u of o){let d=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);d>c&&(c=d,a=u)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ia(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(DF),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i;if(r.originX=="center")i=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i=r.originX=="start"?s:a}t.left<0&&(i-=t.left);let o;return r.originY=="center"?o=e.top+e.height/2:o=r.originY=="top"?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i;r.overlayX=="center"?i=-t.width/2:r.overlayX==="start"?i=this._isRtl()?-t.width:0:i=this._isRtl()?0:-t.width;let o;return r.overlayY=="center"?o=-t.height/2:o=r.overlayY=="top"?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){let o=AF(t),{x:s,y:a}=e,c=this._getOffset(i,"x"),u=this._getOffset(i,"y");c&&(s+=c),u&&(a+=u);let d=0-s,p=s+o.width-r.width,v=0-a,_=a+o.height-r.height,S=this._subtractOverflows(o.width,d,p),R=this._subtractOverflows(o.height,v,_),k=S*R;return{visibleArea:k,isCompletelyWithinViewport:o.width*o.height===k,fitsInViewportVertically:R===o.height,fitsInViewportHorizontally:S==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){let i=r.bottom-t.y,o=r.right-t.x,s=SF(this._overlayRef.getConfig().minHeight),a=SF(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportVertically||s!=null&&s<=i,u=e.fitsInViewportHorizontally||a!=null&&a<=o;return c&&u}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let i=AF(t),o=this._viewportRect,s=Math.max(e.x+i.width-o.width,0),a=Math.max(e.y+i.height-o.height,0),c=Math.max(o.top-r.top-e.y,0),u=Math.max(o.left-r.left-e.x,0),d=0,p=0;return i.width<=o.width?d=u||-s:d=e.x<this._viewportMargin?o.left-r.left-e.x:0,i.height<=o.height?p=c||-a:p=e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:d,y:p},{x:e.x+d,y:e.y+p}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!sK(this._lastScrollVisibility,r)){let i=new Cv(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=e.overlayY;e.overlayX==="center"?r="center":this._isRtl()?r=e.overlayX==="start"?"right":"left":r=e.overlayX==="start"?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){let r=this._viewportRect,i=this._isRtl(),o,s,a;if(t.overlayY==="top")s=e.y,o=r.height-s+this._viewportMargin;else if(t.overlayY==="bottom")a=r.height-e.y+this._viewportMargin*2,o=r.height-a+this._viewportMargin;else{let _=Math.min(r.bottom-e.y+r.top,e.y),S=this._lastBoundingBoxSize.height;o=_*2,s=e.y-_,o>S&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-S/2)}let c=t.overlayX==="start"&&!i||t.overlayX==="end"&&i,u=t.overlayX==="end"&&!i||t.overlayX==="start"&&i,d,p,v;if(u)v=r.width-e.x+this._viewportMargin*2,d=e.x-this._viewportMargin;else if(c)p=e.x,d=r.right-e.x;else{let _=Math.min(r.right-e.x+r.left,e.x),S=this._lastBoundingBoxSize.width;d=_*2,p=e.x-_,d>S&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-S/2)}return{top:s,left:p,bottom:a,right:v,width:d,height:o}}_setBoundingBoxStyles(e,t){let r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=Dt(r.height),i.top=Dt(r.top),i.bottom=Dt(r.bottom),i.width=Dt(r.width),i.left=Dt(r.left),i.right=Dt(r.right),t.overlayX==="center"?i.alignItems="center":i.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?i.justifyContent="center":i.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",o&&(i.maxHeight=Dt(o)),s&&(i.maxWidth=Dt(s))}this._lastBoundingBoxSize=r,ia(this._boundingBox.style,i)}_resetBoundingBoxStyles(){ia(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ia(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){let d=this._viewportRuler.getViewportScrollPosition();ia(r,this._getExactOverlayY(t,e,d)),ia(r,this._getExactOverlayX(t,e,d))}else r.position="static";let a="",c=this._getOffset(t,"x"),u=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),u&&(a+=`translateY(${u}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=Dt(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=Dt(s.maxWidth):o&&(r.maxWidth="")),ia(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;i.bottom=`${s-(o.y+this._overlayRect.height)}px`}else i.top=Dt(o.y);return i}_getExactOverlayX(e,t,r){let i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;i.right=`${a-(o.x+this._overlayRect.width)}px`}else i.left=Dt(o.x);return i}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:IF(e,r),isOriginOutsideView:aT(e,r),isOverlayClipped:IF(t,r),isOverlayOutsideView:aT(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&$c(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof et)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}};function ia(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function SF(n){if(typeof n!="number"&&n!=null){let[e,t]=n.split(oK);return!t||t==="px"?parseFloat(e):null}return n||null}function AF(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function sK(n,e){return n===e?!0:n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}var xF="cdk-global-overlay-wrapper",Dv=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(xF),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,c=(i==="100%"||i==="100vw")&&(!s||s==="100%"||s==="100vw"),u=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,p=this._xOffset,v=this._overlayRef.getConfig().direction==="rtl",_="",S="",R="";c?R="flex-start":d==="center"?(R="center",v?S=p:_=p):v?d==="left"||d==="end"?(R="flex-end",_=p):(d==="right"||d==="start")&&(R="flex-start",S=p):d==="left"||d==="start"?(R="flex-start",_=p):(d==="right"||d==="end")&&(R="flex-end",S=p),e.position=this._cssPosition,e.marginLeft=c?"0":_,e.marginTop=u?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":S,t.justifyContent=R,t.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(xF),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},FF=(()=>{class n{_viewportRuler=I(sT);_document=I(Ie);_platform=I(Kt);_overlayContainer=I(NF);constructor(){}global(){return new Dv}flexibleConnectedTo(t){return new Tv(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lT=(()=>{class n{scrollStrategies=I(MF);_overlayContainer=I(NF);_positionBuilder=I(FF);_keyboardDispatcher=I(RF);_injector=I(Le);_ngZone=I(ce);_document=I(Ie);_directionality=I(_F);_location=I(Wr);_outsideClickDispatcher=I(OF);_animationsModuleType=I(Oi,{optional:!0});_idGenerator=I(kd);_renderer=I(Zt).createRenderer(null,null);_appRef;_styleLoader=I(Lo);constructor(){}create(t){this._styleLoader.load(kF);let r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),s=new Hc(t);return s.direction=s.direction||this._directionality.value,new Iv(o,r,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(ut),this._renderer)}position(){return this._positionBuilder}_createPaneElement(t){let r=this._document.createElement("div");return r.id=this._idGenerator.getId("cdk-overlay-"),r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){let t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Er)),new Fd(t,null,this._appRef,this._injector,this._document)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cK(n,e){if(n&1){let t=Pe();g(0,"div",1)(1,"button",2),H("click",function(){J(t);let i=U();return ee(i.action())}),b(2),m()()}if(n&2){let t=U();E(2),ie(" ",t.data.action," ")}}var lK=["label"];function uK(n,e){}var dK=Math.pow(2,31)-1,Vd=class{_overlayRef;instance;containerInstance;_afterDismissed=new fe;_afterOpened=new fe;_onAction=new fe;_durationTimeoutId;_dismissedByAction=!1;constructor(e,t){this._overlayRef=t,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,dK))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},LF=new z("MatSnackBarData"),qc=class{politeness="assertive";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},hK=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return n})(),fK=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return n})(),pK=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return n})(),mK=(()=>{class n{snackBarRef=I(Vd);data=I(LF);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Re({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(r,i){r&1&&(g(0,"div",0),b(1),m(),W(2,cK,3,1,"div",1)),r&2&&(E(),ie(" ",i.data.message,`
`),E(),DM(i.hasAction?2:-1))},dependencies:[yF,hK,fK,pK],styles:[`.mat-mdc-simple-snack-bar{display:flex}
`],encapsulation:2,changeDetection:0})}return n})(),uT="_mat-snack-bar-enter",dT="_mat-snack-bar-exit",gK=(()=>{class n extends ra{_ngZone=I(ce);_elementRef=I(et);_changeDetectorRef=I(Ir);_platform=I(Kt);_rendersRef;_animationsDisabled=I(Oi,{optional:!0})==="NoopAnimations";snackBarConfig=I(qc);_document=I(Ie);_trackedModals=new Set;_enterFallback;_exitFallback;_renders=new fe;_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new fe;_onExit=new fe;_onEnter=new fe;_animationState="void";_live;_label;_role;_liveElementId=I(kd).getId("mat-snack-bar-container-live-");constructor(){super();let t=this.snackBarConfig;t.politeness==="assertive"&&!t.announcementMessage?this._live="assertive":t.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert")),this._rendersRef=Hl(()=>this._renders.next(),{manualCleanup:!0})}attachComponentPortal(t){this._assertNotAttached();let r=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),r}attachTemplatePortal(t){this._assertNotAttached();let r=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),r}attachDomPortal=t=>{this._assertNotAttached();let r=this._portalOutlet.attachDomPortal(t);return this._afterPortalAttached(),r};onAnimationEnd(t){t===dT?this._completeExit():t===uT&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?this._renders.pipe(mt(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(uT)))}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(uT)},200)))}exit(){return this._destroyed?Q(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?this._renders.pipe(mt(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(dT)))}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(dT),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit(),this._renders.complete(),this._rendersRef.destroy()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let t=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(s=>t.classList.add(s)):t.classList.add(r)),this._exposeToModals();let i=this._label.nativeElement,o="mdc-snackbar__label";i.classList.toggle(o,!i.querySelector(`.${o}`))}_exposeToModals(){let t=this._liveElementId,r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){let o=r[i],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?s.indexOf(t)===-1&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{let r=t.getAttribute("aria-owns");if(r){let i=r.replace(this._liveElementId,"").trim();i.length>0?t.setAttribute("aria-owns",i):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let t=this._elementRef.nativeElement,r=t.querySelector("[aria-hidden]"),i=t.querySelector("[aria-live]");if(r&&i){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&r.contains(document.activeElement)&&(o=document.activeElement),r.removeAttribute("aria-hidden"),i.appendChild(r),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Re({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(r,i){if(r&1&&(tp(yv,7),tp(lK,7)),r&2){let o;Kl(o=Yl())&&(i._portalOutlet=o.first),Kl(o=Yl())&&(i._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(r,i){r&1&&H("animationend",function(s){return i.onAnimationEnd(s.animationName)})("animationcancel",function(s){return i.onAnimationEnd(s.animationName)}),r&2&&Ye("mat-snack-bar-container-enter",i._animationState==="visible")("mat-snack-bar-container-exit",i._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!i._animationsDisabled)},features:[qe],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(r,i){r&1&&(g(0,"div",1)(1,"div",2,0)(3,"div",3),W(4,uK,0,0,"ng-template",4),m(),ae(5,"div"),m()()),r&2&&(E(5),$n("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[yv],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return n})();function vK(){return new qc}var _K=new z("mat-snack-bar-default-options",{providedIn:"root",factory:vK}),VF=(()=>{class n{_overlay=I(lT);_live=I(JI);_injector=I(Le);_breakpointObserver=I(XI);_parentSnackBar=I(n,{optional:!0,skipSelf:!0});_defaultConfig=I(_K);_snackBarRefAtThisLevel=null;simpleSnackBarComponent=mK;snackBarContainerComponent=gK;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(){}openFromComponent(t,r){return this._attach(t,r)}openFromTemplate(t,r){return this._attach(t,r)}open(t,r="",i){let o=L(L({},this._defaultConfig),i);return o.data={message:t,action:r},o.announcementMessage===t&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,r){let i=r&&r.viewContainerRef&&r.viewContainerRef.injector,o=Le.create({parent:i||this._injector,providers:[{provide:qc,useValue:r}]}),s=new ta(this.snackBarContainerComponent,r.viewContainerRef,o),a=t.attach(s);return a.instance.snackBarConfig=r,a.instance}_attach(t,r){let i=L(L(L({},new qc),this._defaultConfig),r),o=this._createOverlay(i),s=this._attachSnackBarContainer(o,i),a=new Vd(s,o);if(t instanceof er){let c=new na(t,null,{$implicit:i.data,snackBarRef:a});a.instance=s.attachTemplatePortal(c)}else{let c=this._createInjector(i,a),u=new ta(t,void 0,c),d=s.attachComponentPortal(u);a.instance=d.instance}return this._breakpointObserver.observe(wF.HandsetPortrait).pipe(Zn(o.detachments())).subscribe(c=>{o.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),i.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(a,i),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(t,r){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),r.duration&&r.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(r.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter()}_createOverlay(t){let r=new Hc;r.direction=t.direction;let i=this._overlay.position().global(),o=t.direction==="rtl",s=t.horizontalPosition==="left"||t.horizontalPosition==="start"&&!o||t.horizontalPosition==="end"&&o,a=!s&&t.horizontalPosition!=="center";return s?i.left("0"):a?i.right("0"):i.centerHorizontally(),t.verticalPosition==="top"?i.top("0"):i.bottom("0"),r.positionStrategy=i,this._overlay.create(r)}_createInjector(t,r){let i=t&&t.viewContainerRef&&t.viewContainerRef.injector;return Le.create({parent:i||this._injector,providers:[{provide:Vd,useValue:r},{provide:LF,useValue:t.data}]})}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bK(n,e){if(n&1&&(g(0,"div",11),b(1),m()),n&2){let t=U();E(),re(t.successMessage)}}function wK(n,e){if(n&1&&(g(0,"div",12),b(1),m()),n&2){let t=U();E(),re(t.errorMessage)}}function EK(n,e){n&1&&(g(0,"small"),b(1,"El correo es obligatorio."),m())}function CK(n,e){n&1&&(g(0,"small"),b(1,"Correo no v\xE1lido."),m())}function IK(n,e){if(n&1&&(g(0,"div",13),W(1,EK,2,0,"small",14)(2,CK,2,0,"small",14),m()),n&2){U();let t=za(11);E(),F("ngIf",t.errors==null?null:t.errors.required),E(),F("ngIf",t.errors==null?null:t.errors.email)}}var Sv=class n{constructor(e,t){this.authService=e;this.snackBar=t}email="";isLoading=!1;successMessage="";errorMessage="";onSubmit(){return w(this,null,function*(){this.successMessage="",this.errorMessage="",this.isLoading=!0;try{if((yield this.authService.fetchSignInMethodsForEmail(this.email)).length===0){this.errorMessage="No hay usuario registrado con ese correo.";return}yield this.authService.sendPasswordResetEmail(this.email),this.successMessage="Correo de recuperaci\xF3n enviado. Revisa tu bandeja de entrada.",this.email=""}catch(e){e.code==="auth/invalid-email"?this.errorMessage="El correo ingresado no es v\xE1lido.":(this.errorMessage="Ocurri\xF3 un error. Intenta de nuevo.",console.error(e))}finally{this.isLoading=!1}})}static \u0275fac=function(t){return new(t||n)(j(Be),j(VF))};static \u0275cmp=Re({type:n,selectors:[["app-forgot-password"]],decls:15,vars:6,consts:[["form","ngForm"],["emailInput","ngModel"],[1,"forgot-password-container"],["class","alert alert-success",4,"ngIf"],["class","alert alert-error",4,"ngIf"],["novalidate","",3,"ngSubmit"],[1,"form-group"],["for","email"],["id","email","type","email","name","email","required","","email","","placeholder","ejemplo@gmail.com",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["type","submit",3,"disabled"],[1,"alert","alert-success"],[1,"alert","alert-error"],[1,"error"],[4,"ngIf"]],template:function(t,r){if(t&1){let i=Pe();g(0,"div",2)(1,"h2"),b(2,"Recuperar Contrase\xF1a"),m(),W(3,bK,2,1,"div",3)(4,wK,2,1,"div",4),g(5,"form",5,0),H("ngSubmit",function(){return J(i),ee(r.onSubmit())}),g(7,"div",6)(8,"label",7),b(9,"Correo Electr\xF3nico"),m(),g(10,"input",8,1),nt("ngModelChange",function(s){return J(i),ot(r.email,s)||(r.email=s),ee(s)}),m(),W(12,IK,3,2,"div",9),m(),g(13,"button",10),b(14),m()()()}if(t&2){let i=za(6),o=za(11);E(3),F("ngIf",r.successMessage),E(),F("ngIf",r.errorMessage),E(6),tt("ngModel",r.email),E(2),F("ngIf",o.invalid&&o.touched),E(),F("disabled",i.invalid||r.isLoading),E(),ie(" ",r.isLoading?"Enviando...":"Enviar enlace"," ")}},dependencies:[Nn,lr,Pt,Ht,cr,Vi,Tw,Cn,Li,ht,vt],styles:["body[_ngcontent-%COMP%]{background:#f0fdf4;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.forgot-password-container[_ngcontent-%COMP%]{max-width:400px;margin:4rem auto;padding:2rem;background-color:#fff;border-radius:12px;box-shadow:0 4px 12px #0000001a;text-align:center}h2[_ngcontent-%COMP%]{color:#2f855a;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]{text-align:left}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#2d3748;font-weight:600}input[type=email][_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #cbd5e0;border-radius:8px;font-size:1rem;outline:none;transition:border .3s}input[type=email][_ngcontent-%COMP%]:focus{border-color:#38a169}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:.75rem;margin-top:1rem;background-color:#38a169;color:#fff;border:none;border-radius:8px;font-size:1rem;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2f855a}button[disabled][_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}.back-to-login[_ngcontent-%COMP%]{margin-top:1rem}.back-to-login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#2b6cb0;text-decoration:none}.back-to-login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.alert[_ngcontent-%COMP%]{padding:1rem;border-radius:6px;margin-bottom:1rem;font-weight:500}.alert-success[_ngcontent-%COMP%]{background-color:#f0fff4;border:1px solid #38a169;color:#276749}.alert-error[_ngcontent-%COMP%]{background-color:#fff5f5;border:1px solid #e53e3e;color:#c53030}"]})};var jF=[{path:"dashboard",component:nv},{path:"project/:id",component:uv},{path:"admin",component:iv,canActivate:[Fo,cv]},{path:"user-profile",component:sv,canActivate:[Fo]},{path:"login",component:tv},{path:"register",component:lv},{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"project-creation",component:dv,canActivate:[Fo,av]},{path:"project-analytics/:id",component:hv,canActivate:[Fo]},{path:"project-edit/:id",component:fv,canActivate:[Fo]},{path:"forgot-password",component:Sv},{path:"**",redirectTo:"/dashboard"}];var BF=(n,e)=>{let t=I(Be),r=I(Ae),i=t.getToken();return i&&(n=n.clone({setHeaders:{Authorization:`Bearer ${i}`}})),e(n).pipe(Ge(o=>(o.status===401&&(t.logout(),r.navigate(["/login"])),At(()=>o))))};function hT(n){n===void 0&&(Vf(hT),n=I(Le));let e=n.get(Wf);return t=>new me(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Gc=new ds("ANGULARFIRE2_VERSION");function fT(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var xv=(n,e)=>{let t=e?[e]:Mm(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Wc=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Wc||{}),UF=l0()&&typeof Zone<"u"?Wc.WARN:Wc.SILENT;var Av=class{zone;delegate;constructor(e,t=H_){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Kc=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=I(ce);this.outsideAngular=t.runOutsideAngular(()=>new Av(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Av(typeof Zone>"u"?void 0:Zone.current,so))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$F=!1;function TK(n,e){!$F&&(UF>Wc.SILENT||l0())&&($F=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),UF>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function DK(n){let e=I(ce,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function oa(n){let e=I(ce,{optional:!0});return e?e.run(()=>n()):n()}var SK=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Ut(t,()=>oa(()=>n.apply(void 0,r)))),jd=(n,e,t)=>(t||=e?Wc.WARN:Wc.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=I(Kc),s=I(Wf),a=I(ut)}catch{return TK(n,t),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=oa(()=>s.add())),i[u]=SK(i[u],r,a));let c=DK(()=>n.apply(this,i));return e?c instanceof me?c.pipe(co(o.outsideAngular),ao(o.insideAngular),hT(a)):c instanceof Promise?oa(()=>new Promise((u,d)=>{s.run(()=>c).then(p=>Ut(a,()=>oa(()=>u(p))),p=>Ut(a,()=>oa(()=>d(p))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:oa(()=>c):c instanceof me?c.pipe(co(o.outsideAngular),ao(o.insideAngular)):oa(()=>c)});var sa=class{constructor(e){return e}},Bd=class{constructor(){return Mm()}};function AK(n){return n&&n.length===1?n[0]:new sa(Ls())}var pT=new z("angularfire2._apps"),xK={provide:sa,useFactory:AK,deps:[[new Si,pT]]},MK={provide:Bd,deps:[[new Si,pT]]};function PK(n){return(e,t)=>{let r=t.get(qr);Rt("angularfire",Gc.full,"core"),Rt("angularfire",Gc.full,"app"),Rt("angular",Ql.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new sa(i)}}function zF(n,...e){return Ai([xK,MK,{provide:pT,useFactory:PK(n),multi:!0,deps:[ce,Le,Kc,...e]}])}var HF=jd(Qu,!0);var RK=new Map,OK={activated:!1,tokenObservers:[]},kK={initialized:!1,enabled:!1};function kr(n){return RK.get(n)||Object.assign({},OK)}function KF(){return kK}var NK="https://content-firebaseappcheck.googleapis.com/v1";var FK="exchangeDebugToken",qF={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},rme=24*60*60*1e3;var vT=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return w(this,null,function*(){this.stop();try{this.pending=new ks,this.pending.promise.catch(t=>{}),yield LK(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ks,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function LK(n){return new Promise(e=>{setTimeout(e,n)})}var VK={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Vo=new xr("appCheck","AppCheck",VK);function YF(n){if(!kr(n).activated)throw Vo.create("use-before-activation",{appName:n.name})}function QF(r,i){return w(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let _=yield s.getHeartbeatsHeader();_&&(o["X-Firebase-Client"]=_)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(_){throw Vo.create("fetch-network-error",{originalErrorMessage:_?.message})}if(c.status!==200)throw Vo.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(_){throw Vo.create("fetch-parse-error",{originalErrorMessage:_?.message})}let d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw Vo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let p=Number(d[1])*1e3,v=Date.now();return{token:u.token,expireTimeMillis:v+p,issuedAtTimeMillis:v}})}function ZF(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${NK}/projects/${t}/apps/${r}:${FK}?key=${i}`,body:{debug_token:e}}}var jK="firebase-app-check-database",BK=1,_T="firebase-app-check-store";var Mv=null;function UK(){return Mv||(Mv=new Promise((n,e)=>{try{let t=indexedDB.open(jK,BK);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Vo.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(_T,{keyPath:"compositeKey"})}}}catch(t){e(Vo.create("storage-open",{originalErrorMessage:t?.message}))}}),Mv)}function $K(n,e){return zK(HK(n),e)}function zK(n,e){return w(this,null,function*(){let r=(yield UK()).transaction(_T,"readwrite"),o=r.objectStore(_T).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(Vo.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function HK(n){return`${n.options.appId}-${n.name}`}var Ud=new ti("@firebase/app-check");function mT(n,e){return Wu()?$K(n,e).catch(t=>{Ud.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function XF(){return KF().enabled}function JF(){return w(this,null,function*(){let n=KF();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var qK={error:"UNKNOWN_ERROR"};function WK(n){return Cm.encodeString(JSON.stringify(n),!1)}function yT(n,e=!1,t=!1){return w(this,null,function*(){let r=n.app;YF(r);let i=kr(r),o=i.token,s;if(o&&!$d(o)&&(i.token=void 0,o=void 0),!o){let u=yield i.cachedTokenPromise;u&&($d(u)?o=u:yield mT(r,void 0))}if(!e&&o&&$d(o))return{token:o.token};let a=!1;if(XF())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=QF(ZF(r,yield JF()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield mT(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Ud.warn(u.message):t&&Ud.error(u),gT(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield kr(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Ud.warn(u.message):t&&Ud.error(u),s=u}let c;return o?s?$d(o)?c={token:o.token,internalError:s}:c=gT(s):(c={token:o.token},i.token=o,yield mT(r,o)):c=gT(s),a&&QK(r,c),c})}function GK(n){return w(this,null,function*(){let e=n.app;YF(e);let{provider:t}=kr(e);if(XF()){let r=yield JF(),{token:i}=yield QF(ZF(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function KK(n,e,t,r){let{app:i}=n,o=kr(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&$d(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),WF(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>WF(n))}function eL(n,e){let t=kr(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function WF(n){let{app:e}=n,t=kr(e),r=t.tokenRefresher;r||(r=YK(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function YK(n){let{app:e}=n;return new vT(()=>w(null,null,function*(){let t=kr(e),r;if(t.token?r=yield yT(n,!0):r=yield yT(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=kr(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},qF.RETRIAL_MIN_WAIT,qF.RETRIAL_MAX_WAIT)}function QK(n,e){let t=kr(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function $d(n){return n.expireTimeMillis-Date.now()>0}function gT(n){return{token:WK(qK),error:n}}var bT=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=kr(this.app);for(let t of e)eL(this.app,t.next);return Promise.resolve()}};function ZK(n,e){return new bT(n,e)}function XK(n){return{getToken:e=>yT(n,e),getLimitedUseToken:()=>GK(n),addTokenListener:e=>KK(n,"INTERNAL",e),removeTokenListener:e=>eL(n.app,e)}}var JK="@firebase/app-check",eY="0.10.0";var tY="app-check",GF="app-check-internal";function nY(){Mr(new In(tY,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return ZK(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(GF).initialize()})),Mr(new In(GF,n=>{let e=n.getProvider("app-check").getImmediate();return XK(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Rt(JK,eY)}nY();var rY="app-check";var Pv=class{constructor(){return xv(rY)}};var iY=["localhost","0.0.0.0","127.0.0.1"],gme=typeof window<"u"&&iY.includes(window.location.hostname);var tL="auth",zd=class{constructor(e){return e}},wT=class{constructor(){return xv(tL)}};var ET=new z("angularfire2.auth-instances");function oY(n,e){let t=fT(tL,n,e);return t&&new zd(t)}function sY(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new zd(r)}}var aY={provide:wT,deps:[[new Si,ET]]},cY={provide:zd,useFactory:oY,deps:[[new Si,ET],sa]};function nL(n,...e){return Rt("angularfire",Gc.full,"auth"),Ai([cY,aY,{provide:ET,useFactory:sY(n),multi:!0,deps:[ce,Le,Kc,Bd,[new Si,Pv],...e]}])}var rL=jd(Pr,!0);var iL={providers:[uw(jF,om(),hw()),N0(F0([BF])),zF(()=>HF(pi.firebaseConfig)),nL(()=>rL())]};var Rv=class n{transform(e){return e&&(e?.name||e?.email?.split("@")[0])||"Usuario"}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=vs({name:"userDisplay",type:n,pure:!0})};var Nr=Object.create(null);Nr.open="0";Nr.close="1";Nr.ping="2";Nr.pong="3";Nr.message="4";Nr.upgrade="5";Nr.noop="6";var Hd=Object.create(null);Object.keys(Nr).forEach(n=>{Hd[Nr[n]]=n});var qd={type:"error",data:"parser error"};var aL=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",cL=typeof ArrayBuffer=="function",lL=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,Wd=({type:n,data:e},t,r)=>aL&&e instanceof Blob?t?r(e):oL(e,r):cL&&(e instanceof ArrayBuffer||lL(e))?t?r(e):oL(new Blob([e]),r):r(Nr[n]+(e||"")),oL=(n,e)=>{let t=new FileReader;return t.onload=function(){let r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)};function sL(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}var CT;function uL(n,e){if(aL&&n.data instanceof Blob)return n.data.arrayBuffer().then(sL).then(e);if(cL&&(n.data instanceof ArrayBuffer||lL(n.data)))return e(sL(n.data));Wd(n,!1,t=>{CT||(CT=new TextEncoder),e(CT.encode(t))})}var dL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Gd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<dL.length;n++)Gd[dL.charCodeAt(n)]=n;var hL=n=>{let e=n.length*.75,t=n.length,r,i=0,o,s,a,c;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);let u=new ArrayBuffer(e),d=new Uint8Array(u);for(r=0;r<t;r+=4)o=Gd[n.charCodeAt(r)],s=Gd[n.charCodeAt(r+1)],a=Gd[n.charCodeAt(r+2)],c=Gd[n.charCodeAt(r+3)],d[i++]=o<<2|s>>4,d[i++]=(s&15)<<4|a>>2,d[i++]=(a&3)<<6|c&63;return u};var lY=typeof ArrayBuffer=="function",Kd=(n,e)=>{if(typeof n!="string")return{type:"message",data:fL(n,e)};let t=n.charAt(0);return t==="b"?{type:"message",data:uY(n.substring(1),e)}:Hd[t]?n.length>1?{type:Hd[t],data:n.substring(1)}:{type:Hd[t]}:qd},uY=(n,e)=>{if(lY){let t=hL(n);return fL(t,e)}else return{base64:!0,data:n}},fL=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}};var pL="",mL=(n,e)=>{let t=n.length,r=new Array(t),i=0;n.forEach((o,s)=>{Wd(o,!1,a=>{r[s]=a,++i===t&&e(r.join(pL))})})},gL=(n,e)=>{let t=n.split(pL),r=[];for(let i=0;i<t.length;i++){let o=Kd(t[i],e);if(r.push(o),o.type==="error")break}return r};function vL(){return new TransformStream({transform(n,e){uL(n,t=>{let r=t.length,i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);let o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);let o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}n.data&&typeof n.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}var IT;function Ov(n){return n.reduce((e,t)=>e+t.length,0)}function kv(n,e){if(n[0].length===e)return n.shift();let t=new Uint8Array(e),r=0;for(let i=0;i<e;i++)t[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),t}function _L(n,e){IT||(IT=new TextDecoder);let t=[],r=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(t.push(s);;){if(r===0){if(Ov(t)<1)break;let c=kv(t,1);o=(c[0]&128)===128,i=c[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Ov(t)<2)break;let c=kv(t,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(Ov(t)<8)break;let c=kv(t,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){a.enqueue(qd);break}i=d*Math.pow(2,32)+u.getUint32(4),r=3}else{if(Ov(t)<i)break;let c=kv(t,i);a.enqueue(Kd(o?c:IT.decode(c),e)),r=0}if(i===0||i>n){a.enqueue(qd);break}}}})}var TT=4;function at(n){if(n)return dY(n)}function dY(n){for(var e in at.prototype)n[e]=at.prototype[e];return n}at.prototype.on=at.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};at.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};at.prototype.off=at.prototype.removeListener=at.prototype.removeAllListeners=at.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if(r=t[i],r===e||r.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+n],this};at.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,i=t.length;r<i;++r)t[r].apply(this,e)}return this};at.prototype.emitReserved=at.prototype.emit;at.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};at.prototype.hasListeners=function(n){return!!this.listeners(n).length};var Xi=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Tn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),yL="arraybuffer";function Nv(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}var hY=Tn.setTimeout,fY=Tn.clearTimeout;function Ji(n,e){e.useNativeTimers?(n.setTimeoutFn=hY.bind(Tn),n.clearTimeoutFn=fY.bind(Tn)):(n.setTimeoutFn=Tn.setTimeout.bind(Tn),n.clearTimeoutFn=Tn.clearTimeout.bind(Tn))}var pY=1.33;function bL(n){return typeof n=="string"?mY(n):Math.ceil((n.byteLength||n.size)*pY)}function mY(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}function Fv(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function wL(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function EL(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let o=t[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}var Lv=class extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}},eo=class extends at{constructor(e){super(),this.writable=!1,Ji(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new Lv(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=Kd(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let t=wL(e);return t.length?"?"+t:""}};var Yd=class extends eo{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};gL(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,mL(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Fv()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}};var CL=!1;try{CL=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var IL=CL;function gY(){}var DT=class extends Yd{constructor(e){if(super(e),typeof location<"u"){let t=location.protocol==="https:",r=location.port;r||(r=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){let r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}},Vv=(()=>{class n extends at{constructor(t,r,i){super(),this.createRequest=t,Ji(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var t;let r=Nv(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;let i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=n.requestsCount++,n.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=gY,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this._index],this._xhr=null}}_onLoad(){let t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return n.requestsCount=0,n.requests={},n})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",TL);else if(typeof addEventListener=="function"){let n="onpagehide"in Tn?"pagehide":"unload";addEventListener(n,TL,!1)}}function TL(){for(let n in Vv.requests)Vv.requests.hasOwnProperty(n)&&Vv.requests[n].abort()}var vY=function(){let n=DL({xdomain:!1});return n&&n.responseType!==null}(),jo=class extends DT{constructor(e){super(e);let t=e&&e.forceBase64;this.supportsBinary=vY&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Vv(DL,this.uri(),e)}};function DL(n){let e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||IL))return new XMLHttpRequest}catch{}if(!e)try{return new Tn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var SL=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",AT=class extends eo{get name(){return"websocket"}doOpen(){let e=this.uri(),t=this.opts.protocols,r=SL?{}:Nv(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;Wd(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}i&&Xi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Fv()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}},ST=Tn.WebSocket||Tn.MozWebSocket,Bo=class extends AT{createSocket(e,t,r){return SL?new ST(e,t,r):t?new ST(e,t):new ST(e)}doWrite(e,t){this.ws.send(t)}};var Yc=class extends eo{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let t=_L(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),i=vL();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();let o=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),o())}).catch(a=>{})};o();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;this._writer.write(r).then(()=>{i&&Xi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}};var xT={websocket:Bo,webtransport:Yc,polling:jo};var _Y=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,yY=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Qc(n){if(n.length>8e3)throw"URI too long";let e=n,t=n.indexOf("["),r=n.indexOf("]");t!=-1&&r!=-1&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=_Y.exec(n||""),o={},s=14;for(;s--;)o[yY[s]]=i[s]||"";return t!=-1&&r!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=bY(o,o.path),o.queryKey=wY(o,o.query),o}function bY(n,e){let t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function wY(n,e){let t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(t[i]=o)}),t}var MT=typeof addEventListener=="function"&&typeof removeEventListener=="function",jv=[];MT&&addEventListener("offline",()=>{jv.forEach(n=>n())},!1);var Bv=(()=>{class n extends at{constructor(t,r){if(super(),this.binaryType=yL,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){let i=Qc(t);r.hostname=i.host,r.secure=i.protocol==="https"||i.protocol==="wss",r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=Qc(r.host).host);Ji(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{let o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=EL(this.opts.query)),MT&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},jv.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){let r=Object.assign({},this.opts.query);r.EIO=TT,r.transport=t,this.id&&(r.sid=this.id);let i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let t=this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",n.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){let o=this.writeBuffer[i].data;if(o&&(r+=bL(o)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Xi(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,i){return this._sendPacket("message",t,r,i),this}send(t,r,i){return this._sendPacket("message",t,r,i),this}_sendPacket(t,r,i,o){if(typeof r=="function"&&(o=r,r=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;let s={type:t,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){let t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}_onError(t){if(n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),MT&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let i=jv.indexOf(this._offlineEventListener);i!==-1&&jv.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}return n.protocol=TT,n})(),Uv=class extends Bv{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;Bv.priorWebsocketSuccess=!1;let i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",p=>{if(!r)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Bv.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{let v=new Error("probe error");v.transport=t.name,this.emitReserved("upgradeError",v)}}))};function o(){r||(r=!0,d(),t.close(),t=null)}let s=p=>{let v=new Error("probe error: "+p);v.transport=t.name,o(),this.emitReserved("upgradeError",v)};function a(){s("transport closed")}function c(){s("socket closed")}function u(p){t&&p.name!==t.name&&o()}let d=()=>{t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",a),this.off("close",c),this.off("upgrading",u)};t.once("open",i),t.once("error",s),t.once("close",a),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}},Zc=class extends Uv{constructor(e,t={}){let r=typeof e=="object"?e:t;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>xT[i]).filter(i=>!!i)),super(e,r)}};var Uge=Zc.protocol;function AL(n,e="",t){let r=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),r=Qc(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(t&&t.port===r.port?"":":"+r.port),r}var FT={};bV(FT,{Decoder:()=>kT,Encoder:()=>OT,PacketType:()=>Fe,protocol:()=>OL});var CY=typeof ArrayBuffer=="function",IY=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,xL=Object.prototype.toString,TY=typeof Blob=="function"||typeof Blob<"u"&&xL.call(Blob)==="[object BlobConstructor]",DY=typeof File=="function"||typeof File<"u"&&xL.call(File)==="[object FileConstructor]";function Zd(n){return CY&&(n instanceof ArrayBuffer||IY(n))||TY&&n instanceof Blob||DY&&n instanceof File}function Qd(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(Qd(n[t]))return!0;return!1}if(Zd(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return Qd(n.toJSON(),!0);for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&Qd(n[t]))return!0;return!1}function ML(n){let e=[],t=n.data,r=n;return r.data=PT(t,e),r.attachments=e.length,{packet:r,buffers:e}}function PT(n,e){if(!n)return n;if(Zd(n)){let t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){let t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=PT(n[r],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){let t={};for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=PT(n[r],e));return t}return n}function PL(n,e){return n.data=RT(n.data,e),delete n.attachments,n}function RT(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=RT(n[t],e);else if(typeof n=="object")for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=RT(n[t],e));return n}var SY=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],OL=5,Fe=function(n){return n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",n}(Fe||{}),OT=class{constructor(e){this.replacer=e}encode(e){return(e.type===Fe.EVENT||e.type===Fe.ACK)&&Qd(e)?this.encodeAsBinary({type:e.type===Fe.EVENT?Fe.BINARY_EVENT:Fe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===Fe.BINARY_EVENT||e.type===Fe.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){let t=ML(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}};function RL(n){return Object.prototype.toString.call(n)==="[object Object]"}var kT=class n extends at{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let r=t.type===Fe.BINARY_EVENT;r||t.type===Fe.BINARY_ACK?(t.type=r?Fe.EVENT:Fe.ACK,this.reconstructor=new NT(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(Zd(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0,r={type:Number(e.charAt(0))};if(Fe[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Fe.BINARY_EVENT||r.type===Fe.BINARY_ACK){let o=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let s=e.substring(o,t);if(s!=Number(s)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(e.charAt(t+1)==="/"){let o=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(o,t)}else r.nsp="/";let i=e.charAt(t+1);if(i!==""&&Number(i)==i){let o=t+1;for(;++t;){let s=e.charAt(t);if(s==null||Number(s)!=s){--t;break}if(t===e.length)break}r.id=Number(e.substring(o,t+1))}if(e.charAt(++t)){let o=this.tryParse(e.substr(t));if(n.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case Fe.CONNECT:return RL(t);case Fe.DISCONNECT:return t===void 0;case Fe.CONNECT_ERROR:return typeof t=="string"||RL(t);case Fe.EVENT:case Fe.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&SY.indexOf(t[0])===-1);case Fe.ACK:case Fe.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},NT=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=PL(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function Yn(n,e,t){return n.on(e,t),function(){n.off(e,t)}}var AY=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Xc=class extends at{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[Yn(e,"open",this.onopen.bind(this)),Yn(e,"packet",this.onpacket.bind(this)),Yn(e,"error",this.onerror.bind(this)),Yn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var r,i,o;if(AY.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let s={type:Fe.EVENT,data:t};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){let d=this.ids++,p=t.pop();this._registerAckCallback(d,p),s.id=d}let a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var r;let i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},i),s=(...a)=>{this.io.clearTimeoutFn(o),t.apply(this,a)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...t){return new Promise((r,i)=>{let o=(s,a)=>s?i(s):r(a);o.withError=!0,t.push(o),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Fe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){let r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Fe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Fe.EVENT:case Fe.BINARY_EVENT:this.onevent(e);break;case Fe.ACK:case Fe.BINARY_ACK:this.onack(e);break;case Fe.DISCONNECT:this.ondisconnect();break;case Fe.CONNECT_ERROR:this.destroy();let r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){let t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,r=!1;return function(...i){r||(r=!0,t.packet({type:Fe.ACK,id:e,data:i}))}}onack(e){let t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Fe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let r of t)r.apply(this,e.data)}}};function aa(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}aa.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=(Math.floor(e*10)&1)==0?n-t:n+t}return Math.min(n,this.max)|0};aa.prototype.reset=function(){this.attempts=0};aa.prototype.setMin=function(n){this.ms=n};aa.prototype.setMax=function(n){this.max=n};aa.prototype.setJitter=function(n){this.jitter=n};var Jc=class extends at{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,Ji(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new aa({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;let i=t.parser||FT;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Zc(this.uri,this.opts);let t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let i=Yn(t,"open",function(){r.onopen(),e&&e()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},s=Yn(t,"error",o);if(this._timeout!==!1){let a=this._timeout,c=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),t.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(Yn(e,"ping",this.onping.bind(this)),Yn(e,"data",this.ondata.bind(this)),Yn(e,"error",this.onerror.bind(this)),Yn(e,"close",this.onclose.bind(this)),Yn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Xi(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Xc(this,e,t),this.nsps[e]=r),r}_destroy(e){let t=Object.keys(this.nsps);for(let r of t)if(this.nsps[r].active)return;this._close()}_packet(e){let t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};var Xd={};function Jd(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};let t=AL(n,e.path||"/socket.io"),r=t.source,i=t.id,o=t.path,s=Xd[i]&&o in Xd[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||s,c;return a?c=new Jc(r,e):(Xd[i]||(Xd[i]=new Jc(r,e)),c=Xd[i]),t.query&&!e.query&&(e.query=t.queryKey),c.socket(t.path,e)}Object.assign(Jd,{Manager:Jc,Socket:Xc,io:Jd,connect:Jd});var $v=class n{socket;notificationsSubject=new it([]);notifications$=this.notificationsSubject.asObservable();userId=null;constructor(){this.userId=localStorage.getItem("user_id"),this.socket=Jd("https://cocreandoback.onrender.com",{transports:["websocket"],autoConnect:!0,reconnectionAttempts:3}),this.cleanupSocketListeners(),this.setupBaseListeners(),this.userId&&(this.joinUserRoom(),this.socket.on("confirmacion_join",e=>{}),this.socket.on("connect",()=>{}),this.socket.on("join_error",e=>{console.error("\u274C Error al unirse a la sala:",e)}),this.cargarNotificaciones())}cleanupSocketListeners(){this.socket.off("connect"),this.socket.off("nueva_notificacion"),this.socket.off("lista_notificaciones"),this.socket.off("notificaciones_actualizadas")}setupBaseListeners(){this.socket.on("nueva_notificacion",e=>{this.handleNewNotification(e)}),this.socket.on("connect",()=>{this.userId&&this.joinUserRoom()})}joinUserRoom(){this.socket.emit("join",{user_id:this.userId})}handleNewNotification(e){let t=ne(L({},e),{date:e.date?new Date(e.date):new Date(e.timestamp)}),r=this.notificationsSubject.value;this.notificationsSubject.next([t,...r])}cargarNotificaciones(){this.userId&&(this.socket.off("lista_notificaciones"),this.socket.emit("obtener_notificaciones",{user_id:this.userId}),this.socket.on("lista_notificaciones",e=>{let t=e.filter(r=>r.user_id===this.userId).map(r=>ne(L({},r),{date:r.date?new Date(r.date):new Date(r.timestamp)}));this.notificationsSubject.next(t)}))}marcarComoLeidas(){this.userId&&(this.socket.off("notificaciones_actualizadas"),this.socket.emit("marcar_como_leidas",{user_id:this.userId}),this.socket.on("notificaciones_actualizadas",e=>{let t=e.map(r=>ne(L({},r),{date:r.date?new Date(r.date):new Date(r.timestamp),read:!0}));this.notificationsSubject.next(t)}))}marcarComoLeida(e){if(!this.userId)return;this.socket.emit("marcar_como_leida",{user_id:this.userId,notification_id:e});let t=this.notificationsSubject.value.map(r=>r.id===e?ne(L({},r),{read:!0}):r);this.notificationsSubject.next(t)}ngOnDestroy(){this.cleanupSocketListeners(),this.socket.disconnect()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};function MY(n,e){n&1&&(g(0,"div",12)(1,"div",13),ae(2,"div",14),g(3,"p"),b(4,"Cargando..."),m()()())}function PY(n,e){if(n&1){let t=Pe();g(0,"a",23),H("click",function(){J(t);let i=U(2);return ee(i.navigateTo("/admin"))}),b(1," Panel Admin "),m()}}function RY(n,e){if(n&1&&(g(0,"span",24),b(1),m()),n&2){let t=U(2);E(),re(t.unreadNotifications)}}function OY(n,e){n&1&&(g(0,"strong"),b(1,"\u2022"),m())}function kY(n,e){if(n&1&&(g(0,"div",28),b(1),W(2,OY,2,0,"strong",29),m()),n&2){let t=e.$implicit;E(),_s(" ",t.title,": ",t.message," "),E(),F("ngIf",!t.read)}}function NY(n,e){n&1&&(g(0,"div",30),b(1," No hay notificaciones "),m())}function FY(n,e){if(n&1&&(g(0,"div",25),W(1,kY,3,3,"div",26)(2,NY,2,0,"div",27),m()),n&2){let t=U(2);E(),F("ngForOf",t.notifications),E(),F("ngIf",t.notifications.length===0)}}function LY(n,e){if(n&1){let t=Pe();i0(0),g(1,"div",15),W(2,PY,2,0,"a",16),g(3,"div",17),H("click",function(){J(t);let i=U();return ee(i.toggleNotifications())}),g(4,"div",18),b(5," \u{1F514} "),m(),W(6,RY,2,1,"span",19)(7,FY,3,2,"div",20),m(),g(8,"a",21),H("click",function(){J(t);let i=U();return ee(i.navigateTo("/dashboard"))}),b(9,"Proyectos"),m(),g(10,"a",21),H("click",function(){J(t);let i=U();return ee(i.navigateTo("/project-creation"))}),b(11,"Crear Proyecto"),m(),g(12,"a",21),H("click",function(){J(t);let i=U();return ee(i.navigateTo("/user-profile"))}),b(13),dt(14,"async"),dt(15,"userDisplay"),m(),g(16,"a",22),H("click",function(){J(t);let i=U();return ee(i.logout())}),b(17,"Cerrar Sesi\xF3n"),m()(),o0()}if(n&2){let t=U();E(2),F("ngIf",t.authService.isAdmin()),E(4),F("ngIf",t.unreadNotifications>0),E(),F("ngIf",t.showNotifications),E(6),ie(" ",en(15,6,en(14,4,t.authService.currentUser$))," ")}}function VY(n,e){if(n&1){let t=Pe();g(0,"a",21),H("click",function(){J(t);let i=U();return ee(i.navigateTo("/login"))}),b(1,"Iniciar Sesi\xF3n"),m(),g(2,"a",21),H("click",function(){J(t);let i=U();return ee(i.navigateTo("/register"))}),b(3,"Registrarse"),m()}}var zv=class n{constructor(e,t,r){this.authService=e;this.router=t;this.notificationService=r}title="CoCreando";showNotifications=!1;unreadNotifications=0;notifications=[];notificationsSub;authSub;isLoading$=new it(!0);ngOnInit(){this.notificationsSub=this.notificationService.notifications$.subscribe(e=>{this.notifications=e.sort((t,r)=>new Date(r.date).getTime()-new Date(t.date).getTime()),this.unreadNotifications=e.filter(t=>!t.read).length}),this.isLoading$.next(!0),this.authSub=this.authService.isAuthenticated$.subscribe(e=>{this.isLoading$.next(!1),e?this.authService.getCurrentUserValue()?.uid&&this.notificationService.cargarNotificaciones():(this.notifications=[],this.unreadNotifications=0)})}ngOnDestroy(){this.notificationsSub.unsubscribe(),this.authSub.unsubscribe()}navigateTo(e){this.router.navigate([e]),this.showNotifications=!1}logout(){this.authService.logout(),this.router.navigate(["/dashboard"]),this.showNotifications=!1}toggleNotifications(){this.showNotifications=!this.showNotifications,this.showNotifications&&this.unreadNotifications>0&&this.markAllAsRead()}markAllAsRead(){this.authService.getCurrentUserValue()?.uid&&this.notificationService.marcarComoLeidas()}handleNotificationClick(e){e.link&&this.router.navigate([e.link]),e.read||this.authService.getCurrentUserValue()?.uid&&this.notificationService.marcarComoLeida(e.id),this.showNotifications=!1}static \u0275fac=function(t){return new(t||n)(j(Be),j(Ae),j($v))};static \u0275cmp=Re({type:n,selectors:[["app-root"]],decls:19,vars:7,consts:[["notAuthenticated",""],[1,"main-container"],["class","global-loader",4,"ngIf"],[1,"navbar"],[1,"container"],[1,"logo",3,"click"],["src","https://res.cloudinary.com/dtg8i6j9f/image/upload/v1748278102/2-removebg-preview_orvlqt.png","alt","CoCreando Logo",1,"logo-img"],[1,"nav-links"],[4,"ngIf","ngIfElse"],[1,"content"],[1,"app-footer"],[1,"footer-content"],[1,"global-loader"],[1,"loader-content"],[1,"spinner"],[1,"user-notifications"],["class","admin-link",3,"click",4,"ngIf"],[1,"notification-icon",3,"click"],[1,"campana"],["class","notification-badge",4,"ngIf"],["class","notifications-dropdown",4,"ngIf"],[3,"click"],[1,"logout-link",2,"cursor","pointer",3,"click"],[1,"admin-link",3,"click"],[1,"notification-badge"],[1,"notifications-dropdown"],["class","notification-item",4,"ngFor","ngForOf"],["class","notification-empty",4,"ngIf"],[1,"notification-item"],[4,"ngIf"],[1,"notification-empty"]],template:function(t,r){if(t&1){let i=Pe();g(0,"div",1),W(1,MY,5,0,"div",2),dt(2,"async"),g(3,"nav",3)(4,"div",4)(5,"span",5),H("click",function(){return J(i),ee(r.navigateTo("/dashboard"))}),ae(6,"img",6),b(7," CoCreando "),m(),g(8,"div",7),W(9,LY,18,8,"ng-container",8),dt(10,"async"),W(11,VY,4,0,"ng-template",null,0,OM),m()()(),g(13,"div",9),ae(14,"router-outlet"),m(),g(15,"footer",10)(16,"div",11)(17,"span"),b(18,"\xA9 2025 CoCreando - Todos los derechos reservados"),m()()()()}if(t&2){let i=za(12);E(),F("ngIf",en(2,3,r.isLoading$)),E(8),F("ngIf",en(10,5,r.authService.isAuthenticated$))("ngIfElse",i)}},dependencies:[ht,$t,vt,b0,Ps,Au,Rv],styles:['@charset "UTF-8";.main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .admin-link[_ngcontent-%COMP%], .logout-link[_ngcontent-%COMP%], .notification-icon[_ngcontent-%COMP%]{cursor:pointer}.navbar[_ngcontent-%COMP%]{background-color:#fff;padding:0;box-shadow:0 4px 12px #0000001a;position:sticky;top:0;z-index:1000}.navbar[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto;padding:1rem 2rem}.navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{cursor:pointer;font-size:1.8rem;font-weight:700;color:#4caf50;letter-spacing:-.5px;display:flex;align-items:center}.navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .logo-img[_ngcontent-%COMP%]{width:70px;height:auto;margin-right:.5rem}.navbar[_ngcontent-%COMP%]   .campana[_ngcontent-%COMP%]:hover{transform:rotate(24deg);text-shadow:0 0 5px rgba(9,77,7,.3)}.navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_bounce .5s ease infinite alternate}.navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]:hover   .logo-img[_ngcontent-%COMP%]{transform:rotate(10deg)}.navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]:hover{color:#087516;text-shadow:0 0 5px rgba(9,77,7,.3)}@keyframes _ngcontent-%COMP%_bounce{0%{transform:translateY(0)}to{transform:translateY(-3px)}}.navbar[_ngcontent-%COMP%]   .logo-img[_ngcontent-%COMP%]{height:30px;transition:transform .3s ease}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#2e7d32;text-decoration:none;font-weight:500;font-size:1.1rem;position:relative;padding:.5rem 0;transition:all .3s ease}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:0;height:2px;background-color:#4caf50;transition:width .3s ease}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#4caf50}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{width:100%}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#4caf50;font-weight:600}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:after{width:100%}.content[_ngcontent-%COMP%]{flex:1;padding:2rem;max-width:1200px;margin:0 auto;width:100%}.app-footer[_ngcontent-%COMP%]{background-color:#c8e6c9;padding:1.5rem;text-align:center;margin-top:auto}.app-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#2e7d32;font-size:.9rem;display:block}@media (max-width: 768px){.navbar[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:1rem;flex-direction:column}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]{margin-top:1rem;gap:1.5rem}}.user-notifications[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;position:relative}.user-notifications[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-weight:500;color:#2e7d32;margin-right:.5rem}.user-notifications[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{position:relative;cursor:pointer;font-size:1.2rem}.user-notifications[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   .notification-badge[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;background-color:red;color:#fff;border-radius:50%;width:18px;height:18px;display:flex;align-items:center;justify-content:center;font-size:.7rem}.user-notifications[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   .notifications-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;background-color:#fff;border:1px solid #c8e6c9;border-radius:4px;box-shadow:0 4px 8px #0000001a;width:300px;max-height:400px;overflow-y:auto;z-index:1001}.user-notifications[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   .notifications-dropdown[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #c8e6c9;cursor:pointer;transition:background-color .2s}.user-notifications[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   .notifications-dropdown[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]:hover{background-color:#f8fffa}.user-notifications[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   .notifications-dropdown[_ngcontent-%COMP%]   .notification-empty[_ngcontent-%COMP%]{padding:1rem;text-align:center;color:#77cd7b}.global-loader[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#fffc;display:flex;justify-content:center;align-items:center;z-index:1000}.loader-content[_ngcontent-%COMP%]{text-align:center;background:#fff;padding:2rem;border-radius:8px;box-shadow:0 2px 10px #0000001a}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-radius:50%;border-top:4px solid #3498db;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})};M0(zv,iL).catch(n=>console.error(n));
