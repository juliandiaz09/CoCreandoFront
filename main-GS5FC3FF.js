var VD=Object.defineProperty,hV=Object.defineProperties;var fV=Object.getOwnPropertyDescriptors;var FD=Object.getOwnPropertySymbols,pV=Object.getPrototypeOf,mV=Object.prototype.hasOwnProperty,gV=Object.prototype.propertyIsEnumerable,vV=Reflect.get;var LD=(n,e,t)=>e in n?VD(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,L=(n,e)=>{for(var t in e||={})mV.call(e,t)&&LD(n,t,e[t]);if(FD)for(var t of FD(e))gV.call(e,t)&&LD(n,t,e[t]);return n},ne=(n,e)=>hV(n,fV(e));var _V=(n,e)=>{for(var t in e)VD(n,t,{get:e[t],enumerable:!0})};var oo=(n,e,t)=>vV(pV(n),t,e);var w=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(u){i(u)}},s=c=>{try{a(t.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});function g_(n,e){return Object.is(n,e)}var Nt=null,vh=!1,v_=1,Qn=Symbol("SIGNAL");function Me(n){let e=Nt;return Nt=n,e}function __(){return Nt}var bl={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function wl(n){if(vh)throw new Error("");if(Nt===null)return;Nt.consumerOnSignalRead(n);let e=Nt.nextProducerIndex++;if(wh(Nt),e<Nt.producerNode.length&&Nt.producerNode[e]!==n&&yl(Nt)){let t=Nt.producerNode[e];bh(t,Nt.producerIndexOfThis[e])}Nt.producerNode[e]!==n&&(Nt.producerNode[e]=n,Nt.producerIndexOfThis[e]=yl(Nt)?BD(n,Nt,e):0),Nt.producerLastReadVersion[e]=n.version}function jD(){v_++}function y_(n){if(!(yl(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===v_)){if(!n.producerMustRecompute(n)&&!C_(n)){m_(n);return}n.producerRecomputeValue(n),m_(n)}}function b_(n){if(n.liveConsumerNode===void 0)return;let e=vh;vh=!0;try{for(let t of n.liveConsumerNode)t.dirty||yV(t)}finally{vh=e}}function w_(){return Nt?.consumerAllowSignalWrites!==!1}function yV(n){n.dirty=!0,b_(n),n.consumerMarkedDirty?.(n)}function m_(n){n.dirty=!1,n.lastCleanEpoch=v_}function yh(n){return n&&(n.nextProducerIndex=0),Me(n)}function E_(n,e){if(Me(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(yl(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)bh(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function C_(n){wh(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(y_(t),r!==t.version))return!0}return!1}function I_(n){if(wh(n),yl(n))for(let e=0;e<n.producerNode.length;e++)bh(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function BD(n,e,t){if(UD(n),n.liveConsumerNode.length===0&&$D(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=BD(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function bh(n,e){if(UD(n),n.liveConsumerNode.length===1&&$D(n))for(let r=0;r<n.producerNode.length;r++)bh(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];wh(i),i.producerIndexOfThis[r]=e}}function yl(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function wh(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function UD(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function $D(n){return n.producerNode!==void 0}function T_(n,e){let t=Object.create(bV);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(y_(t),wl(t),t.value===_h)throw t.error;return t.value};return r[Qn]=t,r}var f_=Symbol("UNSET"),p_=Symbol("COMPUTING"),_h=Symbol("ERRORED"),bV=ne(L({},bl),{value:f_,dirty:!0,error:null,equal:g_,kind:"computed",producerMustRecompute(n){return n.value===f_||n.value===p_},producerRecomputeValue(n){if(n.value===p_)throw new Error("Detected cycle in computations.");let e=n.value;n.value=p_;let t=yh(n),r,i=!1;try{r=n.computation(),Me(null),i=e!==f_&&e!==_h&&r!==_h&&n.equal(e,r)}catch(o){r=_h,n.error=o}finally{E_(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function wV(){throw new Error}var HD=wV;function zD(n){HD(n)}function D_(n){HD=n}var EV=null;function S_(n,e){let t=Object.create(Eh);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(wl(t),t.value);return r[Qn]=t,r}function El(n,e){w_()||zD(n),n.equal(n.value,e)||(n.value=e,CV(n))}function A_(n,e){w_()||zD(n),El(n,e(n.value))}var Eh=ne(L({},bl),{equal:g_,value:void 0,kind:"signal"});function CV(n){n.version++,jD(),b_(n),EV?.()}function x_(n){let e=Me(null);try{return n()}finally{Me(e)}}var M_;function Cl(){return M_}function _i(n){let e=M_;return M_=n,e}var Ch=Symbol("NotFound");function _e(n){return typeof n=="function"}function ha(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Ih=ha(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function qo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var rt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(_e(r))try{r()}catch(o){e=o instanceof Ih?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{qD(o)}catch(s){e=e??[],s instanceof Ih?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ih(e)}}add(e){var t;if(e&&e!==this)if(this.closed)qD(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&qo(t,e)}remove(e){let{_finalizers:t}=this;t&&qo(t,e),e instanceof n&&e._removeParent(this)}};rt.EMPTY=(()=>{let n=new rt;return n.closed=!0,n})();var P_=rt.EMPTY;function Th(n){return n instanceof rt||n&&"closed"in n&&_e(n.remove)&&_e(n.add)&&_e(n.unsubscribe)}function qD(n){_e(n)?n():n.unsubscribe()}var mr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var fa={setTimeout(n,e,...t){let{delegate:r}=fa;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=fa;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Dh(n){fa.setTimeout(()=>{let{onUnhandledError:e}=mr;if(e)e(n);else throw n})}function Il(){}var WD=R_("C",void 0,void 0);function GD(n){return R_("E",void 0,n)}function KD(n){return R_("N",n,void 0)}function R_(n,e,t){return{kind:n,value:e,error:t}}var Wo=null;function pa(n){if(mr.useDeprecatedSynchronousErrorHandling){let e=!Wo;if(e&&(Wo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Wo;if(Wo=null,t)throw r}}else n()}function YD(n){mr.useDeprecatedSynchronousErrorHandling&&Wo&&(Wo.errorThrown=!0,Wo.error=n)}var Go=class extends rt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Th(e)&&e.add(this)):this.destination=xV}static create(e,t,r){return new ma(e,t,r)}next(e){this.isStopped?k_(KD(e),this):this._next(e)}error(e){this.isStopped?k_(GD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?k_(WD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},SV=Function.prototype.bind;function O_(n,e){return SV.call(n,e)}var N_=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Sh(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Sh(r)}else Sh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Sh(t)}}},ma=class extends Go{constructor(e,t,r){super();let i;if(_e(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&mr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&O_(e.next,o),error:e.error&&O_(e.error,o),complete:e.complete&&O_(e.complete,o)}):i=e}this.destination=new N_(i)}};function Sh(n){mr.useDeprecatedSynchronousErrorHandling?YD(n):Dh(n)}function AV(n){throw n}function k_(n,e){let{onStoppedNotification:t}=mr;t&&fa.setTimeout(()=>t(n,e))}var xV={closed:!0,next:Il,error:AV,complete:Il};var ga=typeof Symbol=="function"&&Symbol.observable||"@@observable";function gn(n){return n}function F_(...n){return L_(n)}function L_(n){return n.length===0?gn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var me=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=PV(t)?t:new ma(t,r,i);return pa(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=QD(r),new r((i,o)=>{let s=new ma({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ga](){return this}pipe(...t){return L_(t)(this)}toPromise(t){return t=QD(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function QD(n){var e;return(e=n??mr.Promise)!==null&&e!==void 0?e:Promise}function MV(n){return n&&_e(n.next)&&_e(n.error)&&_e(n.complete)}function PV(n){return n&&n instanceof Go||MV(n)&&Th(n)}function V_(n){return _e(n?.lift)}function Te(n){return e=>{if(V_(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(n,e,t,r,i){return new j_(n,e,t,r,i)}var j_=class extends Go{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function va(){return Te((n,e)=>{let t=null;n._refCount++;let r=ye(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var _a=class extends me{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,V_(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new rt;let t=this.getSubject();e.add(this.source.subscribe(ye(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=rt.EMPTY)}return e}refCount(){return va()(this)}};var ZD=ha(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=(()=>{class n extends me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Ah(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new ZD}next(t){pa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){pa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){pa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?P_:(this.currentObservers=null,o.push(t),new rt(()=>{this.currentObservers=null,qo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new me;return t.source=this,t}}return n.create=(e,t)=>new Ah(e,t),n})(),Ah=class extends fe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:P_}};var it=class extends fe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var B_={now(){return(B_.delegate||Date).now()},delegate:void 0};var xh=class extends rt{constructor(e,t){super()}schedule(e,t=0){return this}};var Tl={setInterval(n,e,...t){let{delegate:r}=Tl;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Tl;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ya=class extends xh{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Tl.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Tl.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,qo(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var ba=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};ba.now=B_.now;var wa=class extends ba{constructor(e,t=ba.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var so=new wa(ya),U_=so;var Mh=class extends ya{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Ph=class extends wa{};var $_=new Ph(Mh);var cn=new me(n=>n.complete());function Rh(n){return n&&_e(n.schedule)}function H_(n){return n[n.length-1]}function Oh(n){return _e(H_(n))?n.pop():void 0}function Fr(n){return Rh(H_(n))?n.pop():void 0}function XD(n,e){return typeof H_(n)=="number"?n.pop():e}function z_(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function eS(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(p){s(p)}}function c(d){try{u(r.throw(d))}catch(p){s(p)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function JD(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ko(n){return this instanceof Ko?(this.v=n,this):new Ko(n)}function tS(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(_){return function(S){return Promise.resolve(S).then(_,p)}}function a(_,S){r[_]&&(i[_]=function(R){return new Promise(function(k,G){o.push([_,R,k,G])>1||c(_,R)})},S&&(i[_]=S(i[_])))}function c(_,S){try{u(r[_](S))}catch(R){v(o[0][3],R)}}function u(_){_.value instanceof Ko?Promise.resolve(_.value.v).then(d,p):v(o[0][2],_)}function d(_){c("next",_)}function p(_){c("throw",_)}function v(_,S){_(S),o.shift(),o.length&&c(o[0][0],o[0][1])}}function nS(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof JD=="function"?JD(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var kh=n=>n&&typeof n.length=="number"&&typeof n!="function";function Nh(n){return _e(n?.then)}function Fh(n){return _e(n[ga])}function Lh(n){return Symbol.asyncIterator&&_e(n?.[Symbol.asyncIterator])}function Vh(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function RV(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var jh=RV();function Bh(n){return _e(n?.[jh])}function Uh(n){return tS(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ko(t.read());if(i)return yield Ko(void 0);yield yield Ko(r)}}finally{t.releaseLock()}})}function $h(n){return _e(n?.getReader)}function ut(n){if(n instanceof me)return n;if(n!=null){if(Fh(n))return OV(n);if(kh(n))return kV(n);if(Nh(n))return NV(n);if(Lh(n))return rS(n);if(Bh(n))return FV(n);if($h(n))return LV(n)}throw Vh(n)}function OV(n){return new me(e=>{let t=n[ga]();if(_e(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function kV(n){return new me(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function NV(n){return new me(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Dh)})}function FV(n){return new me(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function rS(n){return new me(e=>{VV(n,e).catch(t=>e.error(t))})}function LV(n){return rS(Uh(n))}function VV(n,e){var t,r,i,o;return eS(this,void 0,void 0,function*(){try{for(t=nS(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Dn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function ao(n,e=0){return Te((t,r)=>{t.subscribe(ye(r,i=>Dn(r,n,()=>r.next(i),e),()=>Dn(r,n,()=>r.complete(),e),i=>Dn(r,n,()=>r.error(i),e)))})}function co(n,e=0){return Te((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function iS(n,e){return ut(n).pipe(co(e),ao(e))}function oS(n,e){return ut(n).pipe(co(e),ao(e))}function sS(n,e){return new me(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function aS(n,e){return new me(t=>{let r;return Dn(t,e,()=>{r=n[jh](),Dn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>_e(r?.return)&&r.return()})}function Hh(n,e){if(!n)throw new Error("Iterable cannot be null");return new me(t=>{Dn(t,e,()=>{let r=n[Symbol.asyncIterator]();Dn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function cS(n,e){return Hh(Uh(n),e)}function lS(n,e){if(n!=null){if(Fh(n))return iS(n,e);if(kh(n))return sS(n,e);if(Nh(n))return oS(n,e);if(Lh(n))return Hh(n,e);if(Bh(n))return aS(n,e);if($h(n))return cS(n,e)}throw Vh(n)}function $e(n,e){return e?lS(n,e):ut(n)}function X(...n){let e=Fr(n);return $e(n,e)}function St(n,e){let t=_e(n)?n:()=>n,r=i=>i.error(t());return new me(e?i=>e.schedule(r,0,i):r)}function zh(n){return!!n&&(n instanceof me||_e(n.lift)&&_e(n.subscribe))}var gr=ha(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function yi(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let o=!1,s;n.subscribe({next:a=>{s=a,o=!0},error:i,complete:()=>{o?r(s):t?r(e.defaultValue):i(new gr)}})})}function uS(n){return n instanceof Date&&!isNaN(n)}function de(n,e){return Te((t,r)=>{let i=0;t.subscribe(ye(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:jV}=Array;function BV(n,e){return jV(e)?n(...e):n(e)}function qh(n){return de(e=>BV(n,e))}var{isArray:UV}=Array,{getPrototypeOf:$V,prototype:HV,keys:zV}=Object;function Wh(n){if(n.length===1){let e=n[0];if(UV(e))return{args:e,keys:null};if(qV(e)){let t=zV(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function qV(n){return n&&typeof n=="object"&&$V(n)===HV}function Gh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Yo(...n){let e=Fr(n),t=Oh(n),{args:r,keys:i}=Wh(n);if(r.length===0)return $e([],e);let o=new me(WV(r,e,i?s=>Gh(i,s):gn));return t?o.pipe(qh(t)):o}function WV(n,e,t=gn){return r=>{dS(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)dS(e,()=>{let u=$e(n[c],e),d=!1;u.subscribe(ye(r,p=>{o[c]=p,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function dS(n,e,t){n?Dn(t,n,e):e()}function hS(n,e,t,r,i,o,s,a){let c=[],u=0,d=0,p=!1,v=()=>{p&&!c.length&&!u&&e.complete()},_=R=>u<r?S(R):c.push(R),S=R=>{o&&e.next(R),u++;let k=!1;ut(t(R,d++)).subscribe(ye(e,G=>{i?.(G),o?_(G):e.next(G)},()=>{k=!0},void 0,()=>{if(k)try{for(u--;c.length&&u<r;){let G=c.shift();s?Dn(e,s,()=>S(G)):S(G)}v()}catch(G){e.error(G)}}))};return n.subscribe(ye(e,_,()=>{p=!0,v()})),()=>{a?.()}}function Et(n,e,t=1/0){return _e(e)?Et((r,i)=>de((o,s)=>e(r,o,i,s))(ut(n(r,i))),t):(typeof e=="number"&&(t=e),Te((r,i)=>hS(r,i,n,t)))}function lo(n=1/0){return Et(gn,n)}function fS(){return lo(1)}function uo(...n){return fS()($e(n,Fr(n)))}function Kh(n){return new me(e=>{ut(n()).subscribe(e)})}function q_(...n){let e=Oh(n),{args:t,keys:r}=Wh(n),i=new me(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let d=0;d<s;d++){let p=!1;ut(t[d]).subscribe(ye(o,v=>{p||(p=!0,u--),a[d]=v},()=>c--,void 0,()=>{(!c||!p)&&(u||o.next(r?Gh(r,a):a),o.complete())}))}});return e?i.pipe(qh(e)):i}function pS(n=0,e,t=U_){let r=-1;return e!=null&&(Rh(e)?t=e:r=e),new me(i=>{let o=uS(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function W_(...n){let e=Fr(n),t=XD(n,1/0),r=n;return r.length?r.length===1?ut(r[0]):lo(t)($e(r,e)):cn}function pt(n,e){return Te((t,r)=>{let i=0;t.subscribe(ye(r,o=>n.call(e,o,i++)&&r.next(o)))})}function mS(n){return Te((e,t)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let u=i;i=null,t.next(u)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(ye(t,u=>{r=!0,i=u,o||ut(n(u)).subscribe(o=ye(t,a,c))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}function Yh(n,e=so){return mS(()=>pS(n,e))}function Ge(n){return Te((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ye(t,void 0,void 0,s=>{o=ut(n(s,Ge(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function gS(n,e,t,r,i){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(ye(s,d=>{let p=u++;c=a?n(c,d,p):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Lr(n,e){return _e(e)?Et(n,e,1):Et(n,1)}function G_(n,e=so){return Te((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let u=o;o=null,r.next(u)}};function c(){let u=s+n,d=e.now();if(d<u){i=this.schedule(void 0,u-d),r.add(i);return}a()}t.subscribe(ye(r,u=>{o=u,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function ho(n){return Te((e,t)=>{let r=!1;e.subscribe(ye(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function mt(n){return n<=0?()=>cn:Te((e,t)=>{let r=0;e.subscribe(ye(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Qh(n,e=gn){return n=n??GV,Te((t,r)=>{let i,o=!0;t.subscribe(ye(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function GV(n,e){return n===e}function Zh(n=KV){return Te((e,t)=>{let r=!1;e.subscribe(ye(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function KV(){return new gr}function Qo(n){return Te((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function bi(n,e){let t=arguments.length>=2;return r=>r.pipe(n?pt((i,o)=>n(i,o,r)):gn,mt(1),t?ho(e):Zh(()=>new gr))}function Ea(n){return n<=0?()=>cn:Te((e,t)=>{let r=[];e.subscribe(ye(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function K_(n,e){let t=arguments.length>=2;return r=>r.pipe(n?pt((i,o)=>n(i,o,r)):gn,Ea(1),t?ho(e):Zh(()=>new gr))}function Y_(n,e){return Te(gS(n,e,arguments.length>=2,!0))}function Dl(n){return pt((e,t)=>n<=t)}function Ca(...n){let e=Fr(n);return Te((t,r)=>{(e?uo(n,t,e):uo(n,t)).subscribe(r)})}function Ft(n,e){return Te((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ye(r,c=>{i?.unsubscribe();let u=0,d=o++;ut(n(c,d)).subscribe(i=ye(r,p=>r.next(e?e(c,p,d,u++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Zn(n){return Te((e,t)=>{ut(n).subscribe(ye(t,()=>t.complete(),Il)),!t.closed&&e.subscribe(t)})}function Zt(n,e,t){let r=_e(n)||e||t?{next:n,error:e,complete:t}:n;return r?Te((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ye(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):gn}var nA="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",K=class extends Error{code;constructor(e,t){super(rA(e,t)),this.code=e}};function YV(n){return`NG0${Math.abs(n)}`}function rA(n,e){return`${YV(n)}${e?": "+e:""}`}var iA=Symbol("InputSignalNode#UNSET"),QV=ne(L({},Eh),{transformFn:void 0,applyValueToInputSignal(n,e){El(n,e)}});function oA(n,e){let t=Object.create(QV);t.value=n,t.transformFn=e?.transform;function r(){if(wl(t),t.value===iA){let i=null;throw new K(-950,i)}return t.value}return r[Qn]=t,r}function Vl(n){return{toString:n}.toString()}var Xh="__parameters__";function ZV(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function sA(n,e,t){return Vl(()=>{let r=ZV(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,d){let p=c.hasOwnProperty(Xh)?c[Xh]:Object.defineProperty(c,Xh,{value:[]})[Xh];for(;p.length<=d;)p.push(null);return(p[d]=p[d]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Xo=globalThis;function Je(n){for(let e in n)if(n[e]===Je)return e;throw Error("Could not find renamed property on target object.")}function XV(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function xn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(xn).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function uy(n,e){return n?e?`${n} ${e}`:n:e||""}var JV=Je({__forward_ref__:Je});function At(n){return n.__forward_ref__=At,n.toString=function(){return xn(this())},n}function vn(n){return aA(n)?n():n}function aA(n){return typeof n=="function"&&n.hasOwnProperty(JV)&&n.__forward_ref__===At}function V(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Jt(n){return{providers:n.providers||[],imports:n.imports||[]}}function kf(n){return vS(n,lA)||vS(n,uA)}function cA(n){return kf(n)!==null}function vS(n,e){return n.hasOwnProperty(e)?n[e]:null}function e2(n){let e=n&&(n[lA]||n[uA]);return e||null}function _S(n){return n&&(n.hasOwnProperty(yS)||n.hasOwnProperty(t2))?n[yS]:null}var lA=Je({\u0275prov:Je}),yS=Je({\u0275inj:Je}),uA=Je({ngInjectableDef:Je}),t2=Je({ngInjectorDef:Je}),H=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=V({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function dA(n){return n&&!!n.\u0275providers}var n2=Je({\u0275cmp:Je}),r2=Je({\u0275dir:Je}),i2=Je({\u0275pipe:Je}),o2=Je({\u0275mod:Je}),cf=Je({\u0275fac:Je}),Ml=Je({__NG_ELEMENT_ID__:Je}),bS=Je({__NG_ENV_ID__:Je});function wi(n){return typeof n=="string"?n:n==null?"":String(n)}function s2(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():wi(n)}function hA(n,e){throw new K(-200,n)}function sb(n,e){throw new K(-201,!1)}var Ee=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ee||{}),dy;function fA(){return dy}function Sn(n){let e=dy;return dy=n,e}function pA(n,e,t){let r=kf(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&Ee.Optional)return null;if(e!==void 0)return e;sb(n,"Injector")}var a2={},Jo=a2,hy="__NG_DI_FLAG__",lf=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?Ch:Jo,r)}},uf="ngTempTokenPath",c2="ngTokenPath",l2=/\n/gm,u2="\u0275",wS="__source";function d2(n,e=Ee.Default){if(Cl()===void 0)throw new K(-203,!1);if(Cl()===null)return pA(n,void 0,e);{let t=Cl(),r;return t instanceof lf?r=t.injector:r=t,r.get(n,e&Ee.Optional?null:void 0,e)}}function Y(n,e=Ee.Default){return(fA()||d2)(vn(n),e)}function I(n,e=Ee.Default){return Y(n,Nf(e))}function Nf(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function fy(n){let e=[];for(let t=0;t<n.length;t++){let r=vn(n[t]);if(Array.isArray(r)){if(r.length===0)throw new K(900,!1);let i,o=Ee.Default;for(let s=0;s<r.length;s++){let a=r[s],c=h2(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(Y(i,o))}else e.push(Y(r))}return e}function mA(n,e){return n[hy]=e,n.prototype[hy]=e,n}function h2(n){return n[hy]}function f2(n,e,t,r){let i=n[uf];throw e[wS]&&i.unshift(e[wS]),n.message=p2(`
`+n.message,i,t,r),n[c2]=i,n[uf]=null,n}function p2(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==u2?n.slice(2):n;let i=xn(e);if(Array.isArray(e))i=e.map(xn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):xn(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(l2,`
  `)}`}var Di=mA(sA("Optional"),8);var m2=mA(sA("SkipSelf"),4);function ts(n,e){let t=n.hasOwnProperty(cf);return t?n[cf]:null}function g2(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function v2(n){return n.flat(Number.POSITIVE_INFINITY)}function ab(n,e){n.forEach(t=>Array.isArray(t)?ab(t,e):e(t))}function gA(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function df(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function _2(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function y2(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function cb(n,e,t){let r=jl(n,e);return r>=0?n[r|1]=t:(r=~r,y2(n,r,e,t)),r}function Q_(n,e){let t=jl(n,e);if(t>=0)return n[t|1]}function jl(n,e){return b2(n,e,1)}function b2(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var ns={},An=[],Pl=new H(""),vA=new H("",-1),_A=new H(""),hf=class{get(e,t=Jo){if(t===Jo){let r=new Error(`NullInjectorError: No provider for ${xn(e)}!`);throw r.name="NullInjectorError",r}return t}};function yA(n,e){let t=n[o2]||null;if(!t&&e===!0)throw new Error(`Type ${xn(n)} does not have '\u0275mod' property.`);return t}function mo(n){return n[n2]||null}function w2(n){return n[r2]||null}function E2(n){return n[i2]||null}function Si(n){return{\u0275providers:n}}function C2(...n){return{\u0275providers:bA(!0,n),\u0275fromNgModule:!0}}function bA(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return ab(e,s=>{let a=s;py(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&wA(i,o),t}function wA(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];lb(i,o=>{e(o,r)})}}function py(n,e,t,r){if(n=vn(n),!n)return!1;let i=null,o=_S(n),s=!o&&mo(n);if(!o&&!s){let c=n.ngModule;if(o=_S(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)py(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{ab(o.imports,d=>{py(d,e,t,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&wA(u,e)}if(!a){let u=ts(i)||(()=>new i);e({provide:i,useFactory:u,deps:An},i),e({provide:_A,useValue:i,multi:!0},i),e({provide:Pl,useValue:()=>Y(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=n;lb(c,d=>{e(d,u)})}}else return!1;return i!==n&&n.providers!==void 0}function lb(n,e){for(let t of n)dA(t)&&(t=t.\u0275providers),Array.isArray(t)?lb(t,e):e(t)}var I2=Je({provide:String,useValue:Je});function EA(n){return n!==null&&typeof n=="object"&&I2 in n}function T2(n){return!!(n&&n.useExisting)}function D2(n){return!!(n&&n.useFactory)}function Ma(n){return typeof n=="function"}function S2(n){return!!n.useClass}var Ff=new H(""),tf={},ES={},Z_;function Lf(){return Z_===void 0&&(Z_=new hf),Z_}var dt=class{},Rl=class extends dt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,gy(e,s=>this.processProvider(s)),this.records.set(vA,Ia(void 0,this)),i.has("environment")&&this.records.set(dt,Ia(void 0,this));let o=this.records.get(Ff);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(_A,An,Ee.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?Ch:Jo,r)}destroy(){Al(this),this._destroyed=!0;let e=Me(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Me(e)}}onDestroy(e){return Al(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Al(this);let t=_i(this),r=Sn(void 0),i;try{return e()}finally{_i(t),Sn(r)}}get(e,t=Jo,r=Ee.Default){if(Al(this),e.hasOwnProperty(bS))return e[bS](this);r=Nf(r);let i,o=_i(this),s=Sn(void 0);try{if(!(r&Ee.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=R2(e)&&kf(e);u&&this.injectableDefInScope(u)?c=Ia(my(e),tf):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,r)}let a=r&Ee.Self?Lf():this.parent;return t=r&Ee.Optional&&t===Jo?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[uf]=a[uf]||[]).unshift(xn(e)),o)throw a;return f2(a,e,"R3InjectorError",this.source)}else throw a}finally{Sn(s),_i(o)}}resolveInjectorInitializers(){let e=Me(null),t=_i(this),r=Sn(void 0),i;try{let o=this.get(Pl,An,Ee.Self);for(let s of o)s()}finally{_i(t),Sn(r),Me(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(xn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=vn(e);let t=Ma(e)?e:vn(e&&e.provide),r=x2(e);if(!Ma(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Ia(void 0,tf,!0),i.factory=()=>fy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Me(null);try{return t.value===ES?hA(xn(e)):t.value===tf&&(t.value=ES,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&P2(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Me(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=vn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function my(n){let e=kf(n),t=e!==null?e.factory:ts(n);if(t!==null)return t;if(n instanceof H)throw new K(204,!1);if(n instanceof Function)return A2(n);throw new K(204,!1)}function A2(n){if(n.length>0)throw new K(204,!1);let t=e2(n);return t!==null?()=>t.factory(n):()=>new n}function x2(n){if(EA(n))return Ia(void 0,n.useValue);{let e=CA(n);return Ia(e,tf)}}function CA(n,e,t){let r;if(Ma(n)){let i=vn(n);return ts(i)||my(i)}else if(EA(n))r=()=>vn(n.useValue);else if(D2(n))r=()=>n.useFactory(...fy(n.deps||[]));else if(T2(n))r=(i,o)=>Y(vn(n.useExisting),o!==void 0&&o&Ee.Optional?Ee.Optional:void 0);else{let i=vn(n&&(n.useClass||n.provide));if(M2(n))r=()=>new i(...fy(n.deps));else return ts(i)||my(i)}return r}function Al(n){if(n.destroyed)throw new K(205,!1)}function Ia(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function M2(n){return!!n.deps}function P2(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function R2(n){return typeof n=="function"||typeof n=="object"&&n instanceof H}function gy(n,e){for(let t of n)Array.isArray(t)?gy(t,e):t&&dA(t)?gy(t.\u0275providers,e):e(t)}function Ut(n,e){let t;n instanceof Rl?(Al(n),t=n):t=new lf(n);let r,i=_i(t),o=Sn(void 0);try{return e()}finally{_i(i),Sn(o)}}function IA(){return fA()!==void 0||Cl()!=null}function Vf(n){if(!IA())throw new K(-203,!1)}function O2(n){return typeof n=="function"}var Ai=0,Ce=1,ge=2,ln=3,yr=4,Pn=5,Ol=6,ff=7,_n=8,Pa=9,Ei=10,gt=11,kl=12,CS=13,Fa=14,Jn=15,rs=16,Ta=17,Ci=18,jf=19,TA=20,fo=21,X_=22,pf=23,Xn=24,Aa=25,Bt=26,DA=1;var is=7,mf=8,Ra=9,Mn=10;function po(n){return Array.isArray(n)&&typeof n[DA]=="object"}function xi(n){return Array.isArray(n)&&n[DA]===!0}function ub(n){return(n.flags&4)!==0}function La(n){return n.componentOffset>-1}function Bf(n){return(n.flags&1)===1}function jr(n){return!!n.template}function gf(n){return(n[ge]&512)!==0}function Va(n){return(n[ge]&256)===256}var vy=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function SA(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Un=(()=>{let n=()=>AA;return n.ngInherit=!0,n})();function AA(n){return n.type.prototype.ngOnChanges&&(n.setInput=N2),k2}function k2(){let n=MA(this),e=n?.current;if(e){let t=n.previous;if(t===ns)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function N2(n,e,t,r,i){let o=this.declaredInputs[r],s=MA(n)||F2(n,{previous:ns,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new vy(u&&u.currentValue,t,c===ns),SA(n,e,i,t)}var xA="__ngSimpleChanges__";function MA(n){return n[xA]||null}function F2(n,e){return n[xA]=e}var IS=null;var Ke=function(n,e=null,t){IS?.(n,e,t)},L2="svg",V2="math";function Br(n){for(;Array.isArray(n);)n=n[Ai];return n}function PA(n,e){return Br(e[n])}function zr(n,e){return Br(e[n.index])}function db(n,e){return n.data[e]}function hb(n,e){return n[e]}function j2(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Ur(n,e){let t=e[n];return po(t)?t:t[Ai]}function B2(n){return(n[ge]&4)===4}function fb(n){return(n[ge]&128)===128}function U2(n){return xi(n[ln])}function Oa(n,e){return e==null?null:n[e]}function RA(n){n[Ta]=0}function OA(n){n[ge]&1024||(n[ge]|=1024,fb(n)&&Bl(n))}function $2(n,e){for(;n>0;)e=e[Fa],n--;return e}function Uf(n){return!!(n[ge]&9216||n[Xn]?.dirty)}function _y(n){n[Ei].changeDetectionScheduler?.notify(8),n[ge]&64&&(n[ge]|=1024),Uf(n)&&Bl(n)}function Bl(n){n[Ei].changeDetectionScheduler?.notify(0);let e=os(n);for(;e!==null&&!(e[ge]&8192||(e[ge]|=8192,!fb(e)));)e=os(e)}function kA(n,e){if(Va(n))throw new K(911,!1);n[fo]===null&&(n[fo]=[]),n[fo].push(e)}function H2(n,e){if(n[fo]===null)return;let t=n[fo].indexOf(e);t!==-1&&n[fo].splice(t,1)}function os(n){let e=n[ln];return xi(e)?e[ln]:e}function pb(n){return n[ff]??=[]}function mb(n){return n.cleanup??=[]}function z2(n,e,t,r){let i=pb(e);i.push(t),n.firstCreatePass&&mb(n).push(r,i.length-1)}var De={lFrame:$A(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var yy=!1;function q2(){return De.lFrame.elementDepthCount}function W2(){De.lFrame.elementDepthCount++}function G2(){De.lFrame.elementDepthCount--}function gb(){return De.bindingsEnabled}function NA(){return De.skipHydrationRootTNode!==null}function K2(n){return De.skipHydrationRootTNode===n}function Y2(){De.skipHydrationRootTNode=null}function Se(){return De.lFrame.lView}function Ct(){return De.lFrame.tView}function J(n){return De.lFrame.contextLView=n,n[_n]}function ee(n){return De.lFrame.contextLView=null,n}function yn(){let n=FA();for(;n!==null&&n.type===64;)n=n.parent;return n}function FA(){return De.lFrame.currentTNode}function Q2(){let n=De.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function hs(n,e){let t=De.lFrame;t.currentTNode=n,t.isParent=e}function vb(){return De.lFrame.isParent}function _b(){De.lFrame.isParent=!1}function Z2(){return De.lFrame.contextLView}function LA(){return yy}function TS(n){let e=yy;return yy=n,e}function yb(){let n=De.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function VA(){return De.lFrame.bindingIndex}function X2(n){return De.lFrame.bindingIndex=n}function Ul(){return De.lFrame.bindingIndex++}function $f(n){let e=De.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function J2(){return De.lFrame.inI18n}function ej(n,e){let t=De.lFrame;t.bindingIndex=t.bindingRootIndex=n,by(e)}function tj(){return De.lFrame.currentDirectiveIndex}function by(n){De.lFrame.currentDirectiveIndex=n}function nj(n){let e=De.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function jA(){return De.lFrame.currentQueryIndex}function bb(n){De.lFrame.currentQueryIndex=n}function rj(n){let e=n[Ce];return e.type===2?e.declTNode:e.type===1?n[Pn]:null}function BA(n,e,t){if(t&Ee.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&Ee.Host);)if(i=rj(o),i===null||(o=o[Fa],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=De.lFrame=UA();return r.currentTNode=e,r.lView=n,!0}function wb(n){let e=UA(),t=n[Ce];De.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function UA(){let n=De.lFrame,e=n===null?null:n.child;return e===null?$A(n):e}function $A(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function HA(){let n=De.lFrame;return De.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var zA=HA;function Eb(){let n=HA();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ij(n){return(De.lFrame.contextLView=$2(n,De.lFrame.contextLView))[_n]}function Mi(){return De.lFrame.selectedIndex}function ss(n){De.lFrame.selectedIndex=n}function Hf(){let n=De.lFrame;return db(n.tView,n.selectedIndex)}function oj(){return De.lFrame.currentNamespace}var qA=!0;function zf(){return qA}function qf(n){qA=n}function sj(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=AA(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Cb(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function nf(n,e,t){WA(n,e,3,t)}function rf(n,e,t,r){(n[ge]&3)===t&&WA(n,e,t,r)}function J_(n,e){let t=n[ge];(t&3)===e&&(t&=16383,t+=1,n[ge]=t)}function WA(n,e,t,r){let i=r!==void 0?n[Ta]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Ta]+=65536),(a<o||o==-1)&&(aj(n,t,e,c),n[Ta]=(n[Ta]&4294901760)+c+2),c++}function DS(n,e){Ke(4,n,e);let t=Me(null);try{e.call(n)}finally{Me(t),Ke(5,n,e)}}function aj(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ge]>>14<n[Ta]>>16&&(n[ge]&3)===e&&(n[ge]+=16384,DS(a,o)):DS(a,o)}var xa=-1,as=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function cj(n){return(n.flags&8)!==0}function lj(n){return(n.flags&16)!==0}function uj(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];dj(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function GA(n){return n===3||n===4||n===6}function dj(n){return n.charCodeAt(0)===64}function ka(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?SS(n,t,i,null,e[++r]):SS(n,t,i,null,null))}}return n}function SS(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function KA(n){return n!==xa}function vf(n){return n&32767}function hj(n){return n>>16}function _f(n,e){let t=hj(n),r=e;for(;t>0;)r=r[Fa],t--;return r}var wy=!0;function yf(n){let e=wy;return wy=n,e}var fj=256,YA=fj-1,QA=5,pj=0,Vr={};function mj(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ml)&&(r=t[Ml]),r==null&&(r=t[Ml]=pj++);let i=r&YA,o=1<<i;e.data[n+(i>>QA)]|=o}function bf(n,e){let t=ZA(n,e);if(t!==-1)return t;let r=e[Ce];r.firstCreatePass&&(n.injectorIndex=e.length,ey(r.data,n),ey(e,null),ey(r.blueprint,null));let i=Ib(n,e),o=n.injectorIndex;if(KA(i)){let s=vf(i),a=_f(i,e),c=a[Ce].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function ey(n,e){n.push(0,0,0,0,0,0,0,0,e)}function ZA(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Ib(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=nx(i),r===null)return xa;if(t++,i=i[Fa],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return xa}function Ey(n,e,t){mj(n,e,t)}function gj(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(GA(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function XA(n,e,t){if(t&Ee.Optional||n!==void 0)return n;sb(e,"NodeInjector")}function JA(n,e,t,r){if(t&Ee.Optional&&r===void 0&&(r=null),(t&(Ee.Self|Ee.Host))===0){let i=n[Pa],o=Sn(void 0);try{return i?i.get(e,r,t&Ee.Optional):pA(e,r,t&Ee.Optional)}finally{Sn(o)}}return XA(r,e,t)}function ex(n,e,t,r=Ee.Default,i){if(n!==null){if(e[ge]&2048&&!(r&Ee.Self)){let s=bj(n,e,t,r,Vr);if(s!==Vr)return s}let o=tx(n,e,t,r,Vr);if(o!==Vr)return o}return JA(e,t,r,i)}function tx(n,e,t,r,i){let o=_j(t);if(typeof o=="function"){if(!BA(e,n,r))return r&Ee.Host?XA(i,t,r):JA(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&Ee.Optional))sb(t);else return s}finally{zA()}}else if(typeof o=="number"){let s=null,a=ZA(n,e),c=xa,u=r&Ee.Host?e[Jn][Pn]:null;for((a===-1||r&Ee.SkipSelf)&&(c=a===-1?Ib(n,e):e[a+8],c===xa||!xS(r,!1)?a=-1:(s=e[Ce],a=vf(c),e=_f(c,e)));a!==-1;){let d=e[Ce];if(AS(o,a,d.data)){let p=vj(a,e,t,s,r,u);if(p!==Vr)return p}c=e[a+8],c!==xa&&xS(r,e[Ce].data[a+8]===u)&&AS(o,a,e)?(s=d,a=vf(c),e=_f(c,e)):a=-1}}return i}function vj(n,e,t,r,i,o){let s=e[Ce],a=s.data[n+8],c=r==null?La(a)&&wy:r!=s&&(a.type&3)!==0,u=i&Ee.Host&&o===a,d=of(a,s,t,c,u);return d!==null?Nl(e,s,d,a,i):Vr}function of(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,u=n.directiveEnd,d=o>>20,p=r?a:a+d,v=i?a+d:u;for(let _=p;_<v;_++){let S=s[_];if(_<c&&t===S||_>=c&&S.type===t)return _}if(i){let _=s[c];if(_&&jr(_)&&_.type===t)return c}return null}function Nl(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof as){let a=o;a.resolving&&hA(s2(s[t]));let c=yf(a.canSeeViewProviders);a.resolving=!0;let u,d=a.injectImpl?Sn(a.injectImpl):null,p=BA(n,r,Ee.Default);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&sj(t,s[t],e)}finally{d!==null&&Sn(d),yf(c),a.resolving=!1,zA()}}return o}function _j(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ml)?n[Ml]:void 0;return typeof e=="number"?e>=0?e&YA:yj:e}function AS(n,e,t){let r=1<<n;return!!(t[e+(n>>QA)]&r)}function xS(n,e){return!(n&Ee.Self)&&!(n&Ee.Host&&e)}var es=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return ex(this._tNode,this._lView,e,Nf(r),t)}};function yj(){return new es(yn(),Se())}function yt(n){return Vl(()=>{let e=n.prototype.constructor,t=e[cf]||Cy(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[cf]||Cy(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Cy(n){return aA(n)?()=>{let e=Cy(vn(n));return e&&e()}:ts(n)}function bj(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ge]&2048&&!gf(s);){let a=tx(o,s,t,r|Ee.Self,Vr);if(a!==Vr)return a;let c=o.parent;if(!c){let u=s[TA];if(u){let d=u.get(t,Vr,r);if(d!==Vr)return d}c=nx(s),s=s[Fa]}o=c}return i}function nx(n){let e=n[Ce],t=e.type;return t===2?e.declTNode:t===1?n[Pn]:null}function Tb(n){return gj(yn(),n)}function MS(n,e=null,t=null,r){let i=rx(n,e,t,r);return i.resolveInjectorInitializers(),i}function rx(n,e=null,t=null,r,i=new Set){let o=[t||An,C2(n)];return r=r||(typeof n=="object"?void 0:xn(n)),new Rl(o,e||Lf(),r||null,i)}var Le=class n{static THROW_IF_NOT_FOUND=Jo;static NULL=new hf;static create(e,t){if(Array.isArray(e))return MS({name:""},t,e,"");{let r=e.name??"";return MS({name:r},e.parent,e.providers,r)}}static \u0275prov=V({token:n,providedIn:"any",factory:()=>Y(vA)});static __NG_ELEMENT_ID__=-1};var wj=new H("");wj.__NG_ELEMENT_ID__=n=>{let e=yn();if(e===null)throw new K(204,!1);if(e.type&2)return e.value;if(n&Ee.Optional)return null;throw new K(204,!1)};var ix=!1,fs=(()=>{class n{static __NG_ELEMENT_ID__=Ej;static __NG_ENV_ID__=t=>t}return n})(),Iy=class extends fs{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return Va(t)?(e(),()=>{}):(kA(t,e),()=>H2(t,e))}};function Ej(){return new Iy(Se())}var cs=class{},ox=new H("",{providedIn:"root",factory:()=>!1});var sx=new H(""),ax=new H(""),Pi=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new it(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}return n})(),Wf=(()=>{class n{internalPendingTasks=I(Pi);scheduler=I(cs);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return w(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}return n})(),Ty=class extends fe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,IA()&&(this.destroyRef=I(fs,{optional:!0})??void 0,this.pendingTasks=I(Pi,{optional:!0})??void 0)}emit(e){let t=Me(null);try{super.next(e)}finally{Me(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof rt&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Xe=Ty;function wf(...n){}function cx(n){let e,t;function r(){n=wf;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function PS(n){return queueMicrotask(()=>n()),()=>{n=wf}}var Db="isAngularZone",Ef=Db+"_ID",Cj=0,ce=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Xe(!1);onMicrotaskEmpty=new Xe(!1);onStable=new Xe(!1);onError=new Xe(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=ix}=e;if(typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Dj(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Db)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new K(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Ij,wf,wf);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Ij={};function Sb(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Tj(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){cx(()=>{n.callbackScheduled=!1,Dy(n),n.isCheckStableRunning=!0,Sb(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Dy(n)}function Dj(n){let e=()=>{Tj(n)},t=Cj++;n._inner=n._inner.fork({name:"angular",properties:{[Db]:!0,[Ef]:t,[Ef+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(Sj(c))return r.invokeTask(o,s,a,c);try{return RS(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),OS(n)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return RS(n),r.invoke(o,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Aj(c)&&e(),OS(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Dy(n),Sb(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Dy(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function RS(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function OS(n){n._nesting--,Sb(n)}var Sy=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Xe;onMicrotaskEmpty=new Xe;onStable=new Xe;onError=new Xe;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function Sj(n){return lx(n,"__ignore_ng_zone__")}function Aj(n){return lx(n,"__scheduler_tick__")}function lx(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var $r=class{_console=console;handleError(e){this._console.error("ERROR",e)}},xj=new H("",{providedIn:"root",factory:()=>{let n=I(ce),e=I($r);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function kS(n,e){return oA(n,e)}function Mj(n){return oA(iA,n)}var ux=(kS.required=Mj,kS);function Pj(){return ja(yn(),Se())}function ja(n,e){return new et(zr(n,e))}var et=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Pj}return n})();function Rj(n){return n instanceof et?n.nativeElement:n}function Oj(n){return typeof n=="function"&&n[Qn]!==void 0}function ps(n,e){let t=S_(n,e?.equal),r=t[Qn];return t.set=i=>El(r,i),t.update=i=>A_(r,i),t.asReadonly=kj.bind(t),t}function kj(){let n=this[Qn];if(n.readonlyFn===void 0){let e=()=>this();e[Qn]=n,n.readonlyFn=e}return n.readonlyFn}function dx(n){return Oj(n)&&typeof n.set=="function"}function Nj(){return this._results[Symbol.iterator]()}var Ay=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new fe}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=v2(e);(this._changesDetected=!g2(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Nj};function hx(n){return(n.flags&128)===128}var fx=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(fx||{}),px=new Map,Fj=0;function Lj(){return Fj++}function Vj(n){px.set(n[jf],n)}function xy(n){px.delete(n[jf])}var NS="__ngContext__";function Ba(n,e){po(e)?(n[NS]=e[jf],Vj(e)):n[NS]=e}function mx(n){return vx(n[kl])}function gx(n){return vx(n[yr])}function vx(n){for(;n!==null&&!xi(n);)n=n[yr];return n}var My;function _x(n){My=n}function jj(){if(My!==void 0)return My;if(typeof document<"u")return document;throw new K(210,!1)}var $l=new H("",{providedIn:"root",factory:()=>Bj}),Bj="ng",Ab=new H(""),qr=new H("",{providedIn:"platform",factory:()=>"unknown"});var Ri=new H(""),Hl=new H("",{providedIn:"root",factory:()=>jj().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Uj="h",$j="b";var yx=!1,Hj=new H("",{providedIn:"root",factory:()=>yx});var xb=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(xb||{}),Ua=new H(""),FS=new Set;function ms(n){FS.has(n)||(FS.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var bx=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=zj}return n})();function zj(){return new bx(Se(),yn())}var Da=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Da||{}),wx=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}return n})(),qj=[Da.EarlyRead,Da.Write,Da.MixedReadWrite,Da.Read],Wj=(()=>{class n{ngZone=I(ce);scheduler=I(cs);errorHandler=I($r,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){I(Ua,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Ke(16),this.executing=!0;for(let r of qj)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Ke(17)}register(t){let{view:r}=t;r!==void 0?((r[Aa]??=[]).push(t),Bl(r),r[ge]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(xb.AFTER_NEXT_RENDER,t):t()}static \u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}return n})(),Py=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Aa];e&&(this.view[Aa]=e.filter(t=>t!==this))}};function zl(n,e){!e?.injector&&Vf(zl);let t=e?.injector??I(Le);return ms("NgAfterRender"),Ex(n,t,e,!1)}function gs(n,e){!e?.injector&&Vf(gs);let t=e?.injector??I(Le);return ms("NgAfterNextRender"),Ex(n,t,e,!0)}function Gj(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function Ex(n,e,t,r){let i=e.get(wx);i.impl??=e.get(Wj);let o=e.get(Ua,null,{optional:!0}),s=t?.phase??Da.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(fs):null,c=e.get(bx,null,{optional:!0}),u=new Py(i.impl,Gj(n,s),c?.view,r,a,o?.snapshot(null));return i.impl.register(u),u}var Kj=(n,e,t,r)=>{};function Yj(n,e,t,r){Kj(n,e,t,r)}var Qj=()=>null;function Cx(n,e,t=!1){return Qj(n,e,t)}function Ix(n,e){let t=n.contentQueries;if(t!==null){let r=Me(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];bb(o),a.contentQueries(2,e[s],s)}}}finally{Me(r)}}}function Ry(n,e,t){bb(0);let r=Me(null);try{e(n,t)}finally{Me(r)}}function Mb(n,e,t){if(ub(e)){let r=Me(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{Me(r)}}}var Hr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Hr||{});var Jh;function Zj(){if(Jh===void 0&&(Jh=null,Xo.trustedTypes))try{Jh=Xo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Jh}function LS(n){return Zj()?.createScriptURL(n)||n}var Cf=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nA})`}};function ql(n){return n instanceof Cf?n.changingThisBreaksApplicationSecurity:n}function Tx(n,e){let t=Xj(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${nA})`)}return t===e}function Xj(n){return n instanceof Cf&&n.getTypeName()||null}var Jj=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function eB(n){return n=String(n),n.match(Jj)?n:"unsafe:"+n}var Pb=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Pb||{});function go(n){let e=Sx();return e?e.sanitize(Pb.URL,n)||"":Tx(n,"URL")?ql(n):eB(wi(n))}function tB(n){let e=Sx();if(e)return LS(e.sanitize(Pb.RESOURCE_URL,n)||"");if(Tx(n,"ResourceURL"))return LS(ql(n));throw new K(904,!1)}function nB(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?tB:go}function Dx(n,e,t){return nB(e,t)(n)}function Sx(){let n=Se();return n&&n[Ei].sanitizer}var rB=/^>|^->|<!--|-->|--!>|<!-$/g,iB=/(<|>)/g,oB="\u200B$1\u200B";function sB(n){return n.replace(rB,e=>e.replace(iB,oB))}function Ax(n){return n instanceof Function?n():n}function aB(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var xx="ng-template";function cB(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&aB(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Rb(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Rb(n){return n.type===4&&n.value!==xx}function lB(n,e,t){let r=n.type===4&&!t?xx:n.value;return e===r}function uB(n,e,t){let r=4,i=n.attrs,o=i!==null?fB(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!vr(r)&&!vr(c))return!1;if(s&&vr(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!lB(n,c,t)||c===""&&e.length===1){if(vr(r))return!1;s=!0}}else if(r&8){if(i===null||!cB(n,i,c,t)){if(vr(r))return!1;s=!0}}else{let u=e[++a],d=dB(c,i,Rb(n),t);if(d===-1){if(vr(r))return!1;s=!0;continue}if(u!==""){let p;if(d>o?p="":p=i[d+1].toLowerCase(),r&2&&u!==p){if(vr(r))return!1;s=!0}}}}return vr(r)||s}function vr(n){return(n&1)===0}function dB(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return pB(e,n)}function Mx(n,e,t=!1){for(let r=0;r<e.length;r++)if(uB(n,e[r],t))return!0;return!1}function hB(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function fB(n){for(let e=0;e<n.length;e++){let t=n[e];if(GA(t))return e}return n.length}function pB(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function mB(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function VS(n,e){return n?":not("+e.trim()+")":e}function gB(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!vr(s)&&(e+=VS(o,i),i=""),r=s,o=o||!vr(r);t++}return i!==""&&(e+=VS(o,i)),e}function vB(n){return n.map(gB).join(",")}function _B(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!vr(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var bn={};function yB(n,e){return n.createText(e)}function bB(n,e,t){n.setValue(e,t)}function wB(n,e){return n.createComment(sB(e))}function Px(n,e,t){return n.createElement(e,t)}function If(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Rx(n,e,t){n.appendChild(e,t)}function jS(n,e,t,r,i){r!==null?If(n,e,t,r,i):Rx(n,e,t)}function EB(n,e,t){n.removeChild(null,e,t)}function CB(n,e,t){n.setAttribute(e,"style",t)}function IB(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Ox(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&uj(n,e,r),i!==null&&IB(n,e,i),o!==null&&CB(n,e,o)}function Ob(n,e,t,r,i,o,s,a,c,u,d){let p=Bt+r,v=p+i,_=TB(p,v),S=typeof u=="function"?u():u;return _[Ce]={type:n,blueprint:_,template:t,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:S,incompleteFirstPass:!1,ssrId:d}}function TB(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:bn);return t}function DB(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Ob(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function kb(n,e,t,r,i,o,s,a,c,u,d){let p=e.blueprint.slice();return p[Ai]=i,p[ge]=r|4|128|8|64|1024,(u!==null||n&&n[ge]&2048)&&(p[ge]|=2048),RA(p),p[ln]=p[Fa]=n,p[_n]=t,p[Ei]=s||n&&n[Ei],p[gt]=a||n&&n[gt],p[Pa]=c||n&&n[Pa]||null,p[Pn]=o,p[jf]=Lj(),p[Ol]=d,p[TA]=u,p[Jn]=e.type==2?n[Jn]:p,p}function SB(n,e,t){let r=zr(e,n),i=DB(t),o=n[Ei].rendererFactory,s=Nb(n,kb(n,i,null,kx(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function kx(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Nx(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Nb(n,e){return n[kl]?n[CS][yr]=e:n[kl]=e,n[CS]=e,e}function E(n=1){Fx(Ct(),Se(),Mi()+n,!1)}function Fx(n,e,t,r){if(!r)if((e[ge]&3)===3){let o=n.preOrderCheckHooks;o!==null&&nf(e,o,t)}else{let o=n.preOrderHooks;o!==null&&rf(e,o,0,t)}ss(t)}var Gf=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Gf||{});function Oy(n,e,t,r){let i=Me(null);try{let[o,s,a]=n.inputs[t],c=null;(s&Gf.SignalBased)!==0&&(c=e[o][Qn]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):SA(e,c,o,r)}finally{Me(i)}}function Lx(n,e,t,r,i){let o=Mi(),s=r&2;try{ss(-1),s&&e.length>Bt&&Fx(n,e,Bt,!1),Ke(s?2:0,i),t(r,i)}finally{ss(o),Ke(s?3:1,i)}}function Kf(n,e,t){OB(n,e,t),(t.flags&64)===64&&kB(n,e,t)}function Fb(n,e,t=zr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function AB(n,e,t,r){let o=r.get(Hj,yx)||t===Hr.ShadowDom,s=n.selectRootElement(e,o);return xB(s),s}function xB(n){MB(n)}var MB=()=>null;function PB(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Lb(n,e,t,r,i,o,s,a){if(!a&&jb(e,n,t,r,i)){La(e)&&RB(t,e.index);return}if(e.type&3){let c=zr(e,t);r=PB(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)}else e.type&12}function RB(n,e){let t=Ur(e,n);t[ge]&16||(t[ge]|=64)}function OB(n,e,t){let r=t.directiveStart,i=t.directiveEnd;La(t)&&SB(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||bf(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=Nl(e,n,s,t);if(Ba(c,e),o!==null&&VB(e,s-r,c,a,t,o),jr(a)){let u=Ur(t.index,e);u[_n]=Nl(e,n,s,t)}}}function kB(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=tj();try{ss(o);for(let a=r;a<i;a++){let c=n.data[a],u=e[a];by(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&NB(c,u)}}finally{ss(-1),by(s)}}function NB(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Vb(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];Mx(e,o.selectors,!1)&&(r??=[],jr(o)?r.unshift(o):r.push(o))}return r}function FB(n,e,t,r,i,o){let s=zr(n,e);LB(e[gt],s,o,n.value,t,r,i)}function LB(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?wi(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function VB(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];Oy(r,t,c,u)}}function jB(n,e){let t=n[Pa],r=t?t.get($r,null):null;r&&r.handleError(e)}function jb(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],d=s[c+1],p=e.data[u];Oy(p,t[u],d,i),a=!0}if(o)for(let c of o){let u=t[c],d=e.data[c];Oy(d,u,r,i),a=!0}return a}function BB(n,e){let t=Ur(e,n),r=t[Ce];UB(r,t);let i=t[Ai];i!==null&&t[Ol]===null&&(t[Ol]=Cx(i,t[Pa])),Ke(18),Bb(r,t,t[_n]),Ke(19,t[_n])}function UB(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Bb(n,e,t){wb(e);try{let r=n.viewQuery;r!==null&&Ry(1,r,t);let i=n.template;i!==null&&Lx(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ci]?.finishViewCreation(n),n.staticContentQueries&&Ix(n,e),n.staticViewQueries&&Ry(2,n.viewQuery,t);let o=n.components;o!==null&&$B(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ge]&=-5,Eb()}}function $B(n,e){for(let t=0;t<e.length;t++)BB(n,e[t])}function Ub(n,e,t,r){let i=Me(null);try{let o=e.tView,a=n[ge]&4096?4096:16,c=kb(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[rs]=u;let d=n[Ci];return d!==null&&(c[Ci]=d.createEmbeddedView(o)),Bb(o,c,t),c}finally{Me(i)}}function Tf(n,e){return!e||e.firstChild===null||hx(n)}var HB;function $b(n,e){return HB(n,e)}var Ii=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ii||{});function Hb(n){return(n.flags&32)===32}function Sa(n,e,t,r,i){if(r!=null){let o,s=!1;xi(r)?o=r:po(r)&&(s=!0,r=r[Ai]);let a=Br(r);n===0&&t!==null?i==null?Rx(e,t,a):If(e,t,a,i||null,!0):n===1&&t!==null?If(e,t,a,i||null,!0):n===2?EB(e,a,s):n===3&&e.destroyNode(a),o!=null&&JB(e,n,o,t,i)}}function zB(n,e){Vx(n,e),e[Ai]=null,e[Pn]=null}function qB(n,e,t,r,i,o){r[Ai]=i,r[Pn]=e,Qf(n,r,t,1,i,o)}function Vx(n,e){e[Ei].changeDetectionScheduler?.notify(9),Qf(n,e,e[gt],2,null,null)}function WB(n){let e=n[kl];if(!e)return ty(n[Ce],n);for(;e;){let t=null;if(po(e))t=e[kl];else{let r=e[Mn];r&&(t=r)}if(!t){for(;e&&!e[yr]&&e!==n;)po(e)&&ty(e[Ce],e),e=e[ln];e===null&&(e=n),po(e)&&ty(e[Ce],e),t=e&&e[yr]}e=t}}function zb(n,e){let t=n[Ra],r=t.indexOf(e);t.splice(r,1)}function qb(n,e){if(Va(e))return;let t=e[gt];t.destroyNode&&Qf(n,e,t,3,null,null),WB(e)}function ty(n,e){if(Va(e))return;let t=Me(null);try{e[ge]&=-129,e[ge]|=256,e[Xn]&&I_(e[Xn]),KB(n,e),GB(n,e),e[Ce].type===1&&e[gt].destroy();let r=e[rs];if(r!==null&&xi(e[ln])){r!==e[ln]&&zb(r,e);let i=e[Ci];i!==null&&i.detachView(n)}xy(e)}finally{Me(t)}}function GB(n,e){let t=n.cleanup,r=e[ff];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[ff]=null);let i=e[fo];if(i!==null){e[fo]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[pf];if(o!==null){e[pf]=null;for(let s of o)s.destroy()}}function KB(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof as)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Ke(4,a,c);try{c.call(a)}finally{Ke(5,a,c)}}else{Ke(4,i,o);try{o.call(i)}finally{Ke(5,i,o)}}}}}function jx(n,e,t){return YB(n,e.parent,t)}function YB(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Ai];if(La(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Hr.None||i===Hr.Emulated)return null}return zr(r,t)}function Bx(n,e,t){return ZB(n,e,t)}function QB(n,e,t){return n.type&40?zr(n,t):null}var ZB=QB,BS;function Yf(n,e,t,r){let i=jx(n,r,e),o=e[gt],s=r.parent||e[Pn],a=Bx(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)jS(o,i,t[c],a,!1);else jS(o,i,t,a,!1);BS!==void 0&&BS(o,r,e,t,i)}function xl(n,e){if(e!==null){let t=e.type;if(t&3)return zr(e,n);if(t&4)return ky(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return xl(n,r);{let i=n[e.index];return xi(i)?ky(-1,i):Br(i)}}else{if(t&128)return xl(n,e.next);if(t&32)return $b(e,n)()||Br(n[e.index]);{let r=Ux(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=os(n[Jn]);return xl(i,r)}else return xl(n,e.next)}}}return null}function Ux(n,e){if(e!==null){let r=n[Jn][Pn],i=e.projection;return r.projection[i]}return null}function ky(n,e){let t=Mn+n+1;if(t<e.length){let r=e[t],i=r[Ce].firstChild;if(i!==null)return xl(r,i)}return e[is]}function Wb(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&Ba(Br(a),r),t.flags|=2),!Hb(t))if(c&8)Wb(n,e,t.child,r,i,o,!1),Sa(e,n,i,a,o);else if(c&32){let u=$b(t,r),d;for(;d=u();)Sa(e,n,i,d,o);Sa(e,n,i,a,o)}else c&16?$x(n,e,r,t,i,o):Sa(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Qf(n,e,t,r,i,o){Wb(t,r,n.firstChild,e,i,o,!1)}function XB(n,e,t){let r=e[gt],i=jx(n,t,e),o=t.parent||e[Pn],s=Bx(o,t,e);$x(r,0,e,t,i,s)}function $x(n,e,t,r,i,o){let s=t[Jn],c=s[Pn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];Sa(e,n,i,d,o)}else{let u=c,d=s[ln];hx(r)&&(u.flags|=128),Wb(n,e,u,d,i,o,!0)}}function JB(n,e,t,r,i){let o=t[is],s=Br(t);o!==s&&Sa(e,n,r,o,i);for(let a=Mn;a<t.length;a++){let c=t[a];Qf(c[Ce],c,n,e,r,o)}}function eU(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Ii.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ii.Important),n.setStyle(t,r,i,o))}}function Df(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Br(o)),xi(o)&&tU(o,r);let s=t.type;if(s&8)Df(n,e,t.child,r);else if(s&32){let a=$b(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=Ux(e,t);if(Array.isArray(a))r.push(...a);else{let c=os(e[Jn]);Df(c[Ce],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function tU(n,e){for(let t=Mn;t<n.length;t++){let r=n[t],i=r[Ce].firstChild;i!==null&&Df(r[Ce],r,i,e)}n[is]!==n[Ai]&&e.push(n[is])}function Hx(n){if(n[Aa]!==null){for(let e of n[Aa])e.impl.addSequence(e);n[Aa].length=0}}var zx=[];function nU(n){return n[Xn]??rU(n)}function rU(n){let e=zx.pop()??Object.create(oU);return e.lView=n,e}function iU(n){n.lView[Xn]!==n&&(n.lView=null,zx.push(n))}var oU=ne(L({},bl),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Bl(n.lView)},consumerOnSignalRead(){this.lView[Xn]=this}});function sU(n){let e=n[Xn]??Object.create(aU);return e.lView=n,e}var aU=ne(L({},bl),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=os(n.lView);for(;e&&!qx(e[Ce]);)e=os(e);e&&OA(e)},consumerOnSignalRead(){this.lView[Xn]=this}});function qx(n){return n.type!==2}function Wx(n){if(n[pf]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[pf])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ge]&8192)}}var cU=100;function Gx(n,e=!0,t=0){let i=n[Ei].rendererFactory,o=!1;o||i.begin?.();try{lU(n,t)}catch(s){throw e&&jB(n,s),s}finally{o||i.end?.()}}function lU(n,e){let t=LA();try{TS(!0),Ny(n,e);let r=0;for(;Uf(n);){if(r===cU)throw new K(103,!1);r++,Ny(n,1)}}finally{TS(t)}}function uU(n,e,t,r){if(Va(e))return;let i=e[ge],o=!1,s=!1;wb(e);let a=!0,c=null,u=null;o||(qx(n)?(u=nU(e),c=yh(u)):__()===null?(a=!1,u=sU(e),c=yh(u)):e[Xn]&&(I_(e[Xn]),e[Xn]=null));try{RA(e),X2(n.bindingStartIndex),t!==null&&Lx(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let _=n.preOrderCheckHooks;_!==null&&nf(e,_,null)}else{let _=n.preOrderHooks;_!==null&&rf(e,_,0,null),J_(e,0)}if(s||dU(e),Wx(e),Kx(e,0),n.contentQueries!==null&&Ix(n,e),!o)if(d){let _=n.contentCheckHooks;_!==null&&nf(e,_)}else{let _=n.contentHooks;_!==null&&rf(e,_,1),J_(e,1)}fU(n,e);let p=n.components;p!==null&&Qx(e,p,0);let v=n.viewQuery;if(v!==null&&Ry(2,v,r),!o)if(d){let _=n.viewCheckHooks;_!==null&&nf(e,_)}else{let _=n.viewHooks;_!==null&&rf(e,_,2),J_(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[X_]){for(let _ of e[X_])_();e[X_]=null}o||(Hx(e),e[ge]&=-73)}catch(d){throw o||Bl(e),d}finally{u!==null&&(E_(u,c),a&&iU(u)),Eb()}}function Kx(n,e){for(let t=mx(n);t!==null;t=gx(t))for(let r=Mn;r<t.length;r++){let i=t[r];Yx(i,e)}}function dU(n){for(let e=mx(n);e!==null;e=gx(e)){if(!(e[ge]&2))continue;let t=e[Ra];for(let r=0;r<t.length;r++){let i=t[r];OA(i)}}}function hU(n,e,t){Ke(18);let r=Ur(e,n);Yx(r,t),Ke(19,r[_n])}function Yx(n,e){fb(n)&&Ny(n,e)}function Ny(n,e){let r=n[Ce],i=n[ge],o=n[Xn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&C_(o)),s||=!1,o&&(o.dirty=!1),n[ge]&=-9217,s)uU(r,n,r.template,n[_n]);else if(i&8192){Wx(n),Kx(n,1);let a=r.components;a!==null&&Qx(n,a,1),Hx(n)}}function Qx(n,e,t){for(let r=0;r<e.length;r++)hU(n,e[r],t)}function fU(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)ss(~i);else{let o=i,s=t[++r],a=t[++r];ej(s,o);let c=e[o];Ke(24,c),a(2,c),Ke(25,c)}}}finally{ss(-1)}}function Gb(n,e){let t=LA()?64:1088;for(n[Ei].changeDetectionScheduler?.notify(e);n;){n[ge]|=t;let r=os(n);if(gf(n)&&!r)return n;n=r}return null}function Zx(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function pU(n,e){let t=Mn+e;if(t<n.length)return n[t]}function Kb(n,e,t,r=!0){let i=e[Ce];if(gU(i,e,n,t),r){let s=ky(t,n),a=e[gt],c=a.parentNode(n[is]);c!==null&&qB(i,n[Pn],a,e,c,s)}let o=e[Ol];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function mU(n,e){let t=Sf(n,e);return t!==void 0&&qb(t[Ce],t),t}function Sf(n,e){if(n.length<=Mn)return;let t=Mn+e,r=n[t];if(r){let i=r[rs];i!==null&&i!==n&&zb(i,r),e>0&&(n[t-1][yr]=r[yr]);let o=df(n,Mn+e);zB(r[Ce],r);let s=o[Ci];s!==null&&s.detachView(o[Ce]),r[ln]=null,r[yr]=null,r[ge]&=-129}return r}function gU(n,e,t,r){let i=Mn+r,o=t.length;r>0&&(t[i-1][yr]=e),r<o-Mn?(e[yr]=t[i],gA(t,Mn+r,e)):(t.push(e),e[yr]=null),e[ln]=t;let s=e[rs];s!==null&&t!==s&&Xx(s,e);let a=e[Ci];a!==null&&a.insertView(n),_y(e),e[ge]|=128}function Xx(n,e){let t=n[Ra],r=e[ln];if(po(r))n[ge]|=2;else{let i=r[ln][Jn];e[Jn]!==i&&(n[ge]|=2)}t===null?n[Ra]=[e]:t.push(e)}var Fl=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[Ce];return Df(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[_n]}set context(e){this._lView[_n]=e}get destroyed(){return Va(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ln];if(xi(e)){let t=e[mf],r=t?t.indexOf(this):-1;r>-1&&(Sf(e,r),df(t,r))}this._attachedToViewContainer=!1}qb(this._lView[Ce],this._lView)}onDestroy(e){kA(this._lView,e)}markForCheck(){Gb(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ge]&=-129}reattach(){_y(this._lView),this._lView[ge]|=128}detectChanges(){this._lView[ge]|=1024,Gx(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=gf(this._lView),t=this._lView[rs];t!==null&&!e&&zb(t,this._lView),Vx(this._lView[Ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=e;let t=gf(this._lView),r=this._lView[rs];r!==null&&!t&&Xx(r,this._lView),_y(this._lView)}};var er=(()=>{class n{static __NG_ELEMENT_ID__=yU}return n})(),vU=er,_U=class extends vU{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Ub(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Fl(i)}};function yU(){return Zf(yn(),Se())}function Zf(n,e){return n.type&4?new _U(e,n,ja(n,e)):null}function Wl(n,e,t,r,i){let o=n.data[e];if(o===null)o=bU(n,e,t,r,i),J2()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=Q2();o.injectorIndex=s===null?-1:s.injectorIndex}return hs(o,!0),o}function bU(n,e,t,r,i){let o=FA(),s=vb(),a=s?o:o&&o.parent,c=n.data[e]=EU(n,a,t,e,r,i);return wU(n,c,o,s),c}function wU(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function EU(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return NA()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Qne=new RegExp(`^(\\d+)*(${$j}|${Uj})*(.*)`);var CU=()=>null;function Af(n,e){return CU(n,e)}var IU=class{},Jx=class{},Fy=class{resolveComponentFactory(e){throw Error(`No component factory found for ${xn(e)}.`)}},Xf=class{static NULL=new Fy},Xt=class{},Er=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>TU()}return n})();function TU(){let n=Se(),e=yn(),t=Ur(e.index,n);return(po(t)?t:n)[gt]}var DU=(()=>{class n{static \u0275prov=V({token:n,providedIn:"root",factory:()=>null})}return n})();var ny={},Ly=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Nf(r);let i=this.injector.get(e,ny,r);return i!==ny||t===ny?i:this.parentInjector.get(e,t,r)}};function Vy(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=uy(i,a);else if(o==2){let c=a,u=e[++s];r=uy(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function j(n,e=Ee.Default){let t=Se();if(t===null)return Y(n,e);let r=yn();return ex(r,t,vn(n),e)}function eM(){let n="invalid";throw new Error(n)}function Yb(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,c=null,u=null,d=AU(s);d===null?a=s:[a,c,u]=d,PU(n,e,t,a,o,c,u)}o!==null&&r!==null&&SU(t,r,o)}function SU(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new K(-301,!1);r.push(e[i],o)}}function AU(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&jr(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,xU(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function xU(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function MU(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function PU(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let v=0;v<a;v++){let _=r[v];!c&&jr(_)&&(c=!0,MU(n,t,v)),Ey(bf(t,e),n,_.type)}LU(t,n.data.length,a);for(let v=0;v<a;v++){let _=r[v];_.providersResolver&&_.providersResolver(_)}let u=!1,d=!1,p=Nx(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let v=0;v<a;v++){let _=r[v];if(t.mergedAttrs=ka(t.mergedAttrs,_.hostAttrs),OU(n,t,e,p,_),FU(p,_,i),s!==null&&s.has(_)){let[R,k]=s.get(_);t.directiveToIndex.set(_.type,[p,R+t.directiveStart,k+t.directiveStart])}else(o===null||!o.has(_))&&t.directiveToIndex.set(_.type,p);_.contentQueries!==null&&(t.flags|=4),(_.hostBindings!==null||_.hostAttrs!==null||_.hostVars!==0)&&(t.flags|=64);let S=_.type.prototype;!u&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!d&&(S.ngOnChanges||S.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),p++}RU(n,t,o)}function RU(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))US(0,e,i,r),US(1,e,i,r),HS(e,r,!1);else{let o=t.get(i);$S(0,e,o,r),$S(1,e,o,r),HS(e,r,!0)}}}function US(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),tM(e,o)}}function $S(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),tM(e,s)}}function tM(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function HS(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Rb(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let u=i[c];for(let d of u)if(d===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let u=o[c];for(let d=0;d<u.length;d+=2)if(u[d]===e){s??=[],s.push(u[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function OU(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=ts(i.type,!0)),s=new as(o,jr(i),j);n.blueprint[r]=s,t[r]=s,kU(n,e,r,Nx(n,t,i.hostVars,bn),i)}function kU(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;NU(s)!=a&&s.push(a),s.push(t,r,o)}}function NU(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function FU(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;jr(e)&&(t[""]=n)}}function LU(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function nM(n,e,t,r,i,o,s,a){let c=e.consts,u=Oa(c,s),d=Wl(e,n,2,r,u);return o&&Yb(e,t,d,Oa(c,a),i),d.mergedAttrs=ka(d.mergedAttrs,d.attrs),d.attrs!==null&&Vy(d,d.attrs,!1),d.mergedAttrs!==null&&Vy(d,d.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,d),d}function rM(n,e){Cb(n,e),ub(e)&&n.queries.elementEnd(e)}var xf=class extends Xf{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=mo(e);return new ls(t,this.ngModule)}};function VU(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Gf.SignalBased)!==0};return i&&(o.transform=i),o})}function jU(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function BU(n,e,t){let r=e instanceof dt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Ly(t,r):t}function UU(n){let e=n.get(Xt,null);if(e===null)throw new K(407,!1);let t=n.get(DU,null),r=n.get(cs,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function $U(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return Px(e,t,t==="svg"?L2:t==="math"?V2:null)}var ls=class extends Jx{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=VU(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=jU(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=vB(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Ke(22);let o=Me(null);try{let s=this.componentDef,a=r?["ng-version","19.2.13"]:_B(this.componentDef.selectors[0]),c=Ob(0,null,null,1,0,null,null,null,null,[a],null),u=BU(s,i||this.ngModule,e),d=UU(u),p=d.rendererFactory.createRenderer(null,s),v=r?AB(p,r,s.encapsulation,u):$U(s,p),_=kb(null,c,null,512|kx(s),null,null,d,p,u,null,Cx(v,u,!0));_[Bt]=v,wb(_);let S=null;try{let R=nM(Bt,c,_,"#host",()=>[this.componentDef],!0,0);v&&(Ox(p,v,R),Ba(v,_)),Kf(c,_,R),Mb(c,R,_),rM(c,R),t!==void 0&&HU(R,this.ngContentSelectors,t),S=Ur(R.index,_),_[_n]=S[_n],Bb(c,_,null)}catch(R){throw S!==null&&xy(S),xy(_),R}finally{Ke(23),Eb()}return new jy(this.componentType,_)}finally{Me(o)}}},jy=class extends IU{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=db(t[Ce],Bt),this.location=ja(this._tNode,t),this.instance=Ur(this._tNode.index,t)[_n],this.hostView=this.changeDetectorRef=new Fl(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=jb(r,i[Ce],i,e,t);this.previousInputValues.set(e,t);let s=Ur(r.index,i);Gb(s,1)}get injector(){return new es(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function HU(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var tr=(()=>{class n{static __NG_ELEMENT_ID__=zU}return n})();function zU(){let n=yn();return oM(n,Se())}var qU=tr,iM=class extends qU{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ja(this._hostTNode,this._hostLView)}get injector(){return new es(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ib(this._hostTNode,this._hostLView);if(KA(e)){let t=_f(e,this._hostLView),r=vf(e),i=t[Ce].data[r+8];return new es(i,t)}else return new es(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=zS(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Mn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Af(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Tf(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!O2(e),a;if(s)a=t;else{let S=t||{};a=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let c=s?e:new ls(mo(e)),u=r||this.parentInjector;if(!o&&c.ngModule==null){let R=(s?u:this.parentInjector).get(dt,null);R&&(o=R)}let d=mo(c.componentType??{}),p=Af(this._lContainer,d?.id??null),v=p?.firstChild??null,_=c.create(u,i,v,o);return this.insertImpl(_.hostView,a,Tf(this._hostTNode,p)),_}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(U2(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[ln],u=new iM(c,c[Pn],c[ln]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Kb(s,i,o,r),e.attachToViewContainerRef(),gA(ry(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=zS(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Sf(this._lContainer,t);r&&(df(ry(this._lContainer),t),qb(r[Ce],r))}detach(e){let t=this._adjustIndex(e,-1),r=Sf(this._lContainer,t);return r&&df(ry(this._lContainer),t)!=null?new Fl(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function zS(n){return n[mf]}function ry(n){return n[mf]||(n[mf]=[])}function oM(n,e){let t,r=e[n.index];return xi(r)?t=r:(t=Zx(r,e,null,n),e[n.index]=t,Nb(e,t)),GU(t,e,n,r),new iM(t,n,e)}function WU(n,e){let t=n[gt],r=t.createComment(""),i=zr(e,n),o=t.parentNode(i);return If(t,o,r,t.nextSibling(i),!1),r}var GU=QU,KU=()=>!1;function YU(n,e,t){return KU(n,e,t)}function QU(n,e,t,r){if(n[is])return;let i;t.type&8?i=Br(r):i=WU(e,t),n[is]=i}var By=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Uy=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Qb(e,t).matches!==null&&this.queries[t].setDirty()}},$y=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=i3(e):this.predicate=e}},Hy=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},zy=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,ZU(t,o)),this.matchTNodeWithReadOption(e,t,of(t,e,o,!1,!1))}else r===er?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,of(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===et||i===tr||i===er&&t.type&4)this.addMatch(t.index,-2);else{let o=of(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function ZU(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function XU(n,e){return n.type&11?ja(n,e):n.type&4?Zf(n,e):null}function JU(n,e,t,r){return t===-1?XU(e,n):t===-2?e3(n,e,r):Nl(n,n[Ce],t,e)}function e3(n,e,t){if(t===et)return ja(e,n);if(t===er)return Zf(e,n);if(t===tr)return oM(e,n)}function sM(n,e,t,r){let i=e[Ci].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let d=o[u];a.push(JU(e,d,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function qy(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=sM(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],d=e[-c];for(let p=Mn;p<d.length;p++){let v=d[p];v[rs]===v[ln]&&qy(v[Ce],v,u,r)}if(d[Ra]!==null){let p=d[Ra];for(let v=0;v<p.length;v++){let _=p[v];qy(_[Ce],_,u,r)}}}}}return r}function t3(n,e){return n[Ci].queries[e].queryList}function n3(n,e,t){let r=new Ay((t&4)===4);return z2(n,e,r,r.destroy),(e[Ci]??=new Uy).queries.push(new By(r))-1}function r3(n,e,t){let r=Ct();return r.firstCreatePass&&(o3(r,new $y(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),n3(r,Se(),e)}function i3(n){return n.split(",").map(e=>e.trim())}function o3(n,e,t){n.queries===null&&(n.queries=new Hy),n.queries.track(new zy(e,t))}function Qb(n,e){return n.queries.getByIndex(e)}function s3(n,e){let t=n[Ce],r=Qb(t,e);return r.crossesNgTemplate?qy(t,n,e,[]):sM(t,n,r,e)}var Ti=class{},Zb=class{};var Wy=class extends Ti{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new xf(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=yA(e);this._bootstrapComponents=Ax(o.bootstrap),this._r3Injector=rx(e,t,[{provide:Ti,useValue:this},{provide:Xf,useValue:this.componentFactoryResolver},...r],xn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Gy=class extends Zb{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Wy(this.moduleType,e,[])}};var Mf=class extends Ti{injector;componentFactoryResolver=new xf(this);instance=null;constructor(e){super();let t=new Rl([...e.providers,{provide:Ti,useValue:this},{provide:Xf,useValue:this.componentFactoryResolver}],e.parent||Lf(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Gl(n,e,t=null){return new Mf({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var a3=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=bA(!1,t.type),i=r.length>0?Gl([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=V({token:n,providedIn:"environment",factory:()=>new n(Y(dt))})}return n})();function Re(n){return Vl(()=>{let e=aM(n),t=ne(L({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===fx.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(a3).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Hr.Emulated,styles:n.styles||An,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&ms("NgStandalone"),cM(t);let r=n.dependencies;return t.directiveDefs=qS(r,!1),t.pipeDefs=qS(r,!0),t.id=h3(t),t})}function c3(n){return mo(n)||w2(n)}function l3(n){return n!==null}function en(n){return Vl(()=>({type:n.type,bootstrap:n.bootstrap||An,declarations:n.declarations||An,imports:n.imports||An,exports:n.exports||An,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function u3(n,e){if(n==null)return ns;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Gf.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function d3(n){if(n==null)return ns;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function he(n){return Vl(()=>{let e=aM(n);return cM(e),e})}function vs(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function aM(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||ns,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||An,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:u3(n.inputs,e),outputs:d3(n.outputs),debugInfo:null}}function cM(n){n.features?.forEach(e=>e(n))}function qS(n,e){if(!n)return null;let t=e?E2:c3;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(l3)}function h3(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function f3(n){return Object.getPrototypeOf(n.prototype).constructor}function qe(n){let e=f3(n.type),t=!0,r=[n];for(;e;){let i;if(jr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new K(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=iy(n.inputs),s.declaredInputs=iy(n.declaredInputs),s.outputs=iy(n.outputs);let a=i.hostBindings;a&&_3(n,a);let c=i.viewQuery,u=i.contentQueries;if(c&&g3(n,c),u&&v3(n,u),p3(n,i),XV(n.outputs,i.outputs),jr(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===qe&&(t=!1)}}e=Object.getPrototypeOf(e)}m3(r)}function p3(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function m3(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ka(i.hostAttrs,t=ka(t,i.hostAttrs))}}function iy(n){return n===ns?{}:n===An?[]:n}function g3(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function v3(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function _3(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function lM(n){return b3(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function y3(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function b3(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function uM(n,e,t){return n[e]=t}function br(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Xb(n,e,t,r){let i=br(n,e,t);return br(n,e+1,r)||i}function w3(n,e,t,r,i){let o=Xb(n,e,t,r);return br(n,e+2,i)||o}function E3(n,e,t,r,i,o,s,a,c){let u=e.consts,d=Wl(e,n,4,s||null,a||null);gb()&&Yb(e,t,d,Oa(u,c),Vb),d.mergedAttrs=ka(d.mergedAttrs,d.attrs),Cb(e,d);let p=d.tView=Ob(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),p.queries=e.queries.embeddedTView(d)),d}function dM(n,e,t,r,i,o,s,a,c,u){let d=t+Bt,p=e.firstCreatePass?E3(d,e,n,r,i,o,s,a,c):e.data[d];hs(p,!1);let v=C3(e,n,p,t);zf()&&Yf(e,n,v,p),Ba(v,n);let _=Zx(v,n,v,p);return n[d]=_,Nb(n,_),YU(_,p,n),Bf(p)&&Kf(e,n,p),c!=null&&Fb(n,p,u),p}function W(n,e,t,r,i,o,s,a){let c=Se(),u=Ct(),d=Oa(u.consts,o);return dM(c,u,n,e,t,r,i,d,s,a),W}var C3=I3;function I3(n,e,t,r){return qf(!0),e[gt].createComment("")}var hM=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var fM=new H("");var T3=(()=>{class n{static \u0275prov=V({token:n,providedIn:"root",factory:()=>new Ky})}return n})(),Ky=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function vo(n){return!!n&&typeof n.then=="function"}function Jb(n){return!!n&&typeof n.subscribe=="function"}var pM=new H("");function e0(n){return Si([{provide:pM,multi:!0,useValue:n}])}var mM=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=I(pM,{optional:!0})??[];injector=I(Le);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Ut(this.injector,i);if(vo(o))t.push(o);else if(Jb(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jf=new H("");function D3(){D_(()=>{throw new K(600,!1)})}function S3(n){return n.isBoundToModule}var A3=10;var wr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=I(xj);afterRenderManager=I(wx);zonelessEnabled=I(ox);rootEffectScheduler=I(T3);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new fe;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=I(Pi).hasPendingTasks.pipe(de(t=>!t));constructor(){I(Ua,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=I(dt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Le.NULL){Ke(10);let o=t instanceof Jx;if(!this._injector.get(mM).done){let _="";throw new K(405,_)}let a;o?a=t:a=this._injector.get(Xf).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let c=S3(a)?void 0:this._injector.get(Ti),u=r||a.selector,d=a.create(i,[],u,c),p=d.location.nativeElement,v=d.injector.get(fM,null);return v?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),sf(this.components,d),v?.unregisterApplication(p)}),this._loadComponent(d),Ke(11,d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ke(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(xb.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new K(101,!1);let t=Me(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Me(t),this.afterTick.next(),Ke(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Xt,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<A3;)Ke(14),this.synchronizeOnce(),Ke(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)x3(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Uf(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;sf(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Jf,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>sf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new K(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sf(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function x3(n,e,t,r){if(!t&&!Uf(n))return;Gx(n,e,t&&!r?0:1)}function $n(n,e,t,r){let i=Se(),o=Ul();if(br(i,o,e)){let s=Ct(),a=Hf();FB(a,i,n,e,t,r)}return $n}function gM(n,e,t,r){return br(n,Ul(),t)?e+wi(t)+r:bn}function M3(n,e,t,r,i,o){let s=VA(),a=Xb(n,s,t,i);return $f(2),a?e+wi(t)+r+wi(i)+o:bn}function P3(n,e,t,r,i,o,s,a){let c=VA(),u=w3(n,c,t,i,s);return $f(3),u?e+wi(t)+r+wi(i)+o+wi(s)+a:bn}function ef(n,e){return n<<17|e<<2}function us(n){return n>>17&32767}function R3(n){return(n&2)==2}function O3(n,e){return n&131071|e<<17}function Yy(n){return n|2}function Na(n){return(n&131068)>>2}function oy(n,e){return n&-131069|e<<2}function k3(n){return(n&1)===1}function Qy(n){return n|1}function N3(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=us(s),c=Na(s);n[r]=t;let u=!1,d;if(Array.isArray(t)){let p=t;d=p[1],(d===null||jl(p,d)>0)&&(u=!0)}else d=t;if(i)if(c!==0){let v=us(n[a+1]);n[r+1]=ef(v,a),v!==0&&(n[v+1]=oy(n[v+1],r)),n[a+1]=O3(n[a+1],r)}else n[r+1]=ef(a,0),a!==0&&(n[a+1]=oy(n[a+1],r)),a=r;else n[r+1]=ef(c,0),a===0?a=r:n[c+1]=oy(n[c+1],r),c=r;u&&(n[r+1]=Yy(n[r+1])),WS(n,d,r,!0),WS(n,d,r,!1),F3(e,d,n,r,o),s=ef(a,c),o?e.classBindings=s:e.styleBindings=s}function F3(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&jl(o,e)>=0&&(t[r+1]=Qy(t[r+1]))}function WS(n,e,t,r){let i=n[t+1],o=e===null,s=r?us(i):Na(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],u=n[s+1];L3(c,e)&&(a=!0,n[s+1]=r?Qy(u):Yy(u)),s=r?us(u):Na(u)}a&&(n[t+1]=r?Yy(i):Qy(i))}function L3(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?jl(n,e)>=0:!1}var _r={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function V3(n){return n.substring(_r.key,_r.keyEnd)}function j3(n){return B3(n),vM(n,_M(n,0,_r.textEnd))}function vM(n,e){let t=_r.textEnd;return t===e?-1:(e=_r.keyEnd=U3(n,_r.key=e,t),_M(n,e,t))}function B3(n){_r.key=0,_r.keyEnd=0,_r.value=0,_r.valueEnd=0,_r.textEnd=n.length}function _M(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function U3(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function F(n,e,t){let r=Se(),i=Ul();if(br(r,i,e)){let o=Ct(),s=Hf();Lb(o,s,r,n,e,r[gt],t,!1)}return F}function Zy(n,e,t,r,i){jb(e,n,t,i?"class":"style",r)}function Oi(n,e,t){return yM(n,e,t,!1),Oi}function Ye(n,e){return yM(n,e,null,!0),Ye}function t0(n){H3(Y3,$3,n,!0)}function $3(n,e){for(let t=j3(e);t>=0;t=vM(e,t))cb(n,V3(e),!0)}function yM(n,e,t,r){let i=Se(),o=Ct(),s=$f(2);if(o.firstUpdatePass&&wM(o,n,s,r),e!==bn&&br(i,s,e)){let a=o.data[Mi()];EM(o,a,i,i[gt],n,i[s+1]=Z3(e,t),r,s)}}function H3(n,e,t,r){let i=Ct(),o=$f(2);i.firstUpdatePass&&wM(i,null,o,r);let s=Se();if(t!==bn&&br(s,o,t)){let a=i.data[Mi()];if(CM(a,r)&&!bM(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=uy(c,t||"")),Zy(i,a,s,t,r)}else Q3(i,a,s,s[gt],s[o+1],s[o+1]=K3(n,e,t),r,o)}}function bM(n,e){return e>=n.expandoStartIndex}function wM(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Mi()],s=bM(n,t);CM(o,r)&&e===null&&!s&&(e=!1),e=z3(i,o,e,r),N3(i,o,e,t,s,r)}}function z3(n,e,t,r){let i=nj(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=sy(null,n,e,t,r),t=Ll(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=sy(i,n,e,t,r),o===null){let c=q3(n,e,r);c!==void 0&&Array.isArray(c)&&(c=sy(null,n,e,c[1],r),c=Ll(c,e.attrs,r),W3(n,e,r,c))}else o=G3(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function q3(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Na(r)!==0)return n[us(r)]}function W3(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[us(i)]=r}function G3(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ll(r,s,t)}return Ll(r,e.attrs,t)}function sy(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Ll(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Ll(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),cb(n,s,t?!0:e[++o]))}return n===void 0?null:n}function K3(n,e,t){if(t==null||t==="")return An;let r=[],i=ql(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function Y3(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&cb(n,r,t)}function Q3(n,e,t,r,i,o,s,a){i===bn&&(i=An);let c=0,u=0,d=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;d!==null||p!==null;){let v=c<i.length?i[c+1]:void 0,_=u<o.length?o[u+1]:void 0,S=null,R;d===p?(c+=2,u+=2,v!==_&&(S=p,R=_)):p===null||d!==null&&d<p?(c+=2,S=d):(u+=2,S=p,R=_),S!==null&&EM(n,e,t,r,S,R,s,a),d=c<i.length?i[c]:null,p=u<o.length?o[u]:null}}function EM(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],d=k3(u)?GS(c,e,t,i,Na(u),s):void 0;if(!Pf(d)){Pf(o)||R3(u)&&(o=GS(c,null,t,i,a,s));let p=PA(Mi(),t);eU(r,s,p,i,o)}}function GS(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],u=Array.isArray(c),d=u?c[1]:c,p=d===null,v=t[i+1];v===bn&&(v=p?An:void 0);let _=p?Q_(v,r):d===r?v:void 0;if(u&&!Pf(_)&&(_=Q_(c,r)),Pf(_)&&(a=_,s))return a;let S=n[i+1];i=s?us(S):Na(S)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Q_(c,r))}return a}function Pf(n){return n!==void 0}function Z3(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=xn(ql(n)))),n}function CM(n,e){return(n.flags&(e?8:16))!==0}function IM(n,e){ms("NgControlFlow");let t=Se(),r=Ul(),i=t[r]!==bn?t[r]:-1,o=i!==-1?KS(t,Bt+i):void 0,s=0;if(br(t,r,n)){let a=Me(null);try{if(o!==void 0&&mU(o,s),n!==-1){let c=Bt+n,u=KS(t,c),d=X3(t[Ce],c),p=Af(u,d.tView.ssrId),v=Ub(t,d,e,{dehydratedView:p});Kb(u,v,s,Tf(d,p))}}finally{Me(a)}}else if(o!==void 0){let a=pU(o,s);a!==void 0&&(a[_n]=e)}}function KS(n,e){return n[e]}function X3(n,e){return db(n,e)}function g(n,e,t,r){let i=Se(),o=Ct(),s=Bt+n,a=i[gt],c=o.firstCreatePass?nM(s,o,i,e,Vb,gb(),t,r):o.data[s],u=J3(o,i,c,a,e,n);i[s]=u;let d=Bf(c);return hs(c,!0),Ox(a,u,c),!Hb(c)&&zf()&&Yf(o,i,u,c),(q2()===0||d)&&Ba(u,i),W2(),d&&(Kf(o,i,c),Mb(o,c,i)),r!==null&&Fb(i,c),g}function m(){let n=yn();vb()?_b():(n=n.parent,hs(n,!1));let e=n;K2(e)&&Y2(),G2();let t=Ct();return t.firstCreatePass&&rM(t,e),e.classesWithoutHost!=null&&cj(e)&&Zy(t,e,Se(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&lj(e)&&Zy(t,e,Se(),e.stylesWithoutHost,!1),m}function oe(n,e,t,r){return g(n,e,t,r),m(),oe}var J3=(n,e,t,r,i,o)=>(qf(!0),Px(r,i,oj()));function e4(n,e,t,r,i){let o=e.consts,s=Oa(o,r),a=Wl(e,n,8,"ng-container",s);s!==null&&Vy(a,s,!0);let c=Oa(o,i);return gb()&&Yb(e,t,a,c,Vb),a.mergedAttrs=ka(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function n0(n,e,t){let r=Se(),i=Ct(),o=n+Bt,s=i.firstCreatePass?e4(o,i,r,e,t):i.data[o];hs(s,!0);let a=t4(i,r,s,n);return r[o]=a,zf()&&Yf(i,r,a,s),Ba(a,r),Bf(s)&&(Kf(i,r,s),Mb(i,s,r)),t!=null&&Fb(r,s),n0}function r0(){let n=yn(),e=Ct();return vb()?_b():(n=n.parent,hs(n,!1)),e.firstCreatePass&&(Cb(e,n),ub(n)&&e.queries.elementEnd(n)),r0}var t4=(n,e,t,r)=>(qf(!0),wB(e[gt],""));function Pe(){return Se()}var Zo=void 0;function n4(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var r4=["en",[["a","p"],["AM","PM"],Zo],[["AM","PM"],Zo,Zo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zo,"{1} 'at' {0}",Zo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",n4],ay={};function Hn(n){let e=i4(n),t=YS(e);if(t)return t;let r=e.split("-")[0];if(t=YS(r),t)return t;if(r==="en")return r4;throw new K(701,!1)}function YS(n){return n in ay||(ay[n]=Xo.ng&&Xo.ng.common&&Xo.ng.common.locales&&Xo.ng.common.locales[n]),ay[n]}var bt=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(bt||{});function i4(n){return n.toLowerCase().replace(/_/g,"-")}var Rf="en-US";var o4=Rf;function s4(n){typeof n=="string"&&(o4=n.toLowerCase().replace(/_/g,"-"))}function QS(n,e,t){return function r(i){if(i===Function)return t;let o=La(n)?Ur(n.index,e):e;Gb(o,5);let s=e[_n],a=ZS(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=ZS(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function ZS(n,e,t,r){let i=Me(null);try{return Ke(6,e,t),t(r)!==!1}catch(o){return a4(n,o),!1}finally{Ke(7,e,t),Me(i)}}function a4(n,e){let t=n[Pa],r=t?t.get($r,null):null;r&&r.handleError(e)}function XS(n,e,t,r,i,o){let s=e[t],a=e[Ce],u=a.data[t].outputs[r],d=s[u],p=a.firstCreatePass?mb(a):null,v=pb(e),_=d.subscribe(o),S=v.length;v.push(o,_),p&&p.push(i,n.index,S,-(S+1))}function z(n,e,t,r){let i=Se(),o=Ct(),s=yn();return TM(o,i,i[gt],s,n,e,r),z}function c4(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[ff],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function TM(n,e,t,r,i,o,s){let a=Bf(r),u=n.firstCreatePass?mb(n):null,d=pb(e),p=!0;if(r.type&3||s){let v=zr(r,e),_=s?s(v):v,S=d.length,R=s?G=>s(Br(G[r.index])):r.index,k=null;if(!s&&a&&(k=c4(n,e,i,r.index)),k!==null){let G=k.__ngLastListenerFn__||k;G.__ngNextListenerFn__=o,k.__ngLastListenerFn__=o,p=!1}else{o=QS(r,e,o),Yj(e,_,i,o);let G=t.listen(_,i,o);d.push(o,G),u&&u.push(i,R,S,S+1)}}else o=QS(r,e,o);if(p){let v=r.outputs?.[i],_=r.hostDirectiveOutputs?.[i];if(_&&_.length)for(let S=0;S<_.length;S+=2){let R=_[S],k=_[S+1];XS(r,e,R,k,i,o)}if(v&&v.length)for(let S of v)XS(r,e,S,i,i,o)}}function B(n=1){return ij(n)}function l4(n,e){let t=null,r=hB(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?Mx(n,o,!0):mB(r,o))return i}return t}function ep(n){let e=Se()[Jn][Pn];if(!e.projection){let t=n?n.length:1,r=e.projection=_2(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?l4(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function $a(n,e=0,t,r,i,o){let s=Se(),a=Ct(),c=r?n+1:null;c!==null&&dM(s,a,c,r,i,o,null,t);let u=Wl(a,Bt+n,16,null,t||null);u.projection===null&&(u.projection=e),_b();let p=!s[Ol]||NA();s[Jn][Pn].projection[u.projection]===null&&c!==null?u4(s,a,c):p&&!Hb(u)&&XB(a,s,u)}function u4(n,e,t){let r=Bt+t,i=e.data[r],o=n[r],s=Af(o,i.tView.ssrId),a=Ub(n,i,void 0,{dehydratedView:s});Kb(o,a,0,Tf(i,s))}function i0(n,e,t,r,i){let o=Se(),s=gM(o,e,t,r);if(s!==bn){let a=Ct(),c=Hf();Lb(a,c,o,n,s,o[gt],i,!1)}return i0}function tp(n,e,t){r3(n,e,t)}function Kl(n){let e=Se(),t=Ct(),r=jA();bb(r+1);let i=Qb(t,r);if(n.dirty&&B2(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=s3(e,r);n.reset(o,Rj),n.notifyOnChanges()}return!0}return!1}function Yl(){return t3(Se(),jA())}function Ha(n){let e=Z2();return hb(e,Bt+n)}function b(n,e=""){let t=Se(),r=Ct(),i=n+Bt,o=r.firstCreatePass?Wl(r,i,1,e,null):r.data[i],s=d4(r,t,o,e,n);t[i]=s,zf()&&Yf(r,t,s,o),hs(o,!1)}var d4=(n,e,t,r,i)=>(qf(!0),yB(e[gt],r));function re(n){return ie("",n,""),re}function ie(n,e,t){let r=Se(),i=gM(r,n,e,t);return i!==bn&&s0(r,Mi(),i),ie}function _s(n,e,t,r,i){let o=Se(),s=M3(o,n,e,t,r,i);return s!==bn&&s0(o,Mi(),s),_s}function o0(n,e,t,r,i,o,s){let a=Se(),c=P3(a,n,e,t,r,i,o,s);return c!==bn&&s0(a,Mi(),c),o0}function s0(n,e,t){let r=PA(e,n);bB(n[gt],r,t)}function tt(n,e,t){dx(e)&&(e=e());let r=Se(),i=Ul();if(br(r,i,e)){let o=Ct(),s=Hf();Lb(o,s,r,n,e,r[gt],t,!1)}return tt}function ot(n,e){let t=dx(n);return t&&n.set(e),t}function nt(n,e){let t=Se(),r=Ct(),i=yn();return TM(r,t,t[gt],i,n,e),nt}function h4(n,e,t){let r=Ct();if(r.firstCreatePass){let i=jr(n);Xy(t,r.data,r.blueprint,i,!0),Xy(e,r.data,r.blueprint,i,!1)}}function Xy(n,e,t,r,i){if(n=vn(n),Array.isArray(n))for(let o=0;o<n.length;o++)Xy(n[o],e,t,r,i);else{let o=Ct(),s=Se(),a=yn(),c=Ma(n)?n:vn(n.provide),u=CA(n),d=a.providerIndexes&1048575,p=a.directiveStart,v=a.providerIndexes>>20;if(Ma(n)||!n.multi){let _=new as(u,i,j),S=ly(c,e,i?d:d+v,p);S===-1?(Ey(bf(a,s),o,c),cy(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(_),s.push(_)):(t[S]=_,s[S]=_)}else{let _=ly(c,e,d+v,p),S=ly(c,e,d,d+v),R=_>=0&&t[_],k=S>=0&&t[S];if(i&&!k||!i&&!R){Ey(bf(a,s),o,c);let G=m4(i?p4:f4,t.length,i,r,u);!i&&k&&(t[S].providerFactory=G),cy(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(G),s.push(G)}else{let G=DM(t[i?S:_],u,!i&&r);cy(o,n,_>-1?_:S,G)}!i&&r&&k&&t[S].componentProviders++}}}function cy(n,e,t,r){let i=Ma(e),o=S2(e);if(i||o){let c=(o?vn(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[r,c]):u[d+1].push(r,c)}else u.push(t,c)}}}function DM(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function ly(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function f4(n,e,t,r,i){return Jy(this.multi,[])}function p4(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Nl(r,r[Ce],this.providerFactory.index,i);s=c.slice(0,a),Jy(o,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],Jy(o,s);return s}function Jy(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function m4(n,e,t,r,i){let o=new as(n,t,j);return o.multi=[],o.index=e,o.componentProviders=0,DM(o,i,r&&!t),o}function It(n,e=[]){return t=>{t.providersResolver=(r,i)=>h4(r,i?i(n):n,e)}}function SM(n,e,t,r){return xM(Se(),yb(),n,e,t,r)}function AM(n,e){let t=n[e];return t===bn?void 0:t}function xM(n,e,t,r,i,o){let s=e+t;return br(n,s,i)?uM(n,s+1,o?r.call(o,i):r(i)):AM(n,s+1)}function g4(n,e,t,r,i,o,s){let a=e+t;return Xb(n,a,i,o)?uM(n,a+2,s?r.call(s,i,o):r(i,o)):AM(n,a+2)}function st(n,e){let t=Ct(),r,i=n+Bt;t.firstCreatePass?(r=v4(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=ts(r.type,!0)),s,a=Sn(j);try{let c=yf(!1),u=o();return yf(c),j2(t,Se(),i,u),u}finally{Sn(a)}}function v4(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Lt(n,e,t){let r=n+Bt,i=Se(),o=hb(i,r);return MM(i,r)?xM(i,yb(),e,o.transform,t,o):o.transform(t)}function ys(n,e,t,r){let i=n+Bt,o=Se(),s=hb(o,i);return MM(o,i)?g4(o,yb(),e,s.transform,t,r,s):s.transform(t,r)}function MM(n,e){return n[Ce].data[e].pure}function PM(n,e){return Zf(n,e)}var ds=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Ql=new ds("19.2.13"),eb=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},RM=(()=>{class n{compileModuleSync(t){return new Gy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=yA(t),o=Ax(i.declarations).reduce((s,a)=>{let c=mo(a);return c&&s.push(new ls(c)),s},[]);return new eb(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _4=(()=>{class n{zone=I(ce);changeDetectionScheduler=I(cs);applicationRef=I(wr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function y4({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ce(ne(L({},b4()),{scheduleInRootZone:t})),[{provide:ce,useFactory:n},{provide:Pl,multi:!0,useFactory:()=>{let r=I(_4,{optional:!0});return()=>r.initialize()}},{provide:Pl,multi:!0,useFactory:()=>{let r=I(w4);return()=>{r.initialize()}}},e===!0?{provide:sx,useValue:!0}:[],{provide:ax,useValue:t??ix}]}function b4(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var w4=(()=>{class n{subscription=new rt;initialized=!1;zone=I(ce);pendingTasks=I(Pi);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ce.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ce.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var E4=(()=>{class n{appRef=I(wr);taskService=I(Pi);ngZone=I(ce);zonelessEnabled=I(ox);tracing=I(Ua,{optional:!0});disableScheduling=I(sx,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new rt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ef):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(I(ax,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Sy||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?PS:cx;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ef+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,PS(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function C4(){return typeof $localize<"u"&&$localize.locale||Rf}var Zl=new H("",{providedIn:"root",factory:()=>I(Zl,Ee.Optional|Ee.SkipSelf)||C4()});var tb=new H(""),I4=new H("");function Sl(n){return!n.moduleRef}function T4(n){let e=Sl(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ce);return t.run(()=>{Sl(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get($r,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Sl(n)){let o=()=>e.destroy(),s=n.platformInjector.get(tb);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(tb);s.add(o),n.moduleRef.onDestroy(()=>{sf(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return S4(r,t,()=>{let o=e.get(mM);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Zl,Rf);if(s4(s||Rf),!e.get(I4,!0))return Sl(n)?e.get(wr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Sl(n)){let c=e.get(wr);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return D4(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function D4(n,e){let t=n.injector.get(wr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new K(-403,!1);e.push(n)}function S4(n,e,t){try{let r=t();return vo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var af=null;function A4(n=[],e){return Le.create({name:e,providers:[{provide:Ff,useValue:"platform"},{provide:tb,useValue:new Set([()=>af=null])},...n]})}function x4(n=[]){if(af)return af;let e=A4(n);return af=e,D3(),M4(e),e}function M4(n){let e=n.get(Ab,null);Ut(n,()=>{e?.forEach(t=>t())})}function a0(){return!1}var Cr=(()=>{class n{static __NG_ELEMENT_ID__=P4}return n})();function P4(n){return R4(yn(),Se(),(n&16)===16)}function R4(n,e,t){if(La(n)&&!t){let r=Ur(n.index,e);return new Fl(r,r)}else if(n.type&175){let r=e[Jn];return new Fl(r,e)}return null}var nb=class{constructor(){}supports(e){return lM(e)}create(e){return new rb(e)}},O4=(n,e)=>e,rb=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||O4}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<JS(r,i,o)?t:r,a=JS(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,d=c-i;if(u!=d){for(let v=0;v<u;v++){let _=v<o.length?o[v]:o[v]=0,S=_+v;d<=S&&S<u&&(o[v]=_+1)}let p=s.previousIndex;o[p]=d-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!lM(e))throw new K(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,y3(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new ib(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Of),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Of),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ib=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},ob=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Of=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new ob,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function JS(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function eA(){return new np([new nb])}var np=(()=>{class n{factories;static \u0275prov=V({token:n,providedIn:"root",factory:eA});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||eA()),deps:[[n,new m2,new Di]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new K(901,!1)}}return n})();function OM(n){Ke(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=x4(r),o=[y4({}),{provide:cs,useExisting:E4},...t||[]],s=new Mf({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return T4({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Ke(9)}}function tn(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function wn(n){return x_(n)}function bs(n,e){return T_(n,e?.equal)}var tA=class{[Qn];constructor(e){this[Qn]=e}destroy(){this[Qn].destroy()}};function rp(n,e){let t=mo(n),r=e.elementInjector||Lf();return new ls(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}function kM(n){let e=mo(n);if(!e)return null;let t=new ls(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Ie=new H("");var LM=null;function nr(){return LM}function c0(n){LM??=n}var Xl=class{},Jl=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>I(VM),providedIn:"platform"})}return n})(),l0=new H(""),VM=(()=>{class n extends Jl{_location;_history;_doc=I(Ie);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return nr().getBaseHref(this._doc)}onPopState(t){let r=nr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=nr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function ip(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function NM(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Ir(n){return n&&n[0]!=="?"?`?${n}`:n}var rr=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>I(sp),providedIn:"root"})}return n})(),op=new H(""),sp=(()=>{class n extends rr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??I(Ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ip(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Ir(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ir(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ir(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Y(Jl),Y(op,8))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wr=(()=>{class n{_subject=new fe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=F4(NM(FM(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ir(r))}normalize(t){return n.stripTrailingSlash(N4(this._basePath,FM(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ir(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ir(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ir;static joinWithSlash=ip;static stripTrailingSlash=NM;static \u0275fac=function(r){return new(r||n)(Y(rr))};static \u0275prov=V({token:n,factory:()=>k4(),providedIn:"root"})}return n})();function k4(){return new Wr(Y(rr))}function N4(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function FM(n){return n.replace(/\/index.html$/,"")}function F4(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var gp=(()=>{class n extends rr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=ip(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ir(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ir(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Y(Jl),Y(op,8))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();var v0=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(v0||{});var un=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(un||{}),Qe=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Qe||{}),Rn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Rn||{}),On={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function HM(n){return Hn(n)[bt.LocaleId]}function zM(n,e,t){let r=Hn(n),i=[r[bt.DayPeriodsFormat],r[bt.DayPeriodsStandalone]],o=ir(i,e);return ir(o,t)}function qM(n,e,t){let r=Hn(n),i=[r[bt.DaysFormat],r[bt.DaysStandalone]],o=ir(i,e);return ir(o,t)}function WM(n,e,t){let r=Hn(n),i=[r[bt.MonthsFormat],r[bt.MonthsStandalone]],o=ir(i,e);return ir(o,t)}function GM(n,e){let r=Hn(n)[bt.Eras];return ir(r,e)}function eu(n,e){let t=Hn(n);return ir(t[bt.DateFormat],e)}function tu(n,e){let t=Hn(n);return ir(t[bt.TimeFormat],e)}function nu(n,e){let r=Hn(n)[bt.DateTimeFormat];return ir(r,e)}function Gr(n,e){let t=Hn(n),r=t[bt.NumberSymbols][e];if(typeof r>"u"){if(e===On.CurrencyDecimal)return t[bt.NumberSymbols][On.Decimal];if(e===On.CurrencyGroup)return t[bt.NumberSymbols][On.Group]}return r}function KM(n,e){return Hn(n)[bt.NumberFormats][e]}function YM(n){if(!n[bt.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[bt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function QM(n){let e=Hn(n);return YM(e),(e[bt.ExtraData][2]||[]).map(r=>typeof r=="string"?u0(r):[u0(r[0]),u0(r[1])])}function ZM(n,e,t){let r=Hn(n);YM(r);let i=[r[bt.ExtraData][0],r[bt.ExtraData][1]],o=ir(i,e)||[];return ir(o,t)||[]}function ir(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function u0(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var L4=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ap={},V4=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function XM(n,e,t,r){let i=G4(n);e=ki(t,e)||e;let s=[],a;for(;e;)if(a=V4.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=eP(r,c),i=W4(i,r));let u="";return s.forEach(d=>{let p=z4(d);u+=p?p(i,t,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function hp(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function ki(n,e){let t=HM(n);if(ap[t]??={},ap[t][e])return ap[t][e];let r="";switch(e){case"shortDate":r=eu(n,Rn.Short);break;case"mediumDate":r=eu(n,Rn.Medium);break;case"longDate":r=eu(n,Rn.Long);break;case"fullDate":r=eu(n,Rn.Full);break;case"shortTime":r=tu(n,Rn.Short);break;case"mediumTime":r=tu(n,Rn.Medium);break;case"longTime":r=tu(n,Rn.Long);break;case"fullTime":r=tu(n,Rn.Full);break;case"short":let i=ki(n,"shortTime"),o=ki(n,"shortDate");r=cp(nu(n,Rn.Short),[i,o]);break;case"medium":let s=ki(n,"mediumTime"),a=ki(n,"mediumDate");r=cp(nu(n,Rn.Medium),[s,a]);break;case"long":let c=ki(n,"longTime"),u=ki(n,"longDate");r=cp(nu(n,Rn.Long),[c,u]);break;case"full":let d=ki(n,"fullTime"),p=ki(n,"fullDate");r=cp(nu(n,Rn.Full),[d,p]);break}return r&&(ap[t][e]=r),r}function cp(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Tr(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function j4(n,e){return Tr(n,3).substring(0,e)}function xt(n,e,t=0,r=!1,i=!1){return function(o,s){let a=B4(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return j4(a,e);let c=Gr(s,On.MinusSign);return Tr(a,e,c,r,i)}}function B4(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function at(n,e,t=un.Format,r=!1){return function(i,o){return U4(i,o,n,e,t,r)}}function U4(n,e,t,r,i,o){switch(t){case 2:return WM(e,i,r)[n.getMonth()];case 1:return qM(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let u=QM(e),d=ZM(e,i,r),p=u.findIndex(v=>{if(Array.isArray(v)){let[_,S]=v,R=s>=_.hours&&a>=_.minutes,k=s<S.hours||s===S.hours&&a<S.minutes;if(_.hours<S.hours){if(R&&k)return!0}else if(R||k)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(p!==-1)return d[p]}return zM(e,i,r)[s<12?0:1];case 3:return GM(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function lp(n){return function(e,t,r){let i=-1*r,o=Gr(t,On.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Tr(s,2,o)+Tr(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Tr(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Tr(s,2,o)+":"+Tr(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Tr(s,2,o)+":"+Tr(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var $4=0,dp=4;function H4(n){let e=hp(n,$4,1).getDay();return hp(n,0,1+(e<=dp?dp:dp+7)-e)}function JM(n){let e=n.getDay(),t=e===0?-3:dp-e;return hp(n.getFullYear(),n.getMonth(),n.getDate()+t)}function d0(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=JM(t),s=H4(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Tr(i,n,Gr(r,On.MinusSign))}}function up(n,e=!1){return function(t,r){let o=JM(t).getFullYear();return Tr(o,n,Gr(r,On.MinusSign),e)}}var h0={};function z4(n){if(h0[n])return h0[n];let e;switch(n){case"G":case"GG":case"GGG":e=at(3,Qe.Abbreviated);break;case"GGGG":e=at(3,Qe.Wide);break;case"GGGGG":e=at(3,Qe.Narrow);break;case"y":e=xt(0,1,0,!1,!0);break;case"yy":e=xt(0,2,0,!0,!0);break;case"yyy":e=xt(0,3,0,!1,!0);break;case"yyyy":e=xt(0,4,0,!1,!0);break;case"Y":e=up(1);break;case"YY":e=up(2,!0);break;case"YYY":e=up(3);break;case"YYYY":e=up(4);break;case"M":case"L":e=xt(1,1,1);break;case"MM":case"LL":e=xt(1,2,1);break;case"MMM":e=at(2,Qe.Abbreviated);break;case"MMMM":e=at(2,Qe.Wide);break;case"MMMMM":e=at(2,Qe.Narrow);break;case"LLL":e=at(2,Qe.Abbreviated,un.Standalone);break;case"LLLL":e=at(2,Qe.Wide,un.Standalone);break;case"LLLLL":e=at(2,Qe.Narrow,un.Standalone);break;case"w":e=d0(1);break;case"ww":e=d0(2);break;case"W":e=d0(1,!0);break;case"d":e=xt(2,1);break;case"dd":e=xt(2,2);break;case"c":case"cc":e=xt(7,1);break;case"ccc":e=at(1,Qe.Abbreviated,un.Standalone);break;case"cccc":e=at(1,Qe.Wide,un.Standalone);break;case"ccccc":e=at(1,Qe.Narrow,un.Standalone);break;case"cccccc":e=at(1,Qe.Short,un.Standalone);break;case"E":case"EE":case"EEE":e=at(1,Qe.Abbreviated);break;case"EEEE":e=at(1,Qe.Wide);break;case"EEEEE":e=at(1,Qe.Narrow);break;case"EEEEEE":e=at(1,Qe.Short);break;case"a":case"aa":case"aaa":e=at(0,Qe.Abbreviated);break;case"aaaa":e=at(0,Qe.Wide);break;case"aaaaa":e=at(0,Qe.Narrow);break;case"b":case"bb":case"bbb":e=at(0,Qe.Abbreviated,un.Standalone,!0);break;case"bbbb":e=at(0,Qe.Wide,un.Standalone,!0);break;case"bbbbb":e=at(0,Qe.Narrow,un.Standalone,!0);break;case"B":case"BB":case"BBB":e=at(0,Qe.Abbreviated,un.Format,!0);break;case"BBBB":e=at(0,Qe.Wide,un.Format,!0);break;case"BBBBB":e=at(0,Qe.Narrow,un.Format,!0);break;case"h":e=xt(3,1,-12);break;case"hh":e=xt(3,2,-12);break;case"H":e=xt(3,1);break;case"HH":e=xt(3,2);break;case"m":e=xt(4,1);break;case"mm":e=xt(4,2);break;case"s":e=xt(5,1);break;case"ss":e=xt(5,2);break;case"S":e=xt(6,1);break;case"SS":e=xt(6,2);break;case"SSS":e=xt(6,3);break;case"Z":case"ZZ":case"ZZZ":e=lp(0);break;case"ZZZZZ":e=lp(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=lp(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=lp(2);break;default:return null}return h0[n]=e,e}function eP(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function q4(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function W4(n,e,t){let i=n.getTimezoneOffset(),o=eP(e,i);return q4(n,-1*(o-i))}function G4(n){if(jM(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return hp(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(L4))return K4(r)}let e=new Date(n);if(!jM(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function K4(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,u),e}function jM(n){return n instanceof Date&&!isNaN(n.valueOf())}var Y4=/^(\d+)?\.((\d+)(-(\d+))?)?$/,BM=22,fp=".",ru="0",Q4=";",Z4=",",f0="#";function X4(n,e,t,r,i,o,s=!1){let a="",c=!1;if(!isFinite(n))a=Gr(t,On.Infinity);else{let u=t$(n);s&&(u=e$(u));let d=e.minInt,p=e.minFrac,v=e.maxFrac;if(o){let te=o.match(Y4);if(te===null)throw new Error(`${o} is not a valid digit info`);let Z=te[1],Ne=te[3],Dt=te[5];Z!=null&&(d=p0(Z)),Ne!=null&&(p=p0(Ne)),Dt!=null?v=p0(Dt):Ne!=null&&p>v&&(v=p)}n$(u,p,v);let _=u.digits,S=u.integerLen,R=u.exponent,k=[];for(c=_.every(te=>!te);S<d;S++)_.unshift(0);for(;S<0;S++)_.unshift(0);S>0?k=_.splice(S,_.length):(k=_,_=[0]);let G=[];for(_.length>=e.lgSize&&G.unshift(_.splice(-e.lgSize,_.length).join(""));_.length>e.gSize;)G.unshift(_.splice(-e.gSize,_.length).join(""));_.length&&G.unshift(_.join("")),a=G.join(Gr(t,r)),k.length&&(a+=Gr(t,i)+k.join("")),R&&(a+=Gr(t,On.Exponential)+"+"+R)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function tP(n,e,t){let r=KM(e,v0.Decimal),i=J4(r,Gr(e,On.MinusSign));return X4(n,i,e,On.Group,On.Decimal,t)}function J4(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(Q4),i=r[0],o=r[1],s=i.indexOf(fp)!==-1?i.split(fp):[i.substring(0,i.lastIndexOf(ru)+1),i.substring(i.lastIndexOf(ru)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(f0));for(let d=0;d<c.length;d++){let p=c.charAt(d);p===ru?t.minFrac=t.maxFrac=d+1:p===f0?t.maxFrac=d+1:t.posSuf+=p}let u=a.split(Z4);if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){let d=i.length-t.posPre.length-t.posSuf.length,p=o.indexOf(f0);t.negPre=o.substring(0,p).replace(/'/g,""),t.negSuf=o.slice(p+d).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function e$(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function t$(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(fp))>-1&&(e=e.replace(fp,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===ru;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===ru;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>BM&&(r=r.splice(0,BM-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function n$(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,u=e+n.integerLen,d=r.reduceRight(function(p,v,_,S){return v=v+p,S[_]=v<10?v:v-10,c&&(S[_]===0&&_>=u?S.pop():c=!1),v>=10?1:0},0);d&&(r.unshift(d),n.integerLen++)}function p0(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}var pp=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},$t=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new pp(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),UM(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);UM(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(j(tr),j(er),j(np))};static \u0275dir=he({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function UM(n,e){n.context.$implicit=e.item}var vt=(()=>{class n{_viewContainer;_context=new mp;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){$M(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){$M(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(j(tr),j(er))};static \u0275dir=he({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),mp=class{$implicit=null;ngIf=null};function $M(n,e){if(n&&!n.createEmbeddedView)throw new K(2020,!1)}function vp(n,e){return new K(2100,!1)}var m0=class{createSubscription(e,t){return wn(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){wn(()=>e.unsubscribe())}},g0=class{createSubscription(e,t){return e.then(r=>t?.(r),r=>{throw r}),{unsubscribe:()=>{t=null}}}dispose(e){e.unsubscribe()}},r$=new g0,i$=new m0,_0=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(vo(t))return r$;if(Jb(t))return i$;throw vp(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(j(Cr,16))};static \u0275pipe=vs({name:"async",type:n,pure:!1})}return n})();var ws=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw vp(n,t);return t.toUpperCase()}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=vs({name:"uppercase",type:n,pure:!0})}return n})(),o$="mediumDate",nP=new H(""),rP=new H(""),_o=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??o$,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return XM(t,s,o||this.locale,a)}catch(s){throw vp(n,s.message)}}static \u0275fac=function(r){return new(r||n)(j(Zl,16),j(nP,24),j(rP,24))};static \u0275pipe=vs({name:"date",type:n,pure:!0})}return n})();var Kr=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!s$(t))return null;i||=this._locale;try{let o=a$(t);return tP(o,i,r)}catch(o){throw vp(n,o.message)}}static \u0275fac=function(r){return new(r||n)(j(Zl,16))};static \u0275pipe=vs({name:"number",type:n,pure:!0})}return n})();function s$(n){return!(n==null||n===""||n!==n)}function a$(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var ht=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=en({type:n});static \u0275inj=Jt({})}return n})();function iu(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var _p="browser",iP="server";function y0(n){return n===_p}function yp(n){return n===iP}var Es=class{};var oP=(()=>{class n{static \u0275prov=V({token:n,providedIn:"root",factory:()=>new b0(I(Ie),window)})}return n})(),b0=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=l$(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function l$(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Ep=new H(""),I0=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new K(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Y(Ep),Y(ce))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),ou=class{_doc;constructor(e){this._doc=e}manager},bp="ng-app-id";function sP(n){for(let e of n)e.remove()}function aP(n,e){let t=e.createElement("style");return t.textContent=n,t}function u$(n,e,t,r){let i=n.head?.querySelectorAll(`style[${bp}="${e}"],link[${bp}="${e}"]`);if(i)for(let o of i)o.removeAttribute(bp),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function E0(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var T0=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=yp(o),u$(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,aP);r?.forEach(i=>this.addUsage(i,this.external,E0))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(sP(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])sP(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,aP(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,E0(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(bp,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Y(Ie),Y($l),Y(Hl,8),Y(qr))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),w0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},D0=/%COMP%/g;var lP="%COMP%",d$=`_nghost-${lP}`,h$=`_ngcontent-${lP}`,f$=!0,p$=new H("",{providedIn:"root",factory:()=>f$});function m$(n){return h$.replace(D0,n)}function g$(n){return d$.replace(D0,n)}function uP(n,e){return e.map(t=>t.replace(D0,n))}var S0=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,u=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=d,this.platformIsServer=yp(a),this.defaultRenderer=new su(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Hr.ShadowDom&&(r=ne(L({},r),{encapsulation:Hr.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof wp?i.applyToHost(t):i instanceof au&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,p=this.platformIsServer,v=this.tracingService;switch(r.encapsulation){case Hr.Emulated:o=new wp(c,u,r,this.appId,d,s,a,p,v);break;case Hr.ShadowDom:return new C0(c,u,t,r,s,a,this.nonce,p,v);default:o=new au(c,u,r,d,s,a,p,v);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Y(I0),Y(T0),Y($l),Y(p$),Y(Ie),Y(qr),Y(ce),Y(Hl),Y(Ua,8))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),su=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(w0[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(cP(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(cP(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new K(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=w0[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=w0[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ii.DashCase|Ii.Important)?e.style.setProperty(t,r,i&Ii.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ii.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=nr().getGlobalEventTarget(this.doc,e),!e))throw new K(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function cP(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var C0=class extends su{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,c,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=uP(i.id,d);for(let v of d){let _=document.createElement("style");a&&_.setAttribute("nonce",a),_.textContent=v,this.shadowRoot.appendChild(_)}let p=i.getExternalStyles?.();if(p)for(let v of p){let _=E0(v,o);a&&_.setAttribute("nonce",a),this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},au=class extends su{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=u?uP(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},wp=class extends au{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,u){let d=i+"-"+r.id;super(e,t,r,o,s,a,c,u,d),this.contentAttr=m$(d),this.hostAttr=g$(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Cp=class n extends Xl{supportsDOMEvents=!0;static makeCurrent(){c0(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=v$();return t==null?null:_$(t)}resetBaseElement(){cu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return iu(document.cookie,e)}},cu=null;function v$(){return cu=cu||document.head.querySelector("base"),cu?cu.getAttribute("href"):null}function _$(n){return new URL(n,document.baseURI).pathname}var y$=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),hP=(()=>{class n extends ou{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(Y(Ie))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),dP=["alt","control","meta","shift"],b$={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},w$={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},fP=(()=>{class n extends ou{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>nr().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),dP.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=b$[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),dP.forEach(s=>{if(s!==i){let a=w$[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Y(Ie))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();function A0(n,e){return OM(L({rootComponent:n},E$(e)))}function E$(n){return{appProviders:[...S$,...n?.providers??[]],platformProviders:D$}}function C$(){Cp.makeCurrent()}function I$(){return new $r}function T$(){return _x(document),document}var D$=[{provide:qr,useValue:_p},{provide:Ab,useValue:C$,multi:!0},{provide:Ie,useFactory:T$}];var S$=[{provide:Ff,useValue:"root"},{provide:$r,useFactory:I$},{provide:Ep,useClass:hP,multi:!0,deps:[Ie]},{provide:Ep,useClass:fP,multi:!0,deps:[Ie]},S0,T0,I0,{provide:Xt,useExisting:S0},{provide:Es,useClass:y$},[]];var qa=class{},lu=class{},Ht=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Tp=class{encodeKey(e){return pP(e)}encodeValue(e){return pP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function A$(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var x$=/%(\d[a-f0-9])/gi,M$={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function pP(n){return encodeURIComponent(n).replace(x$,(e,t)=>M$[t]??e)}function Ip(n){return`${n}`}var Ni=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Tp,e.fromString){if(e.fromObject)throw new K(2805,!1);this.map=A$(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Ip):[Ip(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Ip(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Ip(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Dp=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function P$(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function mP(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function gP(n){return typeof Blob<"u"&&n instanceof Blob}function vP(n){return typeof FormData<"u"&&n instanceof FormData}function R$(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var _P="Content-Type",yP="Accept",bP="X-Request-URL",wP="text/plain",EP="application/json",O$=`${EP}, ${wP}, */*`,za=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(P$(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ht,this.context??=new Dp,!this.params)this.params=new Ni,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||mP(this.body)||gP(this.body)||vP(this.body)||R$(this.body)?this.body:this.body instanceof Ni?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||vP(this.body)?null:gP(this.body)?this.body.type||null:mP(this.body)?null:typeof this.body=="string"?wP:this.body instanceof Ni?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?EP:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,d=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((v,_)=>v.set(_,e.setHeaders[_]),u)),e.setParams&&(d=Object.keys(e.setParams).reduce((v,_)=>v.set(_,e.setParams[_]),d)),new n(t,r,s,{params:d,headers:u,context:p,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},Cs=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Cs||{}),Wa=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Ht,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Sp=class n extends Wa{constructor(e={}){super(e)}type=Cs.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},uu=class n extends Wa{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Cs.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},du=class extends Wa{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},k$=200,N$=204;function x0(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var sr=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof za)o=t;else{let c;i.headers instanceof Ht?c=i.headers:c=new Ht(i.headers);let u;i.params&&(i.params instanceof Ni?u=i.params:u=new Ni({fromObject:i.params})),o=new za(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=X(o).pipe(Lr(c=>this.handler.handle(c)));if(t instanceof za||i.observe==="events")return s;let a=s.pipe(pt(c=>c instanceof uu));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(de(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new K(2806,!1);return c.body}));case"blob":return a.pipe(de(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new K(2807,!1);return c.body}));case"text":return a.pipe(de(c=>{if(c.body!==null&&typeof c.body!="string")throw new K(2808,!1);return c.body}));case"json":default:return a.pipe(de(c=>c.body))}case"response":return a;default:throw new K(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Ni().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,x0(i,r))}post(t,r,i={}){return this.request("POST",t,x0(i,r))}put(t,r,i={}){return this.request("PUT",t,x0(i,r))}static \u0275fac=function(r){return new(r||n)(Y(qa))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();var F$=new H("");function L$(n,e){return e(n)}function V$(n,e,t){return(r,i)=>Ut(t,()=>e(r,o=>n(o,i)))}var P0=new H(""),CP=new H(""),IP=new H("",{providedIn:"root",factory:()=>!0});var Ap=(()=>{class n extends qa{backend;injector;chain=null;pendingTasks=I(Pi);contributeToStability=I(IP);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(P0),...this.injector.get(CP,[])]));this.chain=r.reduceRight((i,o)=>V$(i,o,this.injector),L$)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Qo(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(Y(lu),Y(dt))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();var j$=/^\)\]\}',?\n/,B$=RegExp(`^${bP}:`,"m");function U$(n){return"responseURL"in n&&n.responseURL?n.responseURL:B$.test(n.getAllResponseHeaders())?n.getResponseHeader(bP):null}var M0=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new K(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?$e(r.\u0275loadImpl()):X(null)).pipe(Ft(()=>new me(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((R,k)=>s.setRequestHeader(R,k.join(","))),t.headers.has(yP)||s.setRequestHeader(yP,O$),!t.headers.has(_P)){let R=t.detectContentTypeHeader();R!==null&&s.setRequestHeader(_P,R)}if(t.responseType){let R=t.responseType.toLowerCase();s.responseType=R!=="json"?R:"text"}let a=t.serializeBody(),c=null,u=()=>{if(c!==null)return c;let R=s.statusText||"OK",k=new Ht(s.getAllResponseHeaders()),G=U$(s)||t.url;return c=new Sp({headers:k,status:s.status,statusText:R,url:G}),c},d=()=>{let{headers:R,status:k,statusText:G,url:te}=u(),Z=null;k!==N$&&(Z=typeof s.response>"u"?s.responseText:s.response),k===0&&(k=Z?k$:0);let Ne=k>=200&&k<300;if(t.responseType==="json"&&typeof Z=="string"){let Dt=Z;Z=Z.replace(j$,"");try{Z=Z!==""?JSON.parse(Z):null}catch(Ue){Z=Dt,Ne&&(Ne=!1,Z={error:Ue,text:Z})}}Ne?(o.next(new uu({body:Z,headers:R,status:k,statusText:G,url:te||void 0})),o.complete()):o.error(new du({error:Z,headers:R,status:k,statusText:G,url:te||void 0}))},p=R=>{let{url:k}=u(),G=new du({error:R,status:s.status||0,statusText:s.statusText||"Unknown Error",url:k||void 0});o.error(G)},v=!1,_=R=>{v||(o.next(u()),v=!0);let k={type:Cs.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(k.total=R.total),t.responseType==="text"&&s.responseText&&(k.partialText=s.responseText),o.next(k)},S=R=>{let k={type:Cs.UploadProgress,loaded:R.loaded};R.lengthComputable&&(k.total=R.total),o.next(k)};return s.addEventListener("load",d),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",_),a!==null&&s.upload&&s.upload.addEventListener("progress",S)),s.send(a),o.next({type:Cs.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",d),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",_),a!==null&&s.upload&&s.upload.removeEventListener("progress",S)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(Y(Es))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),TP=new H(""),$$="XSRF-TOKEN",H$=new H("",{providedIn:"root",factory:()=>$$}),z$="X-XSRF-TOKEN",q$=new H("",{providedIn:"root",factory:()=>z$}),hu=class{},W$=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=iu(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(Y(Ie),Y(H$))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();function G$(n,e){let t=n.url.toLowerCase();if(!I(TP)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=I(hu).getToken(),i=I(q$);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var R0=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(R0||{});function K$(n,e){return{\u0275kind:n,\u0275providers:e}}function O0(...n){let e=[sr,M0,Ap,{provide:qa,useExisting:Ap},{provide:lu,useFactory:()=>I(F$,{optional:!0})??I(M0)},{provide:P0,useValue:G$,multi:!0},{provide:TP,useValue:!0},{provide:hu,useClass:W$}];for(let t of n)e.push(...t.\u0275providers);return Si(e)}function k0(n){return K$(R0.Interceptors,n.map(e=>({provide:P0,useValue:e,multi:!0})))}var DP=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Y(Ie))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var we="primary",Du=Symbol("RouteTitle"),j0=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ds(n){return new j0(n)}function kP(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Q$(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Yr(n[t],e[t]))return!1;return!0}function Yr(n,e){let t=n?B0(n):void 0,r=e?B0(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!NP(n[i],e[i]))return!1;return!0}function B0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function NP(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function FP(n){return n.length>0?n[n.length-1]:null}function Co(n){return zh(n)?n:vo(n)?$e(Promise.resolve(n)):X(n)}var Z$={exact:VP,subset:jP},LP={exact:X$,subset:J$,ignored:()=>!0};function SP(n,e,t){return Z$[t.paths](n.root,e.root,t.matrixParams)&&LP[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function X$(n,e){return Yr(n,e)}function VP(n,e,t){if(!Is(n.segments,e.segments)||!Pp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!VP(n.children[r],e.children[r],t))return!1;return!0}function J$(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>NP(n[t],e[t]))}function jP(n,e,t){return BP(n,e,e.segments,t)}function BP(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Is(i,t)||e.hasChildren()||!Pp(i,t,r))}else if(n.segments.length===t.length){if(!Is(n.segments,t)||!Pp(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!jP(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Is(n.segments,i)||!Pp(n.segments,i,r)||!n.children[we]?!1:BP(n.children[we],e,o,r)}}function Pp(n,e,t){return e.every((r,i)=>LP[t](n[i].parameters,r.parameters))}var Zr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new He([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ds(this.queryParams),this._queryParamMap}toString(){return n5.serialize(this)}},He=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rp(this)}},yo=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ds(this.parameters),this._parameterMap}toString(){return $P(this)}};function e5(n,e){return Is(n,e)&&n.every((t,r)=>Yr(t.parameters,e[r].parameters))}function Is(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function t5(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===we&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==we&&(t=t.concat(e(i,r)))}),t}var Ss=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>new bo,providedIn:"root"})}return n})(),bo=class{parse(e){let t=new $0(e);return new Zr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${pu(e.root,!0)}`,r=o5(e.queryParams),i=typeof e.fragment=="string"?`#${r5(e.fragment)}`:"";return`${t}${r}${i}`}},n5=new bo;function Rp(n){return n.segments.map(e=>$P(e)).join("/")}function pu(n,e){if(!n.hasChildren())return Rp(n);if(e){let t=n.children[we]?pu(n.children[we],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==we&&r.push(`${i}:${pu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=t5(n,(r,i)=>i===we?[pu(n.children[we],!1)]:[`${i}:${pu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[we]!=null?`${Rp(n)}/${t[0]}`:`${Rp(n)}/(${t.join("//")})`}}function UP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xp(n){return UP(n).replace(/%3B/gi,";")}function r5(n){return encodeURI(n)}function U0(n){return UP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Op(n){return decodeURIComponent(n)}function AP(n){return Op(n.replace(/\+/g,"%20"))}function $P(n){return`${U0(n.path)}${i5(n.parameters)}`}function i5(n){return Object.entries(n).map(([e,t])=>`;${U0(e)}=${U0(t)}`).join("")}function o5(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${xp(t)}=${xp(i)}`).join("&"):`${xp(t)}=${xp(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var s5=/^[^\/()?;#]+/;function N0(n){let e=n.match(s5);return e?e[0]:""}var a5=/^[^\/()?;=#]+/;function c5(n){let e=n.match(a5);return e?e[0]:""}var l5=/^[^=?&#]+/;function u5(n){let e=n.match(l5);return e?e[0]:""}var d5=/^[^&#]+/;function h5(n){let e=n.match(d5);return e?e[0]:""}var $0=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new He([],{}):new He([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[we]=new He(e,t)),r}parseSegment(){let e=N0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new K(4009,!1);return this.capture(e),new yo(Op(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=c5(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=N0(this.remaining);i&&(r=i,this.capture(r))}e[Op(t)]=Op(r)}parseQueryParam(e){let t=u5(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=h5(this.remaining);s&&(r=s,this.capture(r))}let i=AP(t),o=AP(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=N0(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new K(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=we);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[we]:new He([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new K(4011,!1)}};function HP(n){return n.segments.length>0?new He([],{[we]:n}):n}function zP(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=zP(i);if(r===we&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new He(n.segments,e);return f5(t)}function f5(n){if(n.numberOfChildren===1&&n.children[we]){let e=n.children[we];return new He(n.segments.concat(e.segments),e.children)}return n}function wo(n){return n instanceof Zr}function qP(n,e,t=null,r=null){let i=WP(n);return GP(i,e,t,r)}function WP(n){let e;function t(o){let s={};for(let c of o.children){let u=t(c);s[c.outlet]=u}let a=new He(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=HP(r);return e??i}function GP(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return F0(i,i,i,t,r);let o=p5(e);if(o.toRoot())return F0(i,i,new He([],{}),t,r);let s=m5(o,i,n),a=s.processChildren?gu(s.segmentGroup,s.index,o.commands):YP(s.segmentGroup,s.index,o.commands);return F0(i,s.segmentGroup,a,t,r)}function Np(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function _u(n){return typeof n=="object"&&n!=null&&n.outlets}function F0(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;n===e?s=t:s=KP(n,e,t);let a=HP(zP(s));return new Zr(a,o,i)}function KP(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=KP(o,e,t)}),new He(n.segments,r)}var Fp=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Np(r[0]))throw new K(4003,!1);let i=r.find(_u);if(i&&i!==FP(r))throw new K(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function p5(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Fp(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Fp(t,e,r)}var Ya=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function m5(n,e,t){if(n.isAbsolute)return new Ya(e,!0,0);if(!t)return new Ya(e,!1,NaN);if(t.parent===null)return new Ya(t,!0,0);let r=Np(n.commands[0])?0:1,i=t.segments.length-1+r;return g5(t,i,n.numberOfDoubleDots)}function g5(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new K(4005,!1);i=r.segments.length}return new Ya(r,!1,i-o)}function v5(n){return _u(n[0])?n[0].outlets:{[we]:n}}function YP(n,e,t){if(n??=new He([],{}),n.segments.length===0&&n.hasChildren())return gu(n,e,t);let r=_5(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new He(n.segments.slice(0,r.pathIndex),{});return o.children[we]=new He(n.segments.slice(r.pathIndex),n.children),gu(o,0,i)}else return r.match&&i.length===0?new He(n.segments,{}):r.match&&!n.hasChildren()?H0(n,e,t):r.match?gu(n,0,i):H0(n,e,t)}function gu(n,e,t){if(t.length===0)return new He(n.segments,{});{let r=v5(t),i={};if(Object.keys(r).some(o=>o!==we)&&n.children[we]&&n.numberOfChildren===1&&n.children[we].segments.length===0){let o=gu(n.children[we],e,t);return new He(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=YP(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new He(n.segments,i)}}function _5(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(_u(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!MP(c,u,s))return o;r+=2}else{if(!MP(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function H0(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(_u(o)){let c=y5(o.outlets);return new He(r,c)}if(i===0&&Np(t[0])){let c=n.segments[e];r.push(new yo(c.path,xP(t[0]))),i++;continue}let s=_u(o)?o.outlets[we]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Np(a)?(r.push(new yo(s,xP(a))),i+=2):(r.push(new yo(s,{})),i++)}return new He(r,{})}function y5(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=H0(new He([],{}),0,r))}),e}function xP(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function MP(n,e,t){return n==t.path&&Yr(e,t.parameters)}var kp="imperative",Vt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Vt||{}),qn=class{id;url;constructor(e,t){this.id=e,this.url=t}},Eo=class extends qn{type=Vt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ar=class extends qn{urlAfterRedirects;type=Vt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},kn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(kn||{}),Za=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Za||{}),Qr=class extends qn{reason;code;type=Vt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Xr=class extends qn{reason;code;type=Vt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Xa=class extends qn{error;target;type=Vt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},yu=class extends qn{urlAfterRedirects;state;type=Vt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lp=class extends qn{urlAfterRedirects;state;type=Vt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vp=class extends qn{urlAfterRedirects;state;shouldActivate;type=Vt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},jp=class extends qn{urlAfterRedirects;state;type=Vt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bp=class extends qn{urlAfterRedirects;state;type=Vt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Up=class{route;type=Vt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},$p=class{route;type=Vt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Hp=class{snapshot;type=Vt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zp=class{snapshot;type=Vt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qp=class{snapshot;type=Vt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wp=class{snapshot;type=Vt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ja=class{routerEvent;position;anchor;type=Vt.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},bu=class{},ec=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function b5(n,e){return n.providers&&!n._injector&&(n._injector=Gl(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Dr(n){return n.outlet||we}function w5(n,e){let t=n.filter(r=>Dr(r)===e);return t.push(...n.filter(r=>Dr(r)!==e)),t}function Su(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Gp=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Su(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new As(this.rootInjector)}},As=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Gp(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Y(dt))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kp=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=z0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=z0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=q0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return q0(e,this._root).map(t=>t.value)}};function z0(n,e){if(n===e.value)return e;for(let t of e.children){let r=z0(n,t);if(r)return r}return null}function q0(n,e){if(n===e.value)return[e];for(let t of e.children){let r=q0(n,t);if(r.length)return r.unshift(e),r}return[]}var zn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ka(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var wu=class extends Kp{snapshot;constructor(e,t){super(e),this.snapshot=t,J0(this,e)}toString(){return this.snapshot.toString()}};function QP(n){let e=E5(n),t=new it([new yo("",{})]),r=new it({}),i=new it({}),o=new it({}),s=new it(""),a=new dn(t,r,o,s,i,we,n,e.root);return a.snapshot=e.root,new wu(new zn(a,[]),e)}function E5(n){let e={},t={},r={},i="",o=new Ts([],e,r,i,t,we,n,null,{});return new Eu("",new zn(o,[]))}var dn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(de(u=>u[Du]))??X(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(de(e=>Ds(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(de(e=>Ds(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Yp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),n.params),data:L(L({},e.data),n.data),resolve:L(L(L(L({},n.data),e.data),i?.data),n._resolvedData)}:r={params:L({},n.params),data:L({},n.data),resolve:L(L({},n.data),n._resolvedData??{})},i&&XP(i)&&(r.resolve[Du]=i.title),r}var Ts=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Du]}constructor(e,t,r,i,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ds(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ds(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Eu=class extends Kp{url;constructor(e,t){super(t),this.url=e,J0(this,t)}toString(){return ZP(this._root)}};function J0(n,e){e.value._routerState=n,e.children.forEach(t=>J0(n,t))}function ZP(n){let e=n.children.length>0?` { ${n.children.map(ZP).join(", ")} } `:"";return`${n.value}${e}`}function L0(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Yr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Yr(e.params,t.params)||n.paramsSubject.next(t.params),Q$(e.url,t.url)||n.urlSubject.next(t.url),Yr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function W0(n,e){let t=Yr(n.params,e.params)&&e5(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||W0(n.parent,e.parent))}function XP(n){return typeof n.title=="string"||n.title===null}var JP=new H(""),Au=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=we;activateEvents=new Xe;deactivateEvents=new Xe;attachEvents=new Xe;detachEvents=new Xe;routerOutletData=ux(void 0);parentContexts=I(As);location=I(tr);changeDetector=I(Cr);inputBinder=I(xu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new K(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new G0(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Un]})}return n})(),G0=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===dn?this.route:e===As?this.childContexts:e===JP?this.outletData:this.parent.get(e,t)}},xu=new H(""),ew=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Yo([r.queryParams,r.params,r.data]).pipe(Ft(([o,s,a],c)=>(a=L(L(L({},o),s),a),c===0?X(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=kM(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),tw=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Re({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&oe(0,"router-outlet")},dependencies:[Au],encapsulation:2})}return n})();function nw(n){let e=n.children&&n.children.map(nw),t=e?ne(L({},n),{children:e}):L({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==we&&(t.component=tw),t}function C5(n,e,t){let r=Cu(n,e._root,t?t._root:void 0);return new wu(r,e)}function Cu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=I5(n,e,t);return new zn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Cu(n,a)),s}}let r=T5(e.value),i=e.children.map(o=>Cu(n,o));return new zn(r,i)}}function I5(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Cu(n,r,i);return Cu(n,r)})}function T5(n){return new dn(new it(n.url),new it(n.params),new it(n.queryParams),new it(n.fragment),new it(n.data),n.outlet,n.component,n)}var tc=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},eR="ngNavigationCancelingError";function Qp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=wo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=tR(!1,kn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function tR(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[eR]=!0,t.cancellationCode=e,t}function D5(n){return nR(n)&&wo(n.url)}function nR(n){return!!n&&n[eR]}var S5=(n,e,t,r)=>de(i=>(new K0(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),K0=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),L0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Ka(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ka(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ka(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Ka(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Wp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new zp(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(L0(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),L0(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Zp=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Qa=class{component;route;constructor(e,t){this.component=e,this.route=t}};function A5(n,e,t){let r=n._root,i=e?e._root:null;return mu(r,i,t,[r.value])}function x5(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function rc(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!cA(n)?n:e.get(n):r}function mu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ka(e);return n.children.forEach(s=>{M5(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>vu(a,t.getContext(s),i)),i}function M5(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=P5(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Zp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?mu(n,e,a?a.children:null,r,i):mu(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Qa(a.outlet.component,s))}else s&&vu(e,a,i),i.canActivateChecks.push(new Zp(r)),o.component?mu(n,null,a?a.children:null,r,i):mu(n,null,t,r,i);return i}function P5(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Is(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Is(n.url,e.url)||!Yr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!W0(n,e)||!Yr(n.queryParams,e.queryParams);case"paramsChange":default:return!W0(n,e)}}function vu(n,e,t){let r=Ka(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?vu(s,e.children.getContext(o),t):vu(s,null,t):vu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Qa(e.outlet.component,i)):t.canDeactivateChecks.push(new Qa(null,i)):t.canDeactivateChecks.push(new Qa(null,i))}function Mu(n){return typeof n=="function"}function R5(n){return typeof n=="boolean"}function O5(n){return n&&Mu(n.canLoad)}function k5(n){return n&&Mu(n.canActivate)}function N5(n){return n&&Mu(n.canActivateChild)}function F5(n){return n&&Mu(n.canDeactivate)}function L5(n){return n&&Mu(n.canMatch)}function rR(n){return n instanceof gr||n?.name==="EmptyError"}var Mp=Symbol("INITIAL_VALUE");function nc(){return Ft(n=>Yo(n.map(e=>e.pipe(mt(1),Ca(Mp)))).pipe(de(e=>{for(let t of e)if(t!==!0){if(t===Mp)return Mp;if(t===!1||V5(t))return t}return!0}),pt(e=>e!==Mp),mt(1)))}function V5(n){return wo(n)||n instanceof tc}function j5(n,e){return Et(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?X(ne(L({},t),{guardsResult:!0})):B5(s,r,i,n).pipe(Et(a=>a&&R5(a)?U5(r,o,n,e):X(a)),de(a=>ne(L({},t),{guardsResult:a})))})}function B5(n,e,t,r){return $e(n).pipe(Et(i=>W5(i.component,i.route,t,e,r)),bi(i=>i!==!0,!0))}function U5(n,e,t,r){return $e(e).pipe(Lr(i=>uo(H5(i.route.parent,r),$5(i.route,r),q5(n,i.path,t),z5(n,i.route,t))),bi(i=>i!==!0,!0))}function $5(n,e){return n!==null&&e&&e(new qp(n)),X(!0)}function H5(n,e){return n!==null&&e&&e(new Hp(n)),X(!0)}function z5(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return X(!0);let i=r.map(o=>Kh(()=>{let s=Su(e)??t,a=rc(o,s),c=k5(a)?a.canActivate(e,n):Ut(s,()=>a(e,n));return Co(c).pipe(bi())}));return X(i).pipe(nc())}function q5(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>x5(s)).filter(s=>s!==null).map(s=>Kh(()=>{let a=s.guards.map(c=>{let u=Su(s.node)??t,d=rc(c,u),p=N5(d)?d.canActivateChild(r,n):Ut(u,()=>d(r,n));return Co(p).pipe(bi())});return X(a).pipe(nc())}));return X(o).pipe(nc())}function W5(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return X(!0);let s=o.map(a=>{let c=Su(e)??i,u=rc(a,c),d=F5(u)?u.canDeactivate(n,e,t,r):Ut(c,()=>u(n,e,t,r));return Co(d).pipe(bi())});return X(s).pipe(nc())}function G5(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return X(!0);let o=i.map(s=>{let a=rc(s,n),c=O5(a)?a.canLoad(e,t):Ut(n,()=>a(e,t));return Co(c)});return X(o).pipe(nc(),iR(r))}function iR(n){return F_(Zt(e=>{if(typeof e!="boolean")throw Qp(n,e)}),de(e=>e===!0))}function K5(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return X(!0);let o=i.map(s=>{let a=rc(s,n),c=L5(a)?a.canMatch(e,t):Ut(n,()=>a(e,t));return Co(c)});return X(o).pipe(nc(),iR(r))}var Iu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Tu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ga(n){return St(new Iu(n))}function Y5(n){return St(new K(4e3,!1))}function Q5(n){return St(tR(!1,kn.GuardRejected))}var Y0=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return X(r);if(i.numberOfChildren>1||!i.children[we])return Y5(`${e.redirectTo}`);i=i.children[we]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:u,routeConfig:d,url:p,outlet:v,params:_,data:S,title:R}=i,k=Ut(o,()=>a({params:_,data:S,queryParams:c,fragment:u,routeConfig:d,url:p,outlet:v,title:R}));if(k instanceof Zr)throw new Tu(k);t=k}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Tu(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Zr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new He(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new K(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Q0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Z5(n,e,t,r,i){let o=oR(n,e,t);return o.matched?(r=b5(e,r),K5(r,e,t,i).pipe(de(s=>s===!0?o:L({},Q0)))):X(o)}function oR(n,e,t){if(e.path==="**")return X5(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?L({},Q0):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||kP)(t,n,e);if(!i)return L({},Q0);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function X5(n){return{matched:!0,parameters:n.length>0?FP(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function PP(n,e,t,r){return t.length>0&&tH(n,t,r)?{segmentGroup:new He(e,eH(r,new He(t,n.children))),slicedSegments:[]}:t.length===0&&nH(n,t,r)?{segmentGroup:new He(n.segments,J5(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new He(n.segments,n.children),slicedSegments:t}}function J5(n,e,t,r){let i={};for(let o of t)if(Jp(n,e,o)&&!r[Dr(o)]){let s=new He([],{});i[Dr(o)]=s}return L(L({},r),i)}function eH(n,e){let t={};t[we]=e;for(let r of n)if(r.path===""&&Dr(r)!==we){let i=new He([],{});t[Dr(r)]=i}return t}function tH(n,e,t){return t.some(r=>Jp(n,e,r)&&Dr(r)!==we)}function nH(n,e,t){return t.some(r=>Jp(n,e,r))}function Jp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function rH(n,e,t){return e.length===0&&!n.children[t]}var Z0=class{};function iH(n,e,t,r,i,o,s="emptyOnly"){return new X0(n,e,t,r,i,s,o).recognize()}var oH=31,X0=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Y0(this.urlSerializer,this.urlTree)}noMatchError(e){return new K(4002,`'${e.segmentGroup}'`)}recognize(){let e=PP(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(de(({children:t,rootSnapshot:r})=>{let i=new zn(r,t),o=new Eu("",i),s=qP(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Ts([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),we,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,we,t).pipe(de(r=>({children:r,rootSnapshot:t})),Ge(r=>{if(r instanceof Tu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Iu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(de(s=>s instanceof zn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return $e(o).pipe(Lr(s=>{let a=r.children[s],c=w5(t,s);return this.processSegmentGroup(e,c,a,s,i)}),Y_((s,a)=>(s.push(...a),s)),ho(null),K_(),Et(s=>{if(s===null)return Ga(r);let a=sR(s);return sH(a),X(a)}))}processSegment(e,t,r,i,o,s,a){return $e(t).pipe(Lr(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(Ge(u=>{if(u instanceof Iu)return X(null);throw u}))),bi(c=>!!c),Ge(c=>{if(rR(c))return rH(r,i,o)?X(new Z0):Ga(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return Dr(r)!==s&&(s===we||!Jp(i,o,r))?Ga(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):Ga(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:p,remainingSegments:v}=oR(t,i,o);if(!c)return Ga(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>oH&&(this.allowRedirects=!1));let _=new Ts(o,u,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,RP(i),Dr(i),i.component??i._loadedComponent??null,i,OP(i)),S=Yp(_,a,this.paramsInheritanceStrategy);_.params=Object.freeze(S.params),_.data=Object.freeze(S.data);let R=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,p,_,e);return this.applyRedirects.lineralizeSegments(i,R).pipe(Et(k=>this.processSegment(e,r,t,k.concat(v),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=Z5(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Ft(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ft(({routes:u})=>{let d=r._loadedInjector??e,{parameters:p,consumedSegments:v,remainingSegments:_}=c,S=new Ts(v,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,RP(r),Dr(r),r.component??r._loadedComponent??null,r,OP(r)),R=Yp(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(R.params),S.data=Object.freeze(R.data);let{segmentGroup:k,slicedSegments:G}=PP(t,v,_,u);if(G.length===0&&k.hasChildren())return this.processChildren(d,u,k,S).pipe(de(Z=>new zn(S,Z)));if(u.length===0&&G.length===0)return X(new zn(S,[]));let te=Dr(r)===o;return this.processSegment(d,u,k,G,te?we:o,!0,S).pipe(de(Z=>new zn(S,Z instanceof zn?[Z]:[])))}))):Ga(t)))}getChildConfig(e,t,r){return t.children?X({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?X({routes:t._loadedRoutes,injector:t._loadedInjector}):G5(e,t,r,this.urlSerializer).pipe(Et(i=>i?this.configLoader.loadChildren(e,t).pipe(Zt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):Q5(t))):X({routes:[],injector:e})}};function sH(n){n.sort((e,t)=>e.value.outlet===we?-1:t.value.outlet===we?1:e.value.outlet.localeCompare(t.value.outlet))}function aH(n){let e=n.value.routeConfig;return e&&e.path===""}function sR(n){let e=[],t=new Set;for(let r of n){if(!aH(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=sR(r.children);e.push(new zn(r.value,i))}return e.filter(r=>!t.has(r))}function RP(n){return n.data||{}}function OP(n){return n.resolve||{}}function cH(n,e,t,r,i,o){return Et(s=>iH(n,e,t,r,s.extractedUrl,i,o).pipe(de(({state:a,tree:c})=>ne(L({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function lH(n,e){return Et(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return X(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of aR(c))s.add(u);let a=0;return $e(s).pipe(Lr(c=>o.has(c)?uH(c,r,n,e):(c.data=Yp(c,c.parent,n).resolve,X(void 0))),Zt(()=>a++),Ea(1),Et(c=>a===s.size?X(t):cn))})}function aR(n){let e=n.children.map(t=>aR(t)).flat();return[n,...e]}function uH(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!XP(i)&&(o[Du]=i.title),dH(o,n,e,r).pipe(de(s=>(n._resolvedData=s,n.data=Yp(n,n.parent,t).resolve,null)))}function dH(n,e,t,r){let i=B0(n);if(i.length===0)return X({});let o={};return $e(i).pipe(Et(s=>hH(n[s],e,t,r).pipe(bi(),Zt(a=>{if(a instanceof tc)throw Qp(new bo,a);o[s]=a}))),Ea(1),de(()=>o),Ge(s=>rR(s)?cn:St(s)))}function hH(n,e,t,r){let i=Su(e)??r,o=rc(n,i),s=o.resolve?o.resolve(e,t):Ut(i,()=>o(e,t));return Co(s)}function V0(n){return Ft(e=>{let t=n(e);return t?$e(t).pipe(de(()=>e)):X(e)})}var rw=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===we);return r}getResolvedTitleForRoute(t){return t.data[Du]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>I(cR),providedIn:"root"})}return n})(),cR=(()=>{class n extends rw{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Y(DP))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xs=new H("",{providedIn:"root",factory:()=>({})}),Ms=new H(""),em=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=I(RM);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return X(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Co(t.loadComponent()).pipe(de(uR),Zt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Qo(()=>{this.componentLoaders.delete(t)})),i=new _a(r,()=>new fe).pipe(va());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return X({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=lR(r,this.compiler,t,this.onLoadEndListener).pipe(Qo(()=>{this.childrenLoaders.delete(r)})),s=new _a(o,()=>new fe).pipe(va());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lR(n,e,t,r){return Co(n.loadChildren()).pipe(de(uR),Et(i=>i instanceof Zb||Array.isArray(i)?X(i):$e(e.compileModuleAsync(i))),de(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Ms,[],{optional:!0,self:!0}).flat()),{routes:s.map(nw),injector:o}}))}function fH(n){return n&&typeof n=="object"&&"default"in n}function uR(n){return fH(n)?n.default:n}var tm=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>I(pH),providedIn:"root"})}return n})(),pH=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),iw=new H(""),ow=new H("");function dR(n,e,t){let r=n.get(ow),i=n.get(Ie);return n.get(ce).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),mH(n))),{onViewTransitionCreated:c}=r;return c&&Ut(n,()=>c({transition:a,from:e,to:t})),s})}function mH(n){return new Promise(e=>{gs({read:()=>setTimeout(e)},{injector:n})})}var sw=new H(""),nm=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new fe;transitionAbortSubject=new fe;configLoader=I(em);environmentInjector=I(dt);destroyRef=I(fs);urlSerializer=I(Ss);rootContexts=I(As);location=I(Wr);inputBindingEnabled=I(xu,{optional:!0})!==null;titleStrategy=I(rw);options=I(xs,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=I(tm);createViewTransition=I(iw,{optional:!0});navigationErrorHandler=I(sw,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>X(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Up(i)),r=i=>this.events.next(new $p(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ne(L({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new it(null),this.transitions.pipe(pt(r=>r!==null),Ft(r=>{let i=!1,o=!1;return X(r).pipe(Ft(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",kn.SupersededByNewNavigation),cn;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ne(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&c!=="reload"){let u="";return this.events.next(new Xr(s.id,this.urlSerializer.serialize(s.rawUrl),u,Za.IgnoredSameUrlNavigation)),s.resolve(!1),cn}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return X(s).pipe(Ft(u=>(this.events.next(new Eo(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?cn:Promise.resolve(u))),cH(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Zt(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=ne(L({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let d=new yu(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:d,source:p,restoredState:v,extras:_}=s,S=new Eo(u,this.urlSerializer.serialize(d),p,v);this.events.next(S);let R=QP(this.rootComponentType).snapshot;return this.currentTransition=r=ne(L({},s),{targetSnapshot:R,urlAfterRedirects:d,extras:ne(L({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,X(r)}else{let u="";return this.events.next(new Xr(s.id,this.urlSerializer.serialize(s.extractedUrl),u,Za.IgnoredByUrlHandlingStrategy)),s.resolve(!1),cn}}),Zt(s=>{let a=new Lp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),de(s=>(this.currentTransition=r=ne(L({},s),{guards:A5(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),j5(this.environmentInjector,s=>this.events.next(s)),Zt(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Qp(this.urlSerializer,s.guardsResult);let a=new Vp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),pt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",kn.GuardRejected),!1)),V0(s=>{if(s.guards.canActivateChecks.length!==0)return X(s).pipe(Zt(a=>{let c=new jp(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),Ft(a=>{let c=!1;return X(a).pipe(lH(this.paramsInheritanceStrategy,this.environmentInjector),Zt({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",kn.NoDataFromResolver)}}))}),Zt(a=>{let c=new Bp(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),V0(s=>{let a=c=>{let u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(Zt(d=>{c.component=d}),de(()=>{})));for(let d of c.children)u.push(...a(d));return u};return Yo(a(s.targetSnapshot.root)).pipe(ho(null),mt(1))}),V0(()=>this.afterPreactivation()),Ft(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?$e(c).pipe(de(()=>r)):X(r)}),de(s=>{let a=C5(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ne(L({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Zt(()=>{this.events.next(new bu)}),S5(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),mt(1),Zt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ar(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Zn(this.transitionAbortSubject.pipe(Zt(s=>{throw s}))),Qo(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",kn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ge(s=>{if(this.destroyed)return r.resolve(!1),cn;if(o=!0,nR(s))this.events.next(new Qr(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),D5(s)?this.events.next(new ec(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Xa(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=Ut(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof tc){let{message:u,cancellationCode:d}=Qp(this.urlSerializer,c);this.events.next(new Qr(r.id,this.urlSerializer.serialize(r.extractedUrl),u,d)),this.events.next(new ec(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return cn}))}))}cancelNavigationTransition(t,r,i){let o=new Qr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gH(n){return n!==kp}var hR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>I(vH),providedIn:"root"})}return n})(),Xp=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},vH=(()=>{class n extends Xp{static \u0275fac=(()=>{let t;return function(i){return(t||(t=yt(n)))(i||n)}})();static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fR=(()=>{class n{urlSerializer=I(Ss);options=I(xs,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=I(Wr);urlHandlingStrategy=I(tm);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Zr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Zr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=QP(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>I(_H),providedIn:"root"})}return n})(),_H=(()=>{class n extends fR{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Eo?this.updateStateMemento():t instanceof Xr?this.commitTransition(r):t instanceof yu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof bu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Qr&&(t.code===kn.GuardRejected||t.code===kn.NoDataFromResolver)?this.restoreHistory(r):t instanceof Xa?this.restoreHistory(r,!0):t instanceof ar&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=L(L({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=L(L({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=yt(n)))(i||n)}})();static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rm(n,e){n.events.pipe(pt(t=>t instanceof ar||t instanceof Qr||t instanceof Xa||t instanceof Xr),de(t=>t instanceof ar||t instanceof Xr?0:(t instanceof Qr?t.code===kn.Redirect||t.code===kn.SupersededByNewNavigation:!1)?2:1),pt(t=>t!==2),mt(1)).subscribe(()=>{e()})}var yH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ae=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=I(hM);stateManager=I(fR);options=I(xs,{optional:!0})||{};pendingTasks=I(Pi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=I(nm);urlSerializer=I(Ss);location=I(Wr);urlHandlingStrategy=I(tm);_events=new fe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=I(hR);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=I(Ms,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!I(xu,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new rt;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Qr&&r.code!==kn.Redirect&&r.code!==kn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ar)this.navigated=!0;else if(r instanceof ec){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||gH(i.source)},s);this.scheduleNavigation(a,kp,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}EH(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),kp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=L({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(nw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let p;try{let v=i?i.snapshot:this.routerState.snapshot.root;p=WP(v)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return GP(p,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=wo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,kp,null,r)}navigate(t,r={skipLocationChange:!1}){return wH(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=L({},yH):r===!1?i=L({},bH):i=r,wo(t))return SP(this.currentUrlTree,t,i);let o=this.parseUrl(t);return SP(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((p,v)=>{a=p,c=v});let d=this.pendingTasks.add();return rm(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wH(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new K(4008,!1)}function EH(n){return!(n instanceof bu)&&!(n instanceof ec)}var im=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new fe;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof ar&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(wo(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:Dx(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:wo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(j(Ae),j(dn),Tb("tabindex"),j(Er),j(et),j(rr))};static \u0275dir=he({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&z("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&$n("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",tn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",tn],replaceUrl:[2,"replaceUrl","replaceUrl",tn],routerLink:"routerLink"},features:[Un]})}return n})();var Pu=class{};var pR=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(pt(t=>t instanceof ar),Lr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Gl(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return $e(i).pipe(lo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=X(null);let o=i.pipe(Et(s=>s===null?X(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return $e([o,s]).pipe(lo())}else return o})}static \u0275fac=function(r){return new(r||n)(Y(Ae),Y(dt),Y(Pu),Y(em))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mR=new H(""),CH=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Eo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ar?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Xr&&t.code===Za.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ja&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ja(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){eM()};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();function cw(n,...e){return Si([{provide:Ms,multi:!0,useValue:n},[],{provide:dn,useFactory:gR,deps:[Ae]},{provide:Jf,multi:!0,useFactory:vR},e.map(t=>t.\u0275providers)])}function gR(n){return n.routerState.root}function ic(n,e){return{\u0275kind:n,\u0275providers:e}}function vR(){let n=I(Le);return e=>{let t=n.get(wr);if(e!==t.components[0])return;let r=n.get(Ae),i=n.get(_R);n.get(lw)===1&&r.initialNavigation(),n.get(wR,null,Ee.Optional)?.setUpPreloading(),n.get(mR,null,Ee.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var _R=new H("",{factory:()=>new fe}),lw=new H("",{providedIn:"root",factory:()=>1});function yR(){let n=[{provide:lw,useValue:0},e0(()=>{let e=I(Le);return e.get(l0,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(Ae),o=e.get(_R);rm(i,()=>{r(!0)}),e.get(nm).afterPreactivation=()=>(r(!0),o.closed?X(void 0):o),i.initialNavigation()}))})];return ic(2,n)}function bR(){let n=[e0(()=>{I(Ae).setUpLocationChangeListener()}),{provide:lw,useValue:2}];return ic(3,n)}var wR=new H("");function ER(n){return ic(0,[{provide:wR,useExisting:pR},{provide:Pu,useExisting:n}])}function uw(){return ic(6,[{provide:rr,useClass:gp}])}function om(){return ic(8,[ew,{provide:xu,useExisting:ew}])}function CR(n){ms("NgRouterViewTransitions");let e=[{provide:iw,useValue:dR},{provide:ow,useValue:L({skipNextTransition:!!n?.skipInitialTransition},n)}];return ic(9,e)}var IR=[Wr,{provide:Ss,useClass:bo},Ae,As,{provide:dn,useFactory:gR,deps:[Ae]},em,[]],Ps=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[IR,[],{provide:Ms,multi:!0,useValue:t},[],r?.errorHandler?{provide:sw,useValue:r.errorHandler}:[],{provide:xs,useValue:r||{}},r?.useHash?TH():DH(),IH(),r?.preloadingStrategy?ER(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?SH(r):[],r?.bindToComponentInputs?om().\u0275providers:[],r?.enableViewTransitions?CR().\u0275providers:[],AH()]}}static forChild(t){return{ngModule:n,providers:[{provide:Ms,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=en({type:n});static \u0275inj=Jt({})}return n})();function IH(){return{provide:mR,useFactory:()=>{let n=I(oP),e=I(ce),t=I(xs),r=I(nm),i=I(Ss);return t.scrollOffset&&n.setOffset(t.scrollOffset),new CH(i,r,n,e,t)}}}function TH(){return{provide:rr,useClass:gp}}function DH(){return{provide:rr,useClass:sp}}function SH(n){return[n.initialNavigation==="disabled"?bR().\u0275providers:[],n.initialNavigation==="enabledBlocking"?yR().\u0275providers:[]]}var aw=new H("");function AH(){return[{provide:aw,useFactory:vR},{provide:Jf,multi:!0,useExisting:aw}]}var kR=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(j(Er),j(et))};static \u0275dir=he({type:n})}return n})(),Vu=(()=>{class n extends kR{static \u0275fac=(()=>{let t;return function(i){return(t||(t=yt(n)))(i||n)}})();static \u0275dir=he({type:n,features:[qe]})}return n})(),Os=new H(""),xH={provide:Os,useExisting:At(()=>pw),multi:!0},pw=(()=>{class n extends Vu{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=yt(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&z("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[It([xH]),qe]})}return n})(),MH={provide:Os,useExisting:At(()=>Mt),multi:!0};function PH(){let n=nr()?nr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var RH=new H(""),Mt=(()=>{class n extends kR{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!PH())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(j(Er),j(et),j(RH,8))};static \u0275dir=he({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&z("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[It([MH]),qe]})}return n})();function mw(n){return n==null||gw(n)===0}function gw(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Sr=new H(""),lc=new H(""),OH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ze=class{static min(e){return NR(e)}static max(e){return FR(e)}static required(e){return LR(e)}static requiredTrue(e){return kH(e)}static email(e){return VR(e)}static minLength(e){return jR(e)}static maxLength(e){return NH(e)}static pattern(e){return FH(e)}static nullValidator(e){return am()}static compose(e){return qR(e)}static composeAsync(e){return WR(e)}};function NR(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function FR(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function LR(n){return mw(n.value)?{required:!0}:null}function kH(n){return n.value===!0?null:{required:!0}}function VR(n){return mw(n.value)||OH.test(n.value)?null:{email:!0}}function jR(n){return e=>{let t=e.value?.length??gw(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function NH(n){return e=>{let t=e.value?.length??gw(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function FH(n){if(!n)return am;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(mw(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function am(n){return null}function BR(n){return n!=null}function UR(n){return vo(n)?$e(n):n}function $R(n){let e={};return n.forEach(t=>{e=t!=null?L(L({},e),t):e}),Object.keys(e).length===0?null:e}function HR(n,e){return e.map(t=>t(n))}function LH(n){return!n.validate}function zR(n){return n.map(e=>LH(e)?e:t=>e.validate(t))}function qR(n){if(!n)return null;let e=n.filter(BR);return e.length==0?null:function(t){return $R(HR(t,e))}}function vw(n){return n!=null?qR(zR(n)):null}function WR(n){if(!n)return null;let e=n.filter(BR);return e.length==0?null:function(t){let r=HR(t,e).map(UR);return q_(r).pipe(de($R))}}function _w(n){return n!=null?WR(zR(n)):null}function TR(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function GR(n){return n._rawValidators}function KR(n){return n._rawAsyncValidators}function dw(n){return n?Array.isArray(n)?n:[n]:[]}function cm(n,e){return Array.isArray(n)?n.includes(e):n===e}function DR(n,e){let t=dw(e);return dw(n).forEach(i=>{cm(t,i)||t.push(i)}),t}function SR(n,e){return dw(e).filter(t=>!cm(n,t))}var lm=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=vw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=_w(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},En=class extends lm{name;get formDirective(){return null}get path(){return null}},Rs=class extends lm{_parent=null;name=null;valueAccessor=null},um=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},VH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},jse=ne(L({},VH),{"[class.ng-submitted]":"isSubmitted"}),zt=(()=>{class n extends um{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(j(Rs,2))};static \u0275dir=he({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ye("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[qe]})}return n})(),cr=(()=>{class n extends um{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(j(En,10))};static \u0275dir=he({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ye("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[qe]})}return n})();var Ru="VALID",sm="INVALID",oc="PENDING",Ou="DISABLED",Io=class{},dm=class extends Io{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Nu=class extends Io{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Fu=class extends Io{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},sc=class extends Io{status;source;constructor(e,t){super(),this.status=e,this.source=t}},hm=class extends Io{source;constructor(e){super(),this.source=e}},fm=class extends Io{source;constructor(e){super(),this.source=e}};function yw(n){return(vm(n)?n.validators:n)||null}function jH(n){return Array.isArray(n)?vw(n):n||null}function bw(n,e){return(vm(e)?e.asyncValidators:n)||null}function BH(n){return Array.isArray(n)?_w(n):n||null}function vm(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function YR(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new K(1e3,"");if(!r[t])throw new K(1001,"")}function QR(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new K(1002,"")})}var ac=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return wn(this.statusReactive)}set status(e){wn(()=>this.statusReactive.set(e))}_status=bs(()=>this.statusReactive());statusReactive=ps(void 0);get valid(){return this.status===Ru}get invalid(){return this.status===sm}get pending(){return this.status==oc}get disabled(){return this.status===Ou}get enabled(){return this.status!==Ou}errors;get pristine(){return wn(this.pristineReactive)}set pristine(e){wn(()=>this.pristineReactive.set(e))}_pristine=bs(()=>this.pristineReactive());pristineReactive=ps(!0);get dirty(){return!this.pristine}get touched(){return wn(this.touchedReactive)}set touched(e){wn(()=>this.touchedReactive.set(e))}_touched=bs(()=>this.touchedReactive());touchedReactive=ps(!1);get untouched(){return!this.touched}_events=new fe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(DR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(DR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(SR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(SR(e,this._rawAsyncValidators))}hasValidator(e){return cm(this._rawValidators,e)}hasAsyncValidator(e){return cm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ne(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Fu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Fu(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ne(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Nu(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Nu(!0,r))}markAsPending(e={}){this.status=oc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new sc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ne(L({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ou,this.errors=null,this._forEachChild(i=>{i.disable(ne(L({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new dm(this.value,r)),this._events.next(new sc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ne(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ru,this._forEachChild(r=>{r.enable(ne(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ne(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ru||this.status===oc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new dm(this.value,t)),this._events.next(new sc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ne(L({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ou:Ru}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=oc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=UR(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new sc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Xe,this.statusChanges=new Xe}_calculateStatus(){return this._allControlsDisabled()?Ou:this.errors?sm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(oc)?oc:this._anyControlsHaveStatus(sm)?sm:Ru}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Nu(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Fu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){vm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=jH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=BH(this._rawAsyncValidators)}},cc=class extends ac{constructor(e,t,r){super(yw(t),bw(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){QR(this,!0,e),Object.keys(e).forEach(r=>{YR(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var hw=class extends cc{};var ju=new H("",{providedIn:"root",factory:()=>_m}),_m="always";function ym(n,e){return[...e.path,n]}function pm(n,e,t=_m){ww(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),$H(n,e),zH(n,e),HH(n,e),UH(n,e)}function AR(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),gm(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function mm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function UH(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function ww(n,e){let t=GR(n);e.validator!==null?n.setValidators(TR(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=KR(n);e.asyncValidator!==null?n.setAsyncValidators(TR(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();mm(e._rawValidators,i),mm(e._rawAsyncValidators,i)}function gm(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=GR(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=KR(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return mm(e._rawValidators,r),mm(e._rawAsyncValidators,r),t}function $H(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&ZR(n,e)})}function HH(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&ZR(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function ZR(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function zH(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function XR(n,e){n==null,ww(n,e)}function qH(n,e){return gm(n,e)}function JR(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function WH(n){return Object.getPrototypeOf(n.constructor)===Vu}function eO(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function tO(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Mt?t=o:WH(o)?r=o:i=o}),i||r||t||null}function GH(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var KH={provide:En,useExisting:At(()=>Fi)},ku=Promise.resolve(),Fi=(()=>{class n extends En{callSetDisabledState;get submitted(){return wn(this.submittedReactive)}_submitted=bs(()=>this.submittedReactive());submittedReactive=ps(!1);_directives=new Set;form;ngSubmit=new Xe;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new cc({},vw(t),_w(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ku.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),pm(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ku.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ku.then(()=>{let r=this._findContainer(t.path),i=new cc({});XR(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ku.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){ku.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),eO(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new hm(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new fm(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(j(Sr,10),j(lc,10),j(ju,8))};static \u0275dir=he({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&z("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[It([KH]),qe]})}return n})();function xR(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function MR(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Lu=class extends ac{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(yw(t),bw(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(MR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){xR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){xR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){MR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var YH=n=>n instanceof Lu,QH=(()=>{class n extends En{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ym(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let t;return function(i){return(t||(t=yt(n)))(i||n)}})();static \u0275dir=he({type:n,standalone:!1,features:[qe]})}return n})();var ZH={provide:Rs,useExisting:At(()=>Cn)},PR=Promise.resolve(),Cn=(()=>{class n extends Rs{_changeDetectorRef;callSetDisabledState;control=new Lu;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Xe;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=tO(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),JR(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){pm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){PR.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&tn(r);PR.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?ym(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(j(En,9),j(Sr,10),j(lc,10),j(Os,10),j(Cr,8),j(ju,8))};static \u0275dir=he({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[It([ZH]),qe,Un]})}return n})();var lr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),XH={provide:Os,useExisting:At(()=>Bu),multi:!0},Bu=(()=>{class n extends Vu{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=yt(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&z("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[It([XH]),qe]})}return n})();var nO=new H("");var JH={provide:En,useExisting:At(()=>uc)},uc=(()=>{class n extends En{callSetDisabledState;get submitted(){return wn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=bs(()=>this._submittedReactive());_submittedReactive=ps(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Xe;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(gm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return pm(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){AR(t.control||null,t,!1),GH(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),eO(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new hm(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new fm(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(AR(r||null,t),YH(i)&&(pm(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);XR(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&qH(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ww(this.form,this),this._oldForm&&gm(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(j(Sr,10),j(lc,10),j(ju,8))};static \u0275dir=he({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&z("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[It([JH]),qe,Un]})}return n})(),ez={provide:En,useExisting:At(()=>bm)},bm=(()=>{class n extends QH{name=null;constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){rO(this._parent)}static \u0275fac=function(r){return new(r||n)(j(En,13),j(Sr,10),j(lc,10))};static \u0275dir=he({type:n,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[It([ez]),qe]})}return n})(),tz={provide:En,useExisting:At(()=>wm)},wm=(()=>{class n extends En{_parent;name=null;constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){rO(this._parent),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective?.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ym(this.name==null?this.name:this.name.toString(),this._parent)}static \u0275fac=function(r){return new(r||n)(j(En,13),j(Sr,10),j(lc,10))};static \u0275dir=he({type:n,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[It([tz]),qe]})}return n})();function rO(n){return!(n instanceof bm)&&!(n instanceof uc)&&!(n instanceof wm)}var nz={provide:Rs,useExisting:At(()=>Uu)},Uu=(()=>{class n extends Rs{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new Xe;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=tO(this,o)}ngOnChanges(t){this._added||this._setUpControl(),JR(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return ym(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(j(En,13),j(Sr,10),j(lc,10),j(Os,10),j(nO,8))};static \u0275dir=he({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[It([nz]),qe,Un]})}return n})();var rz={provide:Os,useExisting:At(()=>Jr),multi:!0};function iO(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function iz(n){return n.split(":")[0]}var Jr=(()=>{class n extends Vu{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=iO(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=iz(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=yt(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&z("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[It([rz]),qe]})}return n})(),To=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(iO(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(j(et),j(Er),j(Jr,9))};static \u0275dir=he({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),oz={provide:Os,useExisting:At(()=>oO),multi:!0};function RR(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function sz(n){return n.split(":")[0]}var oO=(()=>{class n extends Vu{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=sz(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=yt(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&z("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[It([oz]),qe]})}return n})(),Do=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(RR(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(RR(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(j(et),j(Er),j(oO,9))};static \u0275dir=he({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function az(n){return typeof n=="number"?n:parseInt(n,10)}function sO(n){return typeof n=="number"?n:parseFloat(n)}var $u=(()=>{class n{_validator=am;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):am,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,features:[Un]})}return n})(),cz={provide:Sr,useExisting:At(()=>Ew),multi:!0},Ew=(()=>{class n extends $u{max;inputName="max";normalizeInput=t=>sO(t);createValidator=t=>FR(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=yt(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&$n("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[It([cz]),qe]})}return n})(),lz={provide:Sr,useExisting:At(()=>Hu),multi:!0},Hu=(()=>{class n extends $u{min;inputName="min";normalizeInput=t=>sO(t);createValidator=t=>NR(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=yt(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&$n("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[It([lz]),qe]})}return n})(),uz={provide:Sr,useExisting:At(()=>Li),multi:!0};var Li=(()=>{class n extends $u{required;inputName="required";normalizeInput=tn;createValidator=t=>LR;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=yt(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&$n("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[It([uz]),qe]})}return n})();var dz={provide:Sr,useExisting:At(()=>Cw),multi:!0},Cw=(()=>{class n extends $u{email;inputName="email";normalizeInput=tn;createValidator=t=>VR;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=yt(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},standalone:!1,features:[It([dz]),qe]})}return n})(),hz={provide:Sr,useExisting:At(()=>Iw),multi:!0},Iw=(()=>{class n extends $u{minlength;inputName="minlength";normalizeInput=t=>az(t);createValidator=t=>jR(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=yt(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&$n("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[It([hz]),qe]})}return n})();var aO=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=en({type:n});static \u0275inj=Jt({})}return n})(),fw=class extends ac{constructor(e,t,r){super(yw(t),bw(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){QR(this,!1,e),e.forEach((r,i)=>{YR(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function OR(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Em=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return OR(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new cc(i,o)}record(t,r=null){let i=this._reduceControls(t);return new hw(i,r)}control(t,r,i){let o={};return this.useNonNullable?(OR(r)?o=r:(o.validators=r,o.asyncValidators=i),new Lu(t,ne(L({},o),{nonNullable:!0}))):new Lu(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new fw(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Lu)return t;if(t instanceof ac)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Nn=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ju,useValue:t.callSetDisabledState??_m}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=en({type:n});static \u0275inj=Jt({imports:[aO]})}return n})(),dc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:nO,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ju,useValue:t.callSetDisabledState??_m}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=en({type:n});static \u0275inj=Jt({imports:[aO]})}return n})();var cO=()=>{};var dO=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},fz=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Cm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,d=o>>2,p=(o&3)<<4|a>>4,v=(a&15)<<2|u>>6,_=u&63;c||(_=64,s||(v=64)),r.push(t[d],t[p],t[v],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(dO(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):fz(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||p==null)throw new Dw;let v=o<<2|a>>4;if(r.push(v),u!==64){let _=a<<4&240|u>>2;if(r.push(_),p!==64){let S=u<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Dw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},pz=function(n){let e=dO(n);return Cm.encodeByteArray(e,!0)},qu=function(n){return pz(n).replace(/\./g,"")},Im=function(n){try{return Cm.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Aw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var mz=()=>Aw().__FIREBASE_DEFAULTS__,gz=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},vz=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Im(n[1]);return e&&JSON.parse(e)},Tm=()=>{try{return cO()||mz()||gz()||vz()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},xw=n=>{var e,t;return(t=(e=Tm())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},hO=n=>{let e=xw(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Mw=()=>{var n;return(n=Tm())===null||n===void 0?void 0:n.config},Pw=n=>{var e;return(e=Tm())===null||e===void 0?void 0:e[`_${n}`]};var ks=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Ns(n){return n.endsWith(".cloudworkstations.dev")}function Dm(n){return w(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function fO(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[qu(JSON.stringify(t)),qu(JSON.stringify(s)),""].join(".")}var zu={};function _z(){let n={prod:[],emulator:[]};for(let e of Object.keys(zu))zu[e]?n.emulator.push(e):n.prod.push(e);return n}function yz(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var lO=!1;function Sm(n,e){if(typeof window>"u"||typeof document>"u"||!Ns(window.location.host)||zu[n]===e||zu[n]||lO)return;zu[n]=e;function t(v){return`__firebase__banner__${v}`}let r="__firebase__banner",o=_z().prod.length>0;function s(){let v=document.getElementById(r);v&&v.remove()}function a(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function c(v,_){v.setAttribute("width","24"),v.setAttribute("id",_),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function u(){let v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{lO=!0,s()},v}function d(v,_){v.setAttribute("id",_),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){let v=yz(r),_=t("text"),S=document.getElementById(_)||document.createElement("span"),R=t("learnmore"),k=document.getElementById(R)||document.createElement("a"),G=t("preprendIcon"),te=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){let Z=v.element;a(Z),d(k,R);let Ne=u();c(te,G),Z.append(te,S,k,Ne),document.body.appendChild(Z)}o?(S.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function bz(){var n;let e=(n=Tm())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gO(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function vO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _O(){let n=qt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function yO(){return!bz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wu(){try{return typeof indexedDB=="object"}catch{return!1}}function bO(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var wz="FirebaseError",Gn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=wz,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ar.prototype.create)}},Ar=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Ez(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Gn(i,a,r)}};function Ez(n,e){return n.replace(Cz,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Cz=/\{\$([^}]+)}/g;function wO(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ei(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(uO(o)&&uO(s)){if(!ei(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function uO(n){return n!==null&&typeof n=="object"}function Gu(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hc(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function fc(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function EO(n,e){let t=new Sw(n,e);return t.subscribe.bind(t)}var Sw=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Iz(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Tw),i.error===void 0&&(i.error=Tw),i.complete===void 0&&(i.complete=Tw);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Iz(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Tw(){}var zse=4*60*60*1e3;function Wt(n){return n&&n._delegate?n._delegate:n}var In=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Fs="[DEFAULT]";var Rw=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ks;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Dz(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Tz(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Tz(n){return n===Fs?void 0:n}function Dz(n){return n.instantiationMode==="EAGER"}var Am=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Rw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Sz=[],Oe=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Oe||{}),Az={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},xz=Oe.INFO,Mz={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},Pz=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=Mz[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ti=class{constructor(e){this.name=e,this._logLevel=xz,this._logHandler=Pz,this._userLogHandler=null,Sz.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Az[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}};var Rz=(n,e)=>e.some(t=>n instanceof t),CO,IO;function Oz(){return CO||(CO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kz(){return IO||(IO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var TO=new WeakMap,kw=new WeakMap,DO=new WeakMap,Ow=new WeakMap,Fw=new WeakMap;function Nz(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(ni(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&TO.set(t,n)}).catch(()=>{}),Fw.set(e,n),e}function Fz(n){if(kw.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});kw.set(n,e)}var Nw={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return kw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||DO.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ni(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function SO(n){Nw=n(Nw)}function Lz(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(xm(this),e,...t);return DO.set(r,e.sort?e.sort():[e]),ni(r)}:kz().includes(n)?function(...e){return n.apply(xm(this),e),ni(TO.get(this))}:function(...e){return ni(n.apply(xm(this),e))}}function Vz(n){return typeof n=="function"?Lz(n):(n instanceof IDBTransaction&&Fz(n),Rz(n,Oz())?new Proxy(n,Nw):n)}function ni(n){if(n instanceof IDBRequest)return Nz(n);if(Ow.has(n))return Ow.get(n);let e=Vz(n);return e!==n&&(Ow.set(n,e),Fw.set(e,n)),e}var xm=n=>Fw.get(n);function xO(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=ni(s);return r&&s.addEventListener("upgradeneeded",c=>{r(ni(s.result),c.oldVersion,c.newVersion,ni(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var jz=["get","getKey","getAll","getAllKeys","count"],Bz=["put","add","delete","clear"],Lw=new Map;function AO(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Lw.get(e))return Lw.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Bz.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jz.includes(t)))return;let o=function(s,...a){return w(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&c.done]))[0]})};return Lw.set(e,o),o}SO(n=>ne(L({},n),{get:(e,t,r)=>AO(e,t)||n.get(e,t,r),has:(e,t)=>!!AO(e,t)||n.has(e,t)}));var jw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Uz(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Uz(n){let e=n.getComponent();return e?.type==="VERSION"}var Bw="@firebase/app",MO="0.13.0";var ji=new ti("@firebase/app"),$z="@firebase/app-compat",Hz="@firebase/analytics-compat",zz="@firebase/analytics",qz="@firebase/app-check-compat",Wz="@firebase/app-check",Gz="@firebase/auth",Kz="@firebase/auth-compat",Yz="@firebase/database",Qz="@firebase/data-connect",Zz="@firebase/database-compat",Xz="@firebase/functions",Jz="@firebase/functions-compat",e8="@firebase/installations",t8="@firebase/installations-compat",n8="@firebase/messaging",r8="@firebase/messaging-compat",i8="@firebase/performance",o8="@firebase/performance-compat",s8="@firebase/remote-config",a8="@firebase/remote-config-compat",c8="@firebase/storage",l8="@firebase/storage-compat",u8="@firebase/firestore",d8="@firebase/ai",h8="@firebase/firestore-compat",f8="firebase",p8="11.8.0";var Uw="[DEFAULT]",m8={[Bw]:"fire-core",[$z]:"fire-core-compat",[zz]:"fire-analytics",[Hz]:"fire-analytics-compat",[Wz]:"fire-app-check",[qz]:"fire-app-check-compat",[Gz]:"fire-auth",[Kz]:"fire-auth-compat",[Yz]:"fire-rtdb",[Qz]:"fire-data-connect",[Zz]:"fire-rtdb-compat",[Xz]:"fire-fn",[Jz]:"fire-fn-compat",[e8]:"fire-iid",[t8]:"fire-iid-compat",[n8]:"fire-fcm",[r8]:"fire-fcm-compat",[i8]:"fire-perf",[o8]:"fire-perf-compat",[s8]:"fire-rc",[a8]:"fire-rc-compat",[c8]:"fire-gcs",[l8]:"fire-gcs-compat",[u8]:"fire-fst",[h8]:"fire-fst-compat",[d8]:"fire-vertex","fire-js":"fire-js",[f8]:"fire-js-all"};var Ku=new Map,g8=new Map,$w=new Map;function PO(n,e){try{n.container.addComponent(e)}catch(t){ji.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function xr(n){let e=n.name;if($w.has(e))return ji.debug(`There were multiple attempts to register component ${e}.`),!1;$w.set(e,n);for(let t of Ku.values())PO(t,n);for(let t of g8.values())PO(t,n);return!0}function pc(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Fn(n){return n==null?!1:n.settings!==void 0}var v8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},So=new Ar("app","Firebase",v8);var Hw=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new In("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw So.create("app-deleted",{appName:this._name})}};var Ao=p8;function Qu(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Uw,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw So.create("bad-app-name",{appName:String(i)});if(t||(t=Mw()),!t)throw So.create("no-options");let o=Ku.get(i);if(o){if(ei(t,o.options)&&ei(r,o.config))return o;throw So.create("duplicate-app",{appName:i})}let s=new Am(i);for(let c of $w.values())s.addComponent(c);let a=new Hw(t,r,s);return Ku.set(i,a),a}function Ls(n=Uw){let e=Ku.get(n);if(!e&&n===Uw&&Mw())return Qu();if(!e)throw So.create("no-app",{appName:n});return e}function Mm(){return Array.from(Ku.values())}function Pt(n,e,t){var r;let i=(r=m8[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ji.warn(a.join(" "));return}xr(new In(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var _8="firebase-heartbeat-database",y8=1,Yu="firebase-heartbeat-store",Vw=null;function NO(){return Vw||(Vw=xO(_8,y8,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Yu)}catch(t){console.warn(t)}}}}).catch(n=>{throw So.create("idb-open",{originalErrorMessage:n.message})})),Vw}function b8(n){return w(this,null,function*(){try{let t=(yield NO()).transaction(Yu),r=yield t.objectStore(Yu).get(FO(n));return yield t.done,r}catch(e){if(e instanceof Gn)ji.warn(e.message);else{let t=So.create("idb-get",{originalErrorMessage:e?.message});ji.warn(t.message)}}})}function RO(n,e){return w(this,null,function*(){try{let r=(yield NO()).transaction(Yu,"readwrite");yield r.objectStore(Yu).put(e,FO(n)),yield r.done}catch(t){if(t instanceof Gn)ji.warn(t.message);else{let r=So.create("idb-set",{originalErrorMessage:t?.message});ji.warn(r.message)}}})}function FO(n){return`${n.name}!${n.options.appId}`}var w8=1024,E8=30,zw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new qw(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=OO();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>E8){let s=I8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ji.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=OO(),{heartbeatsToSend:r,unsentEntries:i}=C8(this._heartbeatsCache.heartbeats),o=qu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ji.warn(t),""}})}};function OO(){return new Date().toISOString().substring(0,10)}function C8(n,e=w8){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),kO(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),kO(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var qw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return Wu()?bO().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield b8(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return RO(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return RO(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function kO(n){return qu(JSON.stringify({version:2,heartbeats:n})).length}function I8(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function T8(n){xr(new In("platform-logger",e=>new jw(e),"PRIVATE")),xr(new In("heartbeat",e=>new zw(e),"PRIVATE")),Pt(Bw,MO,n),Pt(Bw,MO,"esm2017"),Pt("fire-js","")}T8("");function XO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var JO=XO,ek=new Ar("auth","Firebase",XO());var Fm=new ti("@firebase/auth");function D8(n,...e){Fm.logLevel<=Oe.WARN&&Fm.warn(`Auth (${Ao}): ${n}`,...e)}function Rm(n,...e){Fm.logLevel<=Oe.ERROR&&Fm.error(`Auth (${Ao}): ${n}`,...e)}function ii(n,...e){throw mE(n,...e)}function Vs(n,...e){return mE(n,...e)}function tk(n,e,t){let r=Object.assign(Object.assign({},JO()),{[e]:t});return new Ar("auth","Firebase",r).create(e,{appName:n.name})}function $i(n){return tk(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mE(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return ek.create(n,...e)}function se(n,e,...t){if(!n)throw mE(e,...t)}function Bi(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Rm(e),new Error(e)}function Po(n,e){n||Bi(e)}function Yw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function S8(){return LO()==="http:"||LO()==="https:"}function LO(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function A8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(S8()||gO()||"connection"in navigator)?navigator.onLine:!0}function x8(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var js=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Po(t>e,"Short delay should be less than long delay!"),this.isMobile=pO()||vO()}get(){return A8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function gE(n,e){Po(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Lm=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var M8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var P8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],R8=new js(3e4,6e4);function Hi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Mr(o,s,a,c){return w(this,arguments,function*(n,e,t,r,i={}){return nk(n,i,()=>w(null,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let p=Gu(Object.assign({key:n.config.apiKey},d)).slice(1),v=yield n._getAdditionalHeaders();v["Content-Type"]="application/json",n.languageCode&&(v["X-Firebase-Locale"]=n.languageCode);let _=Object.assign({method:e,headers:v},u);return mO()||(_.referrerPolicy="no-referrer"),n.emulatorConfig&&Ns(n.emulatorConfig.host)&&(_.credentials="include"),Lm.fetch()(yield rk(n,n.config.apiHost,t,p),_)}))})}function nk(n,e,t){return w(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},M8),e);try{let i=new Qw(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Pm(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pm(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Pm(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw Pm(n,"user-disabled",s);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw tk(n,d,u);ii(n,d)}}catch(i){if(i instanceof Gn)throw i;ii(n,"network-request-failed",{message:String(i)})}})}function id(o,s,a,c){return w(this,arguments,function*(n,e,t,r,i={}){let u=yield Mr(n,e,t,r,i);return"mfaPendingCredential"in u&&ii(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function rk(n,e,t,r){return w(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?gE(n.config,i):`${n.config.apiScheme}://${i}`;return P8.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function O8(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Qw=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Vs(this.auth,"network-request-failed")),R8.get())})}};function Pm(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Vs(n,e,r);return i.customData._tokenResponse=t,i}function VO(n){return n!==void 0&&n.enterprise!==void 0}var Zw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return O8(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function k8(n,e){return w(this,null,function*(){return Mr(n,"GET","/v2/recaptchaConfig",Hi(n,e))})}function N8(n,e){return w(this,null,function*(){return Mr(n,"POST","/v1/accounts:delete",e)})}function Vm(n,e){return w(this,null,function*(){return Mr(n,"POST","/v1/accounts:lookup",e)})}function Xu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function vE(n,e=!1){return w(this,null,function*(){let t=Wt(n),r=yield t.getIdToken(e),i=_E(r);se(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Xu(Ww(i.auth_time)),issuedAtTime:Xu(Ww(i.iat)),expirationTime:Xu(Ww(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Ww(n){return Number(n)*1e3}function _E(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Rm("JWT malformed, contained fewer than 3 sections"),null;try{let i=Im(t);return i?JSON.parse(i):(Rm("Failed to decode base64 JWT payload"),null)}catch(i){return Rm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function jO(n){let e=_E(n);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Bs(n,e,t=!1){return w(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Gn&&F8(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function F8({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Xw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),t)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ed=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xu(this.lastLoginAt),this.creationTime=Xu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function jm(n){return w(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Bs(n,Vm(t,{idToken:r}));se(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?ik(o.providerUserInfo):[],a=L8(n.providerData,s),c=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,d=c?u:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ed(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,p)})}function yE(n){return w(this,null,function*(){let e=Wt(n);yield jm(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function L8(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ik(n){return n.map(e=>{var{providerId:t}=e,r=z_(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function V8(n,e){return w(this,null,function*(){let t=yield nk(n,{},()=>w(null,null,function*(){let r=Gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield rk(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Lm.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function j8(n,e){return w(this,null,function*(){return Mr(n,"POST","/v2/accounts:revokeToken",Hi(n,e))})}var Ju=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){se(e.length!==0,"internal-error");let t=jO(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return w(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield V8(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(se(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(se(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Bi("not implemented")}};function xo(n,e){se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Mo=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=z_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ed(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let t=yield Bs(this,this.stsTokenManager.getToken(this.auth,e));return se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return vE(this,e)}reload(){return yE(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield jm(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(Fn(this.auth.app))return Promise.reject($i(this.auth));let e=yield this.getIdToken();return yield Bs(this,N8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,u,d;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,_=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=t.photoURL)!==null&&s!==void 0?s:void 0,R=(a=t.tenantId)!==null&&a!==void 0?a:void 0,k=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,G=(u=t.createdAt)!==null&&u!==void 0?u:void 0,te=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:Z,emailVerified:Ne,isAnonymous:Dt,providerData:Ue,stsTokenManager:x}=t;se(Z&&x,e,"internal-error");let C=Ju.fromJSON(this.name,x);se(typeof Z=="string",e,"internal-error"),xo(p,e.name),xo(v,e.name),se(typeof Ne=="boolean",e,"internal-error"),se(typeof Dt=="boolean",e,"internal-error"),xo(_,e.name),xo(S,e.name),xo(R,e.name),xo(k,e.name),xo(G,e.name),xo(te,e.name);let D=new n({uid:Z,auth:e,email:v,emailVerified:Ne,displayName:p,isAnonymous:Dt,photoURL:S,phoneNumber:_,tenantId:R,stsTokenManager:C,createdAt:G,lastLoginAt:te});return Ue&&Array.isArray(Ue)&&(D.providerData=Ue.map(A=>Object.assign({},A))),k&&(D._redirectEventId=k),D}static _fromIdTokenResponse(e,t,r=!1){return w(this,null,function*(){let i=new Ju;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield jm(o),o})}static _fromGetAccountInfoResponse(e,t,r){return w(this,null,function*(){let i=t.users[0];se(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?ik(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Ju;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ed(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var BO=new Map;function Ui(n){Po(n instanceof Function,"Expected a class definition");let e=BO.get(n);return e?(Po(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,BO.set(n,e),e)}var B8=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(t,r){return w(this,null,function*(){this.storage[t]=r})}_get(t){return w(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return w(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Jw=B8;function Om(n,e,t){return`firebase:${n}:${e}:${t}`}var Bm=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Om(this.userKey,i.apiKey,o),this.fullPersistenceKey=Om("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Vm(this.auth,{idToken:e}).catch(()=>{});return t?Mo._fromGetAccountInfoResponse(this.auth,t,e):null}return Mo._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return w(this,null,function*(){if(!t.length)return new n(Ui(Jw),e,r);let i=(yield Promise.all(t.map(u=>w(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||Ui(Jw),s=Om(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let d=yield u._get(s);if(d){let p;if(typeof d=="string"){let v=yield Vm(e,{idToken:d}).catch(()=>{});if(!v)break;p=yield Mo._fromGetAccountInfoResponse(e,v,d)}else p=Mo._fromJSON(e,d);u!==o&&(a=p),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>w(null,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function UO(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ck(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ok(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uk(e))return"Blackberry";if(dk(e))return"Webos";if(sk(e))return"Safari";if((e.includes("chrome/")||ak(e))&&!e.includes("edge/"))return"Chrome";if(lk(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function ok(n=qt()){return/firefox\//i.test(n)}function sk(n=qt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ak(n=qt()){return/crios\//i.test(n)}function ck(n=qt()){return/iemobile/i.test(n)}function lk(n=qt()){return/android/i.test(n)}function uk(n=qt()){return/blackberry/i.test(n)}function dk(n=qt()){return/webos/i.test(n)}function bE(n=qt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function U8(n=qt()){var e;return bE(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $8(){return _O()&&document.documentMode===10}function hk(n=qt()){return bE(n)||lk(n)||dk(n)||uk(n)||/windows phone/i.test(n)||ck(n)}function fk(n,e=[]){let t;switch(n){case"Browser":t=UO(qt());break;case"Worker":t=`${UO(qt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ao}/${r}`}var eE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function H8(t){return w(this,arguments,function*(n,e={}){return Mr(n,"GET","/v2/passwordPolicy",Hi(n,e))})}var z8=6,tE=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:z8,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var nE=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Um(this),this.idTokenSubscription=new Um(this),this.beforeStateQueue=new eE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ek,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ui(t)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Bm.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let t=yield Vm(this,{idToken:e}),r=yield Mo._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var t;if(Fn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield jm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=x8()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(Fn(this.app))return Promise.reject($i(this));let t=e?Wt(e):null;return t&&se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return w(this,null,function*(){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return Fn(this.app)?Promise.reject($i(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Fn(this.app)?Promise.reject($i(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Ui(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield H8(this),t=new tE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ar("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield j8(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Ui(e)||this._popupRedirectResolver;se(t,this,"argument-error"),this.redirectPersistenceManager=yield Bm.create(this,[Ui(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return w(this,null,function*(){var e;if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&D8(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Ro(n){return Wt(n)}var Um=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=EO(t=>this.observer=t)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ym={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function q8(n){Ym=n}function pk(n){return Ym.loadJS(n)}function W8(){return Ym.recaptchaEnterpriseScript}function G8(){return Ym.gapiScript}function mk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var rE=class{constructor(){this.enterprise=new iE}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},iE=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var K8="recaptcha-enterprise",gk="NO_RECAPTCHA",oE=class{constructor(e){this.type=K8,this.auth=Ro(e)}verify(e="verify",t=!1){return w(this,null,function*(){function r(o){return w(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>w(null,null,function*(){k8(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new Zw(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;VO(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(gk)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rE().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&VO(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=W8();c.length!==0&&(c+=a),pk(c).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function Zu(n,e,t,r=!1,i=!1){return w(this,null,function*(){let o=new oE(n),s;if(i)s=gk;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function $m(n,e,t,r,i){return w(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Zu(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>w(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield Zu(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Zu(n,e,t);return r(n,a).catch(c=>w(null,null,function*(){var u;if(((u=n._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let d=yield Zu(n,e,t,!1,!0);return r(n,d)}return Promise.reject(c)}))}else{let a=yield Zu(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function wE(n,e){let t=pc(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(ei(o,e??{}))return i;ii(i,"already-initialized")}return t.initialize({options:e})}function Y8(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ui);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function EE(n,e,t){let r=Ro(n);se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=vk(e),{host:s,port:a}=Q8(e),c=a===null?"":`:${a}`,u={url:`${o}//${s}${c}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),se(ei(u,r.config.emulator)&&ei(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Ns(s)?(Dm(`${o}//${s}${c}`),Sm("Auth",!0)):i||Z8()}function vk(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Q8(n){let e=vk(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:$O(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:$O(s)}}}function $O(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Z8(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var td=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Bi("not implemented")}_getIdTokenResponse(e){return Bi("not implemented")}_linkToIdToken(e,t){return Bi("not implemented")}_getReauthenticationResolver(e){return Bi("not implemented")}};function X8(n,e){return w(this,null,function*(){return Mr(n,"POST","/v1/accounts:update",e)})}function J8(n,e){return w(this,null,function*(){return Mr(n,"POST","/v1/accounts:signUp",e)})}function e6(n,e){return w(this,null,function*(){return id(n,"POST","/v1/accounts:signInWithPassword",Hi(n,e))})}function _k(n,e){return w(this,null,function*(){return Mr(n,"POST","/v1/accounts:sendOobCode",Hi(n,e))})}function t6(n,e){return w(this,null,function*(){return _k(n,e)})}function n6(n,e){return w(this,null,function*(){return _k(n,e)})}function r6(n,e){return w(this,null,function*(){return id(n,"POST","/v1/accounts:signInWithEmailLink",Hi(n,e))})}function i6(n,e){return w(this,null,function*(){return id(n,"POST","/v1/accounts:signInWithEmailLink",Hi(n,e))})}var nd=class n extends td{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $m(e,t,"signInWithPassword",e6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return r6(e,{email:this._email,oobCode:this._password});default:ii(e,"internal-error")}})}_linkToIdToken(e,t){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $m(e,r,"signUpPassword",J8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return i6(e,{idToken:t,email:this._email,oobCode:this._password});default:ii(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Gw(n,e){return w(this,null,function*(){return id(n,"POST","/v1/accounts:signInWithIdp",Hi(n,e))})}function o6(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function s6(n){let e=hc(fc(n)).link,t=e?hc(fc(e)).deep_link_id:null,r=hc(fc(n)).deep_link_id;return(r?hc(fc(r)).link:null)||r||t||e||n}var Hm=class n{constructor(e){var t,r,i,o,s,a;let c=hc(fc(e)),u=(t=c.apiKey)!==null&&t!==void 0?t:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,p=o6((i=c.mode)!==null&&i!==void 0?i:null);se(u&&d&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=d,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=s6(e);try{return new n(t)}catch{return null}}};var yk=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return nd._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Hm.parseLink(r);return se(i,"argument-error"),nd._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),zm=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var sE=class extends zm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function a6(n,e){return w(this,null,function*(){return id(n,"POST","/v1/accounts:signUp",Hi(n,e))})}var mc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return w(this,null,function*(){let o=yield Mo._fromIdTokenResponse(e,r,i),s=HO(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=HO(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function HO(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var aE=class n extends Gn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function bk(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?aE._fromErrorAndOperation(n,o,e,r):o})}function c6(n,e,t=!1){return w(this,null,function*(){let r=yield Bs(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return mc._forOperation(n,"link",r)})}function l6(n,e,t=!1){return w(this,null,function*(){let{auth:r}=n;if(Fn(r.app))return Promise.reject($i(r));let i="reauthenticate";try{let o=yield Bs(n,bk(r,i,e,n),t);se(o.idToken,r,"internal-error");let s=_E(o.idToken);se(s,r,"internal-error");let{sub:a}=s;return se(n.uid===a,r,"user-mismatch"),mc._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&ii(r,"user-mismatch"),o}})}function wk(n,e,t=!1){return w(this,null,function*(){if(Fn(n.app))return Promise.reject($i(n));let r="signIn",i=yield bk(n,r,e),o=yield mc._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function CE(n,e){return w(this,null,function*(){return wk(Ro(n),e)})}function Ek(n,e,t){var r;se(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),se(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),se(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(se(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(se(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function Ck(n){return w(this,null,function*(){let e=Ro(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Qm(n,e,t){return w(this,null,function*(){let r=Ro(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Ek(r,i,t),yield $m(r,i,"getOobCode",n6,"EMAIL_PASSWORD_PROVIDER")})}function Zm(n,e,t){return w(this,null,function*(){if(Fn(n.app))return Promise.reject($i(n));let r=Ro(n),s=yield $m(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",a6,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Ck(n),c}),a=yield mc._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function od(n,e,t){return Fn(n.app)?Promise.reject($i(n)):CE(Wt(n),yk.credential(e,t)).catch(r=>w(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&Ck(n),r}))}function Xm(n,e){return w(this,null,function*(){let t=Wt(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&Ek(t.auth,i,e);let{email:o}=yield t6(t.auth,i);o!==n.email&&(yield n.reload())})}function u6(n,e){return w(this,null,function*(){return Mr(n,"POST","/v1/accounts:update",e)})}function Jm(r,i){return w(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let o=Wt(n),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=yield Bs(o,u6(o.auth,a));o.displayName=c.displayName||null,o.photoURL=c.photoUrl||null;let u=o.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=o.displayName,u.photoURL=o.photoURL),yield o._updateTokensIfNecessary(c)})}function eg(n,e){return d6(Wt(n),null,e)}function d6(n,e,t){return w(this,null,function*(){let{auth:r}=n,o={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);let s=yield Bs(n,X8(r,o));yield n._updateTokensIfNecessary(s,!0)})}function IE(n,e,t,r){return Wt(n).onIdTokenChanged(e,t,r)}function TE(n,e,t){return Wt(n).beforeAuthStateChanged(e,t)}function tg(n,e,t,r){return Wt(n).onAuthStateChanged(e,t,r)}var qm="__sak";var Wm=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qm,"1"),this.storage.removeItem(qm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var h6=1e3,f6=10,p6=(()=>{class n extends Wm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hk(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);$8()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,f6):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},h6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return w(this,null,function*(){yield oo(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return w(this,null,function*(){let r=yield oo(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return w(this,null,function*(){yield oo(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),Ik=p6;var m6=(()=>{class n extends Wm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),DE=m6;function g6(n){return Promise.all(n.map(e=>w(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var v6=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return w(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(d=>w(this,null,function*(){return d(r.origin,s)})),u=yield g6(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Tk(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var cE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=Tk("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let v=p;if(v.data.eventId===u)switch(v.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(v.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function ri(){return window}function _6(n){ri().location.href=n}function Dk(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}function y6(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function b6(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function w6(){return Dk()?self:null}var Sk="firebaseLocalStorageDb",E6=1,Gm="firebaseLocalStorage",Ak="fbase_key",Us=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function ng(n,e){return n.transaction([Gm],e?"readwrite":"readonly").objectStore(Gm)}function C6(){let n=indexedDB.deleteDatabase(Sk);return new Us(n).toPromise()}function lE(){let n=indexedDB.open(Sk,E6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Gm,{keyPath:Ak})}catch(i){t(i)}}),n.addEventListener("success",()=>w(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Gm)?e(r):(r.close(),yield C6(),e(yield lE()))}))})}function zO(n,e,t){return w(this,null,function*(){let r=ng(n,!0).put({[Ak]:e,value:t});return new Us(r).toPromise()})}function I6(n,e){return w(this,null,function*(){let t=ng(n,!1).get(e),r=yield new Us(t).toPromise();return r===void 0?null:r.value})}function qO(n,e){let t=ng(n,!0).delete(e);return new Us(t).toPromise()}var T6=800,D6=3,S6=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield lE(),this.db)})}_withRetries(t){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>D6)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return Dk()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=v6._getInstance(w6()),this.receiver._subscribe("keyChanged",(t,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var t,r;if(this.activeServiceWorker=yield y6(),!this.activeServiceWorker)return;this.sender=new cE(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||b6()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let t=yield lE();return yield zO(t,qm,"1"),yield qO(t,qm),!0}catch{}return!1})}_withPendingWrite(t){return w(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>zO(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return w(this,null,function*(){let r=yield this._withRetries(i=>I6(i,t));return this.localCache[t]=r,r})}_remove(t){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>qO(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return w(this,null,function*(){let t=yield this._withRetries(o=>{let s=ng(o,!1).getAll();return new Us(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),T6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),xk=S6;var _ae=mk("rcb"),yae=new js(3e4,6e4);function A6(n,e){return e?Ui(e):(se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var rd=class extends td{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gw(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Gw(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Gw(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function x6(n){return wk(n.auth,new rd(n),n.bypassAuthState)}function M6(n){let{auth:e,user:t}=n;return se(t,e,"internal-error"),l6(t,new rd(n),n.bypassAuthState)}function P6(n){return w(this,null,function*(){let{auth:e,user:t}=n;return se(t,e,"internal-error"),c6(t,new rd(n),n.bypassAuthState)})}var uE=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return x6;case"linkViaPopup":case"linkViaRedirect":return P6;case"reauthViaPopup":case"reauthViaRedirect":return M6;default:ii(this.auth,"internal-error")}}resolve(e){Po(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Po(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var bae=new js(2e3,1e4);var R6="pendingRedirect",km=new Map,dE=class n extends uE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=km.get(this.auth._key());if(!e){try{let r=(yield O6(this.resolver,this.auth))?yield oo(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}km.set(this.auth._key(),e)}return this.bypassAuthState||km.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return oo(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,oo(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function O6(n,e){return w(this,null,function*(){let t=F6(e),r=N6(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function k6(n,e){km.set(n._key(),e)}function N6(n){return Ui(n._redirectPersistence)}function F6(n){return Om(R6,n.config.apiKey,n.name)}function L6(n,e,t=!1){return w(this,null,function*(){if(Fn(n.app))return Promise.reject($i(n));let r=Ro(n),i=A6(r,e),s=yield new dE(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var V6=10*60*1e3,hE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!j6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Mk(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Vs(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=V6&&this.cachedEventUids.clear(),this.cachedEventUids.has(WO(e))}saveEventToCache(e){this.cachedEventUids.add(WO(e)),this.lastProcessedEventTime=Date.now()}};function WO(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Mk({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function j6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mk(n);default:return!1}}function B6(t){return w(this,arguments,function*(n,e={}){return Mr(n,"GET","/v1/projects",e)})}var U6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$6=/^https?/;function H6(n){return w(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield B6(n);for(let t of e)try{if(z6(t))return}catch{}ii(n,"unauthorized-domain")})}function z6(n){let e=Yw(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!$6.test(t))return!1;if(U6.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var q6=new js(3e4,6e4);function GO(){let n=ri().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function W6(n){return new Promise((e,t)=>{var r,i,o;function s(){GO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GO(),t(Vs(n,"network-request-failed"))},timeout:q6.get()})}if(!((i=(r=ri().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ri().gapi)===null||o===void 0)&&o.load)s();else{let a=mk("iframefcb");return ri()[a]=()=>{gapi.load?s():t(Vs(n,"network-request-failed"))},pk(`${G8()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw Nm=null,e})}var Nm=null;function G6(n){return Nm=Nm||W6(n),Nm}var K6=new js(5e3,15e3),Y6="__/auth/iframe",Q6="emulator/auth/iframe",Z6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},X6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function J6(n){let e=n.config;se(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?gE(e,Q6):`https://${n.config.authDomain}/${Y6}`,r={apiKey:e.apiKey,appName:n.name,v:Ao},i=X6.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Gu(r).slice(1)}`}function eq(n){return w(this,null,function*(){let e=yield G6(n),t=ri().gapi;return se(t,n,"internal-error"),e.open({where:document.body,url:J6(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Z6,dontclear:!0},r=>new Promise((i,o)=>w(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Vs(n,"network-request-failed"),a=ri().setTimeout(()=>{o(s)},K6.get());function c(){ri().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var tq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nq=500,rq=600,iq="_blank",oq="http://localhost",Km=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function sq(n,e,t,r=nq,i=rq){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},tq),{width:r.toString(),height:i.toString(),top:o,left:s}),u=qt().toLowerCase();t&&(a=ak(u)?iq:t),ok(u)&&(e=e||oq,c.scrollbars="yes");let d=Object.entries(c).reduce((v,[_,S])=>`${v}${_}=${S},`,"");if(U8(u)&&a!=="_self")return aq(e||"",a),new Km(null);let p=window.open(e||"",a,d);se(p,n,"popup-blocked");try{p.focus()}catch{}return new Km(p)}function aq(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var cq="__/auth/handler",lq="emulator/auth/handler",uq=encodeURIComponent("fac");function KO(n,e,t,r,i,o){return w(this,null,function*(){se(n.config.authDomain,n,"auth-domain-config-required"),se(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ao,eventId:i};if(e instanceof zm){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",wO(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,p]of Object.entries(o||{}))s[d]=p}if(e instanceof sE){let d=e.getScopes().filter(p=>p!=="");d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield n._getAppCheckToken(),u=c?`#${uq}=${encodeURIComponent(c)}`:"";return`${dq(n)}?${Gu(a).slice(1)}${u}`})}function dq({config:n}){return n.emulator?gE(n,lq):`https://${n.authDomain}/${cq}`}var Kw="webStorageSupport",fE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DE,this._completeRedirectFn=L6,this._overrideRedirectResult=k6}_openPopup(e,t,r,i){return w(this,null,function*(){var o;Po((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield KO(e,t,r,Yw(),i);return sq(e,s,Tk())})}_openRedirect(e,t,r,i){return w(this,null,function*(){yield this._originValidation(e);let o=yield KO(e,t,r,Yw(),i);return _6(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Po(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return w(this,null,function*(){let t=yield eq(e),r=new hE(e);return t.register("authEvent",i=>(se(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Kw,{type:Kw},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Kw];s!==void 0&&t(!!s),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=H6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return hk()||sk()||bE()}},Pk=fE;var YO="@firebase/auth",QO="1.10.6";var pE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function hq(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fq(n){xr(new In("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;se(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fk(n)},u=new nE(r,i,o,c);return Y8(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),xr(new In("auth-internal",e=>{let t=Ro(e.getProvider("auth").getImmediate());return(r=>new pE(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pt(YO,QO,hq(n)),Pt(YO,QO,"esm2017")}var pq=5*60,mq=Pw("authIdTokenMaxAge")||pq,ZO=null,gq=n=>e=>w(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>mq)return;let i=t?.token;ZO!==i&&(ZO=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Pr(n=Ls()){let e=pc(n,"auth");if(e.isInitialized())return e.getImmediate();let t=wE(n,{popupRedirectResolver:Pk,persistence:[xk,Ik,DE]}),r=Pw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=gq(o.toString());TE(t,s,()=>s(t.currentUser)),IE(t,a=>s(a))}}let i=xw("auth");return i&&EE(t,`http://${i}`),t}function vq(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}q8({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Vs("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",vq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fq("Browser");var n9="firebase",r9="11.8.1";Pt(n9,r9,"app");var i9={apiKey:"AIzaSyDnCfzF5psHLcnmbeJGrBuWpxOkUp01Lfo",authDomain:"cocreando-2dbd1.firebaseapp.com",projectId:"cocreando-2dbd1",storageBucket:"cocreando-2dbd1.appspot.com",messagingSenderId:"862709485856",appId:"1:123456789:web:abcd1234"},o9=Qu(i9),Rk=Pr(o9);var Ok=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kk={};var zi,SE;(function(){var n;function e(x,C){function D(){}D.prototype=C.prototype,x.D=C.prototype,x.prototype=new D,x.prototype.constructor=x,x.C=function(A,M,O){for(var T=Array(arguments.length-2),mi=2;mi<arguments.length;mi++)T[mi-2]=arguments[mi];return C.prototype[M].apply(A,T)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,C,D){D||(D=0);var A=Array(16);if(typeof C=="string")for(var M=0;16>M;++M)A[M]=C.charCodeAt(D++)|C.charCodeAt(D++)<<8|C.charCodeAt(D++)<<16|C.charCodeAt(D++)<<24;else for(M=0;16>M;++M)A[M]=C[D++]|C[D++]<<8|C[D++]<<16|C[D++]<<24;C=x.g[0],D=x.g[1],M=x.g[2];var O=x.g[3],T=C+(O^D&(M^O))+A[0]+3614090360&4294967295;C=D+(T<<7&4294967295|T>>>25),T=O+(M^C&(D^M))+A[1]+3905402710&4294967295,O=C+(T<<12&4294967295|T>>>20),T=M+(D^O&(C^D))+A[2]+606105819&4294967295,M=O+(T<<17&4294967295|T>>>15),T=D+(C^M&(O^C))+A[3]+3250441966&4294967295,D=M+(T<<22&4294967295|T>>>10),T=C+(O^D&(M^O))+A[4]+4118548399&4294967295,C=D+(T<<7&4294967295|T>>>25),T=O+(M^C&(D^M))+A[5]+1200080426&4294967295,O=C+(T<<12&4294967295|T>>>20),T=M+(D^O&(C^D))+A[6]+2821735955&4294967295,M=O+(T<<17&4294967295|T>>>15),T=D+(C^M&(O^C))+A[7]+4249261313&4294967295,D=M+(T<<22&4294967295|T>>>10),T=C+(O^D&(M^O))+A[8]+1770035416&4294967295,C=D+(T<<7&4294967295|T>>>25),T=O+(M^C&(D^M))+A[9]+2336552879&4294967295,O=C+(T<<12&4294967295|T>>>20),T=M+(D^O&(C^D))+A[10]+4294925233&4294967295,M=O+(T<<17&4294967295|T>>>15),T=D+(C^M&(O^C))+A[11]+2304563134&4294967295,D=M+(T<<22&4294967295|T>>>10),T=C+(O^D&(M^O))+A[12]+1804603682&4294967295,C=D+(T<<7&4294967295|T>>>25),T=O+(M^C&(D^M))+A[13]+4254626195&4294967295,O=C+(T<<12&4294967295|T>>>20),T=M+(D^O&(C^D))+A[14]+2792965006&4294967295,M=O+(T<<17&4294967295|T>>>15),T=D+(C^M&(O^C))+A[15]+1236535329&4294967295,D=M+(T<<22&4294967295|T>>>10),T=C+(M^O&(D^M))+A[1]+4129170786&4294967295,C=D+(T<<5&4294967295|T>>>27),T=O+(D^M&(C^D))+A[6]+3225465664&4294967295,O=C+(T<<9&4294967295|T>>>23),T=M+(C^D&(O^C))+A[11]+643717713&4294967295,M=O+(T<<14&4294967295|T>>>18),T=D+(O^C&(M^O))+A[0]+3921069994&4294967295,D=M+(T<<20&4294967295|T>>>12),T=C+(M^O&(D^M))+A[5]+3593408605&4294967295,C=D+(T<<5&4294967295|T>>>27),T=O+(D^M&(C^D))+A[10]+38016083&4294967295,O=C+(T<<9&4294967295|T>>>23),T=M+(C^D&(O^C))+A[15]+3634488961&4294967295,M=O+(T<<14&4294967295|T>>>18),T=D+(O^C&(M^O))+A[4]+3889429448&4294967295,D=M+(T<<20&4294967295|T>>>12),T=C+(M^O&(D^M))+A[9]+568446438&4294967295,C=D+(T<<5&4294967295|T>>>27),T=O+(D^M&(C^D))+A[14]+3275163606&4294967295,O=C+(T<<9&4294967295|T>>>23),T=M+(C^D&(O^C))+A[3]+4107603335&4294967295,M=O+(T<<14&4294967295|T>>>18),T=D+(O^C&(M^O))+A[8]+1163531501&4294967295,D=M+(T<<20&4294967295|T>>>12),T=C+(M^O&(D^M))+A[13]+2850285829&4294967295,C=D+(T<<5&4294967295|T>>>27),T=O+(D^M&(C^D))+A[2]+4243563512&4294967295,O=C+(T<<9&4294967295|T>>>23),T=M+(C^D&(O^C))+A[7]+1735328473&4294967295,M=O+(T<<14&4294967295|T>>>18),T=D+(O^C&(M^O))+A[12]+2368359562&4294967295,D=M+(T<<20&4294967295|T>>>12),T=C+(D^M^O)+A[5]+4294588738&4294967295,C=D+(T<<4&4294967295|T>>>28),T=O+(C^D^M)+A[8]+2272392833&4294967295,O=C+(T<<11&4294967295|T>>>21),T=M+(O^C^D)+A[11]+1839030562&4294967295,M=O+(T<<16&4294967295|T>>>16),T=D+(M^O^C)+A[14]+4259657740&4294967295,D=M+(T<<23&4294967295|T>>>9),T=C+(D^M^O)+A[1]+2763975236&4294967295,C=D+(T<<4&4294967295|T>>>28),T=O+(C^D^M)+A[4]+1272893353&4294967295,O=C+(T<<11&4294967295|T>>>21),T=M+(O^C^D)+A[7]+4139469664&4294967295,M=O+(T<<16&4294967295|T>>>16),T=D+(M^O^C)+A[10]+3200236656&4294967295,D=M+(T<<23&4294967295|T>>>9),T=C+(D^M^O)+A[13]+681279174&4294967295,C=D+(T<<4&4294967295|T>>>28),T=O+(C^D^M)+A[0]+3936430074&4294967295,O=C+(T<<11&4294967295|T>>>21),T=M+(O^C^D)+A[3]+3572445317&4294967295,M=O+(T<<16&4294967295|T>>>16),T=D+(M^O^C)+A[6]+76029189&4294967295,D=M+(T<<23&4294967295|T>>>9),T=C+(D^M^O)+A[9]+3654602809&4294967295,C=D+(T<<4&4294967295|T>>>28),T=O+(C^D^M)+A[12]+3873151461&4294967295,O=C+(T<<11&4294967295|T>>>21),T=M+(O^C^D)+A[15]+530742520&4294967295,M=O+(T<<16&4294967295|T>>>16),T=D+(M^O^C)+A[2]+3299628645&4294967295,D=M+(T<<23&4294967295|T>>>9),T=C+(M^(D|~O))+A[0]+4096336452&4294967295,C=D+(T<<6&4294967295|T>>>26),T=O+(D^(C|~M))+A[7]+1126891415&4294967295,O=C+(T<<10&4294967295|T>>>22),T=M+(C^(O|~D))+A[14]+2878612391&4294967295,M=O+(T<<15&4294967295|T>>>17),T=D+(O^(M|~C))+A[5]+4237533241&4294967295,D=M+(T<<21&4294967295|T>>>11),T=C+(M^(D|~O))+A[12]+1700485571&4294967295,C=D+(T<<6&4294967295|T>>>26),T=O+(D^(C|~M))+A[3]+2399980690&4294967295,O=C+(T<<10&4294967295|T>>>22),T=M+(C^(O|~D))+A[10]+4293915773&4294967295,M=O+(T<<15&4294967295|T>>>17),T=D+(O^(M|~C))+A[1]+2240044497&4294967295,D=M+(T<<21&4294967295|T>>>11),T=C+(M^(D|~O))+A[8]+1873313359&4294967295,C=D+(T<<6&4294967295|T>>>26),T=O+(D^(C|~M))+A[15]+4264355552&4294967295,O=C+(T<<10&4294967295|T>>>22),T=M+(C^(O|~D))+A[6]+2734768916&4294967295,M=O+(T<<15&4294967295|T>>>17),T=D+(O^(M|~C))+A[13]+1309151649&4294967295,D=M+(T<<21&4294967295|T>>>11),T=C+(M^(D|~O))+A[4]+4149444226&4294967295,C=D+(T<<6&4294967295|T>>>26),T=O+(D^(C|~M))+A[11]+3174756917&4294967295,O=C+(T<<10&4294967295|T>>>22),T=M+(C^(O|~D))+A[2]+718787259&4294967295,M=O+(T<<15&4294967295|T>>>17),T=D+(O^(M|~C))+A[9]+3951481745&4294967295,x.g[0]=x.g[0]+C&4294967295,x.g[1]=x.g[1]+(M+(T<<21&4294967295|T>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+O&4294967295}r.prototype.u=function(x,C){C===void 0&&(C=x.length);for(var D=C-this.blockSize,A=this.B,M=this.h,O=0;O<C;){if(M==0)for(;O<=D;)i(this,x,O),O+=this.blockSize;if(typeof x=="string"){for(;O<C;)if(A[M++]=x.charCodeAt(O++),M==this.blockSize){i(this,A),M=0;break}}else for(;O<C;)if(A[M++]=x[O++],M==this.blockSize){i(this,A),M=0;break}}this.h=M,this.o+=C},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var C=1;C<x.length-8;++C)x[C]=0;var D=8*this.o;for(C=x.length-8;C<x.length;++C)x[C]=D&255,D/=256;for(this.u(x),x=Array(16),C=D=0;4>C;++C)for(var A=0;32>A;A+=8)x[D++]=this.g[C]>>>A&255;return x};function o(x,C){var D=a;return Object.prototype.hasOwnProperty.call(D,x)?D[x]:D[x]=C(x)}function s(x,C){this.h=C;for(var D=[],A=!0,M=x.length-1;0<=M;M--){var O=x[M]|0;A&&O==C||(D[M]=O,A=!1)}this.g=D}var a={};function c(x){return-128<=x&&128>x?o(x,function(C){return new s([C|0],0>C?-1:0)}):new s([x|0],0>x?-1:0)}function u(x){if(isNaN(x)||!isFinite(x))return p;if(0>x)return k(u(-x));for(var C=[],D=1,A=0;x>=D;A++)C[A]=x/D|0,D*=4294967296;return new s(C,0)}function d(x,C){if(x.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(x.charAt(0)=="-")return k(d(x.substring(1),C));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=u(Math.pow(C,8)),A=p,M=0;M<x.length;M+=8){var O=Math.min(8,x.length-M),T=parseInt(x.substring(M,M+O),C);8>O?(O=u(Math.pow(C,O)),A=A.j(O).add(u(T))):(A=A.j(D),A=A.add(u(T)))}return A}var p=c(0),v=c(1),_=c(16777216);n=s.prototype,n.m=function(){if(R(this))return-k(this).m();for(var x=0,C=1,D=0;D<this.g.length;D++){var A=this.i(D);x+=(0<=A?A:4294967296+A)*C,C*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(S(this))return"0";if(R(this))return"-"+k(this).toString(x);for(var C=u(Math.pow(x,6)),D=this,A="";;){var M=Ne(D,C).g;D=G(D,M.j(C));var O=((0<D.g.length?D.g[0]:D.h)>>>0).toString(x);if(D=M,S(D))return O+A;for(;6>O.length;)O="0"+O;A=O+A}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function S(x){if(x.h!=0)return!1;for(var C=0;C<x.g.length;C++)if(x.g[C]!=0)return!1;return!0}function R(x){return x.h==-1}n.l=function(x){return x=G(this,x),R(x)?-1:S(x)?0:1};function k(x){for(var C=x.g.length,D=[],A=0;A<C;A++)D[A]=~x.g[A];return new s(D,~x.h).add(v)}n.abs=function(){return R(this)?k(this):this},n.add=function(x){for(var C=Math.max(this.g.length,x.g.length),D=[],A=0,M=0;M<=C;M++){var O=A+(this.i(M)&65535)+(x.i(M)&65535),T=(O>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);A=T>>>16,O&=65535,T&=65535,D[M]=T<<16|O}return new s(D,D[D.length-1]&-2147483648?-1:0)};function G(x,C){return x.add(k(C))}n.j=function(x){if(S(this)||S(x))return p;if(R(this))return R(x)?k(this).j(k(x)):k(k(this).j(x));if(R(x))return k(this.j(k(x)));if(0>this.l(_)&&0>x.l(_))return u(this.m()*x.m());for(var C=this.g.length+x.g.length,D=[],A=0;A<2*C;A++)D[A]=0;for(A=0;A<this.g.length;A++)for(var M=0;M<x.g.length;M++){var O=this.i(A)>>>16,T=this.i(A)&65535,mi=x.i(M)>>>16,el=x.i(M)&65535;D[2*A+2*M]+=T*el,te(D,2*A+2*M),D[2*A+2*M+1]+=O*el,te(D,2*A+2*M+1),D[2*A+2*M+1]+=T*mi,te(D,2*A+2*M+1),D[2*A+2*M+2]+=O*mi,te(D,2*A+2*M+2)}for(A=0;A<C;A++)D[A]=D[2*A+1]<<16|D[2*A];for(A=C;A<2*C;A++)D[A]=0;return new s(D,0)};function te(x,C){for(;(x[C]&65535)!=x[C];)x[C+1]+=x[C]>>>16,x[C]&=65535,C++}function Z(x,C){this.g=x,this.h=C}function Ne(x,C){if(S(C))throw Error("division by zero");if(S(x))return new Z(p,p);if(R(x))return C=Ne(k(x),C),new Z(k(C.g),k(C.h));if(R(C))return C=Ne(x,k(C)),new Z(k(C.g),C.h);if(30<x.g.length){if(R(x)||R(C))throw Error("slowDivide_ only works with positive integers.");for(var D=v,A=C;0>=A.l(x);)D=Dt(D),A=Dt(A);var M=Ue(D,1),O=Ue(A,1);for(A=Ue(A,2),D=Ue(D,2);!S(A);){var T=O.add(A);0>=T.l(x)&&(M=M.add(D),O=T),A=Ue(A,1),D=Ue(D,1)}return C=G(x,M.j(C)),new Z(M,C)}for(M=p;0<=x.l(C);){for(D=Math.max(1,Math.floor(x.m()/C.m())),A=Math.ceil(Math.log(D)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),O=u(D),T=O.j(C);R(T)||0<T.l(x);)D-=A,O=u(D),T=O.j(C);S(O)&&(O=v),M=M.add(O),x=G(x,T)}return new Z(M,x)}n.A=function(x){return Ne(this,x).h},n.and=function(x){for(var C=Math.max(this.g.length,x.g.length),D=[],A=0;A<C;A++)D[A]=this.i(A)&x.i(A);return new s(D,this.h&x.h)},n.or=function(x){for(var C=Math.max(this.g.length,x.g.length),D=[],A=0;A<C;A++)D[A]=this.i(A)|x.i(A);return new s(D,this.h|x.h)},n.xor=function(x){for(var C=Math.max(this.g.length,x.g.length),D=[],A=0;A<C;A++)D[A]=this.i(A)^x.i(A);return new s(D,this.h^x.h)};function Dt(x){for(var C=x.g.length+1,D=[],A=0;A<C;A++)D[A]=x.i(A)<<1|x.i(A-1)>>>31;return new s(D,x.h)}function Ue(x,C){var D=C>>5;C%=32;for(var A=x.g.length-D,M=[],O=0;O<A;O++)M[O]=0<C?x.i(O+D)>>>C|x.i(O+D+1)<<32-C:x.i(O+D);return new s(M,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,SE=kk.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,zi=kk.Integer=s}).apply(typeof Ok<"u"?Ok:typeof self<"u"?self:typeof window<"u"?window:{});var rg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qi={};var AE,s9,gc,xE,sd,ig,ME,PE,RE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,f){return l==Array.prototype||l==Object.prototype||(l[h]=f.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof rg=="object"&&rg];for(var h=0;h<l.length;++h){var f=l[h];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(l,h){if(h)e:{var f=r;l=l.split(".");for(var y=0;y<l.length-1;y++){var P=l[y];if(!(P in f))break e;f=f[P]}l=l[l.length-1],y=f[l],h=h(y),h!=y&&h!=null&&e(f,l,{configurable:!0,writable:!0,value:h})}}function o(l,h){l instanceof String&&(l+="");var f=0,y=!1,P={next:function(){if(!y&&f<l.length){var N=f++;return{value:h(N,l[N]),done:!1}}return y=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}i("Array.prototype.values",function(l){return l||function(){return o(this,function(h,f){return f})}});var s=s||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,f){return l.call.apply(l.bind,arguments)}function p(l,h,f){if(!l)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,y),l.apply(h,P)}}return function(){return l.apply(h,arguments)}}function v(l,h,f){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,v.apply(null,arguments)}function _(l,h){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function S(l,h){function f(){}f.prototype=h.prototype,l.aa=h.prototype,l.prototype=new f,l.prototype.constructor=l,l.Qb=function(y,P,N){for(var q=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)q[Ze-2]=arguments[Ze];return h.prototype[P].apply(y,q)}}function R(l){let h=l.length;if(0<h){let f=Array(h);for(let y=0;y<h;y++)f[y]=l[y];return f}return[]}function k(l,h){for(let f=1;f<arguments.length;f++){let y=arguments[f];if(c(y)){let P=l.length||0,N=y.length||0;l.length=P+N;for(let q=0;q<N;q++)l[P+q]=y[q]}else l.push(y)}}class G{constructor(h,f){this.i=h,this.j=f,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function te(l){return/^[\s\xa0]*$/.test(l)}function Z(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function Ne(l){return Ne[" "](l),l}Ne[" "]=function(){};var Dt=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function Ue(l,h,f){for(let y in l)h.call(f,l[y],y,l)}function x(l,h){for(let f in l)h.call(void 0,l[f],f,l)}function C(l){let h={};for(let f in l)h[f]=l[f];return h}let D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(l,h){let f,y;for(let P=1;P<arguments.length;P++){y=arguments[P];for(f in y)l[f]=y[f];for(let N=0;N<D.length;N++)f=D[N],Object.prototype.hasOwnProperty.call(y,f)&&(l[f]=y[f])}}function M(l){var h=1;l=l.split(":");let f=[];for(;0<h&&l.length;)f.push(l.shift()),h--;return l.length&&f.push(l.join(":")),f}function O(l){a.setTimeout(()=>{throw l},0)}function T(){var l=$v;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class mi{constructor(){this.h=this.g=null}add(h,f){let y=el.get();y.set(h,f),this.h?this.h.next=y:this.g=y,this.h=y}}var el=new G(()=>new RL,l=>l.reset());class RL{constructor(){this.next=this.g=this.h=null}set(h,f){this.h=h,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let tl,nl=!1,$v=new mi,NT=()=>{let l=a.Promise.resolve(void 0);tl=()=>{l.then(OL)}};var OL=()=>{for(var l;l=T();){try{l.h.call(l.g)}catch(f){O(f)}var h=el;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}nl=!1};function to(){this.s=this.s,this.C=this.C}to.prototype.s=!1,to.prototype.ma=function(){this.s||(this.s=!0,this.N())},to.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rn(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}rn.prototype.h=function(){this.defaultPrevented=!0};var kL=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let f=()=>{};a.addEventListener("test",f,h),a.removeEventListener("test",f,h)}catch{}return l}();function rl(l,h){if(rn.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var f=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(Dt){e:{try{Ne(h.nodeName);var P=!0;break e}catch{}P=!1}P||(h=null)}}else f=="mouseover"?h=l.fromElement:f=="mouseout"&&(h=l.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:NL[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&rl.aa.h.call(this)}}S(rl,rn);var NL={2:"touch",3:"pen",4:"mouse"};rl.prototype.h=function(){rl.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var il="closure_listenable_"+(1e6*Math.random()|0),FL=0;function LL(l,h,f,y,P){this.listener=l,this.proxy=null,this.src=h,this.type=f,this.capture=!!y,this.ha=P,this.key=++FL,this.da=this.fa=!1}function eh(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function th(l){this.src=l,this.g={},this.h=0}th.prototype.add=function(l,h,f,y,P){var N=l.toString();l=this.g[N],l||(l=this.g[N]=[],this.h++);var q=zv(l,h,y,P);return-1<q?(h=l[q],f||(h.fa=!1)):(h=new LL(h,this.src,N,!!y,P),h.fa=f,l.push(h)),h};function Hv(l,h){var f=h.type;if(f in l.g){var y=l.g[f],P=Array.prototype.indexOf.call(y,h,void 0),N;(N=0<=P)&&Array.prototype.splice.call(y,P,1),N&&(eh(h),l.g[f].length==0&&(delete l.g[f],l.h--))}}function zv(l,h,f,y){for(var P=0;P<l.length;++P){var N=l[P];if(!N.da&&N.listener==h&&N.capture==!!f&&N.ha==y)return P}return-1}var qv="closure_lm_"+(1e6*Math.random()|0),Wv={};function FT(l,h,f,y,P){if(y&&y.once)return VT(l,h,f,y,P);if(Array.isArray(h)){for(var N=0;N<h.length;N++)FT(l,h[N],f,y,P);return null}return f=Qv(f),l&&l[il]?l.K(h,f,u(y)?!!y.capture:!!y,P):LT(l,h,f,!1,y,P)}function LT(l,h,f,y,P,N){if(!h)throw Error("Invalid event type");var q=u(P)?!!P.capture:!!P,Ze=Kv(l);if(Ze||(l[qv]=Ze=new th(l)),f=Ze.add(h,f,y,q,N),f.proxy)return f;if(y=VL(),f.proxy=y,y.src=l,y.listener=f,l.addEventListener)kL||(P=q),P===void 0&&(P=!1),l.addEventListener(h.toString(),y,P);else if(l.attachEvent)l.attachEvent(BT(h.toString()),y);else if(l.addListener&&l.removeListener)l.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function VL(){function l(f){return h.call(l.src,l.listener,f)}let h=jL;return l}function VT(l,h,f,y,P){if(Array.isArray(h)){for(var N=0;N<h.length;N++)VT(l,h[N],f,y,P);return null}return f=Qv(f),l&&l[il]?l.L(h,f,u(y)?!!y.capture:!!y,P):LT(l,h,f,!0,y,P)}function jT(l,h,f,y,P){if(Array.isArray(h))for(var N=0;N<h.length;N++)jT(l,h[N],f,y,P);else y=u(y)?!!y.capture:!!y,f=Qv(f),l&&l[il]?(l=l.i,h=String(h).toString(),h in l.g&&(N=l.g[h],f=zv(N,f,y,P),-1<f&&(eh(N[f]),Array.prototype.splice.call(N,f,1),N.length==0&&(delete l.g[h],l.h--)))):l&&(l=Kv(l))&&(h=l.g[h.toString()],l=-1,h&&(l=zv(h,f,y,P)),(f=-1<l?h[l]:null)&&Gv(f))}function Gv(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[il])Hv(h.i,l);else{var f=l.type,y=l.proxy;h.removeEventListener?h.removeEventListener(f,y,l.capture):h.detachEvent?h.detachEvent(BT(f),y):h.addListener&&h.removeListener&&h.removeListener(y),(f=Kv(h))?(Hv(f,l),f.h==0&&(f.src=null,h[qv]=null)):eh(l)}}}function BT(l){return l in Wv?Wv[l]:Wv[l]="on"+l}function jL(l,h){if(l.da)l=!0;else{h=new rl(h,this);var f=l.listener,y=l.ha||l.src;l.fa&&Gv(l),l=f.call(y,h)}return l}function Kv(l){return l=l[qv],l instanceof th?l:null}var Yv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qv(l){return typeof l=="function"?l:(l[Yv]||(l[Yv]=function(h){return l.handleEvent(h)}),l[Yv])}function on(){to.call(this),this.i=new th(this),this.M=this,this.F=null}S(on,to),on.prototype[il]=!0,on.prototype.removeEventListener=function(l,h,f,y){jT(this,l,h,f,y)};function pn(l,h){var f,y=l.F;if(y)for(f=[];y;y=y.F)f.push(y);if(l=l.M,y=h.type||h,typeof h=="string")h=new rn(h,l);else if(h instanceof rn)h.target=h.target||l;else{var P=h;h=new rn(y,l),A(h,P)}if(P=!0,f)for(var N=f.length-1;0<=N;N--){var q=h.g=f[N];P=nh(q,y,!0,h)&&P}if(q=h.g=l,P=nh(q,y,!0,h)&&P,P=nh(q,y,!1,h)&&P,f)for(N=0;N<f.length;N++)q=h.g=f[N],P=nh(q,y,!1,h)&&P}on.prototype.N=function(){if(on.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var f=l.g[h],y=0;y<f.length;y++)eh(f[y]);delete l.g[h],l.h--}}this.F=null},on.prototype.K=function(l,h,f,y){return this.i.add(String(l),h,!1,f,y)},on.prototype.L=function(l,h,f,y){return this.i.add(String(l),h,!0,f,y)};function nh(l,h,f,y){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var P=!0,N=0;N<h.length;++N){var q=h[N];if(q&&!q.da&&q.capture==f){var Ze=q.listener,Qt=q.ha||q.src;q.fa&&Hv(l.i,q),P=Ze.call(Qt,y)!==!1&&P}}return P&&!y.defaultPrevented}function UT(l,h,f){if(typeof l=="function")f&&(l=v(l,f));else if(l&&typeof l.handleEvent=="function")l=v(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function $T(l){l.g=UT(()=>{l.g=null,l.i&&(l.i=!1,$T(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class BL extends to{constructor(h,f){super(),this.m=h,this.l=f,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:$T(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ol(l){to.call(this),this.h=l,this.g={}}S(ol,to);var HT=[];function zT(l){Ue(l.g,function(h,f){this.g.hasOwnProperty(f)&&Gv(h)},l),l.g={}}ol.prototype.N=function(){ol.aa.N.call(this),zT(this)},ol.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zv=a.JSON.stringify,UL=a.JSON.parse,$L=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Xv(){}Xv.prototype.h=null;function qT(l){return l.h||(l.h=l.i())}function WT(){}var sl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Jv(){rn.call(this,"d")}S(Jv,rn);function e_(){rn.call(this,"c")}S(e_,rn);var Uo={},GT=null;function rh(){return GT=GT||new on}Uo.La="serverreachability";function KT(l){rn.call(this,Uo.La,l)}S(KT,rn);function al(l){let h=rh();pn(h,new KT(h))}Uo.STAT_EVENT="statevent";function YT(l,h){rn.call(this,Uo.STAT_EVENT,l),this.stat=h}S(YT,rn);function mn(l){let h=rh();pn(h,new YT(h,l))}Uo.Ma="timingevent";function QT(l,h){rn.call(this,Uo.Ma,l),this.size=h}S(QT,rn);function cl(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function ll(){this.g=!0}ll.prototype.xa=function(){this.g=!1};function HL(l,h,f,y,P,N){l.info(function(){if(l.g)if(N)for(var q="",Ze=N.split("&"),Qt=0;Qt<Ze.length;Qt++){var je=Ze[Qt].split("=");if(1<je.length){var sn=je[0];je=je[1];var an=sn.split("_");q=2<=an.length&&an[1]=="type"?q+(sn+"="+je+"&"):q+(sn+"=redacted&")}}else q=null;else q=N;return"XMLHTTP REQ ("+y+") [attempt "+P+"]: "+h+`
`+f+`
`+q})}function zL(l,h,f,y,P,N,q){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+P+"]: "+h+`
`+f+`
`+N+" "+q})}function ca(l,h,f,y){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+WL(l,f)+(y?" "+y:"")})}function qL(l,h){l.info(function(){return"TIMEOUT: "+h})}ll.prototype.info=function(){};function WL(l,h){if(!l.g)return h;if(!h)return null;try{var f=JSON.parse(h);if(f){for(l=0;l<f.length;l++)if(Array.isArray(f[l])){var y=f[l];if(!(2>y.length)){var P=y[1];if(Array.isArray(P)&&!(1>P.length)){var N=P[0];if(N!="noop"&&N!="stop"&&N!="close")for(var q=1;q<P.length;q++)P[q]=""}}}}return Zv(f)}catch{return h}}var ih={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ZT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},t_;function oh(){}S(oh,Xv),oh.prototype.g=function(){return new XMLHttpRequest},oh.prototype.i=function(){return{}},t_=new oh;function no(l,h,f,y){this.j=l,this.i=h,this.l=f,this.R=y||1,this.U=new ol(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new XT}function XT(){this.i=null,this.g="",this.h=!1}var JT={},n_={};function r_(l,h,f){l.L=1,l.v=lh(gi(h)),l.m=f,l.P=!0,eD(l,null)}function eD(l,h){l.F=Date.now(),sh(l),l.A=gi(l.v);var f=l.A,y=l.R;Array.isArray(y)||(y=[String(y)]),pD(f.i,"t",y),l.C=0,f=l.j.J,l.h=new XT,l.g=RD(l.j,f?h:null,!l.m),0<l.O&&(l.M=new BL(v(l.Y,l,l.g),l.O)),h=l.U,f=l.g,y=l.ca;var P="readystatechange";Array.isArray(P)||(P&&(HT[0]=P.toString()),P=HT);for(var N=0;N<P.length;N++){var q=FT(f,P[N],y||h.handleEvent,!1,h.h||h);if(!q)break;h.g[q.key]=q}h=l.H?C(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),al(),HL(l.i,l.u,l.A,l.l,l.R,l.m)}no.prototype.ca=function(l){l=l.target;let h=this.M;h&&vi(l)==3?h.j():this.Y(l)},no.prototype.Y=function(l){try{if(l==this.g)e:{let an=vi(this.g);var h=this.g.Ba();let da=this.g.Z();if(!(3>an)&&(an!=3||this.g&&(this.h.h||this.g.oa()||wD(this.g)))){this.J||an!=4||h==7||(h==8||0>=da?al(3):al(2)),i_(this);var f=this.g.Z();this.X=f;t:if(tD(this)){var y=wD(this.g);l="";var P=y.length,N=vi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$o(this),ul(this);var q="";break t}this.h.i=new a.TextDecoder}for(h=0;h<P;h++)this.h.h=!0,l+=this.h.i.decode(y[h],{stream:!(N&&h==P-1)});y.length=0,this.h.g+=l,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=f==200,zL(this.i,this.u,this.A,this.l,this.R,an,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Qt=this.g;if((Ze=Qt.g?Qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(Ze)){var je=Ze;break t}}je=null}if(f=je)ca(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,o_(this,f);else{this.o=!1,this.s=3,mn(12),$o(this),ul(this);break e}}if(this.P){f=!0;let pr;for(;!this.J&&this.C<q.length;)if(pr=GL(this,q),pr==n_){an==4&&(this.s=4,mn(14),f=!1),ca(this.i,this.l,null,"[Incomplete Response]");break}else if(pr==JT){this.s=4,mn(15),ca(this.i,this.l,q,"[Invalid Chunk]"),f=!1;break}else ca(this.i,this.l,pr,null),o_(this,pr);if(tD(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),an!=4||q.length!=0||this.h.h||(this.s=1,mn(16),f=!1),this.o=this.o&&f,!f)ca(this.i,this.l,q,"[Invalid Chunked Response]"),$o(this),ul(this);else if(0<q.length&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.ba&&!sn.M&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),d_(sn),sn.M=!0,mn(11))}}else ca(this.i,this.l,q,null),o_(this,q);an==4&&$o(this),this.o&&!this.J&&(an==4?AD(this.j,this):(this.o=!1,sh(this)))}else uV(this.g),f==400&&0<q.indexOf("Unknown SID")?(this.s=3,mn(12)):(this.s=0,mn(13)),$o(this),ul(this)}}}catch{}finally{}};function tD(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function GL(l,h){var f=l.C,y=h.indexOf(`
`,f);return y==-1?n_:(f=Number(h.substring(f,y)),isNaN(f)?JT:(y+=1,y+f>h.length?n_:(h=h.slice(y,y+f),l.C=y+f,h)))}no.prototype.cancel=function(){this.J=!0,$o(this)};function sh(l){l.S=Date.now()+l.I,nD(l,l.I)}function nD(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=cl(v(l.ba,l),h)}function i_(l){l.B&&(a.clearTimeout(l.B),l.B=null)}no.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(qL(this.i,this.A),this.L!=2&&(al(),mn(17)),$o(this),this.s=2,ul(this)):nD(this,this.S-l)};function ul(l){l.j.G==0||l.J||AD(l.j,l)}function $o(l){i_(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,zT(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function o_(l,h){try{var f=l.j;if(f.G!=0&&(f.g==l||s_(f.h,l))){if(!l.K&&s_(f.h,l)&&f.G==3){try{var y=f.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var P=y;if(P[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<l.F)ph(f),hh(f);else break e;u_(f),mn(18)}}else f.za=P[1],0<f.za-f.T&&37500>P[2]&&f.F&&f.v==0&&!f.C&&(f.C=cl(v(f.Za,f),6e3));if(1>=oD(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else zo(f,11)}else if((l.K||f.g==l)&&ph(f),!te(h))for(P=f.Da.g.parse(h),h=0;h<P.length;h++){let je=P[h];if(f.T=je[0],je=je[1],f.G==2)if(je[0]=="c"){f.K=je[1],f.ia=je[2];let sn=je[3];sn!=null&&(f.la=sn,f.j.info("VER="+f.la));let an=je[4];an!=null&&(f.Aa=an,f.j.info("SVER="+f.Aa));let da=je[5];da!=null&&typeof da=="number"&&0<da&&(y=1.5*da,f.L=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;let pr=l.g;if(pr){let gh=pr.g?pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gh){var N=y.h;N.g||gh.indexOf("spdy")==-1&&gh.indexOf("quic")==-1&&gh.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(a_(N,N.h),N.h=null))}if(y.D){let h_=pr.g?pr.g.getResponseHeader("X-HTTP-Session-Id"):null;h_&&(y.ya=h_,lt(y.I,y.D,h_))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-l.F,f.j.info("Handshake RTT: "+f.R+"ms")),y=f;var q=l;if(y.qa=PD(y,y.J?y.ia:null,y.W),q.K){sD(y.h,q);var Ze=q,Qt=y.L;Qt&&(Ze.I=Qt),Ze.B&&(i_(Ze),sh(Ze)),y.g=q}else DD(y);0<f.i.length&&fh(f)}else je[0]!="stop"&&je[0]!="close"||zo(f,7);else f.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?zo(f,7):l_(f):je[0]!="noop"&&f.l&&f.l.ta(je),f.v=0)}}al(4)}catch{}}var KL=class{constructor(l,h){this.g=l,this.map=h}};function rD(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function iD(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function oD(l){return l.h?1:l.g?l.g.size:0}function s_(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function a_(l,h){l.g?l.g.add(h):l.h=h}function sD(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}rD.prototype.cancel=function(){if(this.i=aD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function aD(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let f of l.g.values())h=h.concat(f.D);return h}return R(l.i)}function YL(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],f=l.length,y=0;y<f;y++)h.push(l[y]);return h}h=[],f=0;for(y in l)h[f++]=l[y];return h}function QL(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var f=0;f<l;f++)h.push(f);return h}h=[],f=0;for(let y in l)h[f++]=y;return h}}}function cD(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var f=QL(l),y=YL(l),P=y.length,N=0;N<P;N++)h.call(void 0,y[N],f&&f[N],l)}var lD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ZL(l,h){if(l){l=l.split("&");for(var f=0;f<l.length;f++){var y=l[f].indexOf("="),P=null;if(0<=y){var N=l[f].substring(0,y);P=l[f].substring(y+1)}else N=l[f];h(N,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function Ho(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ho){this.h=l.h,ah(this,l.j),this.o=l.o,this.g=l.g,ch(this,l.s),this.l=l.l;var h=l.i,f=new fl;f.i=h.i,h.g&&(f.g=new Map(h.g),f.h=h.h),uD(this,f),this.m=l.m}else l&&(h=String(l).match(lD))?(this.h=!1,ah(this,h[1]||"",!0),this.o=dl(h[2]||""),this.g=dl(h[3]||"",!0),ch(this,h[4]),this.l=dl(h[5]||"",!0),uD(this,h[6]||"",!0),this.m=dl(h[7]||"")):(this.h=!1,this.i=new fl(null,this.h))}Ho.prototype.toString=function(){var l=[],h=this.j;h&&l.push(hl(h,dD,!0),":");var f=this.g;return(f||h=="file")&&(l.push("//"),(h=this.o)&&l.push(hl(h,dD,!0),"@"),l.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&l.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&l.push("/"),l.push(hl(f,f.charAt(0)=="/"?eV:JL,!0))),(f=this.i.toString())&&l.push("?",f),(f=this.m)&&l.push("#",hl(f,nV)),l.join("")};function gi(l){return new Ho(l)}function ah(l,h,f){l.j=f?dl(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function ch(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function uD(l,h,f){h instanceof fl?(l.i=h,rV(l.i,l.h)):(f||(h=hl(h,tV)),l.i=new fl(h,l.h))}function lt(l,h,f){l.i.set(h,f)}function lh(l){return lt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function dl(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function hl(l,h,f){return typeof l=="string"?(l=encodeURI(l).replace(h,XL),f&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function XL(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var dD=/[#\/\?@]/g,JL=/[#\?:]/g,eV=/[#\?]/g,tV=/[#\?@]/g,nV=/#/g;function fl(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function ro(l){l.g||(l.g=new Map,l.h=0,l.i&&ZL(l.i,function(h,f){l.add(decodeURIComponent(h.replace(/\+/g," ")),f)}))}n=fl.prototype,n.add=function(l,h){ro(this),this.i=null,l=la(this,l);var f=this.g.get(l);return f||this.g.set(l,f=[]),f.push(h),this.h+=1,this};function hD(l,h){ro(l),h=la(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function fD(l,h){return ro(l),h=la(l,h),l.g.has(h)}n.forEach=function(l,h){ro(this),this.g.forEach(function(f,y){f.forEach(function(P){l.call(h,P,y,this)},this)},this)},n.na=function(){ro(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),f=[];for(let y=0;y<h.length;y++){let P=l[y];for(let N=0;N<P.length;N++)f.push(h[y])}return f},n.V=function(l){ro(this);let h=[];if(typeof l=="string")fD(this,l)&&(h=h.concat(this.g.get(la(this,l))));else{l=Array.from(this.g.values());for(let f=0;f<l.length;f++)h=h.concat(l[f])}return h},n.set=function(l,h){return ro(this),this.i=null,l=la(this,l),fD(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},n.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function pD(l,h,f){hD(l,h),0<f.length&&(l.i=null,l.g.set(la(l,h),R(f)),l.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var f=0;f<h.length;f++){var y=h[f];let N=encodeURIComponent(String(y)),q=this.V(y);for(y=0;y<q.length;y++){var P=N;q[y]!==""&&(P+="="+encodeURIComponent(String(q[y]))),l.push(P)}}return this.i=l.join("&")};function la(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function rV(l,h){h&&!l.j&&(ro(l),l.i=null,l.g.forEach(function(f,y){var P=y.toLowerCase();y!=P&&(hD(this,y),pD(this,P,f))},l)),l.j=h}function iV(l,h){let f=new ll;if(a.Image){let y=new Image;y.onload=_(io,f,"TestLoadImage: loaded",!0,h,y),y.onerror=_(io,f,"TestLoadImage: error",!1,h,y),y.onabort=_(io,f,"TestLoadImage: abort",!1,h,y),y.ontimeout=_(io,f,"TestLoadImage: timeout",!1,h,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else h(!1)}function oV(l,h){let f=new ll,y=new AbortController,P=setTimeout(()=>{y.abort(),io(f,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:y.signal}).then(N=>{clearTimeout(P),N.ok?io(f,"TestPingServer: ok",!0,h):io(f,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(P),io(f,"TestPingServer: error",!1,h)})}function io(l,h,f,y,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),y(f)}catch{}}function sV(){this.g=new $L}function aV(l,h,f){let y=f||"";try{cD(l,function(P,N){let q=P;u(P)&&(q=Zv(P)),h.push(y+N+"="+encodeURIComponent(q))})}catch(P){throw h.push(y+"type="+encodeURIComponent("_badmap")),P}}function pl(l){this.l=l.Ub||null,this.j=l.eb||!1}S(pl,Xv),pl.prototype.g=function(){return new uh(this.l,this.j)},pl.prototype.i=function(l){return function(){return l}}({});function uh(l,h){on.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(uh,on),n=uh.prototype,n.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,gl(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ml(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,gl(this)),this.g&&(this.readyState=3,gl(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mD(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function mD(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?ml(this):gl(this),this.readyState==3&&mD(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,ml(this))},n.Qa=function(l){this.g&&(this.response=l,ml(this))},n.ga=function(){this.g&&ml(this)};function ml(l){l.readyState=4,l.l=null,l.j=null,l.v=null,gl(l)}n.setRequestHeader=function(l,h){this.u.append(l,h)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var f=h.next();!f.done;)f=f.value,l.push(f[0]+": "+f[1]),f=h.next();return l.join(`\r
`)};function gl(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(uh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function gD(l){let h="";return Ue(l,function(f,y){h+=y,h+=":",h+=f,h+=`\r
`}),h}function c_(l,h,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=gD(f),typeof l=="string"?f!=null&&encodeURIComponent(String(f)):lt(l,h,f))}function _t(l){on.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(_t,on);var cV=/^https?$/i,lV=["POST","PUT"];n=_t.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,h,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():t_.g(),this.v=this.o?qT(this.o):qT(t_),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(N){vD(this,N);return}if(l=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var P in y)f.set(P,y[P]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let N of y.keys())f.set(N,y.get(N));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),P=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(lV,h,void 0))||y||P||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,q]of f)this.g.setRequestHeader(N,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bD(this),this.u=!0,this.g.send(l),this.u=!1}catch(N){vD(this,N)}};function vD(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,_D(l),dh(l)}function _D(l){l.A||(l.A=!0,pn(l,"complete"),pn(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,pn(this,"complete"),pn(this,"abort"),dh(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dh(this,!0)),_t.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?yD(this):this.bb())},n.bb=function(){yD(this)};function yD(l){if(l.h&&typeof s<"u"&&(!l.v[1]||vi(l)!=4||l.Z()!=2)){if(l.u&&vi(l)==4)UT(l.Ea,0,l);else if(pn(l,"readystatechange"),vi(l)==4){l.h=!1;try{let q=l.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var f;if(!(f=h)){var y;if(y=q===0){var P=String(l.D).match(lD)[1]||null;!P&&a.self&&a.self.location&&(P=a.self.location.protocol.slice(0,-1)),y=!cV.test(P?P.toLowerCase():"")}f=y}if(f)pn(l,"complete"),pn(l,"success");else{l.m=6;try{var N=2<vi(l)?l.g.statusText:""}catch{N=""}l.l=N+" ["+l.Z()+"]",_D(l)}}finally{dh(l)}}}}function dh(l,h){if(l.g){bD(l);let f=l.g,y=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||pn(l,"ready");try{f.onreadystatechange=y}catch{}}}function bD(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function vi(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<vi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),UL(h)}};function wD(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function uV(l){let h={};l=(l.g&&2<=vi(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<l.length;y++){if(te(l[y]))continue;var f=M(l[y]);let P=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let N=h[P]||[];h[P]=N,N.push(f)}x(h,function(y){return y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vl(l,h,f){return f&&f.internalChannelParams&&f.internalChannelParams[l]||h}function ED(l){this.Aa=0,this.i=[],this.j=new ll,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vl("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vl("baseRetryDelayMs",5e3,l),this.cb=vl("retryDelaySeedMs",1e4,l),this.Wa=vl("forwardChannelMaxRetries",2,l),this.wa=vl("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new rD(l&&l.concurrentRequestLimit),this.Da=new sV,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ED.prototype,n.la=8,n.G=1,n.connect=function(l,h,f,y){mn(0),this.W=l,this.H=h||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.I=PD(this,null,this.W),fh(this)};function l_(l){if(CD(l),l.G==3){var h=l.U++,f=gi(l.I);if(lt(f,"SID",l.K),lt(f,"RID",h),lt(f,"TYPE","terminate"),_l(l,f),h=new no(l,l.j,h),h.L=2,h.v=lh(gi(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=h.v,f=!0),f||(h.g=RD(h.j,null),h.g.ea(h.v)),h.F=Date.now(),sh(h)}MD(l)}function hh(l){l.g&&(d_(l),l.g.cancel(),l.g=null)}function CD(l){hh(l),l.u&&(a.clearTimeout(l.u),l.u=null),ph(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function fh(l){if(!iD(l.h)&&!l.s){l.s=!0;var h=l.Ga;tl||NT(),nl||(tl(),nl=!0),$v.add(h,l),l.B=0}}function dV(l,h){return oD(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=cl(v(l.Ga,l,h),xD(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let P=new no(this,this.j,l),N=this.o;if(this.S&&(N?(N=C(N),A(N,this.S)):N=this.S),this.m!==null||this.O||(P.H=N,N=null),this.P)e:{for(var h=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=f;break e}if(h===4096||f===this.i.length-1){h=f+1;break e}}h=1e3}else h=1e3;h=TD(this,P,h),f=gi(this.I),lt(f,"RID",l),lt(f,"CVER",22),this.D&&lt(f,"X-HTTP-Session-Id",this.D),_l(this,f),N&&(this.O?h="headers="+encodeURIComponent(String(gD(N)))+"&"+h:this.m&&c_(f,this.m,N)),a_(this.h,P),this.Ua&&lt(f,"TYPE","init"),this.P?(lt(f,"$req",h),lt(f,"SID","null"),P.T=!0,r_(P,f,null)):r_(P,f,h),this.G=2}}else this.G==3&&(l?ID(this,l):this.i.length==0||iD(this.h)||ID(this))};function ID(l,h){var f;h?f=h.l:f=l.U++;let y=gi(l.I);lt(y,"SID",l.K),lt(y,"RID",f),lt(y,"AID",l.T),_l(l,y),l.m&&l.o&&c_(y,l.m,l.o),f=new no(l,l.j,f,l.B+1),l.m===null&&(f.H=l.o),h&&(l.i=h.D.concat(l.i)),h=TD(l,f,1e3),f.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),a_(l.h,f),r_(f,y,h)}function _l(l,h){l.H&&Ue(l.H,function(f,y){lt(h,y,f)}),l.l&&cD({},function(f,y){lt(h,y,f)})}function TD(l,h,f){f=Math.min(l.i.length,f);var y=l.l?v(l.l.Na,l.l,l):null;e:{var P=l.i;let N=-1;for(;;){let q=["count="+f];N==-1?0<f?(N=P[0].g,q.push("ofs="+N)):N=0:q.push("ofs="+N);let Ze=!0;for(let Qt=0;Qt<f;Qt++){let je=P[Qt].g,sn=P[Qt].map;if(je-=N,0>je)N=Math.max(0,P[Qt].g-100),Ze=!1;else try{aV(sn,q,"req"+je+"_")}catch{y&&y(sn)}}if(Ze){y=q.join("&");break e}}}return l=l.i.splice(0,f),h.D=l,y}function DD(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;tl||NT(),nl||(tl(),nl=!0),$v.add(h,l),l.v=0}}function u_(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=cl(v(l.Fa,l),xD(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,SD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=cl(v(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mn(10),hh(this),SD(this))};function d_(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function SD(l){l.g=new no(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=gi(l.qa);lt(h,"RID","rpc"),lt(h,"SID",l.K),lt(h,"AID",l.T),lt(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&lt(h,"TO",l.ja),lt(h,"TYPE","xmlhttp"),_l(l,h),l.m&&l.o&&c_(h,l.m,l.o),l.L&&(l.g.I=l.L);var f=l.g;l=l.ia,f.L=1,f.v=lh(gi(h)),f.m=null,f.P=!0,eD(f,l)}n.Za=function(){this.C!=null&&(this.C=null,hh(this),u_(this),mn(19))};function ph(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function AD(l,h){var f=null;if(l.g==h){ph(l),d_(l),l.g=null;var y=2}else if(s_(l.h,h))f=h.D,sD(l.h,h),y=1;else return;if(l.G!=0){if(h.o)if(y==1){f=h.m?h.m.length:0,h=Date.now()-h.F;var P=l.B;y=rh(),pn(y,new QT(y,f)),fh(l)}else DD(l);else if(P=h.s,P==3||P==0&&0<h.X||!(y==1&&dV(l,h)||y==2&&u_(l)))switch(f&&0<f.length&&(h=l.h,h.i=h.i.concat(f)),P){case 1:zo(l,5);break;case 4:zo(l,10);break;case 3:zo(l,6);break;default:zo(l,2)}}}function xD(l,h){let f=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(f*=2),f*h}function zo(l,h){if(l.j.info("Error code "+h),h==2){var f=v(l.fb,l),y=l.Xa;let P=!y;y=new Ho(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ah(y,"https"),lh(y),P?iV(y.toString(),f):oV(y.toString(),f)}else mn(2);l.G=0,l.l&&l.l.sa(h),MD(l),CD(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),mn(2)):(this.j.info("Failed to ping google.com"),mn(1))};function MD(l){if(l.G=0,l.ka=[],l.l){let h=aD(l.h);(h.length!=0||l.i.length!=0)&&(k(l.ka,h),k(l.ka,l.i),l.h.i.length=0,R(l.i),l.i.length=0),l.l.ra()}}function PD(l,h,f){var y=f instanceof Ho?gi(f):new Ho(f);if(y.g!="")h&&(y.g=h+"."+y.g),ch(y,y.s);else{var P=a.location;y=P.protocol,h=h?h+"."+P.hostname:P.hostname,P=+P.port;var N=new Ho(null);y&&ah(N,y),h&&(N.g=h),P&&ch(N,P),f&&(N.l=f),y=N}return f=l.D,h=l.ya,f&&h&&lt(y,f,h),lt(y,"VER",l.la),_l(l,y),y}function RD(l,h,f){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new _t(new pl({eb:f})):new _t(l.pa),h.Ha(l.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function OD(){}n=OD.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function mh(){}mh.prototype.g=function(l,h){return new Bn(l,h)};function Bn(l,h){on.call(this),this.g=new ED(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!te(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!te(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new ua(this)}S(Bn,on),Bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bn.prototype.close=function(){l_(this.g)},Bn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var f={};f.__data__=l,l=f}else this.u&&(f={},f.__data__=Zv(l),l=f);h.i.push(new KL(h.Ya++,l)),h.G==3&&fh(h)},Bn.prototype.N=function(){this.g.l=null,delete this.j,l_(this.g),delete this.g,Bn.aa.N.call(this)};function kD(l){Jv.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let f in h){l=f;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}S(kD,Jv);function ND(){e_.call(this),this.status=1}S(ND,e_);function ua(l){this.g=l}S(ua,OD),ua.prototype.ua=function(){pn(this.g,"a")},ua.prototype.ta=function(l){pn(this.g,new kD(l))},ua.prototype.sa=function(l){pn(this.g,new ND)},ua.prototype.ra=function(){pn(this.g,"b")},mh.prototype.createWebChannel=mh.prototype.g,Bn.prototype.send=Bn.prototype.o,Bn.prototype.open=Bn.prototype.m,Bn.prototype.close=Bn.prototype.close,RE=qi.createWebChannelTransport=function(){return new mh},PE=qi.getStatEventTarget=function(){return rh()},ME=qi.Event=Uo,ig=qi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ih.NO_ERROR=0,ih.TIMEOUT=8,ih.HTTP_ERROR=6,sd=qi.ErrorCode=ih,ZT.COMPLETE="complete",xE=qi.EventType=ZT,WT.EventType=sl,sl.OPEN="a",sl.CLOSE="b",sl.ERROR="c",sl.MESSAGE="d",on.prototype.listen=on.prototype.K,gc=qi.WebChannel=WT,s9=qi.FetchXmlHttpFactory=pl,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,AE=qi.XhrIo=_t}).apply(typeof rg<"u"?rg:typeof self<"u"?self:typeof window<"u"?window:{});var Nk="@firebase/firestore",Fk="4.7.16";var Gt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");var Fc="11.8.1";var qs=new ti("@firebase/firestore");function vc(){return qs.logLevel}function Q(n,...e){if(qs.logLevel<=Oe.DEBUG){let t=e.map(EI);qs.debug(`Firestore (${Fc}): ${n}`,...t)}}function Wi(n,...e){if(qs.logLevel<=Oe.ERROR){let t=e.map(EI);qs.error(`Firestore (${Fc}): ${n}`,...t)}}function Cc(n,...e){if(qs.logLevel<=Oe.WARN){let t=e.map(EI);qs.warn(`Firestore (${Fc}): ${n}`,...t)}}function EI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function le(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,C1(n,r,t)}function C1(n,e,t){let r=`FIRESTORE (${Fc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Wi(r),new Error(r)}function We(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||C1(e,i,r)}function ve(n,e){return n}var $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ae=class extends Gn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var si=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var dg=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},LE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gt.UNAUTHENTICATED))}shutdown(){}},VE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},jE=class{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new si;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new si,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>w(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new si)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string",31837,{l:r}),new dg(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new Gt(e)}},BE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},UE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new BE(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},hg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},$E=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){We(this.o===void 0,3512);let r=o=>{o.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,Q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new hg(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new hg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function a9(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function I1(){return new TextEncoder}var fg=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=a9(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function xe(n,e){return n<e?-1:n>e?1:0}function HE(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return xe(r,i);{let o=I1(),s=c9(o.encode(Lk(n,t)),o.encode(Lk(e,t)));return s!==0?s:xe(r,i)}}t+=r>65535?2:1}return xe(n.length,e.length)}function Lk(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function c9(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return xe(n[t],e[t]);return xe(n.length,e.length)}function Ic(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Vk=-62135596800,jk=1e6,nn=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*jk);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ae($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ae($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Vk)throw new ae($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jk}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-Vk;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var be=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new nn(0,0))}static max(){return new n(new nn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Bk="__name__",pg=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&le(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&le(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return xe(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):HE(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zi.fromString(e.substring(4,e.length-2))}},kt=class n extends pg{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new ae($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},l9=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Kn=class n extends pg{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return l9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Bk}static keyField(){return new n([Bk])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new ae($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new ae($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ae($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ae($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ue=class n{constructor(e){this.path=e}static fromPath(e){return new n(kt.fromString(e))}static fromName(e){return new n(kt.fromString(e).popFirst(5))}static empty(){return new n(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return kt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new kt(e.slice()))}};var hd=-1,zE=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};zE.UNKNOWN_ID=-1;function u9(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=be.fromTimestamp(r===1e9?new nn(t+1,0):new nn(t,r));return new Ws(i,ue.empty(),e)}function d9(n){return new Ws(n.readTime,n.key,hd)}var Ws=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(be.min(),ue.empty(),hd)}static max(){return new n(be.max(),ue.empty(),hd)}};function h9(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ue.comparator(n.documentKey,e.documentKey),t!==0?t:xe(n.largestBatchId,e.largestBatchId))}var f9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",qE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Lc(n){return w(this,null,function*(){if(n.code!==$.FAILED_PRECONDITION||n.message!==f9)throw n;Q("LocalStore","Unexpectedly lost primary lease")})}var U=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;t(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function p9(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Vc(n){return n.name==="IndexedDbTransactionError"}var CI=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),II=-1;function zg(n){return n==null}function fd(n){return n===0&&1/n==-1/0}function m9(n){return typeof n=="number"&&Number.isInteger(n)&&!fd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var T1="";function g9(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Uk(e)),e=v9(n.get(t),e);return Uk(e)}function v9(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case T1:t+="";break;default:t+=o}}return t}function Uk(n){return n+T1+""}var _9="remoteDocuments",D1="owner";var S1="mutationQueues";var A1="mutations";var x1="documentMutations",y9="remoteDocumentsV14";var M1="remoteDocumentGlobal";var P1="targets";var R1="targetDocuments";var O1="targetGlobal",k1="collectionParents";var N1="clientMetadata";var F1="bundles";var L1="namedQueries";var b9="indexConfiguration";var w9="indexState";var E9="indexEntries";var V1="documentOverlays";var C9="globals";var I9=[S1,A1,x1,_9,P1,D1,O1,R1,N1,M1,k1,F1,L1],vce=[...I9,V1],T9=[S1,A1,x1,y9,P1,D1,O1,R1,N1,M1,k1,F1,L1,V1],D9=T9,S9=[...D9,b9,w9,E9];var _ce=[...S9,C9];function $k(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zs(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function j1(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var wt=class n{constructor(e,t){this.comparator=e,this.root=t||ai.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ai.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ai.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wc(this.root,e,this.comparator,!0)}},wc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ai=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw le(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw le(27949);return e+(this.isRed()?0:1)}};ai.EMPTY=null,ai.RED=!0,ai.BLACK=!1;ai.EMPTY=new class{constructor(){this.size=0}get key(){throw le(57766)}get value(){throw le(16141)}get color(){throw le(16727)}get left(){throw le(29726)}get right(){throw le(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new ai(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Kt=class n{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mg(this.data.getIterator())}getIteratorFrom(e){return new mg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},mg=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var oi=class n{constructor(e){this.fields=e,e.sort(Kn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Kt(Kn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ic(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var gg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var fn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new gg("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};fn.EMPTY_BYTE_STRING=new fn("");var A9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gi(n){if(We(!!n,39018),typeof n=="string"){let e=0,t=A9.exec(n);if(We(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ft(n.seconds),nanos:ft(n.nanos)}}function ft(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ki(n){return typeof n=="string"?fn.fromBase64String(n):fn.fromUint8Array(n)}var B1="server_timestamp",U1="__type__",$1="__previous_value__",H1="__local_write_time__";function TI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[U1])===null||t===void 0?void 0:t.stringValue)===B1}function qg(n){let e=n.mapValue.fields[$1];return TI(e)?qg(e):e}function pd(n){let e=Gi(n.mapValue.fields[H1].timestampValue);return new nn(e.seconds,e.nanos)}var WE=class{constructor(e,t,r,i,o,s,a,c,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}},vg="(default)",_g=class n{constructor(e,t){this.projectId=e,this.database=t||vg}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===vg}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var DI="__type__",z1="__max__",og={mapValue:{fields:{__type__:{stringValue:z1}}}},SI="__vector__",Tc="value";function Oo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?TI(n)?4:W1(n)?9007199254740991:q1(n)?10:11:le(28295,{value:n})}function ui(n,e){if(n===e)return!0;let t=Oo(n);if(t!==Oo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pd(n).isEqual(pd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Gi(i.timestampValue),a=Gi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Ki(i.bytesValue).isEqual(Ki(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return ft(i.geoPointValue.latitude)===ft(o.geoPointValue.latitude)&&ft(i.geoPointValue.longitude)===ft(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ft(i.integerValue)===ft(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ft(i.doubleValue),a=ft(o.doubleValue);return s===a?fd(s)===fd(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Ic(n.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if($k(s)!==$k(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!ui(s[c],a[c])))return!1;return!0}(n,e);default:return le(52216,{left:n})}}function md(n,e){return(n.values||[]).find(t=>ui(t,e))!==void 0}function Dc(n,e){if(n===e)return 0;let t=Oo(n),r=Oo(e);if(t!==r)return xe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return xe(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=ft(o.integerValue||o.doubleValue),c=ft(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return Hk(n.timestampValue,e.timestampValue);case 4:return Hk(pd(n),pd(e));case 5:return HE(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Ki(o),c=Ki(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=xe(a[u],c[u]);if(d!==0)return d}return xe(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=xe(ft(o.latitude),ft(s.latitude));return a!==0?a:xe(ft(o.longitude),ft(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return zk(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,u,d;let p=o.fields||{},v=s.fields||{},_=(a=p[Tc])===null||a===void 0?void 0:a.arrayValue,S=(c=v[Tc])===null||c===void 0?void 0:c.arrayValue,R=xe(((u=_?.values)===null||u===void 0?void 0:u.length)||0,((d=S?.values)===null||d===void 0?void 0:d.length)||0);return R!==0?R:zk(_,S)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===og.mapValue&&s===og.mapValue)return 0;if(o===og.mapValue)return 1;if(s===og.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){let v=HE(c[p],d[p]);if(v!==0)return v;let _=Dc(a[c[p]],u[d[p]]);if(_!==0)return _}return xe(c.length,d.length)}(n.mapValue,e.mapValue);default:throw le(23264,{Pe:t})}}function Hk(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return xe(n,e);let t=Gi(n),r=Gi(e),i=xe(t.seconds,r.seconds);return i!==0?i:xe(t.nanos,r.nanos)}function zk(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Dc(t[i],r[i]);if(o)return o}return xe(t.length,r.length)}function Sc(n){return GE(n)}function GE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Gi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ki(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ue.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=GE(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${GE(t.fields[s])}`;return i+"}"}(n.mapValue):le(61005,{value:n})}function cg(n){switch(Oo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=qg(n);return e?16+cg(e):16;case 5:return 2*n.stringValue.length;case 6:return Ki(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+cg(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Zs(r.fields,(o,s)=>{i+=o.length+cg(s)}),i}(n.mapValue);default:throw le(13486,{value:n})}}function KE(n){return!!n&&"integerValue"in n}function AI(n){return!!n&&"arrayValue"in n}function qk(n){return!!n&&"nullValue"in n}function Wk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lg(n){return!!n&&"mapValue"in n}function q1(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[DI])===null||t===void 0?void 0:t.stringValue)===SI}function cd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Zs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=cd(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=cd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function W1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===z1}var bce={mapValue:{fields:{[DI]:{stringValue:SI},[Tc]:{arrayValue:{}}}}};var Rr=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!lg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cd(t)}setAll(e){let t=Kn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=cd(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());lg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];lg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Zs(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(cd(this.value))}};function G1(n){let e=[];return Zs(n.fields,(t,r)=>{let i=new Kn([t]);if(lg(r)){let o=G1(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new oi(e)}var Or=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,be.min(),be.min(),be.min(),Rr.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,be.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,be.min(),be.min(),Rr.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,be.min(),be.min(),Rr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ac=class{constructor(e,t){this.position=e,this.inclusive=t}};function Gk(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ue.comparator(ue.fromName(s.referenceValue),t.key):r=Dc(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Kk(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ui(n.position[t],e.position[t]))return!1;return!0}var xc=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function x9(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var yg=class{},jt=class n extends yg{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new QE(e,t,r):t==="array-contains"?new JE(e,r):t==="in"?new eC(e,r):t==="not-in"?new tC(e,r):t==="array-contains-any"?new nC(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new ZE(e,r):new XE(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Dc(t,this.value)):t!==null&&Oo(this.value)===Oo(t)&&this.matchesComparison(Dc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},di=class n extends yg{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return K1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function K1(n){return n.op==="and"}function Y1(n){return M9(n)&&K1(n)}function M9(n){for(let e of n.filters)if(e instanceof di)return!1;return!0}function YE(n){if(n instanceof jt)return n.field.canonicalString()+n.op.toString()+Sc(n.value);if(Y1(n))return n.filters.map(e=>YE(e)).join(",");{let e=n.filters.map(t=>YE(t)).join(",");return`${n.op}(${e})`}}function Q1(n,e){return n instanceof jt?function(r,i){return i instanceof jt&&r.op===i.op&&r.field.isEqual(i.field)&&ui(r.value,i.value)}(n,e):n instanceof di?function(r,i){return i instanceof di&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Q1(s,i.filters[a]),!0):!1}(n,e):void le(19439)}function Z1(n){return n instanceof jt?function(t){return`${t.field.canonicalString()} ${t.op} ${Sc(t.value)}`}(n):n instanceof di?function(t){return t.op.toString()+" {"+t.getFilters().map(Z1).join(" ,")+"}"}(n):"Filter"}var QE=class extends jt{constructor(e,t,r){super(e,t,r),this.key=ue.fromName(r.referenceValue)}matches(e){let t=ue.comparator(e.key,this.key);return this.matchesComparison(t)}},ZE=class extends jt{constructor(e,t){super(e,"in",t),this.keys=X1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},XE=class extends jt{constructor(e,t){super(e,"not-in",t),this.keys=X1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function X1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ue.fromName(r.referenceValue))}var JE=class extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return AI(t)&&md(t.arrayValue,this.value)}},eC=class extends jt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&md(this.value.arrayValue,t)}},tC=class extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(md(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!md(this.value.arrayValue,t)}},nC=class extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!AI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>md(this.value.arrayValue,r))}};var rC=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function Yk(n,e=null,t=[],r=[],i=null,o=null,s=null){return new rC(n,e,t,r,i,o,s)}function xI(n){let e=ve(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>YE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),zg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Sc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Sc(r)).join(",")),e.Ie=t}return e.Ie}function MI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!x9(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Q1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Kk(n.startAt,e.startAt)&&Kk(n.endAt,e.endAt)}function iC(n){return ue.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Mc=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function P9(n,e,t,r,i,o,s,a){return new Mc(n,e,t,r,i,o,s,a)}function PI(n){return new Mc(n)}function Qk(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function R9(n){return n.collectionGroup!==null}function ld(n){let e=ve(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Kt(Kn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new xc(o,r))}),t.has(Kn.keyField().canonicalString())||e.Ee.push(new xc(Kn.keyField(),r))}return e.Ee}function ci(n){let e=ve(n);return e.de||(e.de=O9(e,ld(n))),e.de}function O9(n,e){if(n.limitType==="F")return Yk(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new xc(i.field,o)});let t=n.endAt?new Ac(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ac(n.startAt.position,n.startAt.inclusive):null;return Yk(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function oC(n,e,t){return new Mc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wg(n,e){return MI(ci(n),ci(e))&&n.limitType===e.limitType}function J1(n){return`${xI(ci(n))}|lt:${n.limitType}`}function _c(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Z1(i)).join(", ")}]`),zg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Sc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Sc(i)).join(",")),`Target(${r})`}(ci(n))}; limitType=${n.limitType})`}function Gg(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ue.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of ld(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=Gk(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,ld(r),i)||r.endAt&&!function(s,a,c){let u=Gk(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,ld(r),i))}(n,e)}function k9(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function eN(n){return(e,t)=>{let r=!1;for(let i of ld(n)){let o=N9(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function N9(n,e,t){let r=n.field.isKeyField()?ue.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?Dc(c,u):le(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return le(19790,{direction:n.dir})}}var Yi=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zs(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return j1(this.inner)}size(){return this.innerSize}};var F9=new wt(ue.comparator);function Qi(){return F9}var tN=new wt(ue.comparator);function ad(...n){let e=tN;for(let t of n)e=e.insert(t.key,t);return e}function nN(n){let e=tN;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function $s(){return ud()}function rN(){return ud()}function ud(){return new Yi(n=>n.toString(),(n,e)=>n.isEqual(e))}var L9=new wt(ue.comparator),V9=new Kt(ue.comparator);function ke(...n){let e=V9;for(let t of n)e=e.add(t);return e}var j9=new Kt(xe);function B9(){return j9}function RI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fd(e)?"-0":e}}function iN(n){return{integerValue:""+n}}function U9(n,e){return m9(e)?iN(e):RI(n,e)}var Pc=class{constructor(){this._=void 0}};function $9(n,e,t){return n instanceof Rc?function(i,o){let s={fields:{[U1]:{stringValue:B1},[H1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&TI(o)&&(o=qg(o)),o&&(s.fields[$1]=o),{mapValue:s}}(t,e):n instanceof Gs?sN(n,e):n instanceof Ks?aN(n,e):function(i,o){let s=oN(i,o),a=Zk(s)+Zk(i.Re);return KE(s)&&KE(i.Re)?iN(a):RI(i.serializer,a)}(n,e)}function H9(n,e,t){return n instanceof Gs?sN(n,e):n instanceof Ks?aN(n,e):t}function oN(n,e){return n instanceof Oc?function(r){return KE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Rc=class extends Pc{},Gs=class extends Pc{constructor(e){super(),this.elements=e}};function sN(n,e){let t=cN(e);for(let r of n.elements)t.some(i=>ui(i,r))||t.push(r);return{arrayValue:{values:t}}}var Ks=class extends Pc{constructor(e){super(),this.elements=e}};function aN(n,e){let t=cN(e);for(let r of n.elements)t=t.filter(i=>!ui(i,r));return{arrayValue:{values:t}}}var Oc=class extends Pc{constructor(e,t){super(),this.serializer=e,this.Re=t}};function Zk(n){return ft(n.integerValue||n.doubleValue)}function cN(n){return AI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function z9(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Gs&&i instanceof Gs||r instanceof Ks&&i instanceof Ks?Ic(r.elements,i.elements,ui):r instanceof Oc&&i instanceof Oc?ui(r.Re,i.Re):r instanceof Rc&&i instanceof Rc}(n.transform,e.transform)}var sC=class{constructor(e,t){this.version=e,this.transformResults=t}},zs=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ug(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var kc=class{};function lN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new bg(n.key,zs.none()):new Ys(n.key,n.data,zs.none());{let t=n.data,r=Rr.empty(),i=new Kt(Kn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Zi(n.key,r,new oi(i.toArray()),zs.none())}}function q9(n,e,t){n instanceof Ys?function(i,o,s){let a=i.value.clone(),c=Jk(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Zi?function(i,o,s){if(!ug(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=Jk(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(uN(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function dd(n,e,t,r){return n instanceof Ys?function(o,s,a,c){if(!ug(o.precondition,s))return a;let u=o.value.clone(),d=e1(o.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Zi?function(o,s,a,c){if(!ug(o.precondition,s))return a;let u=e1(o.fieldTransforms,c,s),d=s.data;return d.setAll(uN(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return ug(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function W9(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=oN(r.transform,i||null);o!=null&&(t===null&&(t=Rr.empty()),t.set(r.field,o))}return t||null}function Xk(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ic(r,i,(o,s)=>z9(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ys=class extends kc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Zi=class extends kc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function uN(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function Jk(n,e,t){let r=new Map;We(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,H9(s,a,t[i]))}return r}function e1(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,$9(o,s,e))}return r}var bg=class extends kc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},aC=class extends kc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var cC=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&q9(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=dd(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=dd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=rN();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=lN(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&Ic(this.mutations,e.mutations,(t,r)=>Xk(t,r))&&Ic(this.baseMutations,e.baseMutations,(t,r)=>Xk(t,r))}},lC=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){We(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return L9}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var uC=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var dC=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Rt,Ve;function G9(n){switch(n){case $.OK:return le(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return le(15467,{code:n})}}function dN(n){if(n===void 0)return Wi("GRPC error has no .code"),$.UNKNOWN;switch(n){case Rt.OK:return $.OK;case Rt.CANCELLED:return $.CANCELLED;case Rt.UNKNOWN:return $.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return $.INTERNAL;case Rt.UNAVAILABLE:return $.UNAVAILABLE;case Rt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Rt.NOT_FOUND:return $.NOT_FOUND;case Rt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Rt.ABORTED:return $.ABORTED;case Rt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Rt.DATA_LOSS:return $.DATA_LOSS;default:return le(39323,{code:n})}}(Ve=Rt||(Rt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";var t1=null;var K9=new zi([4294967295,4294967295],0);function n1(n){let e=I1().encode(n),t=new SE;return t.update(e),new Uint8Array(t.digest())}function r1(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new zi([t,r],0),new zi([i,o],0)]}var hC=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Hs(`Invalid padding: ${t}`);if(r<0)throw new Hs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hs(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Hs(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=zi.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(zi.fromNumber(r)));return i.compare(K9)===1&&(i=new zi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=n1(e),[r,i]=r1(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.Se(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let t=n1(e),[r,i]=r1(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.be(s)}}be(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Hs=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var wg=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,gd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(be.min(),i,new wt(xe),Qi(),ke())}},gd=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ke(),ke(),ke())}};var Ec=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},Eg=class{constructor(e,t){this.targetId=e,this.Ce=t}},Cg=class{constructor(e,t,r=fn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Ig=class{constructor(){this.Fe=0,this.Me=i1(),this.xe=fn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ke(),t=ke(),r=ke();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:le(38017,{changeType:o})}}),new gd(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=i1()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,We(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},fC=class{constructor(e){this.ze=e,this.je=new Map,this.He=Qi(),this.Je=sg(),this.Ye=sg(),this.Ze=new wt(xe)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:le(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let o=i.target;if(iC(o))if(r===0){let s=new ue(o.path);this.tt(t,s,Or.newNoDocument(s,be.min()))}else We(r===1,20013,{expectedCount:r});else{let s=this.ut(t);if(s!==r){let a=this.ct(e),c=a?this.lt(a,e,s):1;if(c!==0){this.st(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,u)}t1?.ht(function(d,p,v,_,S){var R,k,G,te,Z,Ne;let Dt={localCacheCount:d,existenceFilterCount:p.count,databaseId:v.database,projectId:v.projectId},Ue=p.unchangedNames;return Ue&&(Dt.bloomFilter={applied:S===0,hashCount:(R=Ue?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(te=(G=(k=Ue?.bits)===null||k===void 0?void 0:k.bitmap)===null||G===void 0?void 0:G.length)!==null&&te!==void 0?te:0,padding:(Ne=(Z=Ue?.bits)===null||Z===void 0?void 0:Z.padding)!==null&&Ne!==void 0?Ne:0,mightContain:x=>{var C;return(C=_?.mightContain(x))!==null&&C!==void 0&&C}}),Dt}(s,e.Ce,this.ze.Pt(),a,c))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Ki(r).toUint8Array()}catch(c){if(c instanceof gg)return Cc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new hC(s,i,o)}catch(c){return Cc(c instanceof Hs?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,o,null),i++)}),i}It(e){let t=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&iC(a.target)){let c=new ue(a.target.path);this.Et(c).has(s)||this.dt(s,c)||this.tt(s,c,Or.newNoDocument(c,e))}o.Le&&(t.set(s,o.qe()),o.Qe())}});let r=ke();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this._t(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new wg(e,t,this.Ze,this.He,r);return this.He=Qi(),this.Je=sg(),this.Ye=sg(),this.Ze=new wt(xe),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Ig,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Kt(xe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Kt(xe),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||Q("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Ig),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function sg(){return new wt(ue.comparator)}function i1(){return new wt(ue.comparator)}var Y9={asc:"ASCENDING",desc:"DESCENDING"},Q9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Z9={and:"AND",or:"OR"},pC=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function mC(n,e){return n.useProto3Json||zg(e)?e:{value:e}}function Tg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function X9(n,e){return Tg(n,e.toTimestamp())}function li(n){return We(!!n,49232),be.fromTimestamp(function(t){let r=Gi(t);return new nn(r.seconds,r.nanos)}(n))}function OI(n,e){return gC(n,e).canonicalString()}function gC(n,e){let t=function(i){return new kt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function fN(n){let e=kt.fromString(n);return We(_N(e),10190,{key:e.toString()}),e}function vC(n,e){return OI(n.databaseId,e.path)}function OE(n,e){let t=fN(e);if(t.get(1)!==n.databaseId.projectId)throw new ae($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ae($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ue(mN(t))}function pN(n,e){return OI(n.databaseId,e)}function J9(n){let e=fN(n);return e.length===4?kt.emptyPath():mN(e)}function _C(n){return new kt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function mN(n){return We(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function o1(n,e,t){return{name:vC(n,e),fields:t.value.mapValue.fields}}function eW(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:le(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(We(d===void 0||typeof d=="string",58123),fn.fromBase64String(d||"")):(We(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),fn.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let d=u.code===void 0?$.UNKNOWN:dN(u.code);return new ae(d,u.message||"")}(s);t=new Cg(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=OE(n,r.document.name),o=li(r.document.updateTime),s=r.document.createTime?li(r.document.createTime):be.min(),a=new Rr({mapValue:{fields:r.document.fields}}),c=Or.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];t=new Ec(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=OE(n,r.document),o=r.readTime?li(r.readTime):be.min(),s=Or.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Ec([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=OE(n,r.document),o=r.removedTargetIds||[];t=new Ec([],o,i,null)}else{if(!("filter"in e))return le(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new dC(i,o),a=r.targetId;t=new Eg(a,s)}}return t}function tW(n,e){let t;if(e instanceof Ys)t={update:o1(n,e.key,e.value)};else if(e instanceof bg)t={delete:vC(n,e.key)};else if(e instanceof Zi)t={update:o1(n,e.key,e.data),updateMask:uW(e.fieldMask)};else{if(!(e instanceof aC))return le(16599,{ft:e.type});t={verify:vC(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Rc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Gs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ks)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Oc)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw le(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:X9(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:le(27497)}(n,e.precondition)),t}function nW(n,e){return n&&n.length>0?(We(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?li(i.updateTime):li(o);return s.isEqual(be.min())&&(s=li(o)),new sC(s,i.transformResults||[])}(t,e))):[]}function rW(n,e){return{documents:[pN(n,e.path)]}}function iW(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=pN(n,i);let o=function(u){if(u.length!==0)return vN(di.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(d=>function(v){return{field:yc(v.field),direction:aW(v.dir)}}(d))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=mC(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:t,parent:i}}function oW(n){let e=J9(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){We(r===1,65062);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(p){let v=gN(p);return v instanceof di&&Y1(v)?v.getFilters():[v]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(v=>function(S){return new xc(bc(S.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(v))}(t.orderBy));let a=null;t.limit&&(a=function(p){let v;return v=typeof p=="object"?p.value:p,zg(v)?null:v}(t.limit));let c=null;t.startAt&&(c=function(p){let v=!!p.before,_=p.values||[];return new Ac(_,v)}(t.startAt));let u=null;return t.endAt&&(u=function(p){let v=!p.before,_=p.values||[];return new Ac(_,v)}(t.endAt)),P9(e,i,s,o,a,"F",c,u)}function sW(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function gN(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=bc(t.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=bc(t.unaryFilter.field);return jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=bc(t.unaryFilter.field);return jt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=bc(t.unaryFilter.field);return jt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return le(61313);default:return le(60726)}}(n):n.fieldFilter!==void 0?function(t){return jt.create(bc(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return le(58110);default:return le(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return di.create(t.compositeFilter.filters.map(r=>gN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le(1026)}}(t.compositeFilter.op))}(n):le(30097,{filter:n})}function aW(n){return Y9[n]}function cW(n){return Q9[n]}function lW(n){return Z9[n]}function yc(n){return{fieldPath:n.canonicalString()}}function bc(n){return Kn.fromServerFormat(n.fieldPath)}function vN(n){return n instanceof jt?function(t){if(t.op==="=="){if(Wk(t.value))return{unaryFilter:{field:yc(t.field),op:"IS_NAN"}};if(qk(t.value))return{unaryFilter:{field:yc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Wk(t.value))return{unaryFilter:{field:yc(t.field),op:"IS_NOT_NAN"}};if(qk(t.value))return{unaryFilter:{field:yc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yc(t.field),op:cW(t.op),value:t.value}}}(n):n instanceof di?function(t){let r=t.getFilters().map(i=>vN(i));return r.length===1?r[0]:{compositeFilter:{op:lW(t.op),filters:r}}}(n):le(54877,{filter:n})}function uW(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _N(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var vd=class n{constructor(e,t,r,i,o=be.min(),s=be.min(),a=fn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var yC=class{constructor(e){this.wt=e}};function dW(n){let e=oW({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?oC(e,e.limit,"L"):e}var Dg=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(ft(e.integerValue));else if("doubleValue"in e){let r=ft(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),fd(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=Gi(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Ki(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?W1(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):q1(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):le(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let o=e.fields||{};this.Mt(t,53);let s=Tc,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(ft(a)),this.Nt(s,t),this.Ct(o[s],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),ue.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};Dg.Wt=new Dg;var bC=class{constructor(){this.Cn=new wC}addToCollectionParentIndex(e,t){return this.Cn.add(t),U.resolve()}getCollectionParents(e,t){return U.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return U.resolve()}deleteFieldIndex(e,t){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,t){return U.resolve()}getDocumentsMatchingTarget(e,t){return U.resolve(null)}getIndexType(e,t){return U.resolve(0)}getFieldIndexes(e,t){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,t){return U.resolve(Ws.min())}getMinOffsetFromCollectionGroup(e,t){return U.resolve(Ws.min())}updateCollectionGroup(e,t,r){return U.resolve()}updateIndexEntries(e,t){return U.resolve()}},wC=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Kt(kt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Kt(kt.comparator)).toArray()}};var wce=new Uint8Array(0);var s1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yN=41943040,ur=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};ur.DEFAULT_COLLECTION_PERCENTILE=10,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ur.DEFAULT=new ur(yN,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ur.DISABLED=new ur(-1,0,0);var _d=class n{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new n(0)}static lr(){return new n(-1)}};var a1="LruGarbageCollector",hW=1048576;function c1([n,e],[t,r]){let i=xe(n,t);return i===0?xe(e,r):i}var EC=class{constructor(e){this.Er=e,this.buffer=new Kt(c1),this.dr=0}Ar(){return++this.dr}Rr(e){let t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();c1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},CC=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Q(a1,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>w(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Vc(t)?Q(a1,"Ignoring IndexedDB error during garbage collection: ",t):yield Lc(t)}yield this.mr(3e5)}))}},IC=class{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return U.resolve(CI.le);let r=new EC(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(s1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),s1):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,s,a,c,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),vc()<=Oe.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function fW(n,e){return new IC(n,e)}var TC=class{constructor(){this.changes=new Yi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Or.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?U.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var DC=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var SC=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&dd(r.mutation,i,oi.empty(),nn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ke()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ke()){let i=$s();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=ad();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=$s();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ke()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Qi(),s=ud(),a=function(){return ud()}();return t.forEach((c,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Zi)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),dd(d.mutation,u,d.mutation.getFieldMask(),nn.now())):s.set(u.key,oi.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>s.set(u,d)),t.forEach((u,d)=>{var p;return a.set(u,new DC(d,(p=s.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=ud(),i=new wt((s,a)=>s-a),o=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let d=r.get(c)||oi.empty();d=a.applyToLocalView(u,d),r.set(c,d);let p=(i.get(a.batchId)||ke()).add(c);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,p=rN();d.forEach(v=>{if(!o.has(v)){let _=lN(t.get(v),r.get(v));_!==null&&p.set(v,_),o=o.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,p))}return U.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return ue.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):R9(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):U.resolve($s()),a=hd,c=o;return s.next(u=>U.forEach(u,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(v=>{c=c.insert(d,v)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,ke())).next(d=>({batchId:a,changes:nN(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ue(t)).next(r=>{let i=ad();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=ad();return this.indexManager.getCollectionParents(e,o).next(a=>U.forEach(a,c=>{let u=function(p,v){return new Mc(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((p,v)=>{s=s.insert(p,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,u)=>{let d=u.getKey();s.get(d)===null&&(s=s.insert(d,Or.newInvalidDocument(d)))});let a=ad();return s.forEach((c,u)=>{let d=o.get(c);d!==void 0&&dd(d.mutation,u,oi.empty(),nn.now()),Gg(t,u)&&(a=a.insert(c,u))}),a})}};var AC=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return U.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:li(i.createTime)}}(t)),U.resolve()}getNamedQuery(e,t){return U.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:dW(i.bundledQuery),readTime:li(i.readTime)}}(t)),U.resolve()}};var xC=class{constructor(){this.overlays=new wt(ue.comparator),this.Qr=new Map}getOverlay(e,t){return U.resolve(this.overlays.get(t))}getOverlays(e,t){let r=$s();return U.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.bt(e,t,o)}),U.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),U.resolve()}getOverlaysForCollection(e,t,r){let i=$s(),o=t.length+1,s=new ue(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return U.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new wt((u,d)=>u-d),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=$s(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=$s(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return U.resolve(a)}bt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new uC(t,r));let o=this.Qr.get(t);o===void 0&&(o=ke(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}};var MC=class{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,U.resolve()}};var yd=class{constructor(){this.$r=new Kt(Ot.Ur),this.Kr=new Kt(Ot.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){let r=new Ot(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new Ot(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){let t=new ue(new kt([])),r=new Ot(t,e),i=new Ot(t,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let t=new ue(new kt([])),r=new Ot(t,e),i=new Ot(t,e+1),o=ke();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Ot(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ot=class{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ue.comparator(e.key,t.key)||xe(e.Zr,t.Zr)}static Wr(e,t){return xe(e.Zr,t.Zr)||ue.comparator(e.key,t.key)}};var PC=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Kt(Ot.Ur)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new cC(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new Ot(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(s)}lookupMutationBatch(e,t){return U.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ti(r),o=i<0?0:i;return U.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?II:this.nr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ot(t,0),i=new Ot(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),U.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Kt(xe);return t.forEach(i=>{let o=new Ot(i,0),s=new Ot(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),U.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;ue.isDocumentKey(o)||(o=o.child(""));let s=new Ot(new ue(o),0),a=new Kt(xe);return this.Xr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Zr)),!0)},s),U.resolve(this.ni(a))}ni(e){let t=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){We(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return U.forEach(t.mutations,i=>{let o=new Ot(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){let r=new Ot(t,0),i=this.Xr.firstAfterOrEqual(r);return U.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var RC=class{constructor(e){this.ii=e,this.docs=function(){return new wt(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return U.resolve(r?r.document.mutableCopy():Or.newInvalidDocument(t))}getEntries(e,t){let r=Qi();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Or.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Qi(),s=t.path,a=new ue(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||h9(d9(d),r)<=0||(i.has(d.key)||Gg(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return U.resolve(o)}getAllFromCollectionGroup(e,t,r,i){le(9500)}si(e,t){return U.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new OC(this)}getSize(e){return U.resolve(this.size)}},OC=class extends TC{constructor(e){super(),this.Br=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),U.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}};var kC=class{constructor(e){this.persistence=e,this.oi=new Yi(t=>xI(t),MI),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this._i=0,this.ai=new yd,this.targetCount=0,this.ui=_d.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),U.resolve()}Tr(e){this.oi.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ui=new _d(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,U.resolve()}updateTargetData(e,t){return this.Tr(t),U.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(o).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,t){let r=this.oi.get(t)||null;return U.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),U.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),U.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),U.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ai.Yr(t);return U.resolve(r)}containsKey(e,t){return U.resolve(this.ai.containsKey(t))}};var Sg=class{constructor(e,t){this.ci={},this.overlays={},this.li=new CI(0),this.hi=!1,this.hi=!0,this.Pi=new MC,this.referenceDelegate=e(this),this.Ti=new kC(this),this.indexManager=new bC,this.remoteDocumentCache=function(i){return new RC(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new yC(t),this.Ei=new AC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new PC(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){Q("MemoryPersistence","Starting transaction:",e);let i=new NC(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return U.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}},NC=class extends qE{constructor(e){super(),this.currentSequenceNumber=e}},FC=class n{constructor(e){this.persistence=e,this.Vi=new yd,this.mi=null}static fi(e){return new n(e)}get gi(){if(this.mi)return this.mi;throw le(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),U.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),U.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.gi,r=>{let i=ue.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,be.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return U.or([()=>U.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}},Ag=class n{constructor(e,t){this.persistence=e,this.yi=new Yi(r=>g9(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=fW(this,t)}static fi(e,t){return new n(e,t)}di(){}Ai(e){return U.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){let t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return U.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?U.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,be.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),U.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),U.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=cg(e.data.value)),t}Dr(e,t,r){return U.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.yi.get(t);return U.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var LC=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=ke(),i=ke();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var VC=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var jC=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return yO()?8:p9(qt())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ws(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Ss(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new VC;return this.bs(e,t,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,t,s,a.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(vc()<=Oe.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",_c(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),U.resolve()):(vc()<=Oe.DEBUG&&Q("QueryEngine","Query:",_c(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(vc()<=Oe.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",_c(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ci(t))):U.resolve())}ws(e,t){if(Qk(t))return U.resolve(null);let r=ci(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=oC(t,null,"F"),r=ci(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ke(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.vs(t,a);return this.Cs(t,u,s,c.readTime)?this.ws(e,oC(t,null,"F")):this.Fs(e,u,t,c)}))})))}Ss(e,t,r,i){return Qk(t)||i.isEqual(be.min())?U.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(t,o);return this.Cs(t,s,r,i)?U.resolve(null):(vc()<=Oe.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_c(t)),this.Fs(e,s,t,u9(i,hd)).next(a=>a))})}vs(e,t){let r=new Kt(eN(e));return t.forEach((i,o)=>{Gg(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}bs(e,t,r){return vc()<=Oe.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",_c(t)),this.ys.getDocumentsMatchingQuery(e,t,Ws.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var kI="LocalStore",pW=3e8,BC=class{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new wt(xe),this.Os=new Yi(o=>xI(o),MI),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SC(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}};function mW(n,e,t,r){return new BC(n,e,t,r)}function bN(n,e){return w(this,null,function*(){let t=ve(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=ke();for(let u of i){s.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of o){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(u=>({ks:u,removedBatchIds:s,addedBatchIds:a}))})})})}function gW(n,e){let t=ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let p=u.batch,v=p.keys(),_=U.resolve();return v.forEach(S=>{_=_.next(()=>d.getEntry(c,S)).next(R=>{let k=u.docVersions.get(S);We(k!==null,48541),R.version.compareTo(k)<0&&(p.applyToRemoteDocument(R,u),R.isValidDocument()&&(R.setReadTime(u.commitVersion),d.addEntry(R)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ke();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function wN(n){let e=ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function vW(n,e){let t=ve(n),r=e.snapshotVersion,i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;let a=[];e.targetChanges.forEach((d,p)=>{let v=i.get(p);if(!v)return;a.push(t.Ti.removeMatchingKeys(o,d.removedDocuments,p).next(()=>t.Ti.addMatchingKeys(o,d.addedDocuments,p)));let _=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(fn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,r)),i=i.insert(p,_),function(R,k,G){return R.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=pW?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(v,_,d)&&a.push(t.Ti.updateTargetData(o,_))});let c=Qi(),u=ke();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(_W(o,s,e.documentUpdates).next(d=>{c=d.qs,u=d.Qs})),!r.isEqual(be.min())){let d=t.Ti.getLastRemoteSnapshotVersion(o).next(p=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return U.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(t.xs=i,o))}function _W(n,e,t){let r=ke(),i=ke();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Qi();return t.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(be.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):Q(kI,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{qs:s,Qs:i}})}function yW(n,e){let t=ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=II),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function bW(n,e){let t=ve(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,U.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new vd(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}function UC(n,e,t){return w(this,null,function*(){let r=ve(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Vc(s))throw s;Q(kI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function l1(n,e,t){let r=ve(n),i=be.min(),o=ke();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){let p=ve(c),v=p.Os.get(d);return v!==void 0?U.resolve(p.xs.get(v)):p.Ti.getTargetData(u,d)}(r,s,ci(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:be.min(),t?o:ke())).next(a=>(wW(r,k9(e),a),{documents:a,$s:o})))}function wW(n,e,t){let r=n.Ns.get(e)||be.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}var xg=class{constructor(){this.activeTargetIds=B9()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var $C=class{constructor(){this.xo=new xg,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new xg,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var HC=class{No(e){}shutdown(){}};var u1="ConnectivityMonitor",Mg=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Q(u1,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){Q(u1,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ag=null;function zC(){return ag===null?ag=function(){return 268435456+Math.round(2147483648*Math.random())}():ag++,"0x"+ag.toString(16)}var kE="RestConnection",EW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},qC=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===vg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){let s=zC(),a=this.jo(e,t.toUriEncodedString());Q(kE,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,o);let{host:u}=new URL(a),d=Ns(u);return this.Jo(e,a,c,r,d).then(p=>(Q(kE,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Cc(kE,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,t,r,i,o,s){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){let r=EW[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}};var WC=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var hn="WebChannelConnection",GC=class extends qC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=zC();return new Promise((a,c)=>{let u=new AE;u.setWithCredentials(!0),u.listenOnce(xE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case sd.NO_ERROR:let p=u.getResponseJson();Q(hn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case sd.TIMEOUT:Q(hn,`RPC '${e}' ${s} timed out`),c(new ae($.DEADLINE_EXCEEDED,"Request time out"));break;case sd.HTTP_ERROR:let v=u.getStatus();if(Q(hn,`RPC '${e}' ${s} failed with status:`,v,"response text:",u.getResponseText()),v>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let S=_?.error;if(S&&S.status&&S.message){let R=function(G){let te=G.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(te)>=0?te:$.UNKNOWN}(S.status);c(new ae(R,S.message))}else c(new ae($.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new ae($.UNAVAILABLE,"Connection failed."));break;default:le(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Q(hn,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);Q(hn,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",d,r,15)})}T_(e,t,r){let i=zC(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=RE(),a=PE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let d=o.join("");Q(hn,`Creating RPC '${e}' stream ${i}: ${d}`,c);let p=s.createWebChannel(d,c),v=!1,_=!1,S=new WC({Zo:k=>{_?Q(hn,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(v||(Q(hn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),Q(hn,`RPC '${e}' stream ${i} sending:`,k),p.send(k))},Xo:()=>p.close()}),R=(k,G,te)=>{k.listen(G,Z=>{try{te(Z)}catch(Ne){setTimeout(()=>{throw Ne},0)}})};return R(p,gc.EventType.OPEN,()=>{_||(Q(hn,`RPC '${e}' stream ${i} transport opened.`),S.__())}),R(p,gc.EventType.CLOSE,()=>{_||(_=!0,Q(hn,`RPC '${e}' stream ${i} transport closed`),S.u_())}),R(p,gc.EventType.ERROR,k=>{_||(_=!0,Cc(hn,`RPC '${e}' stream ${i} transport errored. Name:`,k.name,"Message:",k.message),S.u_(new ae($.UNAVAILABLE,"The operation could not be completed")))}),R(p,gc.EventType.MESSAGE,k=>{var G;if(!_){let te=k.data[0];We(!!te,16349);let Z=te,Ne=Z?.error||((G=Z[0])===null||G===void 0?void 0:G.error);if(Ne){Q(hn,`RPC '${e}' stream ${i} received error:`,Ne);let Dt=Ne.status,Ue=function(D){let A=Rt[D];if(A!==void 0)return dN(A)}(Dt),x=Ne.message;Ue===void 0&&(Ue=$.INTERNAL,x="Unknown error status: "+Dt+" with message "+Ne.message),_=!0,S.u_(new ae(Ue,x)),p.close()}else Q(hn,`RPC '${e}' stream ${i} received:`,te),S.c_(te)}}),R(a,ME.STAT_EVENT,k=>{k.stat===ig.PROXY?Q(hn,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===ig.NOPROXY&&Q(hn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.a_()},0),S}};function NE(){return typeof document<"u"?document:null}function Kg(n){return new pC(n,!0)}var Pg=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=i,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();let t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,t-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}};var d1="PersistentStream",Rg=class{constructor(e,t,r,i,o,s,a,c){this.xi=e,this.y_=r,this.w_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Pg(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}stop(){return w(this,null,function*(){this.F_()&&(yield this.close(0))})}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}B_(){return w(this,null,function*(){if(this.M_())return this.close(0)})}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}close(e,t){return w(this,null,function*(){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===$.RESOURCE_EXHAUSTED?(Wi(t.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(t)})}Q_(){}auth(){this.state=1;let e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===t&&this.K_(r,i)},r=>{e(()=>{let i=new ae($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,t){let r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(()=>w(this,null,function*(){this.state=0,this.start()}))}W_(e){return Q(d1,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(Q(d1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},KC=class extends Rg{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();let t=eW(this.serializer,e),r=function(o){if(!("targetChange"in o))return be.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?be.min():s.readTime?li(s.readTime):be.min()}(e);return this.listener.j_(t,r)}H_(e){let t={};t.database=_C(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=iC(c)?{documents:rW(o,c)}:{query:iW(o,c).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=hN(o,s.resumeToken);let u=mC(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(be.min())>0){a.readTime=Tg(o,s.snapshotVersion.toTimestamp());let u=mC(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=sW(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){let t={};t.database=_C(this.serializer),t.removeTarget=e,this.L_(t)}},YC=class extends Rg{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();let t=nW(e.writeResults,e.commitTime),r=li(e.commitTime);return this.listener.ea(r,t)}ta(){let e={};e.database=_C(this.serializer),this.L_(e)}Z_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>tW(this.serializer,r))};this.L_(t)}};var QC=class{},ZC=class extends QC{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new ae($.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,gC(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae($.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,gC(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ae($.UNKNOWN,s.toString())})}terminate(){this.na=!0,this.connection.terminate()}},XC=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Wi(t),this.oa=!1):Q("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}};var Qs="RemoteStore",JC=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(s=>{r.enqueueAndForget(()=>w(this,null,function*(){Xs(this)&&(Q(Qs,"Restarting streams for network reachability change."),yield function(c){return w(this,null,function*(){let u=ve(c);u.Ta.add(4),yield Ad(u),u.da.set("Unknown"),u.Ta.delete(4),yield Yg(u)})}(this))}))}),this.da=new XC(r,i)}};function Yg(n){return w(this,null,function*(){if(Xs(n))for(let e of n.Ia)yield e(!0)})}function Ad(n){return w(this,null,function*(){for(let e of n.Ia)yield e(!1)})}function EN(n,e){let t=ve(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),VI(t)?LI(t):jc(t).M_()&&FI(t,e))}function NI(n,e){let t=ve(n),r=jc(t);t.Pa.delete(e),r.M_()&&CN(t,e),t.Pa.size===0&&(r.M_()?r.N_():Xs(t)&&t.da.set("Unknown"))}function FI(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}jc(n).H_(e)}function CN(n,e){n.Aa.Ke(e),jc(n).J_(e)}function LI(n){n.Aa=new fC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),jc(n).start(),n.da._a()}function VI(n){return Xs(n)&&!jc(n).F_()&&n.Pa.size>0}function Xs(n){return ve(n).Ta.size===0}function IN(n){n.Aa=void 0}function CW(n){return w(this,null,function*(){n.da.set("Online")})}function IW(n){return w(this,null,function*(){n.Pa.forEach((e,t)=>{FI(n,e)})})}function TW(n,e){return w(this,null,function*(){IN(n),VI(n)?(n.da.ca(e),LI(n)):n.da.set("Unknown")})}function DW(n,e,t){return w(this,null,function*(){if(n.da.set("Online"),e instanceof Cg&&e.state===2&&e.cause)try{yield function(i,o){return w(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Pa.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Pa.delete(a),i.Aa.removeTarget(a))})}(n,e)}catch(r){Q(Qs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Og(n,r)}else if(e instanceof Ec?n.Aa.Xe(e):e instanceof Eg?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(be.min()))try{let r=yield wN(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Aa.It(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.Pa.get(u);d&&o.Pa.set(u,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let d=o.Pa.get(c);if(!d)return;o.Pa.set(c,d.withResumeToken(fn.EMPTY_BYTE_STRING,d.snapshotVersion)),CN(o,c);let p=new vd(d.target,c,u,d.sequenceNumber);FI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){Q(Qs,"Failed to raise snapshot:",r),yield Og(n,r)}})}function Og(n,e,t){return w(this,null,function*(){if(!Vc(e))throw e;n.Ta.add(1),yield Ad(n),n.da.set("Offline"),t||(t=()=>wN(n.localStore)),n.asyncQueue.enqueueRetryable(()=>w(null,null,function*(){Q(Qs,"Retrying IndexedDB access"),yield t(),n.Ta.delete(1),yield Yg(n)}))})}function TN(n,e){return e().catch(t=>Og(n,t,e))}function Qg(n){return w(this,null,function*(){let e=ve(n),t=ko(e),r=e.ha.length>0?e.ha[e.ha.length-1].batchId:II;for(;SW(e);)try{let i=yield yW(e.localStore,r);if(i===null){e.ha.length===0&&t.N_();break}r=i.batchId,AW(e,i)}catch(i){yield Og(e,i)}DN(e)&&SN(e)})}function SW(n){return Xs(n)&&n.ha.length<10}function AW(n,e){n.ha.push(e);let t=ko(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function DN(n){return Xs(n)&&!ko(n).F_()&&n.ha.length>0}function SN(n){ko(n).start()}function xW(n){return w(this,null,function*(){ko(n).ta()})}function MW(n){return w(this,null,function*(){let e=ko(n);for(let t of n.ha)e.Z_(t.mutations)})}function PW(n,e,t){return w(this,null,function*(){let r=n.ha.shift(),i=lC.from(r,e,t);yield TN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Qg(n)})}function RW(n,e){return w(this,null,function*(){e&&ko(n).Y_&&(yield function(r,i){return w(this,null,function*(){if(function(s){return G9(s)&&s!==$.ABORTED}(i.code)){let o=r.ha.shift();ko(r).O_(),yield TN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Qg(r)}})}(n,e)),DN(n)&&SN(n)})}function h1(n,e){return w(this,null,function*(){let t=ve(n);t.asyncQueue.verifyOperationInProgress(),Q(Qs,"RemoteStore received new credentials");let r=Xs(t);t.Ta.add(3),yield Ad(t),r&&t.da.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),yield Yg(t)})}function OW(n,e){return w(this,null,function*(){let t=ve(n);e?(t.Ta.delete(2),yield Yg(t)):e||(t.Ta.add(2),yield Ad(t),t.da.set("Unknown"))})}function jc(n){return n.Ra||(n.Ra=function(t,r,i){let o=ve(t);return o.ra(),new KC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:CW.bind(null,n),n_:IW.bind(null,n),i_:TW.bind(null,n),j_:DW.bind(null,n)}),n.Ia.push(e=>w(null,null,function*(){e?(n.Ra.O_(),VI(n)?LI(n):n.da.set("Unknown")):(yield n.Ra.stop(),IN(n))}))),n.Ra}function ko(n){return n.Va||(n.Va=function(t,r,i){let o=ve(t);return o.ra(),new YC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:xW.bind(null,n),i_:RW.bind(null,n),X_:MW.bind(null,n),ea:PW.bind(null,n)}),n.Ia.push(e=>w(null,null,function*(){e?(n.Va.O_(),yield Qg(n)):(yield n.Va.stop(),n.ha.length>0&&(Q(Qs,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))}))),n.Va}var eI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function jI(n,e){if(Wi("AsyncQueue",`${e}: ${n}`),Vc(n))return new ae($.UNAVAILABLE,`${e}: ${n}`);throw n}var kg=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ue.comparator(t.key,r.key):(t,r)=>ue.comparator(t.key,r.key),this.keyedMap=ad(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Ng=class{constructor(){this.ma=new wt(ue.comparator)}track(e){let t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):le(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){let e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}},Nc=class n{constructor(e,t,r,i,o,s,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,kg.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var tI=class{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}},nI=class{constructor(){this.queries=f1(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){let i=ve(t),o=i.queries;i.queries=f1(),o.forEach((s,a)=>{for(let c of a.ya)c.onError(r)})})(this,new ae($.ABORTED,"Firestore shutting down"))}};function f1(){return new Yi(n=>J1(n),Wg)}function kW(n,e){return w(this,null,function*(){let t=ve(n),r=3,i=e.query,o=t.queries.get(i);o?!o.wa()&&e.Sa()&&(r=2):(o=new tI,r=e.Sa()?0:1);try{switch(r){case 0:o.pa=yield t.onListen(i,!0);break;case 1:o.pa=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=jI(s,`Initialization of query '${_c(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.ya.push(e),e.Da(t.onlineState),o.pa&&e.va(o.pa)&&BI(t)})}function NW(n,e){return w(this,null,function*(){let t=ve(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.ya.indexOf(e);s>=0&&(o.ya.splice(s,1),o.ya.length===0?i=e.Sa()?0:1:!o.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function FW(n,e){let t=ve(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.ya)a.va(i)&&(r=!0);s.pa=i}}r&&BI(t)}function LW(n,e,t){let r=ve(n),i=r.queries.get(e);if(i)for(let o of i.ya)o.onError(t);r.queries.delete(e)}function BI(n){n.ba.forEach(e=>{e.next()})}var rI,p1;(p1=rI||(rI={})).Ca="default",p1.Cache="cache";var iI=class{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Nc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;let r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;let t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=Nc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==rI.Cache}};var Fg=class{constructor(e){this.key=e}},Lg=class{constructor(e){this.key=e}},oI=class{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=ke(),this.mutatedKeys=ke(),this.Ha=eN(e),this.Ja=new kg(this.Ha)}get Ya(){return this.Ga}Za(e,t){let r=t?t.Xa:new Ng,i=t?t.Ja:this.Ja,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{let v=i.get(d),_=Gg(this.query,p)?p:null,S=!!v&&this.mutatedKeys.has(v.key),R=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),k=!1;v&&_?v.data.isEqual(_.data)?S!==R&&(r.track({type:3,doc:_}),k=!0):this.eu(v,_)||(r.track({type:2,doc:_}),k=!0,(c&&this.Ha(_,c)>0||u&&this.Ha(_,u)<0)&&(a=!0)):!v&&_?(r.track({type:0,doc:_}),k=!0):v&&!_&&(r.track({type:1,doc:v}),k=!0,(c||u)&&(a=!0)),k&&(_?(s=s.add(_),o=R?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ja:s,Xa:r,Cs:a,mutatedKeys:o}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;let s=e.Xa.ga();s.sort((d,p)=>function(_,S){let R=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le(20277,{Vt:k})}};return R(_)-R(S)}(d.type,p.type)||this.Ha(d.doc,p.doc)),this.tu(r),i=i!=null&&i;let a=t&&!i?this.nu():[],c=this.ja.size===0&&this.current&&!i?1:0,u=c!==this.za;return this.za=c,s.length!==0||u?{snapshot:new Nc(this.query,e.Ja,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Ng,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];let e=this.ja;this.ja=ke(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});let t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new Lg(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new Fg(r))}),t}su(e){this.Ga=e.$s,this.ja=ke();let t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return Nc.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}},UI="SyncEngine",sI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},aI=class{constructor(e){this.key=e,this._u=!1}},cI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.au={},this.uu=new Yi(a=>J1(a),Wg),this.cu=new Map,this.lu=new Set,this.hu=new wt(ue.comparator),this.Pu=new Map,this.Tu=new yd,this.Iu={},this.Eu=new Map,this.du=_d.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}};function VW(n,e,t=!0){return w(this,null,function*(){let r=ON(n),i,o=r.uu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ou()):i=yield AN(r,e,t,!0),i})}function jW(n,e){return w(this,null,function*(){let t=ON(n);yield AN(t,e,!0,!1)})}function AN(n,e,t,r){return w(this,null,function*(){let i=yield bW(n.localStore,ci(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield BW(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&EN(n.remoteStore,i),a})}function BW(n,e,t,r,i){return w(this,null,function*(){n.Ru=(p,v,_)=>function(R,k,G,te){return w(this,null,function*(){let Z=k.view.Za(G);Z.Cs&&(Z=yield l1(R.localStore,k.query,!1).then(({documents:x})=>k.view.Za(x,Z)));let Ne=te&&te.targetChanges.get(k.targetId),Dt=te&&te.targetMismatches.get(k.targetId)!=null,Ue=k.view.applyChanges(Z,R.isPrimaryClient,Ne,Dt);return g1(R,k.targetId,Ue.ru),Ue.snapshot})}(n,p,v,_);let o=yield l1(n.localStore,e,!0),s=new oI(e,o.$s),a=s.Za(o.documents),c=gd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,c);g1(n,t,u.ru);let d=new sI(e,t,s);return n.uu.set(e,d),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),u.snapshot})}function UW(n,e,t){return w(this,null,function*(){let r=ve(n),i=r.uu.get(e),o=r.cu.get(i.targetId);if(o.length>1)return r.cu.set(i.targetId,o.filter(s=>!Wg(s,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield UC(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&NI(r.remoteStore,i.targetId),lI(r,i.targetId)}).catch(Lc))):(lI(r,i.targetId),yield UC(r.localStore,i.targetId,!0))})}function $W(n,e){return w(this,null,function*(){let t=ve(n),r=t.uu.get(e),i=t.cu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),NI(t.remoteStore,r.targetId))})}function HW(n,e,t){return w(this,null,function*(){let r=QW(n);try{let i=yield function(s,a){let c=ve(s),u=nn.now(),d=a.reduce((_,S)=>_.add(S.key),ke()),p,v;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let S=Qi(),R=ke();return c.Bs.getEntries(_,d).next(k=>{S=k,S.forEach((G,te)=>{te.isValidDocument()||(R=R.add(G))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,S)).next(k=>{p=k;let G=[];for(let te of a){let Z=W9(te,p.get(te.key).overlayedDocument);Z!=null&&G.push(new Zi(te.key,Z,G1(Z.value.mapValue),zs.exists(!0)))}return c.mutationQueue.addMutationBatch(_,u,G,a)}).next(k=>{v=k;let G=k.applyToLocalDocumentSet(p,R);return c.documentOverlayCache.saveOverlays(_,k.batchId,G)})}).then(()=>({batchId:v.batchId,changes:nN(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Iu[s.currentUser.toKey()];u||(u=new wt(xe)),u=u.insert(a,c),s.Iu[s.currentUser.toKey()]=u}(r,i.batchId,t),yield xd(r,i.changes),yield Qg(r.remoteStore)}catch(i){let o=jI(i,"Failed to persist write");t.reject(o)}})}function xN(n,e){return w(this,null,function*(){let t=ve(n);try{let r=yield vW(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Pu.get(o);s&&(We(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s._u=!0:i.modifiedDocuments.size>0?We(s._u,14607):i.removedDocuments.size>0&&(We(s._u,42227),s._u=!1))}),yield xd(t,r,e)}catch(r){yield Lc(r)}})}function m1(n,e,t){let r=ve(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.uu.forEach((o,s)=>{let a=s.view.Da(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=ve(s);c.onlineState=a;let u=!1;c.queries.forEach((d,p)=>{for(let v of p.ya)v.Da(a)&&(u=!0)}),u&&BI(c)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function zW(n,e,t){return w(this,null,function*(){let r=ve(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Pu.get(e),o=i&&i.key;if(o){let s=new wt(ue.comparator);s=s.insert(o,Or.newNoDocument(o,be.min()));let a=ke().add(o),c=new wg(be.min(),new Map,new wt(xe),s,a);yield xN(r,c),r.hu=r.hu.remove(o),r.Pu.delete(e),$I(r)}else yield UC(r.localStore,e,!1).then(()=>lI(r,e,t)).catch(Lc)})}function qW(n,e){return w(this,null,function*(){let t=ve(n),r=e.batch.batchId;try{let i=yield gW(t.localStore,e);PN(t,r,null),MN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield xd(t,i)}catch(i){yield Lc(i)}})}function WW(n,e,t){return w(this,null,function*(){let r=ve(n);try{let i=yield function(s,a){let c=ve(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(p=>(We(p!==null,37113),d=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);PN(r,e,t),MN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield xd(r,i)}catch(i){yield Lc(i)}})}function MN(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function PN(n,e,t){let r=ve(n),i=r.Iu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function lI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||RN(n,r)})}function RN(n,e){n.lu.delete(e.path.canonicalString());let t=n.hu.get(e);t!==null&&(NI(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),$I(n))}function g1(n,e,t){for(let r of t)r instanceof Fg?(n.Tu.addReference(r.key,e),GW(n,r)):r instanceof Lg?(Q(UI,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||RN(n,r.key)):le(19791,{mu:r})}function GW(n,e){let t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(Q(UI,"New document in limbo: "+t),n.lu.add(r),$I(n))}function $I(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){let e=n.lu.values().next().value;n.lu.delete(e);let t=new ue(kt.fromString(e)),r=n.du.next();n.Pu.set(r,new aI(t)),n.hu=n.hu.insert(t,r),EN(n.remoteStore,new vd(ci(PI(t.path)),r,"TargetPurposeLimboResolution",CI.le))}}function xd(n,e,t){return w(this,null,function*(){let r=ve(n),i=[],o=[],s=[];r.uu.isEmpty()||(r.uu.forEach((a,c)=>{s.push(r.Ru(c,e,t).then(u=>{var d;if((u||t)&&r.isPrimaryClient){let p=u?!u.fromCache:(d=t?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){i.push(u);let p=LC.Rs(c.targetId,u);o.push(p)}}))}),yield Promise.all(s),r.au.j_(i),yield function(c,u){return w(this,null,function*(){let d=ve(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>U.forEach(u,v=>U.forEach(v.ds,_=>d.persistence.referenceDelegate.addReference(p,v.targetId,_)).next(()=>U.forEach(v.As,_=>d.persistence.referenceDelegate.removeReference(p,v.targetId,_)))))}catch(p){if(!Vc(p))throw p;Q(kI,"Failed to update sequence numbers: "+p)}for(let p of u){let v=p.targetId;if(!p.fromCache){let _=d.xs.get(v),S=_.snapshotVersion,R=_.withLastLimboFreeSnapshotVersion(S);d.xs=d.xs.insert(v,R)}}})}(r.localStore,o))})}function KW(n,e){return w(this,null,function*(){let t=ve(n);if(!t.currentUser.isEqual(e)){Q(UI,"User change. New user:",e.toKey());let r=yield bN(t.localStore,e);t.currentUser=e,function(o,s){o.Eu.forEach(a=>{a.forEach(c=>{c.reject(new ae($.CANCELLED,s))})}),o.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield xd(t,r.ks)}})}function YW(n,e){let t=ve(n),r=t.Pu.get(e);if(r&&r._u)return ke().add(r.key);{let i=ke(),o=t.cu.get(e);if(!o)return i;for(let s of o){let a=t.uu.get(s);i=i.unionWith(a.view.Ya)}return i}}function ON(n){let e=ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=xN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zW.bind(null,e),e.au.j_=FW.bind(null,e.eventManager),e.au.Vu=LW.bind(null,e.eventManager),e}function QW(n){let e=ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WW.bind(null,e),e}var kN=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return w(this,null,function*(){this.serializer=Kg(t.databaseInfo.databaseId),this.sharedClientState=this.pu(t),this.persistence=this.yu(t),yield this.persistence.start(),this.localStore=this.wu(t),this.gcScheduler=this.Su(t,this.localStore),this.indexBackfillerScheduler=this.bu(t,this.localStore)})}Su(t,r){return null}bu(t,r){return null}wu(t){return mW(this.persistence,new jC,t.initialUser,this.serializer)}yu(t){return new Sg(FC.fi,this.serializer)}pu(t){return new $C}terminate(){return w(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),uI=class extends kN{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){We(this.persistence.referenceDelegate instanceof Ag,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new CC(r,e.asyncQueue,t)}yu(e){let t=this.cacheSizeBytes!==void 0?ur.withCacheSize(this.cacheSizeBytes):ur.DEFAULT;return new Sg(r=>Ag.fi(r,t),this.serializer)}};var ZW=(()=>{class n{initialize(t,r){return w(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>m1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=KW.bind(null,this.syncEngine),yield OW(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new nI}()}createDatastore(t){let r=Kg(t.databaseInfo.databaseId),i=function(s){return new GC(s)}(t.databaseInfo);return function(s,a,c,u){return new ZC(s,a,c,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new JC(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>m1(this.syncEngine,r,0),function(){return Mg.C()?new Mg:new HC}())}createSyncEngine(t,r){return function(o,s,a,c,u,d,p){let v=new cI(o,s,a,c,u,d);return p&&(v.Au=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return w(this,null,function*(){var t,r;yield function(o){return w(this,null,function*(){let s=ve(o);Q(Qs,"RemoteStore shutting down."),s.Ta.add(5),yield Ad(s),s.Ea.shutdown(),s.da.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var dI=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Wi("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var No="FirestoreClient",hI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Gt.UNAUTHENTICATED,this.clientId=fg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>w(this,null,function*(){Q(No,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(Q(No,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=jI(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function FE(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),Q(No,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>w(null,null,function*(){r.isEqual(i)||(yield bN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function v1(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield XW(n);Q(No,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>h1(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>h1(e.remoteStore,i)),n._onlineComponents=e})}function XW(n){return w(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Q(No,"Using user provided OfflineComponentProvider");try{yield FE(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Cc("Error using user provided cache. Falling back to memory cache: "+t),yield FE(n,new kN)}}else Q(No,"Using default OfflineComponentProvider"),yield FE(n,new uI(void 0));return n._offlineComponents})}function NN(n){return w(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(Q(No,"Using user provided OnlineComponentProvider"),yield v1(n,n._uninitializedComponentsProvider._online)):(Q(No,"Using default OnlineComponentProvider"),yield v1(n,new ZW))),n._onlineComponents})}function JW(n){return NN(n).then(e=>e.syncEngine)}function eG(n){return w(this,null,function*(){let e=yield NN(n),t=e.eventManager;return t.onListen=VW.bind(null,e.syncEngine),t.onUnlisten=UW.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=jW.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=$W.bind(null,e.syncEngine),t})}function tG(n,e,t={}){let r=new si;return n.asyncQueue.enqueueAndForget(()=>w(null,null,function*(){return function(o,s,a,c,u){let d=new dI({next:v=>{d.Cu(),s.enqueueAndForget(()=>NW(o,p));let _=v.docs.has(a);!_&&v.fromCache?u.reject(new ae($.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&v.fromCache&&c&&c.source==="server"?u.reject(new ae($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(v)},error:v=>u.reject(v)}),p=new iI(PI(a.path),d,{includeMetadataChanges:!0,La:!0});return kW(o,p)}(yield eG(n),n.asyncQueue,e,t,r)})),r.promise}function FN(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var _1=new Map;function nG(n,e,t){if(!t)throw new ae($.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rG(n,e,t,r){if(e===!0&&r===!0)throw new ae($.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function y1(n){if(!ue.isDocumentKey(n))throw new ae($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function HI(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":le(12329,{type:typeof n})}function bd(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ae($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=HI(n);throw new ae($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var LN="firestore.googleapis.com",b1=!0,Vg=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LN,this.ssl=b1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:b1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hW)throw new ae($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ae($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ae($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ae($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},wd=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new LE;switch(r.type){case"firstParty":return new UE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return w(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=_1.get(t);r&&(Q("ComponentProvider","Removing Datastore"),_1.delete(t),r.terminate())}(this),Promise.resolve()}};function iG(n,e,t,r={}){var i;n=bd(n,wd);let o=Ns(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(Dm(`https://${c}`),Sm("Firestore",!0)),s.host!==LN&&s.host!==c&&Cc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!ei(u,a)&&(n._setSettings(u),r.mockUserToken)){let d,p;if(typeof r.mockUserToken=="string")d=r.mockUserToken,p=Gt.MOCK_USER;else{d=fO(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ae($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Gt(v)}n._authCredentials=new VE(new dg(d,p))}}var fI=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},dr=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ed(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Ed=class n extends fI{constructor(e,t,r){super(e,t,PI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new dr(this.firestore,null,new ue(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Zg(n,e,...t){if(n=Wt(n),arguments.length===1&&(e=fg.newId()),nG("doc","path",e),n instanceof wd){let r=kt.fromString(e,...t);return y1(r),new dr(n,null,new ue(r))}{if(!(n instanceof dr||n instanceof Ed))throw new ae($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(kt.fromString(e,...t));return y1(r),new dr(n.firestore,n instanceof Ed?n.converter:null,new ue(r))}}var w1="AsyncQueue",jg=class{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Pg(this,"async_queue_retry"),this.ec=()=>{let r=NE();r&&Q(w1,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;let t=NE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;let t=NE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});let t=new si;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}sc(){return w(this,null,function*(){if(this.zu.length!==0){try{yield this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Vc(e))throw e;Q(w1,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}})}rc(e){let t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Wi("INTERNAL UNHANDLED ERROR: ",E1(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);let i=eI.createAndSchedule(this,e,t,r,o=>this.oc(o));return this.Hu.push(i),i}nc(){this.Ju&&le(47125,{_c:E1(this.Ju)})}verifyOperationInProgress(){}ac(){return w(this,null,function*(){let e;do e=this.tc,yield e;while(e!==this.tc)})}uc(e){for(let t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){let t=this.Hu.indexOf(e);this.Hu.splice(t,1)}};function E1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var Cd=class extends wd{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new jg,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return w(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new jg(e),this._firestoreClient=void 0,yield e}})}};function Xg(n,e){let t=typeof n=="object"?n:Ls(),r=typeof n=="string"?n:e||vg,i=pc(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=hO("firestore");o&&iG(i,...o)}return i}function VN(n){if(n._terminated)throw new ae($.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||oG(n),n._firestoreClient}function oG(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,u,d){return new WE(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,FN(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new hI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var Id=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(fn.fromBase64String(e))}catch(t){throw new ae($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Td=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ae($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Bg=class{constructor(e){this._methodName=e}};var Dd=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ae($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ae($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}};var Sd=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var sG=/^__.*__$/,pI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Zi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ys(e,this.data,t,this.fieldTransforms)}};function jN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le(40011,{hc:n})}}var mI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Ug(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(jN(this.hc)&&sG.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}},gI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Kg(e)}gc(e,t,r,i=!1){return new mI({hc:e,methodName:t,fc:r,path:Kn.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function aG(n){let e=n._freezeSettings(),t=Kg(n._databaseId);return new gI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function cG(n,e,t,r,i,o={}){let s=n.gc(o.merge||o.mergeFields?2:0,e,t,i);HN("Data must be an object, but it was:",s,r);let a=UN(r,s),c,u;if(o.merge)c=new oi(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let p of o.mergeFields){let v=lG(e,p,t);if(!s.contains(v))throw new ae($.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);dG(d,v)||d.push(v)}c=new oi(d),u=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=s.fieldTransforms;return new pI(new Rr(a),c,u)}function BN(n,e){if($N(n=Wt(n)))return HN("Unsupported field value:",e,n),UN(n,e);if(n instanceof Bg)return function(r,i){if(!jN(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=BN(a,i.Rc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return U9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=nn.fromDate(r);return{timestampValue:Tg(i.serializer,o)}}if(r instanceof nn){let o=new nn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Tg(i.serializer,o)}}if(r instanceof Dd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Id)return{bytesValue:hN(i.serializer,r._byteString)};if(r instanceof dr){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Vc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:OI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Sd)return function(s,a){return{mapValue:{fields:{[DI]:{stringValue:SI},[Tc]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Vc("VectorValues must only contain numeric values.");return RI(a.serializer,u)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${HI(r)}`)}(n,e)}function UN(n,e){let t={};return j1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zs(n,(r,i)=>{let o=BN(i,e.Ic(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function $N(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof nn||n instanceof Dd||n instanceof Id||n instanceof dr||n instanceof Bg||n instanceof Sd)}function HN(n,e,t){if(!$N(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=HI(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}function lG(n,e,t){if((e=Wt(e))instanceof Td)return e._internalPath;if(typeof e=="string")return zN(n,e);throw Ug("Field path arguments must be of type string or ",n,!1,void 0,t)}var uG=new RegExp("[~\\*/\\[\\]]");function zN(n,e,t){if(e.search(uG)>=0)throw Ug(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Td(...e.split("."))._internalPath}catch{throw Ug(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ug(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new ae($.INVALID_ARGUMENT,a+n+c)}function dG(n,e){return n.some(t=>t.isEqual(e))}var $g=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new vI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(qN("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},vI=class extends $g{data(){return super.data()}};function qN(n,e){return typeof e=="string"?zN(n,e):e instanceof Td?e._internalPath:e._delegate._internalPath}var _I=class{convertValue(e,t="none"){switch(Oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw le(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Zs(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Tc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ft(s.doubleValue));return new Sd(o)}convertGeoPoint(e){return new Dd(ft(e.latitude),ft(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=qg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(pd(e));default:return null}}convertTimestamp(e){let t=Gi(e);return new nn(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=kt.fromString(e);We(_N(r),9688,{name:e});let i=new _g(r.get(1),r.get(3)),o=new ue(r.popFirst(5));return i.isEqual(t)||Wi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function hG(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var yI=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Hg=class extends $g{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new bI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(qN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},bI=class extends Hg{data(e={}){return super.data(e)}};function zI(n){n=bd(n,dr);let e=bd(n.firestore,Cd);return tG(VN(e),n._key).then(t=>pG(e,n,t))}var wI=class extends _I{constructor(e){super(),this.firestore=e}convertBytes(e){return new Id(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new dr(this.firestore,null,t)}};function WN(n,e,t){n=bd(n,dr);let r=bd(n.firestore,Cd),i=hG(n.converter,e,t);return fG(r,[cG(aG(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,zs.none())])}function fG(n,e){return function(r,i){let o=new si;return r.asyncQueue.enqueueAndForget(()=>w(null,null,function*(){return HW(yield JW(r),i,o)})),o.promise}(VN(n),e)}function pG(n,e,t){let r=t.docs.get(e._key),i=new wI(n);return new Hg(n,i,e._key,r,new yI(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Fc=i})(Ao),xr(new In("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Cd(new jE(r.getProvider("auth-internal")),new $E(s,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ae($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _g(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Pt(Nk,Fk,e),Pt(Nk,Fk,"esm2017")})();var Be=class n{constructor(e,t){this.http=e;this.router=t;this.initializeAuthState()}loggedIn=new it(!1);currentUser=new it(null);initialized=!1;initializeAuthState(){if(this.initialized)return;this.initialized=!0;let e=Pr();tg(e,t=>w(this,null,function*(){t?(yield t.reload(),t.emailVerified?yield this.loadUserData(t):this.handleUnverifiedUser()):this.handleNoUser()}))}loadUserData(e){return w(this,null,function*(){try{let t=Xg(),r=Zg(t,"users",e.uid),i=yield zI(r),o=i.exists()?i.data():{},s={email:e.email,name:e.displayName||e.email?.split("@")[0],id:e.uid,uid:e.uid,token:yield e.getIdToken(),role:o.role||o.rol||"usuario",status:o.status||"active"};this.loggedIn.next(!0),this.currentUser.next(s),localStorage.setItem("custom_user",JSON.stringify(s)),localStorage.setItem("user_id",s.uid),localStorage.setItem("token",s.token)}catch(t){console.error("Error loading user data:",t),this.handleNoUser()}})}handleUnverifiedUser(){this.loggedIn.next(!1),this.currentUser.next(null),localStorage.removeItem("custom_user"),localStorage.removeItem("token"),this.router.navigate(["/login"],{queryParams:{message:"Por favor verifica tu correo electr\xF3nico"}})}handleNoUser(){this.loggedIn.next(!1),this.currentUser.next(null)}firebaseLogin(e,t){return w(this,null,function*(){try{let r=yield this.http.post("https://cocreandoback.onrender.com/login",{email:e,password:t}).toPromise();if(!r?.success)throw{code:r?.code||"backend_error",message:r?.message||"Error en la validaci\xF3n del backend"};let i=Pr(),o=yield od(i,e,t);if(yield o.user.reload(),!o.user.emailVerified)throw{code:"email_not_verified",message:"Por favor verifica tu correo electr\xF3nico antes de iniciar sesi\xF3n"};let s=Xg(),a=Zg(s,"users",o.user.uid),c=yield zI(a),u=c.exists()?c.data():{},d={email:o.user.email,name:o.user.displayName||o.user.email?.split("@")[0],id:o.user.uid,uid:o.user.uid,token:yield o.user.getIdToken(),role:u.role||u.rol||"usuario",status:u.status||"active"};return this.loggedIn.next(!0),this.currentUser.next(d),localStorage.setItem("custom_user",JSON.stringify(d)),localStorage.setItem("user_id",d.uid),localStorage.setItem("token",d.token),!0}catch(r){if(console.error("Login error:",r),r.code?.startsWith("auth/"))switch(r.code){case"auth/user-not-found":throw{code:"user_not_found",message:"Usuario no encontrado"};case"auth/wrong-password":throw{code:"wrong_credentials",message:"Contrase\xF1a incorrecta"};case"auth/too-many-requests":throw{code:"too_many_attempts",message:"Demasiados intentos. Intenta m\xE1s tarde"};default:throw{code:"firebase_error",message:r.message||"Error de autenticaci\xF3n"}}throw r}})}firebaseRegister(e,t,r){return w(this,null,function*(){let i=yield Zm(Rk,t,r),o=i.user;yield Jm(i.user,{displayName:e}),yield Xm(i.user);let s=Xg(),a=Zg(s,"users",o.uid);return yield WN(a,{uid:o.uid,name:e,email:t,createdAt:new Date().toISOString(),role:"usuario",status:"active"}),!0})}isEmailVerified(){return w(this,null,function*(){let e=Pr();return e.currentUser?(yield e.currentUser.reload(),e.currentUser.emailVerified):!1})}isAdmin(){return this.getCurrentUserValue()?.role?.toLowerCase()==="admin"}sendPasswordResetEmail(e){return w(this,null,function*(){try{let t=Pr();yield Qm(t,e)}catch(t){console.error("Error al enviar correo de recuperaci\xF3n:",t);let r="Error al enviar el correo. Intenta nuevamente.";throw t.code==="auth/user-not-found"?r="No existe una cuenta con este correo.":t.code==="auth/too-many-requests"&&(r="Demasiados intentos. Espera antes de reintentar."),new Error(r)}})}fetchUserProfile(){return w(this,null,function*(){try{let e=yield this.http.get("https://cocreandoback.onrender.com/api/users/me").toPromise();return this.currentUser.next(e),localStorage.setItem("custom_user",JSON.stringify(e)),e}catch(e){throw console.error("Error fetching user profile:",e),e}})}register(e,t,r){return w(this,null,function*(){try{let i=yield this.http.post("https://cocreandoback.onrender.com/registro",{name:e,email:t,password:r}).toPromise();if(i.success)return yield this.firebaseRegister(e,t,r),!0;throw{message:i.message||"Error en validaci\xF3n del backend"}}catch(i){throw console.error("Register error:",i),i}})}logout(){localStorage.removeItem("custom_user"),sessionStorage.removeItem("custom_user"),this.loggedIn.next(!1),this.currentUser.next(null),this.router.navigate(["/login"])}get isAuthenticated(){return this.loggedIn.value}get isAuthenticated$(){return this.loggedIn.asObservable()}get currentUser$(){return this.currentUser.asObservable()}getToken(){return localStorage.getItem("token")}getCurrentUserValue(){return this.currentUser.value}changePassword(e,t){let r=Pr(),i=r.currentUser;return!i||!i.email?St(()=>new Error("No hay usuario autenticado")):$e(od(r,i.email,e)).pipe(Ft(o=>$e(eg(o.user,t))),Ge(o=>{console.error("Error changing password:",o);let s="Revisa los campos ingresados o no es la contrase\xF1a actual o la contrase\xF1a nueba debe tener: -una letra -un numero - un caracter";return o.code==="auth/wrong-password"?s="La contrase\xF1a actual es incorrecta":o.code==="auth/requires-recent-login"?s="La sesi\xF3n es muy antigua. Por favor cierra sesi\xF3n y vuelve a iniciar":o.code==="auth/weak-password"&&(s="La nueva contrase\xF1a es muy d\xE9bil (m\xEDnimo 6 caracteres)"),St(()=>new Error(s))}))}static \u0275fac=function(t){return new(t||n)(Y(sr),Y(Ae))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};function mG(n,e){n&1&&(g(0,"span"),b(1,"Iniciar Sesi\xF3n"),m())}function gG(n,e){n&1&&oe(0,"span",26)}function vG(n,e){if(n&1&&(g(0,"div",27)(1,"i",28),b(2,"\u26A0\uFE0F"),m(),b(3),m()),n&2){let t=B();E(3),ie(" ",t.errorMessage," ")}}var Jg=class n{constructor(e,t){this.router=e;this.authService=t}email="";password="";rememberMe=!1;errorMessage="";loading=!1;activeField="";showPassword=!1;navigateTo(e){this.router.navigate([e])}togglePasswordVisibility(){this.showPassword=!this.showPassword;let e=document.getElementById("password");e&&(e.type=this.showPassword?"text":"password")}onSubmit(){return w(this,null,function*(){if(!this.email||!this.password){this.errorMessage="Por favor completa todos los campos";return}this.loading=!0,this.errorMessage="";try{(yield this.authService.firebaseLogin(this.email,this.password))&&(this.rememberMe?localStorage.setItem("rememberedEmail",this.email):localStorage.removeItem("rememberedEmail"),this.authService.isAdmin()?this.router.navigate(["/admin"]):this.router.navigate(["/dashboard"]))}catch(e){this.errorMessage=e.error?.message||e.message||"Error al iniciar sesi\xF3n",e.error?.code==="email_not_verified"&&(this.errorMessage="Por favor verifica tu email antes de iniciar sesi\xF3n"),e.error?.code==="account_banned"&&(this.errorMessage="Cuenta suspendida. Contacta al soporte."),e.error?.code}finally{this.loading=!1}})}getFirebaseErrorMessage(e){switch(e){case"auth/user-not-found":return"Usuario no encontrado";case"auth/wrong-password":return"Contrase\xF1a incorrecta";case"auth/too-many-requests":return"Demasiados intentos. Intenta m\xE1s tarde";default:return"Error al iniciar sesi\xF3n"}}getErrorMessage(e){return e.error?.message?e.error.message:"Ocurri\xF3 un error durante el inicio de sesi\xF3n. Por favor int\xE9ntalo m\xE1s tarde."}validateEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}ngOnInit(){let e=localStorage.getItem("rememberedEmail");e&&(this.email=e,this.rememberMe=!0)}static \u0275fac=function(t){return new(t||n)(j(Ae),j(Be))};static \u0275cmp=Re({type:n,selectors:[["app-login"]],decls:44,vars:11,consts:[[1,"login-wrapper"],[1,"login-container"],[1,"login-header"],["src","https://res.cloudinary.com/dtg8i6j9f/image/upload/v1748278760/CoCreando__2_-removebg-preview_fzjn1g.png","alt","CoCreando Logo",1,"logo"],[1,"login-form",3,"ngSubmit"],[1,"form-group","floating"],["type","email","id","email","name","email","required","","placeholder"," ",3,"ngModelChange","focus","blur","ngModel"],["for","email"],[1,"icon"],["type","password","id","password","name","password","required","","placeholder"," ",3,"ngModelChange","focus","blur","ngModel"],["for","password"],["type","button",1,"toggle-password",3,"click"],[1,"form-options"],[1,"remember-me"],["type","checkbox","name","rememberMe",3,"ngModelChange","ngModel"],[1,"checkmark"],[3,"click"],["type","submit",1,"login-button",3,"disabled"],[4,"ngIf"],["class","spinner",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"register-link"],[1,"login-background"],[1,"shape","shape-1"],[1,"shape","shape-2"],[1,"shape","shape-3"],[1,"spinner"],[1,"error-message"],[1,"error-icon"]],template:function(t,r){t&1&&(g(0,"div",0)(1,"div",1)(2,"div",2),oe(3,"img",3),g(4,"h1"),b(5,"Bienvenido a "),g(6,"span"),b(7,"CoCreando"),m()(),g(8,"p"),b(9,"Colabora, crea y comparte tus proyectos"),m()(),g(10,"form",4),z("ngSubmit",function(){return r.onSubmit()}),g(11,"div",5)(12,"input",6),nt("ngModelChange",function(o){return ot(r.email,o)||(r.email=o),o}),z("focus",function(){return r.activeField="email"})("blur",function(){return r.activeField=""}),m(),g(13,"label",7),b(14,"Correo electr\xF3nico"),m(),g(15,"i",8),b(16,"\u2709\uFE0F"),m()(),g(17,"div",5)(18,"input",9),nt("ngModelChange",function(o){return ot(r.password,o)||(r.password=o),o}),z("focus",function(){return r.activeField="password"})("blur",function(){return r.activeField=""}),m(),g(19,"label",10),b(20,"Contrase\xF1a"),m(),g(21,"i",8),b(22,"\u{1F512}"),m(),g(23,"button",11),z("click",function(){return r.togglePasswordVisibility()}),b(24," \u{1F441}\uFE0F "),m()(),g(25,"div",12)(26,"label",13)(27,"input",14),nt("ngModelChange",function(o){return ot(r.rememberMe,o)||(r.rememberMe=o),o}),m(),oe(28,"span",15),b(29," Recordarme "),m(),g(30,"a",16),z("click",function(){return r.navigateTo("/forgot-password")}),b(31,"\xBFOlvidaste tu contrase\xF1a?"),m()(),g(32,"button",17),W(33,mG,2,0,"span",18)(34,gG,1,0,"span",19),m(),W(35,vG,4,1,"div",20),g(36,"div",21),b(37," \xBFNo tienes una cuenta? "),g(38,"a",16),z("click",function(){return r.navigateTo("/register")}),b(39,"Reg\xEDstrate"),m()()()(),g(40,"div",22),oe(41,"div",23)(42,"div",24)(43,"div",25),m()()),t&2&&(E(12),tt("ngModel",r.email),E(),Ye("active",r.activeField==="email"||r.email),E(5),tt("ngModel",r.password),E(),Ye("active",r.activeField==="password"||r.password),E(8),tt("ngModel",r.rememberMe),E(5),F("disabled",r.loading),E(),F("ngIf",!r.loading),E(),F("ngIf",r.loading),E(),F("ngIf",r.errorMessage))},dependencies:[Nn,lr,Mt,pw,zt,cr,Li,Cn,Fi,ht,vt],styles:['.login-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f8f9fa;position:relative;overflow:hidden;padding:2rem}.login-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 25px -5px #0000001a;width:100%;max-width:450px;z-index:2;overflow:hidden;transition:all .3s ease-in-out}.login-container[_ngcontent-%COMP%]:hover{box-shadow:0 15px 30px -5px #00000026}.login-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#426e28,#146b08);color:#fff;padding:2.5rem 2rem;text-align:center}.login-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:50px;margin-bottom:1rem}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.8rem;font-weight:600}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#88c9a1}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0 0;opacity:.9;font-size:.95rem}.login-form[_ngcontent-%COMP%]{padding:2rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:1.5rem}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;left:3rem;top:1rem;color:#718096;pointer-events:none;transition:all .3s ease-in-out}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   label.active[_ngcontent-%COMP%]{top:-.6rem;left:2.8rem;font-size:.75rem;background:#fff;padding:0 .3rem;color:#426e28}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:3rem;height:3rem}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#426e28;box-shadow:0 0 0 2px #426e2833}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:1rem;font-size:1rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:1px solid #e2e8f0;border-radius:8px;font-size:1rem;transition:all .3s ease-in-out}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem;background:none;border:none;cursor:pointer;opacity:.5;transition:all .3s ease-in-out}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover{opacity:1}.form-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:1.5rem 0}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;color:#718096;font-size:.9rem}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{display:inline-block;width:18px;height:18px;margin-right:8px;border:1px solid #cbd5e0;border-radius:4px;position:relative;transition:all .3s ease-in-out}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none;left:6px;top:2px;width:5px;height:10px;border:solid white;border-width:0 2px 2px 0;transform:rotate(45deg)}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#426e28;border-color:#426e28}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.form-options[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{color:#426e28;text-decoration:none;font-size:.9rem;transition:all .3s ease-in-out}.form-options[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-button[_ngcontent-%COMP%]{width:100%;padding:1rem;background:linear-gradient(135deg,#426e28,#146b08);color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease-in-out}.login-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#375b21,#105306);transform:translateY(-2px)}.login-button[_ngcontent-%COMP%]:disabled{background:#cbd5e0;cursor:not-allowed;transform:none}.login-button[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;border:3px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.error-message[_ngcontent-%COMP%]{color:#e53e3e;background:#e53e3e1a;padding:.8rem;border-radius:8px;margin:1rem 0;display:flex;align-items:center;font-size:.9rem}.error-message[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-right:.5rem}.social-login[_ngcontent-%COMP%]{margin:2rem 0 1rem;text-align:center}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;font-size:.9rem;position:relative;margin:1rem 0}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before, .social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:after{content:"";display:inline-block;width:30%;height:1px;background:#e2e8f0;position:absolute;top:50%}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before{left:0}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:after{right:0}.social-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem}.social-buttons[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]{flex:1;padding:.7rem;border:1px solid #e2e8f0;border-radius:8px;background:#fff;display:flex;align-items:center;justify-content:center;gap:.5rem;font-size:.9rem;cursor:pointer;transition:all .3s ease-in-out}.social-buttons[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:hover{background:#f8fafc;transform:translateY(-2px)}.social-buttons[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:18px;height:18px}.social-buttons[_ngcontent-%COMP%]   .social-button.google[_ngcontent-%COMP%]{color:#db4437}.social-buttons[_ngcontent-%COMP%]   .social-button.github[_ngcontent-%COMP%]{color:#333}.register-link[_ngcontent-%COMP%]{text-align:center;color:#718096;font-size:.9rem;margin-top:1.5rem}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#426e28;text-decoration:none;font-weight:500;transition:all .3s ease-in-out}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}.login-background[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{position:absolute;border-radius:50%;background:#88c9a11a;transition:all 15s linear}.login-background[_ngcontent-%COMP%]   .shape.shape-1[_ngcontent-%COMP%]{width:300px;height:300px;top:-100px;left:-100px;animation:_ngcontent-%COMP%_float 12s ease-in-out infinite}.login-background[_ngcontent-%COMP%]   .shape.shape-2[_ngcontent-%COMP%]{width:200px;height:200px;bottom:-50px;right:-50px;animation:_ngcontent-%COMP%_float 8s ease-in-out infinite reverse}.login-background[_ngcontent-%COMP%]   .shape.shape-3[_ngcontent-%COMP%]{width:150px;height:150px;top:30%;right:20%;animation:_ngcontent-%COMP%_float 10s ease-in-out infinite 2s}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-20px) rotate(5deg)}}@media (max-width: 576px){.login-wrapper[_ngcontent-%COMP%]{padding:1rem}.login-header[_ngcontent-%COMP%]{padding:1.5rem 1rem}.login-form[_ngcontent-%COMP%]{padding:1.5rem}.social-buttons[_ngcontent-%COMP%]{flex-direction:column}}']})};var fi={production:!1,apiUrl:"https://cocreandoback.onrender.com",payuSandbox:!0,firebaseConfig:{apiKey:"AIzaSyDnCfzF5psHLcnmbeJGrBuWpxOkUp01Lfo",authDomain:"cocreando-2dbd1.firebaseapp.com",projectId:"cocreando-2dbd1",storageBucket:"cocreando-2dbd1.firebasestorage.app",messagingSenderId:"862709485856",appId:"1:862709485856:web:e0994b08e2a748679b0745",measurementId:"G-EXLRNLVN1B"}};var Vn=class n{constructor(e,t){this.http=e;this.authService=t}apiUrl=fi.apiUrl||"https://cocreandoback.onrender.com";getProjects(){return this.http.get(`${this.apiUrl}/proyecto/listarProyectos`,{withCredentials:!0}).pipe(Ge(e=>(console.error("Error fetching projects from API:",e),X([]))))}getProjectAnalytics(e){return this.http.get(`${this.apiUrl}/analytics/${e}`)}getProjectById(e){return this.http.get(`${this.apiUrl}/proyecto/obtenerProyecto/${e}`,{withCredentials:!0}).pipe(Ge(t=>(console.error(`Error fetching project ${e}:`,t),X(null))))}createProject(e){e.id||(e.id=this.generateProjectId()),e.deadline&&(e.deadline=new Date(e.deadline).toISOString()),e.rewards=e.rewards||[],e.updates=e.updates||[],e.supporters=[];let t=localStorage.getItem("custom_user");if(t){let o=JSON.parse(t);e.creator={uid:o.uid,name:o.name,email:o.email}}let r=this.authService.getToken(),i=new Ht({"Content-Type":"application/json",Authorization:`Bearer ${r}`});return this.http.post(`${this.apiUrl}/proyecto/crearProyecto`,e,{headers:i,withCredentials:!0}).pipe(Ge(o=>{throw console.error("Error creating project:",o),o}))}generateProjectId(){return"proj-"+Math.random().toString(36).substr(2,9)}updateProject(e,t){let r=this.authService.getToken(),i=new Ht({"Content-Type":"application/json",Authorization:`Bearer ${r}`});return this.http.put(`${this.apiUrl}/proyecto/actualizarProyecto/${e}`,t,{headers:i,withCredentials:!0}).pipe(Ge(o=>{throw console.error(`Error updating project ${e}:`,o),o}))}deleteProject(e){let t=this.authService.getToken(),r=new Ht({"Content-Type":"application/json",Authorization:`Bearer ${t}`});return this.http.delete(`${this.apiUrl}/proyecto/eliminarProyecto/${e}`,{headers:r,withCredentials:!0}).pipe(Ge(i=>{throw console.error(`Error deleting project ${e}:`,i),i}))}static \u0275fac=function(t){return new(t||n)(Y(sr),Y(Be))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};function _G(n,e){if(n&1&&(g(0,"option",13),b(1),m()),n&2){let t=e.$implicit;F("value",t),E(),re(t)}}function yG(n,e){n&1&&(g(0,"div",14)(1,"p"),b(2,"Cargando proyectos..."),m()())}function bG(n,e){if(n&1){let t=Pe();g(0,"div",15)(1,"p"),b(2),m(),g(3,"button",16),z("click",function(){J(t);let i=B();return ee(i.loadProjects())}),b(4,"Reintentar"),m()()}if(n&2){let t=B();E(2),re(t.error)}}function wG(n,e){n&1&&(g(0,"div",20)(1,"p"),b(2,"No se encontraron proyectos con los filtros aplicados."),m()())}function EG(n,e){if(n&1){let t=Pe();g(0,"div",21),z("click",function(){let i=J(t).$implicit,o=B(2);return ee(o.viewDetails(i.id))}),g(1,"div",22),oe(2,"img",23),m(),g(3,"div",24)(4,"h3"),b(5),m(),g(6,"p",25),b(7),m(),g(8,"div",26),b(9),m(),g(10,"div",26),b(11),st(12,"uppercase"),m(),g(13,"div",27)(14,"div",28),oe(15,"div",29),m(),g(16,"div",30)(17,"span",31),b(18),m(),g(19,"span",32),b(20),m()()(),g(21,"div",33)(22,"div",34)(23,"span",35),b(24,"Recaudado:"),m(),g(25,"span",36),b(26),st(27,"number"),m()(),g(28,"div",34)(29,"span",35),b(30,"Meta:"),m(),g(31,"span",36),b(32),st(33,"number"),m()()(),g(34,"button",37),z("click",function(i){let o=J(t).$implicit;return B(2).viewDetails(o.id),ee(i.stopPropagation())}),b(35," Ver Detalles "),m()()()}if(n&2){let t=e.$implicit,r=B(2);E(2),F("src",(t.creator==null?null:t.creator.avatar)||"assets/default-project.jpg",go),E(3),re(t.title),E(2),re(t.description),E(2),re(t.category),E(),Ye("pending",t.status==="pending")("approved",t.status==="approved")("rejected",t.status==="rejected"),E(),ie(" ",Lt(12,17,t.status)," "),E(4),Oi("width",r.getProgressPercentage(t)+"%"),E(3),ie("",r.getProgressPercentage(t).toFixed(0),"%"),E(2),ie("",r.getDaysRemaining(t.deadline)," d\xEDas restantes"),E(6),ie("$",Lt(27,19,t.collected),""),E(6),ie("$",Lt(33,21,t.goal),"")}}function CG(n,e){if(n&1&&(g(0,"div"),W(1,wG,3,0,"div",17),g(2,"div",18),W(3,EG,36,23,"div",19),m()()),n&2){let t=B();E(),F("ngIf",t.filteredProjects.length===0),E(2),F("ngForOf",t.filteredProjects)("ngForTrackBy",t.trackByProjectId)}}var ev=class n{constructor(e,t){this.router=e;this.projectService=t}projects=[];filteredProjects=[];categories=["Todos","Tecnolog\xEDa","Social","Medio Ambiente","Educaci\xF3n"];selectedCategory="Todos";isLoading=!0;error=null;searchTerm="";ngOnInit(){this.loadProjects()}loadProjects(){this.isLoading=!0,this.error=null,this.projectService.getProjects().subscribe({next:e=>{e.length===0&&(this.error="No se encontraron proyectos."),this.projects=this.parseProjects(e),this.applyFilters(),this.isLoading=!1},error:e=>{console.error("Error loading projects",e),this.error="No se pudieron cargar los proyectos. Por favor intenta m\xE1s tarde.",this.isLoading=!1,this.projects=[],this.filteredProjects=[]}})}parseProjects(e){return e.map(t=>ne(L({},t),{deadline:new Date(t.deadline),updates:t.updates?.map(r=>ne(L({},r),{date:new Date(r.date)}))||[],supporters:t.supporters?.map(r=>ne(L({},r),{date:new Date(r.date)}))||[]}))}handleError(e){console.error("Error:",e),this.error="Error al cargar proyectos. Verifica la consola para m\xE1s detalles.",this.isLoading=!1,this.projects=[],this.filteredProjects=[]}applyFilters(){if(this.filteredProjects=this.selectedCategory==="Todos"?[...this.projects]:this.projects.filter(e=>e.category===this.selectedCategory),this.searchTerm.trim()){let e=this.searchTerm.toLowerCase().trim();this.filteredProjects=this.filteredProjects.filter(t=>t.title.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)||t.category.toLowerCase().includes(e))}}onCategoryChange(){this.applyFilters()}onSearch(){this.applyFilters()}getDaysRemaining(e){if(!e)return 0;let r=(typeof e=="string"?new Date(e):e).getTime()-new Date().getTime();return Math.max(0,Math.ceil(r/(1e3*60*60*24)))}getProgressPercentage(e){return!e.goal||e.goal<=0?0:Math.min(100,e.collected/e.goal*100)}viewDetails(e){this.router.navigate(["/project",e])}refreshProjects(){this.searchTerm="",this.selectedCategory="Todos",this.loadProjects()}trackByProjectId(e,t){return t.id}static \u0275fac=function(t){return new(t||n)(j(Ae),j(Vn))};static \u0275cmp=Re({type:n,selectors:[["app-dashboard"]],decls:17,vars:6,consts:[[1,"dashboard-container"],[1,"header"],[1,"refresh-button",3,"click"],[1,"refresh-icon"],[1,"filters"],[1,"search-filter"],["type","text","placeholder","Buscar proyectos...",3,"ngModelChange","input","ngModel"],[1,"category-filter"],[3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","loading-spinner",4,"ngIf"],["class","error-message",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"loading-spinner"],[1,"error-message"],[3,"click"],["class","no-projects",4,"ngIf"],[1,"projects-grid"],["class","project-card",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"no-projects"],[1,"project-card",3,"click"],[1,"project-image"],["alt","Imagen del proyecto",3,"src"],[1,"project-content"],[1,"description"],[1,"category-tag"],[1,"progress-container"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-info"],[1,"percentage"],[1,"days-left"],[1,"stats"],[1,"stat"],[1,"label"],[1,"value"],[1,"button-primary",3,"click"]],template:function(t,r){t&1&&(g(0,"div",0)(1,"div",1)(2,"h1"),b(3,"Proyectos Destacados"),m(),g(4,"button",2),z("click",function(){return r.refreshProjects()}),g(5,"i",3),b(6,"\u21BB"),m(),b(7," Actualizar "),m()(),g(8,"div",4)(9,"div",5)(10,"input",6),nt("ngModelChange",function(o){return ot(r.searchTerm,o)||(r.searchTerm=o),o}),z("input",function(){return r.onSearch()}),m()(),g(11,"div",7)(12,"select",8),nt("ngModelChange",function(o){return ot(r.selectedCategory,o)||(r.selectedCategory=o),o}),z("change",function(){return r.onCategoryChange()}),W(13,_G,2,2,"option",9),m()()(),W(14,yG,3,0,"div",10)(15,bG,5,1,"div",11)(16,CG,4,3,"div",12),m()),t&2&&(E(10),tt("ngModel",r.searchTerm),E(2),tt("ngModel",r.selectedCategory),E(),F("ngForOf",r.categories),E(),F("ngIf",r.isLoading),E(),F("ngIf",r.error),E(),F("ngIf",!r.isLoading&&!r.error))},dependencies:[ht,$t,vt,ws,Kr,Nn,To,Do,Mt,Jr,zt,Cn,Ps],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#2c3e50}.filters[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:2rem}.filters[_ngcontent-%COMP%]   .search-filter[_ngcontent-%COMP%]{flex:1}.filters[_ngcontent-%COMP%]   .search-filter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #ddd;border-radius:4px}.filters[_ngcontent-%COMP%]   .category-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #ddd;border-radius:4px;background-color:#fff}.projects-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:2rem}.project-card[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:8px;overflow:hidden;transition:transform .2s,box-shadow .2s;cursor:pointer}.project-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 15px #0000001a}.project-card[_ngcontent-%COMP%]   .project-image[_ngcontent-%COMP%]{height:160px;overflow:hidden}.project-card[_ngcontent-%COMP%]   .project-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.project-card[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]{padding:1.5rem}.project-card[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#2c3e50}.project-card[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#666;margin-bottom:1rem}.project-card[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .category-tag[_ngcontent-%COMP%]{display:inline-block;background-color:#f0f0f0;padding:.25rem .5rem;border-radius:4px;font-size:.8rem;margin-bottom:1rem}.progress-container[_ngcontent-%COMP%]{margin:1rem 0}.progress-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:8px;background-color:#f0f0f0;border-radius:4px;overflow:hidden}.progress-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background-color:#42b983;transition:width .3s}.progress-container[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:.5rem;font-size:.9rem}.progress-container[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]{font-weight:700;color:#42b983}.progress-container[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]   .days-left[_ngcontent-%COMP%]{color:#666}.stats[_ngcontent-%COMP%]{display:flex;gap:1rem;margin:1rem 0}.stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{flex:1}.stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;font-size:.8rem;color:#666}.stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700}.button-primary[_ngcontent-%COMP%]{width:100%;padding:.75rem;background-color:#42b983;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .2s}.button-primary[_ngcontent-%COMP%]:hover{background-color:#369f73}.loading-spinner[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%], .no-projects[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#666}.error-message[_ngcontent-%COMP%]{color:#e74c3c}.error-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1rem;padding:.5rem 1rem;background-color:#e74c3c;color:#fff;border:none;border-radius:4px;cursor:pointer}.refresh-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;display:flex;align-items:center;gap:.5rem;color:#666}.refresh-button[_ngcontent-%COMP%]:hover{color:#42b983}.refresh-button[_ngcontent-%COMP%]   .refresh-icon[_ngcontent-%COMP%]{font-size:1.2rem}"]})};var tv=class n{constructor(e,t){this.http=e;this.authService=t}apiUrl=`${fi.apiUrl}`;getHeaders(){let e=this.authService.getToken();if(!e)return console.error("No se encontr\xF3 token JWT"),new Ht;let t=e.startsWith("Bearer ")?e:`Bearer ${e}`;return new Ht({Authorization:t,"Content-Type":"application/json"})}getUsers(){return this.http.get(`${this.apiUrl}/usuario/listarUsuarios`,{headers:this.getHeaders(),withCredentials:!0})}updateUserRole(e,t){return this.http.put(`${this.apiUrl}/usuario/actualizarUsuario/${e}`,{role:t},{headers:this.getHeaders(),withCredentials:!0})}banUser(e){return this.http.put(`${this.apiUrl}/usuario/actualizarUsuario/${e}`,{status:"banned"},{headers:this.getHeaders(),withCredentials:!0})}unbanUser(e){return this.http.put(`${this.apiUrl}/usuario/actualizarUsuario/${e}`,{status:"active"},{headers:this.getHeaders(),withCredentials:!0})}approveProject(e){return this.http.put(`${this.apiUrl}/proyecto/aprobarProyecto/${e}`,{},{headers:this.getHeaders(),withCredentials:!0})}rejectProject(e){return this.http.put(`${this.apiUrl}/proyecto/rechazarProyecto/${e}`,{},{headers:this.getHeaders(),withCredentials:!0})}getPendingProjects(){return this.http.get(`${this.apiUrl}/proyecto/listarProyectosStatus/pending`,{headers:this.getHeaders(),withCredentials:!0})}getAllProjects(){return this.http.get(`${this.apiUrl}/proyecto/listarProyectos`,{headers:this.getHeaders(),withCredentials:!0})}static \u0275fac=function(t){return new(t||n)(Y(sr),Y(Be))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};var TG=n=>["/project",n];function DG(n,e){n&1&&(g(0,"div",4)(1,"p"),b(2,"Cargando datos..."),m()())}function SG(n,e){if(n&1){let t=Pe();g(0,"div",5)(1,"p"),b(2),m(),g(3,"button",6),z("click",function(){J(t);let i=B();return ee(i.refreshData())}),b(4,"Reintentar"),m()()}if(n&2){let t=B();E(2),re(t.error)}}function AG(n,e){n&1&&(g(0,"span",26),b(1,"Baneado"),m())}function xG(n,e){n&1&&(g(0,"span",27),b(1,"Activo"),m())}function MG(n,e){if(n&1){let t=Pe();g(0,"button",28),z("click",function(){J(t);let i=B().$implicit,o=B(2);return ee(o.banUser(i.id))}),b(1," Banear "),m()}}function PG(n,e){if(n&1){let t=Pe();g(0,"button",29),z("click",function(){J(t);let i=B().$implicit,o=B(2);return ee(o.unbanUser(i.id))}),b(1," Desbanear "),m()}}function RG(n,e){if(n&1){let t=Pe();g(0,"tr")(1,"td"),b(2),m(),g(3,"td"),b(4),m(),g(5,"td")(6,"select",11),nt("ngModelChange",function(i){let o=J(t).$implicit;return ot(o.role,i)||(o.role=i),ee(i)}),z("change",function(){let i=J(t).$implicit,o=B(2);return ee(o.updateUserRole(i.id,i.role))}),g(7,"option",13),b(8,"Usuario"),m(),g(9,"option",14),b(10,"Administrador"),m()()(),g(11,"td"),W(12,AG,2,0,"span",22)(13,xG,2,0,"span",23),m(),g(14,"td"),W(15,MG,2,0,"button",24)(16,PG,2,0,"button",25),m()()}if(n&2){let t=e.$implicit;E(2),re(t.name),E(2),re(t.email),E(2),tt("ngModel",t.role),E(6),F("ngIf",t.status==="banned"),E(),F("ngIf",t.status!=="banned"),E(2),F("ngIf",t.status!=="banned"),E(),F("ngIf",t.status==="banned")}}function OG(n,e){n&1&&(g(0,"div",30),b(1," No se encontraron usuarios con los filtros aplicados. "),m())}function kG(n,e){if(n&1){let t=Pe();g(0,"tr")(1,"td"),b(2),m(),g(3,"td"),b(4),m(),g(5,"td"),b(6),m(),g(7,"td")(8,"span"),b(9),st(10,"uppercase"),m()(),g(11,"td")(12,"div",31)(13,"button",29),z("click",function(){let i=J(t).$implicit,o=B(2);return ee(o.approveProject(i.id))}),b(14,"Aprobar"),m(),g(15,"button",28),z("click",function(){let i=J(t).$implicit,o=B(2);return ee(o.rejectProject(i.id))}),b(16,"Rechazar"),m(),g(17,"a",32),b(18,"Ver"),m()()()()}if(n&2){let t=e.$implicit;E(2),re(t.title),E(2),re((t.creator==null?null:t.creator.name)||t.creator),E(2),re(t.category),E(2),Ye("pending",t.status==="pending")("approved",t.status==="approved")("rejected",t.status==="rejected"),E(),ie(" ",Lt(10,11,t.status)," "),E(8),F("routerLink",SM(13,TG,t.id))}}function NG(n,e){n&1&&(g(0,"div",30),b(1," No se encontraron proyectos con los filtros aplicados o para ser aprobados o rechazados. "),m())}function FG(n,e){if(n&1){let t=Pe();g(0,"div",7)(1,"div",8)(2,"h2"),b(3,"Gesti\xF3n de Usuarios"),m(),g(4,"div",9)(5,"input",10),nt("ngModelChange",function(i){J(t);let o=B();return ot(o.searchUserTerm,i)||(o.searchUserTerm=i),ee(i)}),z("input",function(){J(t);let i=B();return ee(i.filterUsers())}),m(),g(6,"select",11),nt("ngModelChange",function(i){J(t);let o=B();return ot(o.selectedUserRole,i)||(o.selectedUserRole=i),ee(i)}),z("change",function(){J(t);let i=B();return ee(i.filterUsers())}),g(7,"option",12),b(8,"Todos los roles"),m(),g(9,"option",13),b(10,"Usuario"),m(),g(11,"option",14),b(12,"Administrador"),m()()(),g(13,"div",15)(14,"table")(15,"thead")(16,"tr")(17,"th"),b(18,"Nombre"),m(),g(19,"th"),b(20,"Email"),m(),g(21,"th"),b(22,"Rol"),m(),g(23,"th"),b(24,"Estado"),m(),g(25,"th"),b(26,"Acciones"),m()()(),g(27,"tbody"),W(28,RG,17,7,"tr",16),m()(),W(29,OG,2,0,"div",17),m()(),g(30,"div",8)(31,"h2"),b(32,"Gesti\xF3n de Proyectos"),m(),g(33,"div",9)(34,"input",18),nt("ngModelChange",function(i){J(t);let o=B();return ot(o.searchProjectTerm,i)||(o.searchProjectTerm=i),ee(i)}),z("input",function(){J(t);let i=B();return ee(i.filterProjects())}),m(),g(35,"select",11),nt("ngModelChange",function(i){J(t);let o=B();return ot(o.selectedProjectStatus,i)||(o.selectedProjectStatus=i),ee(i)}),z("change",function(){J(t);let i=B();return ee(i.filterProjects())}),g(36,"option",19),b(37,"Pendientes"),m(),g(38,"option",20),b(39,"Aprobados"),m(),g(40,"option",21),b(41,"Rechazados"),m(),g(42,"option",12),b(43,"Todos"),m()()(),g(44,"div",15)(45,"table")(46,"thead")(47,"tr")(48,"th"),b(49,"T\xEDtulo"),m(),g(50,"th"),b(51,"Creador"),m(),g(52,"th"),b(53,"Categor\xEDa"),m(),g(54,"th"),b(55,"Estado"),m(),g(56,"th"),b(57,"Acciones"),m()()(),g(58,"tbody"),W(59,kG,19,15,"tr",16),m()(),W(60,NG,2,0,"div",17),m()()()}if(n&2){let t=B();E(5),tt("ngModel",t.searchUserTerm),E(),tt("ngModel",t.selectedUserRole),E(22),F("ngForOf",t.filteredUsers),E(),F("ngIf",t.filteredUsers.length===0),E(5),tt("ngModel",t.searchProjectTerm),E(),tt("ngModel",t.selectedProjectStatus),E(24),F("ngForOf",t.filteredProjects),E(),F("ngIf",t.filteredProjects.length===0)}}var nv=class n{constructor(e,t,r){this.adminService=e;this.authService=t;this.router=r}users=[];pendingProjects=[];allProjects=[];filteredUsers=[];filteredProjects=[];searchUserTerm="";searchProjectTerm="";selectedUserRole="all";selectedProjectStatus="pending";isLoading=!0;error=null;ngOnInit(){if(!this.authService.isAdmin()){this.router.navigate(["/dashboard"]);return}this.loadData()}loadData(){this.isLoading=!0,this.error=null,this.adminService.getUsers().subscribe({next:e=>{this.users=e,this.filteredUsers=[...e],this.adminService.getAllProjects().subscribe({next:t=>{this.allProjects=t,this.filteredProjects=[...t],this.isLoading=!1},error:t=>{console.error("Error loading projects:",t),this.error="Error al cargar proyectos: "+this.getErrorMessage(t),this.isLoading=!1}})},error:e=>{console.error("Error loading users:",e),this.error="Error al cargar usuarios",this.isLoading=!1}})}getErrorMessage(e){return e.status===403?"Acceso denegado. No tienes permisos de administrador.":e.status===401?"Sesi\xF3n expirada. Por favor inicia sesi\xF3n nuevamente.":"Error en el servidor. Intenta nuevamente m\xE1s tarde."}filterUsers(){this.filteredUsers=this.users.filter(e=>{let t=e.name.toLowerCase().includes(this.searchUserTerm.toLowerCase())||e.email.toLowerCase().includes(this.searchUserTerm.toLowerCase()),r=this.selectedUserRole==="all"||e.role===this.selectedUserRole;return t&&r})}filterProjects(){this.filteredProjects=this.allProjects.filter(e=>{let t=e.title.toLowerCase().includes(this.searchProjectTerm.toLowerCase())||e.description.toLowerCase().includes(this.searchProjectTerm.toLowerCase()),r=this.selectedProjectStatus==="all"||e.status===this.selectedProjectStatus;return t&&r})}updateUserRole(e,t){this.adminService.updateUserRole(e,t).subscribe({next:()=>{let r=this.users.find(i=>i.id===e);r&&(r.role=t),this.filterUsers()},error:r=>{console.error("Error updating user role:",r),this.error="Error al actualizar rol del usuario: "+this.getErrorMessage(r)}})}banUser(e){confirm("\xBFEst\xE1s seguro de que quieres banear a este usuario?")&&this.adminService.banUser(e).subscribe({next:()=>{let t=this.users.find(r=>r.id===e);t&&(t.status="banned"),this.filterUsers()},error:t=>{console.error("Error banning user:",t),this.error="Error al banear usuario: "+this.getErrorMessage(t)}})}unbanUser(e){this.adminService.unbanUser(e).subscribe({next:()=>{let t=this.users.find(r=>r.id===e);t&&(t.status="active"),this.filterUsers()},error:t=>{console.error("Error unbanning user:",t),this.error="Error al desbanear usuario: "+this.getErrorMessage(t)}})}approveProject(e){this.adminService.approveProject(e).subscribe({next:()=>{let t=this.allProjects.findIndex(r=>r.id===e);t!==-1&&(this.allProjects[t].status="approved"),this.filterProjects()},error:t=>{console.error("Error approving project:",t),this.error="Error al aprobar proyecto"}})}rejectProject(e){this.adminService.rejectProject(e).subscribe({next:()=>{let t=this.allProjects.findIndex(r=>r.id===e);t!==-1&&(this.allProjects[t].status="rejected"),this.filterProjects()},error:t=>{console.error("Error rejecting project:",t),this.error="Error al rechazar proyecto: "+this.getErrorMessage(t)}})}refreshData(){this.loadData()}static \u0275fac=function(t){return new(t||n)(j(tv),j(Be),j(Ae))};static \u0275cmp=Re({type:n,selectors:[["app-admin"]],decls:6,vars:3,consts:[[1,"admin-container"],["class","loading-spinner",4,"ngIf"],["class","error-message",4,"ngIf"],["class","admin-content",4,"ngIf"],[1,"loading-spinner"],[1,"error-message"],[3,"click"],[1,"admin-content"],[1,"admin-section"],[1,"filters"],["type","text","placeholder","Buscar usuarios...",3,"ngModelChange","input","ngModel"],[3,"ngModelChange","change","ngModel"],["value","all"],["value","usuario"],["value","admin"],[1,"table-container"],[4,"ngFor","ngForOf"],["class","no-results",4,"ngIf"],["type","text","placeholder","Buscar proyectos...",3,"ngModelChange","input","ngModel"],["value","pending"],["value","approved"],["value","rejected"],["class","banned-status",4,"ngIf"],["class","active-status",4,"ngIf"],["class","danger",3,"click",4,"ngIf"],["class","success",3,"click",4,"ngIf"],[1,"banned-status"],[1,"active-status"],[1,"danger",3,"click"],[1,"success",3,"click"],[1,"no-results"],[1,"action-buttons"],[1,"button",3,"routerLink"]],template:function(t,r){t&1&&(g(0,"div",0)(1,"h1"),b(2,"Panel de Administraci\xF3n"),m(),W(3,DG,3,0,"div",1)(4,SG,5,1,"div",2)(5,FG,61,8,"div",3),m()),t&2&&(E(3),F("ngIf",r.isLoading),E(),F("ngIf",r.error),E(),F("ngIf",!r.isLoading&&!r.error))},dependencies:[ht,$t,vt,ws,Nn,To,Do,Mt,Jr,zt,Cn,Ps,im],styles:[".admin-container[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:1rem}.admin-section[_ngcontent-%COMP%]{margin-bottom:3rem;background:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 10px #0000001a}h2[_ngcontent-%COMP%]{color:#333;margin-bottom:1.5rem;padding-bottom:.5rem;border-bottom:1px solid #eee}.filters[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1.5rem}.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #ddd;border-radius:4px;font-size:1rem}.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;max-width:400px}.table-container[_ngcontent-%COMP%]{overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;text-align:left;border-bottom:1px solid #eee}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f5f5f5;font-weight:600}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}table[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.25rem;border:1px solid #ddd;border-radius:4px}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.35rem .75rem;border:none;border-radius:4px;cursor:pointer;font-size:.9rem;text-decoration:none;display:inline-flex;align-items:center;justify-content:center}.action-buttons[_ngcontent-%COMP%]   button.success[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   a.success[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.action-buttons[_ngcontent-%COMP%]   button.danger[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   a.danger[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.action-buttons[_ngcontent-%COMP%]   button.button[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   a.button[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.no-results[_ngcontent-%COMP%]{padding:1.5rem;text-align:center;color:#666;background-color:#f9f9f9;border-radius:4px;margin-top:1rem}.loading-spinner[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%]{text-align:center;padding:2rem}.error-message[_ngcontent-%COMP%]{color:#d32f2f}.banned-status[_ngcontent-%COMP%]{color:#f44336;font-weight:700}.active-status[_ngcontent-%COMP%]{color:#4caf50;font-weight:700}.pending[_ngcontent-%COMP%]{color:#ff9800;font-weight:700}.approved[_ngcontent-%COMP%]{color:#4caf50;font-weight:700}.rejected[_ngcontent-%COMP%]{color:#f44336;font-weight:700}"]})};var rv=class n{constructor(e){this.http=e}apiUrl=`${fi.apiUrl}`;getCurrentUser(e){let t=localStorage.getItem("custom_user");if(!t)return St(()=>new Error("No user data available"));let r=JSON.parse(t),i=r?.token;if(!i)return St(()=>new Error("No authentication token available"));let o=new Ht({Authorization:`Bearer ${i}`,"Content-Type":"application/json"});return this.http.get(`${this.apiUrl}/usuario/obtenerUsuario/${e}`,{headers:o,withCredentials:!0}).pipe(Ge(s=>{if(console.error("Error fetching user:",s),s.status===404){let a={uid:e,email:r.email,name:r.name||r.email.split("@")[0],role:"usuario",status:"active"};return X(a)}return St(()=>s)}))}updateUser(e,t){return this.http.put(`${this.apiUrl}/${e}`,t)}promoteToAdmin(e){return this.http.put(`${this.apiUrl}/usuario/actualizarUsuario/${e}`,{rol:"admin"},{withCredentials:!0})}banUser(e){return this.http.put(`${this.apiUrl}/usuario/actualizarUsuario/${e}`,{status:"banned"},{withCredentials:!0})}deleteAccount(e){if(!e)return St(()=>new Error("ID de usuario no proporcionado"));let t=this.getToken();if(!t)return St(()=>new Error("No hay token de autenticaci\xF3n"));let r=new Ht({Authorization:`Bearer ${t}`,"Content-Type":"application/json"});return this.http.delete(`${this.apiUrl}/usuario/eliminarUsuario/${e}`,{headers:r,withCredentials:!0}).pipe(Ge(i=>{let o="Error al eliminar la cuenta";return i.status===403&&(o="No tienes permisos para eliminar esta cuenta"),St(()=>new Error(o))}))}getToken(){let e=localStorage.getItem("custom_user");return e?JSON.parse(e).token:null}static \u0275fac=function(t){return new(t||n)(Y(sr))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};function VG(n,e){n&1&&(g(0,"div",4)(1,"p"),b(2,"Cargando perfil..."),m()())}function jG(n,e){if(n&1){let t=Pe();g(0,"div",5)(1,"p"),b(2),m(),g(3,"button",6),z("click",function(){J(t);let i=B();return ee(i.loadUserProfile())}),b(4,"Reintentar"),m()()}if(n&2){let t=B();E(2),re(t.error)}}function BG(n,e){if(n&1){let t=Pe();g(0,"button",24),z("click",function(){J(t);let i=B(2);return ee(i.deleteAccount())}),b(1," Eliminar Cuenta "),m()}}function UG(n,e){n&1&&(g(0,"div",39),b(1," Contrase\xF1a cambiada exitosamente! "),m())}function $G(n,e){if(n&1&&(g(0,"div",40),b(1),m()),n&2){let t=B(3);E(),ie(" ",t.passwordChangeError," ")}}function HG(n,e){if(n&1){let t=Pe();g(0,"div",25)(1,"h3"),b(2,"Cambiar Contrase\xF1a"),m(),W(3,UG,2,0,"div",26)(4,$G,2,1,"div",27),g(5,"form",28),z("ngSubmit",function(){J(t);let i=B(2);return ee(i.changePassword(i.oldPassword,i.newPassword,i.confirmPassword))}),g(6,"div",29)(7,"label",30),b(8,"Contrase\xF1a Actual:"),m(),g(9,"input",31),nt("ngModelChange",function(i){J(t);let o=B(2);return ot(o.oldPassword,i)||(o.oldPassword=i),ee(i)}),m()(),g(10,"div",29)(11,"label",32),b(12,"Nueva Contrase\xF1a (m\xEDnimo 6 caracteres):"),m(),g(13,"input",33),nt("ngModelChange",function(i){J(t);let o=B(2);return ot(o.newPassword,i)||(o.newPassword=i),ee(i)}),m()(),g(14,"div",29)(15,"label",34),b(16,"Confirmar Nueva Contrase\xF1a:"),m(),g(17,"input",35),nt("ngModelChange",function(i){J(t);let o=B(2);return ot(o.confirmPassword,i)||(o.confirmPassword=i),ee(i)}),m()(),g(18,"div",36)(19,"button",37),b(20," Cambiar Contrase\xF1a "),m(),g(21,"button",38),z("click",function(){J(t);let i=B(2);return i.showChangePassword=!1,ee(i.passwordChangeError=null)}),b(22," Cancelar "),m()()()()}if(n&2){let t=B(2);E(3),F("ngIf",t.passwordChangeSuccess),E(),F("ngIf",t.passwordChangeError),E(5),tt("ngModel",t.oldPassword),E(4),tt("ngModel",t.newPassword),E(4),tt("ngModel",t.confirmPassword),E(2),F("disabled",!t.oldPassword||!t.newPassword||!t.confirmPassword)}}function zG(n,e){if(n&1){let t=Pe();g(0,"button",24),z("click",function(){J(t);let i=B().$implicit,o=B(3);return ee(o.deleteProject(i.id))}),b(1," Eliminar "),m()}}function qG(n,e){if(n&1){let t=Pe();g(0,"div",44)(1,"h3"),b(2),m(),g(3,"p",45),b(4),m(),g(5,"p"),b(6),m(),g(7,"div",46)(8,"span"),b(9),st(10,"number"),st(11,"number"),m(),g(12,"span"),b(13),m()(),g(14,"div",47)(15,"button",20),z("click",function(){let i=J(t).$implicit,o=B(3);return ee(o.navigateToProjectAnalytics(i.id))}),b(16," Ver An\xE1lisis "),m(),W(17,zG,2,0,"button",19),m()()}if(n&2){let t=e.$implicit;E(2),re(t.title),E(2),re(t.category),E(2),re(t.description),E(3),_s("Recaudado: $",Lt(10,7,t.collected)," / $",Lt(11,9,t.goal),""),E(4),ie("",(t.collected/t.goal*100).toFixed(0),"%"),E(4),F("ngIf",t.collected===0)}}function WG(n,e){if(n&1&&(g(0,"div",41)(1,"h2"),b(2),m(),g(3,"div",42),W(4,qG,18,11,"div",43),m()()),n&2){let t=B(2);E(2),ie("Mis Proyectos (",t.userProjects.length,")"),E(2),F("ngForOf",t.userProjects)}}function GG(n,e){if(n&1){let t=Pe();g(0,"div",48)(1,"p"),b(2,"A\xFAn no has creado ning\xFAn proyecto."),m(),g(3,"button",18),z("click",function(){J(t);let i=B(2);return ee(i.navigateToProjectCreation())}),b(4," Crear mi primer proyecto "),m()()}}function KG(n,e){if(n&1){let t=Pe();g(0,"div",7)(1,"div",8)(2,"div",9),oe(3,"img",10),m(),g(4,"div",11)(5,"h1"),b(6),m(),g(7,"p",12),b(8),m(),g(9,"p",13),b(10),m(),g(11,"p",14),b(12),m(),g(13,"p",15),b(14,"Verificacion: TRUE"),m(),g(15,"p",16),b(16),m()()(),g(17,"div",17)(18,"button",18),z("click",function(){J(t);let i=B();return ee(i.navigateToProjectCreation())}),b(19," Crear Nuevo Proyecto "),m(),W(20,BG,2,0,"button",19),g(21,"button",20),z("click",function(){J(t);let i=B();return ee(i.showChangePassword=!i.showChangePassword)}),b(22," Cambiar Contrase\xF1a "),m()(),W(23,HG,23,6,"div",21)(24,WG,5,2,"div",22)(25,GG,5,0,"div",23),m()}if(n&2){let t=B();E(3),F("src","https://help.seesaw.me/hc/article_attachments/29802779436429",go),E(3),re(t.user.name),E(2),re(t.user.email),E(2),ie("Estado: ",t.user.status,""),E(2),ie("Rol: ",t.user.role,""),E(4),ie("Creacion: ",t.user.createdAt,""),E(4),F("ngIf",!t.isCurrentUser),E(3),F("ngIf",t.showChangePassword),E(),F("ngIf",t.userProjects.length>0),E(),F("ngIf",t.userProjects.length===0&&t.isCurrentUser)}}var iv=class n{constructor(e,t,r,i){this.userService=e;this.projectService=t;this.authService=r;this.router=i}user=null;userProjects=[];isLoading=!0;error=null;isCurrentUser=!1;showChangePassword=!1;oldPassword="";newPassword="";confirmPassword="";passwordChangeError=null;passwordChangeSuccess=!1;ngOnInit(){this.loadUserProfile()}loadUserProfile(){return w(this,null,function*(){this.isLoading=!0,this.error=null;try{let e=localStorage.getItem("custom_user");if(!e){this.router.navigate(["/login"]);return}let t=JSON.parse(e),r=t.id||t.uid;if(!r)throw new Error("ID de usuario no disponible");let i=this.userService.getCurrentUser(r).pipe(Ge(a=>(console.error("Error loading user:",a),t?X(ne(L({},t),{role:t.role||"usuario",id:t.id||t.uid,status:t.status||"active",email_verified:t.email_verified||"False"})):St(()=>a))));this.user=yield yi(i),this.isCurrentUser=t.email===this.user.email;let o=this.projectService.getProjects().pipe(Ge(a=>(console.error("Error loading projects:",a),X([])))),s=yield yi(o);this.userProjects=(s||[]).filter(a=>a.creator&&a.creator.email===this.user.email)}catch(e){console.error("Error loading profile:",e),this.error="Error al cargar el perfil. Por favor intenta nuevamente.",e.status===401&&(this.authService.logout(),this.router.navigate(["/login"]))}finally{this.isLoading=!1}})}navigateToProjectCreation(){this.router.navigate(["/project-creation"])}navigateToProjectAnalytics(e){this.router.navigate(["/project-analytics",e])}deleteAccount(){return w(this,null,function*(){let e=this.user?.id||this.user?.uid;if(!e){console.error("ID de usuario no disponible",this.user),this.error="No se pudo obtener tu informaci\xF3n de usuario. Por favor recarga la p\xE1gina.";return}if(this.userProjects.length>0){alert("No puedes eliminar tu cuenta porque tienes proyectos creados.");return}if(confirm("\xBFEst\xE1s seguro de que quieres eliminar tu cuenta permanentemente?"))try{this.isLoading=!0,this.error=null,console.log("Intentando eliminar cuenta con ID:",e),yield yi(this.userService.deleteAccount(e)),this.authService.logout(),this.router.navigate(["/login"],{queryParams:{message:"Tu cuenta ha sido eliminada exitosamente"}})}catch(t){console.error("Error completo al eliminar cuenta:",t),this.error=t.message||"Ocurri\xF3 un error al eliminar la cuenta. Por favor intenta nuevamente."}finally{this.isLoading=!1}})}changePassword(e,t,r){return w(this,null,function*(){if(this.passwordChangeError=null,this.passwordChangeSuccess=!1,!e||!t||!r){this.passwordChangeError="Todos los campos son obligatorios";return}if(t!==r){this.passwordChangeError="Las contrase\xF1as nuevas no coinciden";return}if(t.length<6){this.passwordChangeError="La contrase\xF1a debe tener al menos 6 caracteres";return}try{yield yi(this.authService.changePassword(e,t).pipe(Ge(i=>{throw console.error("Error changing password:",i),i}))),this.passwordChangeSuccess=!0,this.oldPassword="",this.newPassword="",this.confirmPassword="",setTimeout(()=>{this.showChangePassword=!1},2e3)}catch(i){console.error("Error en changePassword:",i),this.passwordChangeError=i.message||"Revisa los campos ingresados o no es la contrase\xF1a actual o la contrase\xF1a nueba debe tener: -una letra -un numero - un caracter",i.message.includes("antigua")&&(this.passwordChangeError+=". Redirigiendo a login...",setTimeout(()=>{this.authService.logout(),this.router.navigate(["/login"])},3e3))}})}editProject(e){this.router.navigate(["/edit-project",e])}deleteProject(e){return w(this,null,function*(){if(confirm("\xBFEst\xE1s seguro de que quieres eliminar este proyecto? Esta acci\xF3n no se puede deshacer."))try{yield yi(this.projectService.deleteProject(e)),this.userProjects=this.userProjects.filter(r=>r.id!==e),alert("Proyecto eliminado exitosamente")}catch(r){console.error("Error al eliminar proyecto:",r),alert("Ocurri\xF3 un error al eliminar el proyecto")}})}static \u0275fac=function(t){return new(t||n)(j(rv),j(Vn),j(Be),j(Ae))};static \u0275cmp=Re({type:n,selectors:[["app-user-profile"]],decls:4,vars:3,consts:[[1,"profile-container"],["class","loading-spinner",4,"ngIf"],["class","error-message",4,"ngIf"],["class","profile-content",4,"ngIf"],[1,"loading-spinner"],[1,"error-message"],[3,"click"],[1,"profile-content"],[1,"profile-header"],[1,"avatar-container"],["alt","Avatar",1,"profile-avatar",3,"src"],[1,"profile-info"],[1,"email"],[1,"status"],[1,"role"],[1,"verificacion"],[1,"login-count"],[1,"profile-actions"],[1,"button-primary",3,"click"],["class","button-danger",3,"click",4,"ngIf"],[1,"button-secondary",3,"click"],["class","password-change-form",4,"ngIf"],["class","projects-section",4,"ngIf"],["class","no-projects",4,"ngIf"],[1,"button-danger",3,"click"],[1,"password-change-form"],["class","alert alert-success",4,"ngIf"],["class","alert alert-error",4,"ngIf"],[3,"ngSubmit"],[1,"form-group"],["for","oldPassword"],["type","password","id","oldPassword","name","oldPassword","required","",3,"ngModelChange","ngModel"],["for","newPassword"],["type","password","id","newPassword","name","newPassword","required","","minlength","6",3,"ngModelChange","ngModel"],["for","confirmPassword"],["type","password","id","confirmPassword","name","confirmPassword","required","",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit",1,"button-primary",3,"disabled"],["type","button",1,"button-secondary",3,"click"],[1,"alert","alert-success"],[1,"alert","alert-error"],[1,"projects-section"],[1,"projects-grid"],["class","project-card",4,"ngFor","ngForOf"],[1,"project-card"],[1,"category"],[1,"project-stats"],[1,"project-actions"],[1,"no-projects"]],template:function(t,r){t&1&&(g(0,"div",0),W(1,VG,3,0,"div",1)(2,jG,5,1,"div",2)(3,KG,26,10,"div",3),m()),t&2&&(E(),F("ngIf",r.isLoading),E(),F("ngIf",r.error),E(),F("ngIf",!r.isLoading&&!r.error&&r.user))},dependencies:[ht,$t,vt,Kr,Nn,lr,Mt,zt,cr,Li,Iw,Cn,Fi,dc],styles:[".profile-container[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:1rem}.profile-container[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]{display:flex;gap:2rem;align-items:center;margin-bottom:2rem}.profile-container[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .avatar-container[_ngcontent-%COMP%]   .profile-avatar[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;object-fit:cover;border:3px solid #4caf50}.profile-container[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2e7d32;margin:0}.profile-container[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{color:#52bf57;margin:.5rem 0}.profile-container[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .bio[_ngcontent-%COMP%]{color:#2e7d32;max-width:600px}.profile-container[_ngcontent-%COMP%]   .profile-actions[_ngcontent-%COMP%]{margin:2rem 0}.profile-container[_ngcontent-%COMP%]   .projects-section[_ngcontent-%COMP%]{margin-top:3rem}.profile-container[_ngcontent-%COMP%]   .projects-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2e7d32;border-bottom:2px solid #c8e6c9;padding-bottom:.5rem}.profile-container[_ngcontent-%COMP%]   .projects-section[_ngcontent-%COMP%]   .projects-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.5rem;margin-top:1.5rem}.profile-container[_ngcontent-%COMP%]   .projects-section[_ngcontent-%COMP%]   .projects-grid[_ngcontent-%COMP%]   .project-card[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:8px;box-shadow:0 2px 8px #0000001a}.profile-container[_ngcontent-%COMP%]   .projects-section[_ngcontent-%COMP%]   .projects-grid[_ngcontent-%COMP%]   .project-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#4caf50;margin-top:0}.profile-container[_ngcontent-%COMP%]   .projects-section[_ngcontent-%COMP%]   .projects-grid[_ngcontent-%COMP%]   .project-card[_ngcontent-%COMP%]   .project-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:1rem 0;color:#2e7d32}.profile-container[_ngcontent-%COMP%]   .no-projects[_ngcontent-%COMP%]{text-align:center;margin:3rem 0;color:#2e7d32}.profile-container[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{background:#4caf50;color:#fff;border:none;padding:.8rem 1.5rem;border-radius:5px;cursor:pointer;font-weight:700;transition:background .3s}.profile-container[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]:hover{background:#3d8b40}.profile-container[_ngcontent-%COMP%]   .button-secondary[_ngcontent-%COMP%]{background:#fff;color:#4caf50;border:2px solid #4caf50;padding:.6rem 1.2rem;border-radius:5px;cursor:pointer;font-weight:700;transition:all .3s}.profile-container[_ngcontent-%COMP%]   .button-secondary[_ngcontent-%COMP%]:hover{background:#4caf50;color:#fff}@media (max-width: 768px){.profile-header[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}.button-danger[_ngcontent-%COMP%]{background:#f44336;color:#fff;border:none;padding:.8rem 1.5rem;border-radius:5px;cursor:pointer;font-weight:700;transition:background .3s;margin-left:1rem}.button-danger[_ngcontent-%COMP%]:hover{background:#ea1c0d}.password-change-form[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 2px 8px #0000001a;margin:2rem 0;max-width:500px}.password-change-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#4caf50}.password-change-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.password-change-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#2e7d32}.password-change-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.8rem;border:1px solid #c8e6c9;border-radius:4px;font-size:1rem}@media (max-width: 768px){.profile-actions[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.profile-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-left:0!important}}.profile-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin:2rem 0;flex-wrap:wrap}.profile-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.8rem 1.5rem;border-radius:5px;cursor:pointer;font-weight:700;transition:all .3s;border:none}.profile-actions[_ngcontent-%COMP%]   button.button-primary[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.profile-actions[_ngcontent-%COMP%]   button.button-primary[_ngcontent-%COMP%]:hover{background:#3d8b40}.profile-actions[_ngcontent-%COMP%]   button.button-secondary[_ngcontent-%COMP%]{background:#fff;color:#4caf50;border:2px solid #4caf50}.profile-actions[_ngcontent-%COMP%]   button.button-secondary[_ngcontent-%COMP%]:hover{background:#4caf50;color:#fff}.profile-actions[_ngcontent-%COMP%]   button.button-danger[_ngcontent-%COMP%]{background:#f44336;color:#fff}.profile-actions[_ngcontent-%COMP%]   button.button-danger[_ngcontent-%COMP%]:hover{background:#ea1c0d}.password-change-form[_ngcontent-%COMP%]{margin-top:2rem;padding:1.5rem;background:#f5f5f5;border-radius:8px}.password-change-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.password-change-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500}.password-change-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #ddd;border-radius:4px}.password-change-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1.5rem}.password-change-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:.75rem;margin-bottom:1rem;border-radius:4px}.password-change-form[_ngcontent-%COMP%]   .alert.alert-success[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.password-change-form[_ngcontent-%COMP%]   .alert.alert-error[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.project-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:1rem}.project-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:4px;font-size:.9rem;cursor:pointer;transition:all .3s}.project-actions[_ngcontent-%COMP%]   .button-edit[_ngcontent-%COMP%]{background:#2196f3;color:#fff;border:none}.project-actions[_ngcontent-%COMP%]   .button-edit[_ngcontent-%COMP%]:hover{background:#0c7cd5}.project-actions[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]{background:#f44336;color:#fff;border:none}.project-actions[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]:hover{background:#ea1c0d}"]})};var Fo=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.isAuthenticated$.pipe(mt(1),de(e=>e?!0:(this.router.navigate(["/login"]),!1)))}static \u0275fac=function(t){return new(t||n)(Y(Be),Y(Ae))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})},ov=class n{constructor(e){this.router=e}canActivate(){return localStorage.getItem("projectCreationData")?(this.router.navigate(["/user-profile"]),!1):!0}static \u0275fac=function(t){return new(t||n)(Y(Ae))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};var sv=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.isAuthenticated$.pipe(pt(e=>e!==null),mt(1),Ft(()=>this.authService.currentUser$),de(e=>e&&e.role?.toLowerCase()==="admin"?!0:(this.router.navigate(["/dashboard"],{queryParams:{message:"No tienes permisos de administrador"}}),!1)),Ge(()=>(this.router.navigate(["/dashboard"]),X(!1))))}static \u0275fac=function(t){return new(t||n)(Y(Be),Y(Ae))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};function YG(n,e){n&1&&(g(0,"span"),b(1,"Registrarse"),m())}function QG(n,e){n&1&&oe(0,"span",32)}function ZG(n,e){if(n&1&&(g(0,"div",33)(1,"i",34),b(2,"\u26A0\uFE0F"),m(),b(3),m()),n&2){let t=B();E(3),ie(" ",t.errorMessage," ")}}var av=class n{constructor(e,t){this.authService=e;this.router=t}name="";email="";password="";confirmPassword="";errorMessage="";loading=!1;activeField="";showPassword=!1;showConfirmPassword=!1;togglePasswordVisibility(e){e==="password"?this.showPassword=!this.showPassword:this.showConfirmPassword=!this.showConfirmPassword}onSubmit(){return w(this,null,function*(){if(!this.name||!this.email||!this.password||!this.confirmPassword){this.errorMessage="Por favor completa todos los campos";return}if(!this.validateEmail(this.email)){this.errorMessage="Por favor ingresa un correo electr\xF3nico v\xE1lido";return}if(this.password!==this.confirmPassword){this.errorMessage="Las contrase\xF1as no coinciden";return}if(this.password.length<6){this.errorMessage="La contrase\xF1a debe tener al menos 6 caracteres";return}this.loading=!0,this.errorMessage="";try{(yield this.authService.register(this.name,this.email,this.password))?(alert("Se ha enviado un Correo Electr\xF3nico de Verificaci\xF3n."),this.router.navigate(["/dashboard"])):this.errorMessage="Error al registrar el usuario"}catch(e){console.error("Registration error:",e),this.errorMessage=this.getErrorMessage(e)}finally{this.loading=!1}})}getErrorMessage(e){return e.error?.message?e.error.message:e.status===0?"No se pudo conectar al servidor":"Ocurri\xF3 un error durante el registro. Por favor int\xE9ntalo m\xE1s tarde."}navigateTo(e){this.router.navigate([e])}validateEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}static \u0275fac=function(t){return new(t||n)(j(Be),j(Ae))};static \u0275cmp=Re({type:n,selectors:[["app-register"]],decls:61,vars:20,consts:[[1,"login-wrapper"],[1,"login-container"],[1,"login-header"],["src","https://res.cloudinary.com/dtg8i6j9f/image/upload/v1748278760/CoCreando__2_-removebg-preview_fzjn1g.png","alt","CoCreando Logo",1,"logo"],[1,"login-form",3,"ngSubmit"],[1,"form-group","floating"],["type","text","id","name","name","name","required","","placeholder"," ",3,"ngModelChange","focus","blur","ngModel"],["for","name"],[1,"icon"],["type","email","id","email","name","email","required","","placeholder"," ",3,"ngModelChange","focus","blur","ngModel"],["for","email"],["id","password","name","password","required","","placeholder"," ",3,"ngModelChange","focus","blur","type","ngModel"],["for","password"],["type","button",1,"toggle-password",3,"click"],["id","confirmPassword","name","confirmPassword","required","","placeholder"," ",3,"ngModelChange","focus","blur","type","ngModel"],["for","confirmPassword"],["type","submit",1,"login-button",3,"disabled"],[4,"ngIf"],["class","spinner",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"social-login"],[1,"social-buttons"],["type","button",1,"social-button","google"],["src","https://w7.pngwing.com/pngs/326/85/png-transparent-google-logo-google-text-trademark-logo-thumbnail.png","alt","Google"],["type","button",1,"social-button","github"],["src","https://w7.pngwing.com/pngs/646/324/png-transparent-github-computer-icons-github-logo-monochrome-head-thumbnail.png","alt","GitHub"],[1,"register-link"],["routerLink","/login"],[1,"login-background"],[1,"shape","shape-1"],[1,"shape","shape-2"],[1,"shape","shape-3"],[1,"spinner"],[1,"error-message"],[1,"error-icon"]],template:function(t,r){t&1&&(g(0,"div",0)(1,"div",1)(2,"div",2),oe(3,"img",3),g(4,"h1"),b(5,"Reg\xEDstrate en "),g(6,"span"),b(7,"CoCreando"),m()(),g(8,"p"),b(9,"Crea tu cuenta para empezar a colaborar"),m()(),g(10,"form",4),z("ngSubmit",function(){return r.onSubmit()}),g(11,"div",5)(12,"input",6),nt("ngModelChange",function(o){return ot(r.name,o)||(r.name=o),o}),z("focus",function(){return r.activeField="name"})("blur",function(){return r.activeField=""}),m(),g(13,"label",7),b(14,"Nombre completo"),m(),g(15,"i",8),b(16,"\u{1F464}"),m()(),g(17,"div",5)(18,"input",9),nt("ngModelChange",function(o){return ot(r.email,o)||(r.email=o),o}),z("focus",function(){return r.activeField="email"})("blur",function(){return r.activeField=""}),m(),g(19,"label",10),b(20,"Correo electr\xF3nico"),m(),g(21,"i",8),b(22,"\u2709\uFE0F"),m()(),g(23,"div",5)(24,"input",11),nt("ngModelChange",function(o){return ot(r.password,o)||(r.password=o),o}),z("focus",function(){return r.activeField="password"})("blur",function(){return r.activeField=""}),m(),g(25,"label",12),b(26,"Contrase\xF1a"),m(),g(27,"i",8),b(28,"\u{1F512}"),m(),g(29,"button",13),z("click",function(){return r.togglePasswordVisibility("password")}),b(30),m()(),g(31,"div",5)(32,"input",14),nt("ngModelChange",function(o){return ot(r.confirmPassword,o)||(r.confirmPassword=o),o}),z("focus",function(){return r.activeField="confirmPassword"})("blur",function(){return r.activeField=""}),m(),g(33,"label",15),b(34,"Confirmar contrase\xF1a"),m(),g(35,"i",8),b(36,"\u{1F512}"),m(),g(37,"button",13),z("click",function(){return r.togglePasswordVisibility("confirmPassword")}),b(38),m()(),g(39,"button",16),W(40,YG,2,0,"span",17)(41,QG,1,0,"span",18),m(),W(42,ZG,4,1,"div",19),g(43,"div",20)(44,"p"),b(45,"O reg\xEDstrate con"),m(),g(46,"div",21)(47,"button",22),oe(48,"img",23),b(49," Google "),m(),g(50,"button",24),oe(51,"img",25),b(52," GitHub "),m()()(),g(53,"div",26),b(54," \xBFYa tienes una cuenta? "),g(55,"a",27),b(56,"Inicia sesi\xF3n"),m()()()(),g(57,"div",28),oe(58,"div",29)(59,"div",30)(60,"div",31),m()()),t&2&&(E(12),tt("ngModel",r.name),E(),Ye("active",r.activeField==="name"||r.name),E(5),tt("ngModel",r.email),E(),Ye("active",r.activeField==="email"||r.email),E(5),F("type",r.showPassword?"text":"password"),tt("ngModel",r.password),E(),Ye("active",r.activeField==="password"||r.password),E(5),ie(" ",r.showPassword?"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F":"\u{1F441}\uFE0F"," "),E(2),F("type",r.showConfirmPassword?"text":"password"),tt("ngModel",r.confirmPassword),E(),Ye("active",r.activeField==="confirmPassword"||r.confirmPassword),E(5),ie(" ",r.showConfirmPassword?"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F":"\u{1F441}\uFE0F"," "),E(),F("disabled",r.loading),E(),F("ngIf",!r.loading),E(),F("ngIf",r.loading),E(),F("ngIf",r.errorMessage))},dependencies:[Nn,lr,Mt,zt,cr,Li,Cn,Fi,ht,vt],styles:['.login-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f8f9fa;position:relative;overflow:hidden;padding:2rem}.login-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 25px -5px #0000001a;width:100%;max-width:450px;z-index:2;overflow:hidden;transition:all .3s ease-in-out}.login-container[_ngcontent-%COMP%]:hover{box-shadow:0 15px 30px -5px #00000026}.login-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#426e28,#146b08);color:#fff;padding:2.5rem 2rem;text-align:center}.login-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:50px;margin-bottom:1rem}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.8rem;font-weight:600}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#88c9a1}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0 0;opacity:.9;font-size:.95rem}.login-form[_ngcontent-%COMP%]{padding:2rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:1.5rem}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;left:3rem;top:1rem;color:#718096;pointer-events:none;transition:all .3s ease-in-out}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   label.active[_ngcontent-%COMP%]{top:-.6rem;left:2.8rem;font-size:.75rem;background:#fff;padding:0 .3rem;color:#426e28}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:3rem;height:3rem}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#426e28;box-shadow:0 0 0 2px #426e2833}.login-form[_ngcontent-%COMP%]   .form-group.floating[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:1rem;font-size:1rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:1px solid #e2e8f0;border-radius:8px;font-size:1rem;transition:all .3s ease-in-out}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem;background:none;border:none;cursor:pointer;opacity:.5;transition:all .3s ease-in-out}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover{opacity:1}.form-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:1.5rem 0}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;color:#718096;font-size:.9rem}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{display:inline-block;width:18px;height:18px;margin-right:8px;border:1px solid #cbd5e0;border-radius:4px;position:relative;transition:all .3s ease-in-out}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none;left:6px;top:2px;width:5px;height:10px;border:solid white;border-width:0 2px 2px 0;transform:rotate(45deg)}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#426e28;border-color:#426e28}.form-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.form-options[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{color:#426e28;text-decoration:none;font-size:.9rem;transition:all .3s ease-in-out}.form-options[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-button[_ngcontent-%COMP%]{width:100%;padding:1rem;background:linear-gradient(135deg,#426e28,#146b08);color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease-in-out}.login-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#375b21,#105306);transform:translateY(-2px)}.login-button[_ngcontent-%COMP%]:disabled{background:#cbd5e0;cursor:not-allowed;transform:none}.login-button[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;border:3px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.error-message[_ngcontent-%COMP%]{color:#e53e3e;background:#e53e3e1a;padding:.8rem;border-radius:8px;margin:1rem 0;display:flex;align-items:center;font-size:.9rem}.error-message[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-right:.5rem}.social-login[_ngcontent-%COMP%]{margin:2rem 0 1rem;text-align:center}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;font-size:.9rem;position:relative;margin:1rem 0}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before, .social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:after{content:"";display:inline-block;width:30%;height:1px;background:#e2e8f0;position:absolute;top:50%}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before{left:0}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:after{right:0}.social-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem}.social-buttons[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]{flex:1;padding:.7rem;border:1px solid #e2e8f0;border-radius:8px;background:#fff;display:flex;align-items:center;justify-content:center;gap:.5rem;font-size:.9rem;cursor:pointer;transition:all .3s ease-in-out}.social-buttons[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:hover{background:#f8fafc;transform:translateY(-2px)}.social-buttons[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:18px;height:18px}.social-buttons[_ngcontent-%COMP%]   .social-button.google[_ngcontent-%COMP%]{color:#db4437}.social-buttons[_ngcontent-%COMP%]   .social-button.github[_ngcontent-%COMP%]{color:#333}.register-link[_ngcontent-%COMP%]{text-align:center;color:#718096;font-size:.9rem;margin-top:1.5rem}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#426e28;text-decoration:none;font-weight:500;transition:all .3s ease-in-out}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}.login-background[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{position:absolute;border-radius:50%;background:#88c9a11a;transition:all 15s linear}.login-background[_ngcontent-%COMP%]   .shape.shape-1[_ngcontent-%COMP%]{width:300px;height:300px;top:-100px;left:-100px;animation:_ngcontent-%COMP%_float 12s ease-in-out infinite}.login-background[_ngcontent-%COMP%]   .shape.shape-2[_ngcontent-%COMP%]{width:200px;height:200px;bottom:-50px;right:-50px;animation:_ngcontent-%COMP%_float 8s ease-in-out infinite reverse}.login-background[_ngcontent-%COMP%]   .shape.shape-3[_ngcontent-%COMP%]{width:150px;height:150px;top:30%;right:20%;animation:_ngcontent-%COMP%_float 10s ease-in-out infinite 2s}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-20px) rotate(5deg)}}@media (max-width: 576px){.login-wrapper[_ngcontent-%COMP%]{padding:1rem}.login-header[_ngcontent-%COMP%]{padding:1.5rem 1rem}.login-form[_ngcontent-%COMP%]{padding:1.5rem}.social-buttons[_ngcontent-%COMP%]{flex-direction:column}}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.7rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.3rem}']})};function XG(n,e){if(n&1){let t=Pe();g(0,"button",40),z("click",function(){J(t);let i=B(3);return ee(i.deleteProject())}),b(1," Eliminar proyecto "),m()}}function JG(n,e){if(n&1&&(g(0,"div",38),W(1,XG,2,0,"button",39),m()),n&2){let t=B(2);E(),F("ngIf",t.project.collected===0)}}function e7(n,e){if(n&1&&(g(0,"div",41)(1,"h3"),b(2),g(3,"span",42),b(4),st(5,"date"),m()(),g(6,"p"),b(7),m()()),n&2){let t=e.$implicit;E(2),ie(" ",t.title," "),E(2),re(Lt(5,3,t.date)),E(3),re(t.content)}}function t7(n,e){n&1&&(g(0,"span"),b(1,"Invertir ahora"),m())}function n7(n,e){n&1&&(g(0,"span"),b(1,"Procesando pago..."),m())}function r7(n,e){if(n&1&&(g(0,"div",43)(1,"h4"),b(2),m(),g(3,"h5"),b(4),m(),g(5,"p"),b(6),m()()),n&2){let t=e.$implicit;E(2),ie("$",t.minimumAmount," o m\xE1s"),E(2),re(t.title),E(2),re(t.description)}}function i7(n,e){if(n&1&&(g(0,"div",44)(1,"span",45),b(2),m(),g(3,"span",46),b(4),m()()),n&2){let t=e.$implicit;E(2),re(t.name),E(2),ie("$",t.amount,"")}}function o7(n,e){if(n&1){let t=Pe();g(0,"div",1)(1,"div",2)(2,"h1"),b(3),m(),g(4,"p",3),b(5),m(),g(6,"p",4),b(7),m(),W(8,JG,2,1,"div",5),m(),g(9,"div",6)(10,"div",7)(11,"div",8)(12,"h2"),b(13,"Acerca de este proyecto"),m(),g(14,"p"),b(15),m()(),g(16,"div",9)(17,"h2"),b(18,"Retos y desaf\xEDos"),m(),g(19,"p"),b(20),m()(),g(21,"div",10)(22,"h2"),b(23,"Actualizaciones"),m(),W(24,e7,8,5,"div",11),m(),g(25,"button",12),z("click",function(){J(t);let i=B();return ee(i.navigateAnalisis())}),b(26," Analisis de Proyecto "),m()(),g(27,"div",13)(28,"div",14)(29,"h3"),b(30),st(31,"uppercase"),m()(),g(32,"div",15)(33,"div",16),oe(34,"div",17),m(),g(35,"div",18)(36,"span",19),b(37),m(),g(38,"span",20),b(39),m()(),g(40,"div",21)(41,"span"),b(42),m()()(),g(43,"div",22)(44,"h3"),b(45,"Invertir en este proyecto"),m(),g(46,"div",23)(47,"label",24),b(48,"Monto a invertir ($)"),m(),g(49,"input",25),nt("ngModelChange",function(i){J(t);let o=B();return ot(o.investmentAmount,i)||(o.investmentAmount=i),ee(i)}),m()(),g(50,"button",26),z("click",function(){J(t);let i=B();return ee(i.invest())}),W(51,t7,2,0,"span",27)(52,n7,2,0,"span",27),m(),g(53,"p",28),b(54," Ser\xE1s redirigido a PayU para completar el pago de forma segura "),m()(),g(55,"div",29)(56,"h3"),b(57,"Recompensas"),m(),W(58,r7,7,3,"div",30),m(),g(59,"div",31)(60,"h3"),b(61,"Creador del proyecto"),m(),g(62,"div",32),oe(63,"img",33),g(64,"div",34)(65,"h4"),b(66),m(),g(67,"p"),b(68),m(),g(69,"a",35),b(70,"Contactar"),m()()()(),g(71,"div",36)(72,"h3"),b(73,"Principales aportantes"),m(),W(74,i7,5,2,"div",37),m()()()()}if(n&2){let t=B();E(3),re(t.project.title),E(2),ie("\u{1F4CD} ",t.project.location,""),E(2),re(t.project.category),E(),F("ngIf",t.isProjectCreator()),E(7),re(t.project.longDescription),E(5),re(t.project.risksAndChallenges),E(4),F("ngForOf",t.project.updates),E(4),Ye("pending",t.project.status==="pending")("approved",t.project.status==="approved")("rejected",t.project.status==="rejected"),E(2),ie("Estado: ",Lt(31,33,t.project.status),""),E(4),Oi("width",t.project.collected/t.project.goal*100+"%"),E(3),ie("",(t.project.collected/t.project.goal*100).toFixed(0),"%"),E(2),_s("$",t.project.collected," recaudados de $",t.project.goal,""),E(3),ie("",t.getDaysRemaining(t.project.deadline)," d\xEDas restantes"),E(7),tt("ngModel",t.investmentAmount),F("max",t.project.goal-t.project.collected)("disabled",t.isProcessingPayment),E(),F("disabled",t.isProcessingPayment),E(),F("ngIf",!t.isProcessingPayment),E(),F("ngIf",t.isProcessingPayment),E(6),F("ngForOf",t.project.rewards),E(5),F("src",t.project.creator.avatar,go),E(3),re(t.project.creator.name),E(2),re(t.project.creator.bio),E(),i0("href","mailto:",t.project.creator.email,"",go),E(5),F("ngForOf",t.getTopSupporters())}}var cv=class n{constructor(e,t,r,i,o){this.route=e;this.router=t;this.projectService=r;this.authService=i;this.http=o}projectId="";project=null;investmentAmount=0;currentUser;isLoading=!0;error=null;isProcessingPayment=!1;ngOnInit(){this.route.paramMap.subscribe(e=>{this.projectId=e.get("id")||"",this.authService.currentUser$.subscribe(t=>{this.currentUser=t}),this.projectId?this.loadProject(this.projectId):this.router.navigate(["/dashboard"],{replaceUrl:!0})})}loadProject(e){this.isLoading=!0,this.error=null,this.projectService.getProjectById(e).subscribe({next:t=>{if(!t){this.router.navigate(["/dashboard"],{replaceUrl:!0});return}this.project=ne(L({},t),{deadline:new Date(t.deadline),longDescription:t.longDescription||`Este proyecto busca ${t.description.toLowerCase()} a trav\xE9s de un enfoque innovador y colaborativo.`,location:t.location||"Ubicaci\xF3n no especificada",creator:t.creator||this.getDefaultCreator(),risksAndChallenges:t.risksAndChallenges||"No se han especificado los retos y desaf\xEDos de este proyecto.",rewards:t.rewards||this.getDefaultRewards(),updates:(t.updates||[]).map(r=>ne(L({},r),{date:new Date(r.date)})),supporters:(t.supporters||[]).map(r=>ne(L({},r),{date:new Date(r.date)}))}),this.isLoading=!1},error:t=>{console.error("Error loading project",t),this.error="No se pudo cargar el proyecto. Por favor intenta m\xE1s tarde.",this.isLoading=!1}})}invest(){if(this.investmentAmount<=0){alert("Por favor ingresa un monto v\xE1lido");return}if(!this.currentUser){alert("Debes iniciar sesi\xF3n para invertir"),this.router.navigate(["/login"]);return}if(this.investmentAmount>this.project.goal-this.project.collected){alert("El monto ingresado supera lo que falta para alcanzar la meta del proyecto");return}this.isProcessingPayment=!0;let e={id_proyecto:this.projectId,descripcion:`Inversi\xF3n en ${this.project.title}`,valor:this.investmentAmount,email:this.currentUser.email};this.http.post(`${fi.apiUrl}/pasarela/crear-pago`,e,{responseType:"text"}).subscribe({next:t=>{let r=window.open("","PayU","width=800,height=600");if(r)r.document.write(t);else{let i=document.createElement("div");i.innerHTML=t,document.body.appendChild(i);let o=i.querySelector("form");o&&o.submit()}},error:t=>{console.error("Error al procesar el pago",t),alert("Ocurri\xF3 un error al procesar tu pago. Por favor intenta nuevamente."),this.isProcessingPayment=!1},complete:()=>{this.isProcessingPayment=!1}})}navigateAnalisis(){this.router.navigate(["/project-analytics",this.projectId])}getDefaultCreator(){return{name:"Creador An\xF3nimo",email:"contacto@proyecto.com",bio:"Informaci\xF3n no disponible sobre el creador de este proyecto.",avatar:"https://randomuser.me/api/portraits/lego/0.jpg"}}getDefaultRewards(){return[{title:"Agradecimiento p\xFAblico",description:"Menci\xF3n en nuestras redes sociales y p\xE1gina web.",minimumAmount:10},{title:"Kit del proyecto",description:"Recibir\xE1s un kit con productos relacionados al proyecto.",minimumAmount:50}]}getDaysRemaining(e){return Math.floor((e.getTime()-new Date().getTime())/(1e3*60*60*24))}getTopSupporters(){return[...this.project.supporters].sort((e,t)=>t.amount-e.amount).slice(0,3)}isProjectCreator(){return!this.currentUser||!this.project?!1:this.currentUser.uid===this.project.creator?.uid||this.currentUser.id===this.project.creator?.id}editProject(){this.project?.id&&this.router.navigate(["/edit-project",this.project.id])}deleteProject(){return w(this,null,function*(){if(!(!this.project?.id||!confirm("\xBFEst\xE1s seguro de que quieres eliminar este proyecto? Esta acci\xF3n no se puede deshacer.")))try{yield this.projectService.deleteProject(this.project.id).toPromise(),alert("Proyecto eliminado exitosamente"),this.router.navigate(["/dashboard"])}catch(t){console.error("Error al eliminar proyecto:",t),alert("Ocurri\xF3 un error al eliminar el proyecto")}})}static \u0275fac=function(t){return new(t||n)(j(dn),j(Ae),j(Vn),j(Be),j(sr))};static \u0275cmp=Re({type:n,selectors:[["app-project-details"]],decls:1,vars:1,consts:[["class","project-details-container",4,"ngIf"],[1,"project-details-container"],[1,"project-header"],[1,"location"],[1,"category"],["class","creator-actions",4,"ngIf"],[1,"project-content"],[1,"main-content"],[1,"project-description"],[1,"project-risks"],[1,"project-updates"],["class","update",4,"ngFor","ngForOf"],[1,"analisisPro",3,"click"],[1,"sidebar"],[1,"project-status"],[1,"progress-container"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-stats"],[1,"percentage"],[1,"amount"],[1,"time-remaining"],[1,"investment-section"],[1,"form-group"],["for","amount"],["type","number","id","amount","min","1",3,"ngModelChange","ngModel","max","disabled"],[1,"invest-button",3,"click","disabled"],[4,"ngIf"],[1,"note"],[1,"rewards-section"],["class","reward",4,"ngFor","ngForOf"],[1,"creator-section"],[1,"creator-info"],["alt","Avatar del creador",1,"creator-avatar",3,"src"],[1,"creator-details"],[3,"href"],[1,"supporters-section"],["class","supporter",4,"ngFor","ngForOf"],[1,"creator-actions"],["class","delete-button",3,"click",4,"ngIf"],[1,"delete-button",3,"click"],[1,"update"],[1,"date"],[1,"reward"],[1,"supporter"],[1,"supporter-name"],[1,"supporter-amount"]],template:function(t,r){t&1&&W(0,o7,75,35,"div",0),t&2&&F("ngIf",r.project)},dependencies:[ht,$t,vt,ws,_o,Nn,Mt,Bu,zt,Hu,Ew,Cn],styles:[".project-details-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem;overflow-x:hidden;word-wrap:break-word}.project-details-container[_ngcontent-%COMP%]   .project-header[_ngcontent-%COMP%]{margin-bottom:2rem}.project-details-container[_ngcontent-%COMP%]   .project-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#4caf50;margin-bottom:.5rem}.project-details-container[_ngcontent-%COMP%]   .project-header[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{color:#52bf57;font-size:1.1rem;margin-bottom:.5rem}.project-details-container[_ngcontent-%COMP%]   .project-header[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{display:inline-block;background:#c8e6c9;color:#2e7d32;padding:.3rem .8rem;border-radius:20px;font-size:.9rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]{display:flex;gap:2rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{flex:2}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#4caf50;margin:1.5rem 0 1rem;border-bottom:2px solid #c8e6c9;padding-bottom:.5rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .project-updates[_ngcontent-%COMP%]   .update[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:8px;margin-bottom:1rem;box-shadow:0 2px 4px #0000001a}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .project-updates[_ngcontent-%COMP%]   .update[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#77cd7b;font-size:.9rem;margin-left:1rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{flex:1}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:8px;margin-bottom:1.5rem;box-shadow:0 2px 4px #0000001a}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#4caf50;margin-top:0;margin-bottom:1rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:10px;background:#c8e6c9;border-radius:5px;margin-bottom:.5rem;overflow:hidden}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:#88c9a1;transition:width .5s ease}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:.5rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]{font-weight:700;color:#4caf50}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .time-remaining[_ngcontent-%COMP%]{text-align:center;color:#52bf57;font-size:.9rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .investment-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .investment-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#2e7d32}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .investment-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:2px solid #c8e6c9;border-radius:5px}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .investment-section[_ngcontent-%COMP%]   .invest-button[_ngcontent-%COMP%]{width:100%;padding:.8rem;background:#4caf50;color:#fff;border:none;border-radius:5px;font-weight:700;cursor:pointer;transition:background .3s}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .investment-section[_ngcontent-%COMP%]   .invest-button[_ngcontent-%COMP%]:hover{background:#3d8b40}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .rewards-section[_ngcontent-%COMP%]   .reward[_ngcontent-%COMP%]{margin-bottom:1rem;padding-bottom:1rem;border-bottom:1px dashed #c8e6c9}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .rewards-section[_ngcontent-%COMP%]   .reward[_ngcontent-%COMP%]:last-child{border-bottom:none}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .rewards-section[_ngcontent-%COMP%]   .reward[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#4caf50;margin:.5rem 0}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .rewards-section[_ngcontent-%COMP%]   .reward[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:.5rem 0;color:#2e7d32}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .creator-section[_ngcontent-%COMP%]   .creator-info[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .creator-section[_ngcontent-%COMP%]   .creator-info[_ngcontent-%COMP%]   .creator-avatar[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;object-fit:cover}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .creator-section[_ngcontent-%COMP%]   .creator-info[_ngcontent-%COMP%]   .creator-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .3rem;color:#2e7d32}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .creator-section[_ngcontent-%COMP%]   .creator-info[_ngcontent-%COMP%]   .creator-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4caf50;text-decoration:none;font-size:.9rem}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .creator-section[_ngcontent-%COMP%]   .creator-info[_ngcontent-%COMP%]   .creator-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .supporters-section[_ngcontent-%COMP%]   .supporter[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.5rem 0;border-bottom:1px dashed #c8e6c9}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .supporters-section[_ngcontent-%COMP%]   .supporter[_ngcontent-%COMP%]:last-child{border-bottom:none}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .supporters-section[_ngcontent-%COMP%]   .supporter[_ngcontent-%COMP%]   .supporter-name[_ngcontent-%COMP%]{color:#2e7d32}.project-details-container[_ngcontent-%COMP%]   .project-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .supporters-section[_ngcontent-%COMP%]   .supporter[_ngcontent-%COMP%]   .supporter-amount[_ngcontent-%COMP%]{color:#4caf50;font-weight:700}@media (max-width: 768px){.project-content[_ngcontent-%COMP%]{flex-direction:column!important}}.analisisPro[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:4px;cursor:pointer;font-size:1rem}.analisisPro[_ngcontent-%COMP%]:hover{background-color:#3e8e41}.main-content[_ngcontent-%COMP%]{flex:2;min-width:0}.main-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#4caf50;margin:1.5rem 0 1rem;border-bottom:2px solid #c8e6c9;padding-bottom:.5rem}.main-content[_ngcontent-%COMP%]   .project-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .project-risks[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .project-updates[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:normal;overflow-wrap:break-word}.creator-actions[_ngcontent-%COMP%]{margin-top:1rem;display:flex;gap:1rem}.creator-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:4px;font-weight:700;cursor:pointer;transition:all .3s ease}.creator-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.creator-actions[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none}.creator-actions[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover{background-color:#3d8b40}.creator-actions[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]{background-color:#f44336;color:#fff;border:none}.creator-actions[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]:hover{background-color:#ea1c0d}"]})};function s7(n,e){n&1&&(g(0,"div",31),b(1," El t\xEDtulo debe tener al menos 5 caracteres "),m())}function a7(n,e){n&1&&(g(0,"div",31),b(1," La descripci\xF3n debe tener al menos 20 caracteres "),m())}function c7(n,e){n&1&&(g(0,"div",31),b(1," La descripci\xF3n detallada debe tener al menos 100 caracteres "),m())}function l7(n,e){n&1&&(g(0,"div",31),b(1," La meta m\xEDnima es $100 "),m())}function u7(n,e){if(n&1&&(g(0,"option",32),b(1),m()),n&2){let t=e.$implicit;F("value",t),E(),re(t)}}function d7(n,e){n&1&&(g(0,"div",31),b(1," Debes seleccionar una categor\xEDa "),m())}function h7(n,e){n&1&&(g(0,"div",31),b(1," Debes establecer una fecha l\xEDmite "),m())}function f7(n,e){n&1&&(g(0,"div",31),b(1," Debes especificar una ubicaci\xF3n "),m())}function p7(n,e){if(n&1){let t=Pe();g(0,"button",39),z("click",function(){J(t);let i=B().index,o=B();return ee(o.removeReward(i))}),b(1," Eliminar Recompensa "),m()}}function m7(n,e){if(n&1&&(g(0,"div",33)(1,"div",11)(2,"div",3)(3,"label",34),b(4,"T\xEDtulo de la Recompensa *"),m(),oe(5,"input",35),m(),g(6,"div",3)(7,"label",34),b(8,"Monto M\xEDnimo ($) *"),m(),oe(9,"input",36),m()(),g(10,"div",3)(11,"label",34),b(12,"Descripci\xF3n *"),m(),oe(13,"textarea",37),m(),W(14,p7,2,0,"button",38),m()),n&2){let t=e.index,r=B();F("formGroupName",t),E(3),F("for","reward-title-"+t),E(2),F("id","reward-title-"+t),E(2),F("for","reward-amount-"+t),E(2),F("id","reward-amount-"+t),E(2),F("for","reward-desc-"+t),E(2),F("id","reward-desc-"+t),E(),F("ngIf",r.rewards.length>1)}}function g7(n,e){if(n&1){let t=Pe();g(0,"button",39),z("click",function(){J(t);let i=B().index,o=B();return ee(o.removeUpdate(i))}),b(1," Eliminar Actualizaci\xF3n "),m()}}function v7(n,e){if(n&1&&(g(0,"div",40)(1,"div",11)(2,"div",3)(3,"label",34),b(4,"T\xEDtulo *"),m(),oe(5,"input",41),m(),g(6,"div",3)(7,"label",34),b(8,"Fecha *"),m(),oe(9,"input",42),m()(),g(10,"div",3)(11,"label",34),b(12,"Contenido *"),m(),oe(13,"textarea",43),m(),W(14,g7,2,0,"button",38),m()),n&2){let t=e.index,r=B();F("formGroupName",t),E(3),F("for","update-title-"+t),E(2),F("id","update-title-"+t),E(2),F("for","update-date-"+t),E(2),F("id","update-date-"+t),E(2),F("for","update-content-"+t),E(2),F("id","update-content-"+t),E(),F("ngIf",r.updates.length>1)}}function _7(n,e){n&1&&(g(0,"div",31),b(1," Debes describir los riesgos y desaf\xEDos de tu proyecto "),m())}function y7(n,e){n&1&&(g(0,"span"),b(1,"Publicar Proyecto"),m())}function b7(n,e){n&1&&(g(0,"span"),b(1,"Enviando..."),m())}function w7(n,e){if(n&1&&(g(0,"div",31),b(1),m()),n&2){let t=B();E(),ie(" ",t.error," ")}}var lv=class n{constructor(e,t,r,i){this.fb=e;this.projectService=t;this.authService=r;this.router=i;this.projectForm=this.fb.group({title:["",[ze.required,ze.minLength(5)]],description:["",[ze.required,ze.minLength(20)]],longDescription:["",[ze.required,ze.minLength(100)]],goal:[0,[ze.required,ze.min(100)]],category:["",ze.required],deadline:["",ze.required],location:["",ze.required],risksAndChallenges:["",ze.required],rewards:this.fb.array([this.createReward()]),updates:this.fb.array([this.createUpdate()])})}projectForm;categories=["Tecnolog\xEDa","Social","Medio Ambiente","Educaci\xF3n","Arte"];isLoading=!1;error=null;get rewards(){return this.projectForm.get("rewards")}get updates(){return this.projectForm.get("updates")}createReward(){return this.fb.group({title:["",ze.required],description:["",ze.required],minimumAmount:[0,[ze.required,ze.min(1)]]})}createUpdate(){return this.fb.group({title:["",ze.required],content:["",ze.required],date:[new Date().toISOString().split("T")[0]]})}addReward(){this.rewards.push(this.createReward())}removeReward(e){this.rewards.removeAt(e)}addUpdate(){this.updates.push(this.createUpdate())}removeUpdate(e){this.updates.removeAt(e)}onSubmit(){this.projectForm.invalid||this.isLoading||(this.isLoading=!0,this.error=null,this.authService.currentUser$.pipe(mt(1)).subscribe(e=>{if(!e){this.error="Debes iniciar sesi\xF3n para crear un proyecto",this.isLoading=!1;return}let t=this.projectForm.get("deadline")?.value;if(!t){this.error="La fecha l\xEDmite es requerida",this.isLoading=!1;return}let r=new Date(t).toISOString(),i=this.projectForm.get("updates")?.value,o=i?i.map(u=>ne(L({},u),{date:u.date?new Date(u.date).toISOString():new Date().toISOString()})):[],s=["https://projectcor.com/es/wp-content/uploads/2019/05/gestion-de-proyectos.jpg","https://d2fl3xywvvllvq.cloudfront.net/wp-content/uploads/2019/10/nutcache-image-2-600x360.jpg","https://eadic.com/wp-content/uploads/2020/05/Proyecto-2-1.jpg","https://www.ceupe.com.ve/images/easyblog_articles/230/ges_proyec.png","https://acortar.link/25ILfh"];function a(){let u=Math.floor(Math.random()*s.length);return s[u]}let c=ne(L({},this.projectForm.value),{deadline:r,updates:o,creator:{name:e.name,email:e.email,bio:e.bio||"",avatar:a()},collected:0,status:"pending",createdAt:new Date().toISOString(),supporters:[]});this.projectService.createProject(c).pipe(mt(1)).subscribe({next:u=>{this.projectForm.reset();let d=u?.projectId||"";d?this.router.navigate(["/project",d],{replaceUrl:!0}):this.router.navigate(["/user-profile"])},error:u=>{console.error("Error creating project",u),this.error="Error al crear el proyecto. Por favor intenta nuevamente.",this.isLoading=!1}})}))}static \u0275fac=function(t){return new(t||n)(j(Em),j(Vn),j(Be),j(Ae))};static \u0275cmp=Re({type:n,selectors:[["app-project-creation"]],decls:78,vars:16,consts:[[1,"creation-container"],[1,"project-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"form-group"],["for","title"],["type","text","id","title","formControlName","title","placeholder","Nombre de tu proyecto"],["class","error-message",4,"ngIf"],["for","description"],["id","description","formControlName","description","placeholder","Describe tu proyecto brevemente (m\xEDnimo 20 caracteres)"],["for","longDescription"],["id","longDescription","formControlName","longDescription","placeholder","Explica tu proyecto en detalle (m\xEDnimo 100 caracteres)"],[1,"form-row"],["for","goal"],["type","number","id","goal","formControlName","goal","min","100"],["for","category"],["id","category","formControlName","category"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","deadline"],["type","date","id","deadline","formControlName","deadline"],["for","location"],["type","text","id","location","formControlName","location","placeholder","Ciudad, Pa\xEDs"],["formArrayName","rewards"],["class","reward-item",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"button-add",3,"click"],["formArrayName","updates"],["class","update-item",3,"formGroupName",4,"ngFor","ngForOf"],["id","risks","formControlName","risksAndChallenges","placeholder","Describe los posibles retos de tu proyecto y c\xF3mo planeas superarlos"],[1,"form-actions"],["type","submit",1,"button-primary",3,"disabled"],[4,"ngIf"],[1,"error-message"],[3,"value"],[1,"reward-item",3,"formGroupName"],[3,"for"],["type","text","formControlName","title","placeholder","Ej: Certificado digital",3,"id"],["type","number","formControlName","minimumAmount","min","1",3,"id"],["formControlName","description","placeholder","Describe qu\xE9 recibir\xE1 el patrocinador",3,"id"],["type","button","class","button-remove",3,"click",4,"ngIf"],["type","button",1,"button-remove",3,"click"],[1,"update-item",3,"formGroupName"],["type","text","formControlName","title","placeholder","Ej: Campa\xF1a lanzada",3,"id"],["type","date","formControlName","date",3,"id"],["formControlName","content","placeholder","Detalles de la actualizaci\xF3n",3,"id"]],template:function(t,r){if(t&1&&(g(0,"div",0)(1,"h2"),b(2,"Crear Nuevo Proyecto"),m(),g(3,"form",1),z("ngSubmit",function(){return r.onSubmit()}),g(4,"div",2)(5,"h3"),b(6,"Informaci\xF3n B\xE1sica"),m(),g(7,"div",3)(8,"label",4),b(9,"T\xEDtulo del Proyecto *"),m(),oe(10,"input",5),W(11,s7,2,0,"div",6),m(),g(12,"div",3)(13,"label",7),b(14,"Descripci\xF3n Corta *"),m(),oe(15,"textarea",8),W(16,a7,2,0,"div",6),m(),g(17,"div",3)(18,"label",9),b(19,"Descripci\xF3n Detallada *"),m(),oe(20,"textarea",10),W(21,c7,2,0,"div",6),m()(),g(22,"div",2)(23,"h3"),b(24,"Financiaci\xF3n y Categor\xEDa"),m(),g(25,"div",11)(26,"div",3)(27,"label",12),b(28,"Meta de financiaci\xF3n ($) *"),m(),oe(29,"input",13),W(30,l7,2,0,"div",6),m(),g(31,"div",3)(32,"label",14),b(33,"Categor\xEDa *"),m(),g(34,"select",15)(35,"option",16),b(36,"Selecciona una categor\xEDa"),m(),W(37,u7,2,2,"option",17),m(),W(38,d7,2,0,"div",6),m()()(),g(39,"div",2)(40,"h3"),b(41,"Fechas y Ubicaci\xF3n"),m(),g(42,"div",11)(43,"div",3)(44,"label",18),b(45,"Fecha L\xEDmite *"),m(),oe(46,"input",19),W(47,h7,2,0,"div",6),m(),g(48,"div",3)(49,"label",20),b(50,"Ubicaci\xF3n *"),m(),oe(51,"input",21),W(52,f7,2,0,"div",6),m()()(),g(53,"div",2)(54,"h3"),b(55,"Recompensas para Patrocinadores"),m(),g(56,"div",22),W(57,m7,15,8,"div",23),m(),g(58,"button",24),z("click",function(){return r.addReward()}),b(59," + A\xF1adir Otra Recompensa "),m()(),g(60,"div",2)(61,"h3"),b(62,"Actualizaciones Iniciales"),m(),g(63,"div",25),W(64,v7,15,8,"div",26),m(),g(65,"button",24),z("click",function(){return r.addUpdate()}),b(66," + A\xF1adir Otra Actualizaci\xF3n "),m()(),g(67,"div",2)(68,"h3"),b(69,"Riesgos y Desaf\xEDos *"),m(),g(70,"div",3),oe(71,"textarea",27),W(72,_7,2,0,"div",6),m()(),g(73,"div",28)(74,"button",29),W(75,y7,2,0,"span",30)(76,b7,2,0,"span",30),m(),W(77,w7,2,1,"div",6),m()()()),t&2){let i,o,s,a,c,u,d,p;E(3),F("formGroup",r.projectForm),E(8),F("ngIf",((i=r.projectForm.get("title"))==null?null:i.invalid)&&((i=r.projectForm.get("title"))==null?null:i.touched)),E(5),F("ngIf",((o=r.projectForm.get("description"))==null?null:o.invalid)&&((o=r.projectForm.get("description"))==null?null:o.touched)),E(5),F("ngIf",((s=r.projectForm.get("longDescription"))==null?null:s.invalid)&&((s=r.projectForm.get("longDescription"))==null?null:s.touched)),E(9),F("ngIf",((a=r.projectForm.get("goal"))==null?null:a.invalid)&&((a=r.projectForm.get("goal"))==null?null:a.touched)),E(7),F("ngForOf",r.categories),E(),F("ngIf",((c=r.projectForm.get("category"))==null?null:c.invalid)&&((c=r.projectForm.get("category"))==null?null:c.touched)),E(9),F("ngIf",((u=r.projectForm.get("deadline"))==null?null:u.invalid)&&((u=r.projectForm.get("deadline"))==null?null:u.touched)),E(5),F("ngIf",((d=r.projectForm.get("location"))==null?null:d.invalid)&&((d=r.projectForm.get("location"))==null?null:d.touched)),E(5),F("ngForOf",r.rewards.controls),E(7),F("ngForOf",r.updates.controls),E(8),F("ngIf",((p=r.projectForm.get("risksAndChallenges"))==null?null:p.invalid)&&((p=r.projectForm.get("risksAndChallenges"))==null?null:p.touched)),E(2),F("disabled",r.projectForm.invalid||r.isLoading),E(),F("ngIf",!r.isLoading),E(),F("ngIf",r.isLoading),E(),F("ngIf",r.error)}},dependencies:[ht,$t,vt,dc,lr,To,Do,Mt,Bu,Jr,zt,cr,Hu,uc,Uu,bm,wm],styles:[".creation-container[_ngcontent-%COMP%]{max-width:900px;margin:2rem auto;padding:2rem;background-color:#fff;border-radius:12px;box-shadow:0 4px 20px #00000014}.creation-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2e7d32;text-align:center;margin-bottom:2rem;font-size:2rem}.project-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.form-section[_ngcontent-%COMP%]{padding:1.5rem;border-radius:8px;background-color:#e4f3e5}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2e7d32;margin-top:0;margin-bottom:1.5rem;font-size:1.3rem;border-bottom:2px solid #88c9a1;padding-bottom:.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#205823}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:6px;font-size:1rem;transition:border-color .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#88c9a1;box-shadow:0 0 0 2px #88c9a133}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:100px;resize:vertical}.form-row[_ngcontent-%COMP%]{display:flex;gap:1.5rem}.form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1}@media (max-width: 600px){.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}}.reward-item[_ngcontent-%COMP%], .update-item[_ngcontent-%COMP%]{background-color:#fff;padding:1.5rem;border-radius:8px;margin-bottom:1.5rem;box-shadow:0 2px 8px #0000000d}.button-primary[_ngcontent-%COMP%]{background-color:#88c9a1;color:#fff;border:none;padding:1rem 2rem;font-size:1rem;border-radius:6px;cursor:pointer;transition:background-color .3s;font-weight:600}.button-primary[_ngcontent-%COMP%]:hover{background-color:#65b985}.button-primary[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.button-add[_ngcontent-%COMP%]{background-color:#c8e6c9;color:#2e7d32;border:1px dashed #88c9a1;padding:.75rem 1.5rem;font-size:.9rem;border-radius:6px;cursor:pointer;transition:all .3s;display:flex;align-items:center;gap:.5rem;margin:0 auto}.button-add[_ngcontent-%COMP%]:hover{background-color:#b6deb8}.button-remove[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828;border:1px solid #ef9a9a;padding:.5rem 1rem;font-size:.8rem;border-radius:4px;cursor:pointer;transition:all .3s}.button-remove[_ngcontent-%COMP%]:hover{background-color:#ffcdd2}.error-message[_ngcontent-%COMP%]{color:#d32f2f;font-size:.85rem;margin-top:.5rem}.form-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;margin-top:1rem}"]})};function E7(n,e){if(n&1&&(g(0,"div",5),b(1),m()),n&2){let t=B(2);E(),ie(" ",t.error," ")}}function C7(n,e){if(n&1){let t=Pe();g(0,"button",27),z("click",function(){J(t);let i=B(3);return ee(i.navigateToEdit())}),b(1," Editar Proyecto "),m()}}function I7(n,e){if(n&1){let t=Pe();g(0,"button",28),z("click",function(){J(t);let i=B(3);return ee(i.deleteProject())}),b(1," Eliminar Proyecto "),m()}}function T7(n,e){if(n&1&&(g(0,"p",36),b(1),m()),n&2){let t=B().$implicit;E(),ie(" ",t.reward," ")}}function D7(n,e){if(n&1&&(g(0,"div",29)(1,"div",30),b(2),m(),g(3,"div",31)(4,"p",32),b(5),m(),g(6,"p",33),b(7),st(8,"number"),m(),g(9,"p",34),b(10),m(),W(11,T7,2,1,"p",35),m()()),n&2){let t=e.$implicit;E(2),re(t.name.charAt(0)),E(3),re(t.name),E(2),ie(" $",ys(8,5,t.amount,"1.0-0")," "),E(3),re(t.date),E(),F("ngIf",t.reward)}}function S7(n,e){if(n&1&&(g(0,"div",37)(1,"h4"),b(2),m(),g(3,"p"),b(4),m(),g(5,"p"),b(6),st(7,"number"),m(),g(8,"div",38),oe(9,"div",39),m()()),n&2){let t=e.$implicit,r=B(3);E(2),re(t.reward),E(2),ie("",t.count," personas"),E(2),ie("Total: $",ys(7,5,t.totalAmount,"1.0-0"),""),E(3),Oi("width",t.count/r.analyticsData.basicStats.supportersCount*100,"%")}}function A7(n,e){if(n&1&&(g(0,"div",40)(1,"div",41),b(2),m(),g(3,"div",42)(4,"p",43),b(5),m(),g(6,"p",44),b(7),st(8,"date"),m()()()),n&2){let t=e.$implicit;E(),Ye("update",t.type==="update")("support",t.type==="support"),E(),ie(" ",t.type==="update"?"\u{1F504}":"\u{1F49A}"," "),E(3),re(t.description),E(2),ie(" ",ys(8,7,t.date,"mediumDate")," ")}}function x7(n,e){if(n&1&&(g(0,"div")(1,"h2"),b(2,"An\xE1lisis del Proyecto"),m(),g(3,"p",6),b(4),m(),W(5,C7,2,0,"button",7),g(6,"div",8),W(7,I7,2,0,"button",9),m(),g(8,"div",10)(9,"div",11)(10,"h3"),b(11,"Recaudado"),m(),g(12,"p",12),b(13),st(14,"number"),m(),g(15,"p",13),b(16),m()(),oe(17,"div",8),g(18,"div",11)(19,"h3"),b(20,"Apoyos"),m(),g(21,"p",12),b(22),m(),g(23,"p",13),b(24,"personas han apoyado"),m()(),g(25,"div",11)(26,"h3"),b(27,"Tiempo restante"),m(),g(28,"p",12),b(29),m(),g(30,"p",13),b(31,"d\xEDas para finalizar"),m()(),g(32,"div",11)(33,"h3"),b(34,"Recompensas"),m(),g(35,"p",12),b(36),m(),g(37,"p",13),b(38,"recompensas reclamadas"),m()()(),g(39,"div",14)(40,"h3"),b(41,"Progreso de financiaci\xF3n"),m(),g(42,"div",15),oe(43,"div",16),m(),g(44,"p",17),b(45),st(46,"number"),st(47,"number"),m()(),g(48,"div",18)(49,"h3"),b(50,"Apoyos recientes"),m(),g(51,"div",19),W(52,D7,12,8,"div",20),m()(),g(53,"div",21)(54,"h3"),b(55,"Distribuci\xF3n de recompensas"),m(),g(56,"div",22),W(57,S7,10,8,"div",23),m()(),g(58,"div",24)(59,"h3"),b(60,"Actividad reciente"),m(),g(61,"div",25),W(62,A7,9,10,"div",26),m()()()),n&2){let t=B(2);E(4),re(t.project.title),E(),F("ngIf",t.isCreator),E(2),F("ngIf",t.isCreator&&(t.project==null?null:t.project.collected)===0),E(6),ie(" $",ys(14,16,t.analyticsData.basicStats.totalCollected,"1.0-0")," "),E(3),ie(" ",t.analyticsData.basicStats.percentageFunded,"% de la meta "),E(6),re(t.analyticsData.basicStats.supportersCount),E(7),re(t.analyticsData.basicStats.daysRemaining),E(7),re(t.analyticsData.basicStats.rewardsClaimed),E(7),Oi("width",t.analyticsData.basicStats.percentageFunded,"%"),E(2),o0(" $",ys(46,19,t.analyticsData.basicStats.totalCollected,"1.0-0")," de $",ys(47,22,t.project.goal,"1.0-0")," (",t.analyticsData.basicStats.percentageFunded,"%) "),E(7),F("ngForOf",t.analyticsData.supporters.slice(0,5)),E(5),F("ngForOf",t.analyticsData.rewardsDistribution),E(5),F("ngForOf",t.analyticsData.recentActivity.slice(0,5))}}function M7(n,e){if(n&1&&(g(0,"div",2),W(1,E7,2,1,"div",3)(2,x7,63,25,"div",4),m()),n&2){let t=B();E(),F("ngIf",t.error),E(),F("ngIf",!t.error)}}function P7(n,e){n&1&&(g(0,"div",45)(1,"p"),b(2,"Cargando an\xE1lisis..."),m()())}var uv=class n{constructor(e,t,r,i,o,s){this.route=e;this.projectService=t;this.router=r;this.authService=i;this.decimalPipe=o;this.datePipe=s}projectId="";project=null;analyticsData=null;isLoading=!0;error=null;currentUserEmail="";isCreator=!1;ngOnInit(){this.projectId=this.route.snapshot.paramMap.get("id")||"",this.authService.currentUser$.subscribe(e=>{this.currentUserEmail=e?.email||"",this.loadProjectData()})}loadProjectData(){this.isLoading=!0,this.projectService.getProjectById(this.projectId).subscribe({next:e=>{if(!e){this.error="Proyecto no encontrado",this.isLoading=!1;return}this.project=e,this.isCreator=e.creator?.email===this.currentUserEmail,this.generateAnalytics(e)},error:e=>{console.error("Error loading project",e),this.error="Error al cargar el proyecto",this.isLoading=!1}})}generateAnalytics(e){let t=e.collected||0,r=Math.min(Math.round(t/e.goal*100),100),i=new Date(e.deadline),o=new Date,s=Math.max(0,Math.ceil((i.getTime()-o.getTime())/(1e3*60*60*24))),a=e.supporters?.map(p=>({name:p.name,amount:p.amount,date:new Date(p.date).toLocaleDateString(),reward:this.getRewardName(e.rewards,p.amount)}))||[],c=this.generateFundingProgress(e),u=this.calculateRewardsDistribution(e),d=this.generateRecentActivity(e);this.analyticsData={basicStats:{totalCollected:t,percentageFunded:r,daysRemaining:s,supportersCount:a.length,rewardsClaimed:u.reduce((p,v)=>p+v.count,0)},supporters:a,fundingProgress:c,rewardsDistribution:u,recentActivity:d},this.isLoading=!1}navigateToEdit(){this.router.navigate(["/project-edit",this.projectId])}getRewardName(e,t){return e&&e.filter(i=>t>=i.minimumAmount).sort((i,o)=>o.minimumAmount-i.minimumAmount)[0]?.title||"Sin recompensa"}generateFundingProgress(e){if(e.fundingProgress)return e.fundingProgress;let t=[],r=new Date(e.createdAt),o=Math.ceil((new Date().getTime()-r.getTime())/(1e3*60*60*24)),s=0;for(let a=0;a<=o;a++){let c=new Date(r);c.setDate(r.getDate()+a),s+=Math.random()*(e.goal/10),s>e.collected&&(s=e.collected),t.push({date:c.toISOString().split("T")[0],amount:Math.round(s)})}return t}calculateRewardsDistribution(e){return!e.rewards||!e.supporters?[]:e.rewards.map(t=>{let r=e.supporters.filter(i=>i.amount>=t.minimumAmount);return{reward:t.title,count:r.length,totalAmount:r.reduce((i,o)=>i+o.amount,0)}})}generateRecentActivity(e){let t=[];return e.updates&&e.updates.forEach(r=>{t.push({type:"update",description:r.title,date:r.date})}),e.supporters&&e.supporters.slice(-5).forEach(r=>{t.push({type:"support",description:`Nuevo apoyo de ${r.name} ($${r.amount})`,date:r.date})}),t.sort((r,i)=>new Date(i.date).getTime()-new Date(r.date).getTime())}deleteProject(){return w(this,null,function*(){if(confirm("\xBFEst\xE1s seguro de que quieres eliminar este proyecto? Esta acci\xF3n no se puede deshacer."))try{yield yi(this.projectService.deleteProject(this.projectId)),alert("Proyecto eliminado exitosamente"),this.router.navigate(["/user-profile"])}catch(t){console.error("Error al eliminar proyecto:",t),alert("Ocurri\xF3 un error al eliminar el proyecto")}})}static \u0275fac=function(t){return new(t||n)(j(dn),j(Vn),j(Ae),j(Be),j(Kr),j(_o))};static \u0275cmp=Re({type:n,selectors:[["app-project-analytics"]],features:[It([Kr,_o])],decls:2,vars:2,consts:[["class","analytics-container",4,"ngIf"],["class","loading-container",4,"ngIf"],[1,"analytics-container"],["class","error-message",4,"ngIf"],[4,"ngIf"],[1,"error-message"],[1,"project-title"],["class","edit-button",3,"click",4,"ngIf"],[1,"action-buttons"],["class","delete-button",3,"click",4,"ngIf"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-value"],[1,"stat-label"],[1,"chart-container"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"],[1,"supporters-section"],[1,"supporters-grid"],["class","supporter-card",4,"ngFor","ngForOf"],[1,"rewards-section"],[1,"rewards-grid"],["class","reward-card",4,"ngFor","ngForOf"],[1,"activity-section"],[1,"activity-timeline"],["class","activity-item",4,"ngFor","ngForOf"],[1,"edit-button",3,"click"],[1,"delete-button",3,"click"],[1,"supporter-card"],[1,"supporter-avatar"],[1,"supporter-info"],[1,"supporter-name"],[1,"supporter-amount"],[1,"supporter-date"],["class","supporter-reward",4,"ngIf"],[1,"supporter-reward"],[1,"reward-card"],[1,"reward-bar"],[1,"reward-fill"],[1,"activity-item"],[1,"activity-icon"],[1,"activity-content"],[1,"activity-description"],[1,"activity-date"],[1,"loading-container"]],template:function(t,r){t&1&&W(0,M7,3,2,"div",0)(1,P7,3,0,"div",1),t&2&&(F("ngIf",!r.isLoading&&r.analyticsData&&r.project),E(),F("ngIf",r.isLoading))},dependencies:[ht,$t,vt,Kr,_o],styles:[".analytics-container[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:1rem}.error-message[_ngcontent-%COMP%]{color:#d32f2f;background-color:#ffebee;padding:1rem;border-radius:4px;margin-bottom:1rem}.project-title[_ngcontent-%COMP%]{font-size:1.5rem;color:#2e7d32;margin-bottom:2rem;text-align:center}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 8px #0000001a;text-align:center}.stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#2e7d32;margin:.5rem 0}.stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:#666;margin:0}.chart-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.5rem;margin-bottom:2rem;box-shadow:0 2px 8px #0000001a}.chart-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.progress-bar[_ngcontent-%COMP%]{height:20px;background-color:#e0e0e0;border-radius:10px;margin:1rem 0;overflow:hidden}.progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background-color:#4caf50;transition:width .5s ease}.progress-text[_ngcontent-%COMP%]{text-align:center;color:#666}.supporters-section[_ngcontent-%COMP%], .rewards-section[_ngcontent-%COMP%], .activity-section[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.5rem;margin-bottom:2rem;box-shadow:0 2px 8px #0000001a}.supporters-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .rewards-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .activity-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.supporters-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1rem}.supporter-card[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1rem;border:1px solid #e0e0e0;border-radius:8px}.supporter-card[_ngcontent-%COMP%]   .supporter-avatar[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#4caf50;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-right:1rem;font-weight:700}.supporter-card[_ngcontent-%COMP%]   .supporter-name[_ngcontent-%COMP%]{font-weight:700;margin:0}.supporter-card[_ngcontent-%COMP%]   .supporter-amount[_ngcontent-%COMP%]{color:#2e7d32;font-weight:700;margin:.25rem 0}.supporter-card[_ngcontent-%COMP%]   .supporter-date[_ngcontent-%COMP%], .supporter-card[_ngcontent-%COMP%]   .supporter-reward[_ngcontent-%COMP%]{color:#666;font-size:.8rem;margin:.1rem 0}.rewards-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1rem}.reward-card[_ngcontent-%COMP%]{padding:1rem;border:1px solid #e0e0e0;border-radius:8px}.reward-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0;color:#2e7d32}.reward-card[_ngcontent-%COMP%]   .reward-bar[_ngcontent-%COMP%]{height:8px;background-color:#e0e0e0;border-radius:4px;margin-top:.5rem;overflow:hidden}.reward-card[_ngcontent-%COMP%]   .reward-bar[_ngcontent-%COMP%]   .reward-fill[_ngcontent-%COMP%]{height:100%;background-color:#4caf50}.activity-timeline[_ngcontent-%COMP%]{border-left:2px solid #e0e0e0;padding-left:1.5rem;margin-left:1rem}.activity-item[_ngcontent-%COMP%]{display:flex;margin-bottom:1.5rem;position:relative}.activity-item[_ngcontent-%COMP%]   .activity-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background-color:#e8f5e9;display:flex;align-items:center;justify-content:center;margin-right:1rem;position:absolute;left:-17px}.activity-item[_ngcontent-%COMP%]   .activity-icon.update[_ngcontent-%COMP%]{background-color:#e3f2fd}.activity-item[_ngcontent-%COMP%]   .activity-icon.support[_ngcontent-%COMP%]{background-color:#f1f8e9}.activity-item[_ngcontent-%COMP%]   .activity-content[_ngcontent-%COMP%]{margin-left:2rem}.activity-item[_ngcontent-%COMP%]   .activity-content[_ngcontent-%COMP%]   .activity-description[_ngcontent-%COMP%]{margin:0 0 .25rem}.activity-item[_ngcontent-%COMP%]   .activity-content[_ngcontent-%COMP%]   .activity-date[_ngcontent-%COMP%]{color:#666;font-size:.8rem;margin:0}.loading-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#666}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.supporters-grid[_ngcontent-%COMP%], .rewards-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.action-buttons[_ngcontent-%COMP%]{margin-bottom:2rem;text-align:right}.edit-button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:4px;cursor:pointer;font-size:1rem}.edit-button[_ngcontent-%COMP%]:hover{background-color:#3e8e41}"]})};function R7(n,e){n&1&&(g(0,"div",3)(1,"p"),b(2,"Cargando datos del proyecto..."),m()())}function O7(n,e){n&1&&(g(0,"div",24),b(1," El t\xEDtulo debe tener al menos 5 caracteres "),m())}function k7(n,e){n&1&&(g(0,"div",24),b(1," La descripci\xF3n debe tener al menos 20 caracteres "),m())}function N7(n,e){if(n&1&&(g(0,"option",25),b(1),m()),n&2){let t=e.$implicit,r=B(2);F("value",t)("selected",t===r.projectForm.value.category),E(),ie(" ",t," ")}}function F7(n,e){if(n&1&&(g(0,"div",24),b(1),m()),n&2){let t=B(2);E(),ie(" ",t.error," ")}}function L7(n,e){if(n&1){let t=Pe();g(0,"form",4),z("ngSubmit",function(){J(t);let i=B();return ee(i.onSubmit())}),g(1,"div",5)(2,"label",6),b(3,"T\xEDtulo del Proyecto *"),m(),oe(4,"input",7),W(5,O7,2,0,"div",8),m(),g(6,"div",5)(7,"label",9),b(8,"Descripci\xF3n Corta *"),m(),g(9,"textarea",10),b(10),m(),W(11,k7,2,0,"div",8),m(),g(12,"div",5)(13,"label",11),b(14,"Descripci\xF3n Detallada *"),m(),g(15,"textarea",12),b(16),m()(),g(17,"div",5)(18,"label",13),b(19,"Categor\xEDa *"),m(),g(20,"select",14)(21,"option",15),b(22,"Selecciona una categor\xEDa"),m(),W(23,N7,2,3,"option",16),m()(),g(24,"div",5)(25,"label",17),b(26,"Ubicaci\xF3n *"),m(),oe(27,"input",18),m(),g(28,"div",5)(29,"label",19),b(30,"Retos y desaf\xEDos *"),m(),g(31,"textarea",20),b(32),m()(),g(33,"div",21)(34,"button",22),b(35),m(),g(36,"button",23),z("click",function(){J(t);let i=B();return ee(i.onCancel())}),b(37," Cancelar "),m()(),W(38,F7,2,1,"div",8),m()}if(n&2){let t,r,i=B();F("formGroup",i.projectForm),E(4),F("value",i.projectForm.value.title),E(),F("ngIf",((t=i.projectForm.get("title"))==null?null:t.invalid)&&((t=i.projectForm.get("title"))==null?null:t.touched)),E(5),re(i.projectForm.value.description),E(),F("ngIf",((r=i.projectForm.get("description"))==null?null:r.invalid)&&((r=i.projectForm.get("description"))==null?null:r.touched)),E(5),re(i.projectForm.value.longDescription),E(7),F("ngForOf",i.categories),E(4),F("value",i.projectForm.value.location),E(5),re(i.projectForm.value.risksAndChallenges),E(2),F("disabled",i.projectForm.invalid||i.isLoading),E(),ie(" ",i.isLoading?"Guardando...":"Guardar Cambios"," "),E(3),F("ngIf",i.error)}}var dv=class n{constructor(e,t,r,i,o){this.fb=e;this.route=t;this.router=r;this.projectService=i;this.authService=o;this.projectForm=this.fb.group({title:["",[ze.required,ze.minLength(5)]],description:["",[ze.required,ze.minLength(20)]],longDescription:["",[ze.required,ze.minLength(100)]],category:["",ze.required],location:["",ze.required],risksAndChallenges:["",ze.required]})}projectId="";projectForm;isLoading=!0;error=null;categories=["Tecnolog\xEDa","Social","Medio Ambiente","Educaci\xF3n","Arte"];ngOnInit(){this.projectId=this.route.snapshot.paramMap.get("id")||"",this.loadProjectData()}loadProjectData(){this.authService.currentUser$.pipe(mt(1)).subscribe(e=>{this.projectService.getProjectById(this.projectId).subscribe({next:t=>{if(!t){this.error="Proyecto no encontrado",this.isLoading=!1;return}if(t.creator?.email!==e?.email){this.error="No tienes permiso para editar este proyecto",this.isLoading=!1;return}this.projectForm.patchValue({title:t.title,description:t.description,longDescription:t.longDescription||"",category:t.category,location:t.location||"",risksAndChallenges:t.risksAndChallenges||""}),this.isLoading=!1},error:t=>{console.error("Error loading project",t),this.error="Error al cargar el proyecto",this.isLoading=!1}})})}onSubmit(){if(this.projectForm.invalid||this.isLoading)return;this.isLoading=!0,this.error=null;let e=L({},this.projectForm.value);this.projectService.updateProject(this.projectId,e).subscribe({next:()=>{this.router.navigate(["/project-analytics",this.projectId])},error:t=>{console.error("Error updating project",t),this.error="Error al actualizar el proyecto",this.isLoading=!1}})}onCancel(){this.router.navigate(["/project-analytics",this.projectId])}static \u0275fac=function(t){return new(t||n)(j(Em),j(dn),j(Ae),j(Vn),j(Be))};static \u0275cmp=Re({type:n,selectors:[["app-project-edit"]],decls:5,vars:2,consts:[[1,"edit-container"],["class","loading-message",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"loading-message"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","title"],["type","text","id","title","formControlName","title",3,"value"],["class","error-message",4,"ngIf"],["for","description"],["id","description","formControlName","description"],["for","longDescription"],["id","longDescription","formControlName","longDescription"],["for","category"],["id","category","formControlName","category"],["value",""],[3,"value","selected",4,"ngFor","ngForOf"],["for","location"],["type","text","id","location","formControlName","location",3,"value"],["for","risks"],["id","risks","formControlName","risksAndChallenges"],[1,"form-actions"],["type","submit",3,"disabled"],["type","button",3,"click"],[1,"error-message"],[3,"value","selected"]],template:function(t,r){t&1&&(g(0,"div",0)(1,"h2"),b(2,"Editar Proyecto"),m(),W(3,R7,3,0,"div",1)(4,L7,39,12,"form",2),m()),t&2&&(E(3),F("ngIf",r.isLoading),E(),F("ngIf",!r.isLoading))},dependencies:[dc,lr,To,Do,Mt,Jr,zt,cr,uc,Uu,ht,$t,vt],styles:[`@charset "UTF-8";.edit-container[_ngcontent-%COMP%]{max-width:800px;margin:2rem auto;padding:2rem;background:#fff;border-radius:8px;box-shadow:0 2px 10px #0000001a}.edit-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2e7d32;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:4px;font-size:1rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#4caf50}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:120px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:2rem}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:4px;cursor:pointer;font-size:1rem}.form-actions[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none}.form-actions[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:disabled{background-color:#ccc}.form-actions[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd}.error-message[_ngcontent-%COMP%]{color:#d32f2f;margin-top:.5rem}.loading-message[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#666}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#333}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;transition:border-color .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#4caf50;box-shadow:0 0 0 2px #4caf5033}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:120px;resize:vertical}select[_ngcontent-%COMP%]{appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .5rem center;background-size:1em}`]})};function Md(n){return n.buttons===0||n.detail===0}function Pd(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var qI;function GN(){if(qI==null){let n=typeof document<"u"?document.head:null;qI=!!(n&&(n.createShadowRoot||n.attachShadow))}return qI}function WI(n){if(GN()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function jn(n){return n.composedPath?n.composedPath()[0]:n.target}function hr(n,e,t,r,i){let o=parseInt(Ql.major),s=parseInt(Ql.minor);return o>19||o===19&&s>0||o===0&&s===0?n.listen(e,t,r,i):(e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)})}var GI;try{GI=typeof Intl<"u"&&Intl.v8BreakIterator}catch{GI=!1}var Yt=(()=>{class n{_platformId=I(qr);isBrowser=this._platformId?y0(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||GI)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Rd;function KN(){if(Rd==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Rd=!0}))}finally{Rd=Rd||!1}return Rd}function Uc(n){return KN()?n:!!n.capture}function pi(n){return n instanceof et?n.nativeElement:n}var YN=new H("cdk-input-modality-detector-options"),QN={ignoreKeys:[18,17,224,91,16]},ZN=650,KI={passive:!0,capture:!0},XN=(()=>{class n{_platform=I(Yt);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new it(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(r=>r===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=jn(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<ZN||(this._modality.next(Md(t)?"keyboard":"mouse"),this._mostRecentTarget=jn(t))};_onTouchstart=t=>{if(Pd(t)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=jn(t)};constructor(){let t=I(ce),r=I(Ie),i=I(YN,{optional:!0});if(this._options=L(L({},QN),i),this.modalityDetected=this._modality.pipe(Dl(1)),this.modalityChanged=this.modalityDetected.pipe(Qh()),this._platform.isBrowser){let o=I(Xt).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[hr(o,r,"keydown",this._onKeydown,KI),hr(o,r,"mousedown",this._onMousedown,KI),hr(o,r,"touchstart",this._onTouchstart,KI)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t())}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Od=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(Od||{}),JN=new H("cdk-focus-monitor-default-options"),hv=Uc({passive:!0,capture:!0}),YI=(()=>{class n{_ngZone=I(ce);_platform=I(Yt);_inputModalityDetector=I(XN);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=I(Ie,{optional:!0});_stopInputModalityDetector=new fe;constructor(){let t=I(JN,{optional:!0});this._detectionMode=t?.detectionMode||Od.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{let r=jn(t);for(let i=r;i;i=i.parentElement)t.type==="focus"?this._onFocus(t,i):this._onBlur(t,i)};monitor(t,r=!1){let i=pi(t);if(!this._platform.isBrowser||i.nodeType!==1)return X();let o=WI(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;let a={checkChildren:r,subject:new fe,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){let r=pi(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){let o=pi(t),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,r,c)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===Od.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused",r==="touch"),t.classList.toggle("cdk-keyboard-focused",r==="keyboard"),t.classList.toggle("cdk-mouse-focused",r==="mouse"),t.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&r,this._detectionMode===Od.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?ZN:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(t,r){let i=this._elementInfo.get(r),o=jn(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){let i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,hv),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,hv)}),this._rootNodeFocusListenerCount.set(r,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Zn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,hv),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,hv),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){let r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!r||r===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0}return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var fv=new WeakMap,Lo=(()=>{class n{_appRef;_injector=I(Le);_environmentInjector=I(dt);load(t){let r=this._appRef=this._appRef||this._injector.get(wr),i=fv.get(r);i||(i={loaders:new Set,refs:[]},fv.set(r,i),r.onDestroy(()=>{fv.get(r)?.refs.forEach(o=>o.destroy()),fv.delete(r)})),i.loaders.has(t)||(i.loaders.add(t),i.refs.push(rp(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $c(n){return Array.isArray(n)?n:[n]}var eF=new Set,Js,nF=(()=>{class n{_platform=I(Yt);_nonce=I(Hl,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):j7}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&V7(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function V7(n,e){if(!eF.has(n))try{Js||(Js=document.createElement("style"),e&&Js.setAttribute("nonce",e),Js.setAttribute("type","text/css"),document.head.appendChild(Js)),Js.sheet&&(Js.sheet.insertRule(`@media ${n} {body{ }}`,0),eF.add(n))}catch(t){console.error(t)}}function j7(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var QI=(()=>{class n{_mediaMatcher=I(nF);_zone=I(ce);_queries=new Map;_destroySubject=new fe;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return tF($c(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let i=tF($c(t)).map(s=>this._registerQuery(s).observable),o=Yo(i);return o=uo(o.pipe(mt(1)),o.pipe(Dl(1),G_(0))),o.pipe(de(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:u})=>{a.matches=a.matches||c,a.breakpoints[u]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let r=this._mediaMatcher.matchMedia(t),o={observable:new me(s=>{let a=c=>this._zone.run(()=>s.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(Ca(r),de(({matches:s})=>({query:t,matches:s})),Zn(this._destroySubject)),mql:r};return this._queries.set(t,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tF(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var rF=new H("liveAnnouncerElement",{providedIn:"root",factory:iF});function iF(){return null}var oF=new H("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),B7=0,ZI=(()=>{class n{_ngZone=I(ce);_defaultOptions=I(oF,{optional:!0});_liveElement;_document=I(Ie);_previousTimeout;_currentPromise;_currentResolve;constructor(){let t=I(rF,{optional:!0});this._liveElement=t||this._createLiveElement()}announce(t,...r){let i=this._defaultOptions,o,s;return r.length===1&&typeof r[0]=="number"?s=r[0]:[o,s]=r,this.clear(),clearTimeout(this._previousTimeout),o||(o=i&&i.politeness?i.politeness:"polite"),s==null&&i&&(s=i.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let o=0;o<r.length;o++)r[o].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id=`cdk-live-announcer-${B7++}`,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(t){let r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){let o=r[i],s=o.getAttribute("aria-owns");s?s.indexOf(t)===-1&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var XI={},kd=(()=>{class n{_appId=I($l);getId(t){return this._appId!=="ng"&&(t+=this._appId),XI.hasOwnProperty(t)||(XI[t]=0),`${t}${XI[t]++}`}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ea;function sF(){if(ea==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return ea=!1,ea;if("scrollBehavior"in document.documentElement.style)ea=!0;else{let n=Element.prototype.scrollTo;n?ea=!/\{\s*\[native code\]\s*\}/.test(n.toString()):ea=!1}}return ea}function JI(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Tt(n){return n==null?"":typeof n=="string"?n:`${n}px`}var fr=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(fr||{}),eT=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=fr.HIDDEN;constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i}fadeOut(){this._renderer.fadeOutRipple(this)}},aF=Uc({passive:!0,capture:!0}),tT=class{_events=new Map;addHandler(e,t,r,i){let o=this._events.get(t);if(o){let s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,aF)})}removeHandler(e,t,r){let i=this._events.get(e);if(!i)return;let o=i.get(t);o&&(o.delete(r),o.size===0&&i.delete(t),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,aF)))}_delegateEventHandler=e=>{let t=jn(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(o=>o.handleEvent(e))})}},Nd={enterDuration:225,exitDuration:150},$7=800,cF=Uc({passive:!0,capture:!0}),lF=["mousedown","touchstart"],uF=["mouseup","mouseleave","touchend","touchcancel"],H7=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Re({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return n})(),pv=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new tT;constructor(e,t,r,i,o){this._target=e,this._ngZone=t,this._platform=i,i.isBrowser&&(this._containerElement=pi(r)),o&&o.get(Lo).load(H7)}fadeInRipple(e,t,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=L(L({},Nd),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);let s=r.radius||z7(e,t,i),a=e-i.left,c=t-i.top,u=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${c-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,r.color!=null&&(d.style.backgroundColor=r.color),d.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(d);let p=window.getComputedStyle(d),v=p.transitionProperty,_=p.transitionDuration,S=v==="none"||_==="0s"||_==="0s, 0s"||i.width===0&&i.height===0,R=new eT(this,d,r,S);d.style.transform="scale3d(1, 1, 1)",R.state=fr.FADING_IN,r.persistent||(this._mostRecentTransientRipple=R);let k=null;return!S&&(u||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let G=()=>{k&&(k.fallbackTimer=null),clearTimeout(Z),this._finishRippleTransition(R)},te=()=>this._destroyRipple(R),Z=setTimeout(te,u+100);d.addEventListener("transitionend",G),d.addEventListener("transitioncancel",te),k={onTransitionEnd:G,onTransitionCancel:te,fallbackTimer:Z}}),this._activeRipples.set(R,k),(S||!u)&&this._finishRippleTransition(R),R}fadeOutRipple(e){if(e.state===fr.FADING_OUT||e.state===fr.HIDDEN)return;let t=e.element,r=L(L({},Nd),e.config.animation);t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=fr.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=pi(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,lF.forEach(r=>{n._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{uF.forEach(t=>{this._triggerElement.addEventListener(t,this,cF)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===fr.FADING_IN?this._startFadeOutTransition(e):e.state===fr.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=fr.VISIBLE,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=fr.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=Md(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+$7;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Pd(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===fr.VISIBLE||e.config.terminateOnPointerUp&&e.state===fr.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(lF.forEach(t=>n._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(uF.forEach(t=>e.removeEventListener(t,this,cF)),this._pointerUpEventsRegistered=!1))}};function z7(n,e,t){let r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}var dF=new H("mat-ripple-global-options");var q7={capture:!0},W7=["focus","mousedown","mouseenter","touchstart"],nT="mat-ripple-loader-uninitialized",rT="mat-ripple-loader-class-name",hF="mat-ripple-loader-centered",mv="mat-ripple-loader-disabled",fF=(()=>{class n{_document=I(Ie);_animationMode=I(Ri,{optional:!0});_globalRippleOptions=I(dF,{optional:!0});_platform=I(Yt);_ngZone=I(ce);_injector=I(Le);_eventCleanups;_hosts=new Map;constructor(){let t=I(Xt).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>W7.map(r=>hr(t,this._document,r,this._onInteraction,q7)))}ngOnDestroy(){let t=this._hosts.keys();for(let r of t)this.destroyRipple(r);this._eventCleanups.forEach(r=>r())}configureRipple(t,r){t.setAttribute(nT,this._globalRippleOptions?.namespace??""),(r.className||!t.hasAttribute(rT))&&t.setAttribute(rT,r.className||""),r.centered&&t.setAttribute(hF,""),r.disabled&&t.setAttribute(mv,"")}setDisabled(t,r){let i=this._hosts.get(t);i?(i.target.rippleDisabled=r,!r&&!i.hasSetUpEvents&&(i.hasSetUpEvents=!0,i.renderer.setupTriggerEvents(t))):r?t.setAttribute(mv,""):t.removeAttribute(mv)}_onInteraction=t=>{let r=jn(t);if(r instanceof HTMLElement){let i=r.closest(`[${nT}="${this._globalRippleOptions?.namespace??""}"]`);i&&this._createRipple(i)}};_createRipple(t){if(!this._document||this._hosts.has(t))return;t.querySelector(".mat-ripple")?.remove();let r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(rT)),t.append(r);let i=this._animationMode==="NoopAnimations",o=this._globalRippleOptions,s=i?0:o?.animation?.enterDuration??Nd.enterDuration,a=i?0:o?.animation?.exitDuration??Nd.exitDuration,c={rippleDisabled:i||o?.disabled||t.hasAttribute(mv),rippleConfig:{centered:t.hasAttribute(hF),terminateOnPointerUp:o?.terminateOnPointerUp,animation:{enterDuration:s,exitDuration:a}}},u=new pv(c,this._ngZone,r,this._platform,this._injector),d=!c.rippleDisabled;d&&u.setupTriggerEvents(t),this._hosts.set(t,{target:c,renderer:u,hasSetUpEvents:d}),t.removeAttribute(nT)}destroyRipple(t){let r=this._hosts.get(t);r&&(r.renderer._removeTriggerEvents(),this._hosts.delete(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pF=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Re({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(r,i){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return n})();var G7=new H("MAT_BUTTON_CONFIG");var K7=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],mF=(()=>{class n{_elementRef=I(et);_ngZone=I(ce);_animationMode=I(Ri,{optional:!0});_focusMonitor=I(YI);_rippleLoader=I(fF);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){I(Lo).load(pF);let t=I(G7,{optional:!0}),r=this._elementRef.nativeElement,i=r.classList;this.disabledInteractive=t?.disabledInteractive??!1,this.color=t?.color??null,this._rippleLoader?.configureRipple(r,{className:"mat-mdc-button-ripple"});for(let{attribute:o,mdcClasses:s}of K7)r.hasAttribute(o)&&i.add(...s)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",tn],disabled:[2,"disabled","disabled",tn],ariaDisabled:[2,"aria-disabled","ariaDisabled",tn],disabledInteractive:[2,"disabledInteractive","disabledInteractive",tn]}})}return n})();var Y7=new H("cdk-dir-doc",{providedIn:"root",factory:Q7});function Q7(){return I(Ie)}var Z7=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function X7(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?Z7.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var gF=(()=>{class n{value="ltr";change=new Xe;constructor(){let t=I(Y7,{optional:!0});if(t){let r=t.body?t.body.dir:null,i=t.documentElement?t.documentElement.dir:null;this.value=X7(r||i||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var J7=["mat-button",""],eK=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],tK=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var vF=(()=>{class n extends mF{static \u0275fac=(()=>{let t;return function(i){return(t||(t=yt(n)))(i||n)}})();static \u0275cmp=Re({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,i){r&2&&($n("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled()),t0(i.color?"mat-"+i.color:""),Ye("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable",i._animationMode==="NoopAnimations")("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[qe],attrs:J7,ngContentSelectors:tK,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(ep(eK),oe(0,"span",0),$a(1),g(2,"span",1),$a(3,1),m(),$a(4,2),oe(5,"span",2)(6,"span",3)),r&2&&Ye("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();var Hc=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},ta=class extends Hc{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(e,t,r,i,o){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.projectableNodes=o}},na=class extends Hc{templateRef;viewContainerRef;context;injector;constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},gv=class extends Hc{element;constructor(e){super(),this.element=e instanceof et?e.nativeElement:e}},ra=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof ta)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof na)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof gv)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Fd=class extends ra{outletElement;_appRef;_defaultInjector;_document;constructor(e,t,r,i,o){super(),this.outletElement=e,this._appRef=r,this._defaultInjector=i,this._document=o}attachComponentPortal(e){let t;if(e.viewContainerRef){let r=e.injector||e.viewContainerRef.injector,i=r.get(Ti,null,{optional:!0})||void 0;t=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:r,ngModuleRef:i,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{let r=this._appRef,i=e.injector||this._defaultInjector||Le.NULL,o=i.get(dt,r.injector);t=rp(e.component,{elementInjector:i,environmentInjector:o,projectableNodes:e.projectableNodes||void 0}),r.attachView(t.hostView),this.setDisposeFn(()=>{r.viewCount>0&&r.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);i!==-1&&t.remove(i)}),this._attachedPortal=e,r}attachDomPortal=e=>{let t=e.element;t.parentNode;let r=this._document.createComment("dom-portal");t.parentNode.insertBefore(r,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(t,r)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var vv=(()=>{class n extends ra{_moduleRef=I(Ti,{optional:!0});_document=I(Ie);_viewContainerRef=I(tr);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}attached=new Xe;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let r=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,i=r.createComponent(t.component,{index:r.length,injector:t.injector||r.injector,projectableNodes:t.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return r!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachDomPortal=t=>{let r=t.element;r.parentNode;let i=this._document.createComment("dom-portal");t.setAttachedHost(this),r.parentNode.insertBefore(i,r),this._getRootNode().appendChild(r),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(r,i)})};_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[qe]})}return n})();var yF={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var nK=20,bF=(()=>{class n{_ngZone=I(ce);_platform=I(Yt);_renderer=I(Xt).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new fe;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=nK){return this._platform.isBrowser?new me(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=t>0?this._scrolled.pipe(Yh(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):X()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){let i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(pt(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){let r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_scrollableContainsElement(t,r){let i=pi(r),o=t.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var rK=20,iT=(()=>{class n{_platform=I(Yt);_listeners;_viewportSize;_change=new fe;_document=I(Ie,{optional:!0});constructor(){let t=I(ce),r=I(Xt).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect(),s=-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,a=-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:s,left:a}}change(t=rK){return t>0?this._change.pipe(Yh(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var wF=sF(),_v=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,t){this._viewportRuler=e,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Tt(-this._previousScrollPosition.left),e.style.top=Tt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,r=e.style,i=t.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),wF&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),wF&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.documentElement,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}};var yv=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(pt(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},Ld=class{enable(){}disable(){}attach(){}};function oT(n,e){return e.some(t=>{let r=n.bottom<t.top,i=n.top>t.bottom,o=n.right<t.left,s=n.left>t.right;return r||i||o||s})}function EF(n,e){return e.some(t=>{let r=n.top<t.top,i=n.bottom>t.bottom,o=n.left<t.left,s=n.right>t.right;return r||i||o||s})}var bv=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();oT(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},AF=(()=>{class n{_scrollDispatcher=I(bF);_viewportRuler=I(iT);_ngZone=I(ce);_document=I(Ie);constructor(){}noop=()=>new Ld;close=t=>new yv(this._scrollDispatcher,this._ngZone,this._viewportRuler,t);block=()=>new _v(this._viewportRuler,this._document);reposition=t=>new bv(this._scrollDispatcher,this._viewportRuler,this._ngZone,t);static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zc=class{positionStrategy;scrollStrategy=new Ld;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(e){if(e){let t=Object.keys(e);for(let r of t)e[r]!==void 0&&(this[r]=e[r])}}};var wv=class{connectionPair;scrollableViewProperties;constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var xF=(()=>{class n{_attachedOverlays=[];_document=I(Ie);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MF=(()=>{class n extends xF{_ngZone=I(ce);_renderer=I(Xt).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=t=>{let r=this._attachedOverlays;for(let i=r.length-1;i>-1;i--)if(r[i]._keydownEvents.observers.length>0){this._ngZone.run(()=>r[i]._keydownEvents.next(t));break}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=yt(n)))(i||n)}})();static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PF=(()=>{class n extends xF{_platform=I(Yt);_ngZone=I(ce);_renderer=I(Xt).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(t){if(super.add(t),!this._isAttached){let r=this._document.body,i={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[hr(this._renderer,r,"pointerdown",this._pointerDownListener,i),hr(this._renderer,r,"click",this._clickListener,i),hr(this._renderer,r,"auxclick",this._clickListener,i),hr(this._renderer,r,"contextmenu",this._clickListener,i)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=t=>{this._pointerDownEventTarget=jn(t)};_clickListener=t=>{let r=jn(t),i=t.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:r;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(CF(a.overlayElement,r)||CF(a.overlayElement,i))break;let c=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>c.next(t)):c.next(t)}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=yt(n)))(i||n)}})();static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function CF(n,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,r=e;for(;r;){if(r===n)return!0;r=t&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}var RF=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Re({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return n})(),OF=(()=>{class n{_platform=I(Yt);_containerElement;_document=I(Ie);_styleLoader=I(Lo);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||JI()){let i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}let r=this._document.createElement("div");r.classList.add(t),JI()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}_loadStyles(){this._styleLoader.load(RF)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sT=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,t,r,i){this._renderer=t,this._ngZone=r,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",i)}detach(){this._ngZone.runOutsideAngular(()=>{let e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},Ev=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new fe;_attachments=new fe;_detachments=new fe;_positionStrategy;_scrollStrategy;_locationChanges=rt.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new fe;_outsidePointerEvents=new fe;_renders=new fe;_afterRenderRef;_afterNextRenderRef;constructor(e,t,r,i,o,s,a,c,u,d=!1,p,v){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=u,this._animationsDisabled=d,this._injector=p,this._renderer=v,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy,this._afterRenderRef=wn(()=>zl(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=gs(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=L(L({},this._config),e),this._updateElementSize()}setDirection(e){this._config=ne(L({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Tt(this._config.width),e.height=Tt(this._config.height),e.minWidth=Tt(this._config.minWidth),e.minHeight=Tt(this._config.minHeight),e.maxWidth=Tt(this._config.maxWidth),e.maxHeight=Tt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new sT(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,t,r){let i=$c(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(Zn(W_(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e?.disable(),e?.detach?.()}},IF="cdk-overlay-connected-position-bounding-box",iK=/([A-Za-z%]+)$/,Cv=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new fe;_resizeSubscription=rt.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(IF),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[],s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,i,a),u=this._getOverlayPoint(c,t,a),d=this._getOverlayFit(u,t,r,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(d,u,r)){o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:u,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(let u of o){let d=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);d>c&&(c=d,a=u)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ia(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(IF),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i;if(r.originX=="center")i=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i=r.originX=="start"?s:a}t.left<0&&(i-=t.left);let o;return r.originY=="center"?o=e.top+e.height/2:o=r.originY=="top"?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i;r.overlayX=="center"?i=-t.width/2:r.overlayX==="start"?i=this._isRtl()?-t.width:0:i=this._isRtl()?0:-t.width;let o;return r.overlayY=="center"?o=-t.height/2:o=r.overlayY=="top"?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){let o=DF(t),{x:s,y:a}=e,c=this._getOffset(i,"x"),u=this._getOffset(i,"y");c&&(s+=c),u&&(a+=u);let d=0-s,p=s+o.width-r.width,v=0-a,_=a+o.height-r.height,S=this._subtractOverflows(o.width,d,p),R=this._subtractOverflows(o.height,v,_),k=S*R;return{visibleArea:k,isCompletelyWithinViewport:o.width*o.height===k,fitsInViewportVertically:R===o.height,fitsInViewportHorizontally:S==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){let i=r.bottom-t.y,o=r.right-t.x,s=TF(this._overlayRef.getConfig().minHeight),a=TF(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportVertically||s!=null&&s<=i,u=e.fitsInViewportHorizontally||a!=null&&a<=o;return c&&u}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let i=DF(t),o=this._viewportRect,s=Math.max(e.x+i.width-o.width,0),a=Math.max(e.y+i.height-o.height,0),c=Math.max(o.top-r.top-e.y,0),u=Math.max(o.left-r.left-e.x,0),d=0,p=0;return i.width<=o.width?d=u||-s:d=e.x<this._viewportMargin?o.left-r.left-e.x:0,i.height<=o.height?p=c||-a:p=e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:d,y:p},{x:e.x+d,y:e.y+p}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!oK(this._lastScrollVisibility,r)){let i=new wv(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=e.overlayY;e.overlayX==="center"?r="center":this._isRtl()?r=e.overlayX==="start"?"right":"left":r=e.overlayX==="start"?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){let r=this._viewportRect,i=this._isRtl(),o,s,a;if(t.overlayY==="top")s=e.y,o=r.height-s+this._viewportMargin;else if(t.overlayY==="bottom")a=r.height-e.y+this._viewportMargin*2,o=r.height-a+this._viewportMargin;else{let _=Math.min(r.bottom-e.y+r.top,e.y),S=this._lastBoundingBoxSize.height;o=_*2,s=e.y-_,o>S&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-S/2)}let c=t.overlayX==="start"&&!i||t.overlayX==="end"&&i,u=t.overlayX==="end"&&!i||t.overlayX==="start"&&i,d,p,v;if(u)v=r.width-e.x+this._viewportMargin*2,d=e.x-this._viewportMargin;else if(c)p=e.x,d=r.right-e.x;else{let _=Math.min(r.right-e.x+r.left,e.x),S=this._lastBoundingBoxSize.width;d=_*2,p=e.x-_,d>S&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-S/2)}return{top:s,left:p,bottom:a,right:v,width:d,height:o}}_setBoundingBoxStyles(e,t){let r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=Tt(r.height),i.top=Tt(r.top),i.bottom=Tt(r.bottom),i.width=Tt(r.width),i.left=Tt(r.left),i.right=Tt(r.right),t.overlayX==="center"?i.alignItems="center":i.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?i.justifyContent="center":i.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",o&&(i.maxHeight=Tt(o)),s&&(i.maxWidth=Tt(s))}this._lastBoundingBoxSize=r,ia(this._boundingBox.style,i)}_resetBoundingBoxStyles(){ia(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ia(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){let d=this._viewportRuler.getViewportScrollPosition();ia(r,this._getExactOverlayY(t,e,d)),ia(r,this._getExactOverlayX(t,e,d))}else r.position="static";let a="",c=this._getOffset(t,"x"),u=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),u&&(a+=`translateY(${u}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=Tt(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=Tt(s.maxWidth):o&&(r.maxWidth="")),ia(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;i.bottom=`${s-(o.y+this._overlayRect.height)}px`}else i.top=Tt(o.y);return i}_getExactOverlayX(e,t,r){let i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;i.right=`${a-(o.x+this._overlayRect.width)}px`}else i.left=Tt(o.x);return i}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:EF(e,r),isOriginOutsideView:oT(e,r),isOverlayClipped:EF(t,r),isOverlayOutsideView:oT(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&$c(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof et)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}};function ia(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function TF(n){if(typeof n!="number"&&n!=null){let[e,t]=n.split(iK);return!t||t==="px"?parseFloat(e):null}return n||null}function DF(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function oK(n,e){return n===e?!0:n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}var SF="cdk-global-overlay-wrapper",Iv=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(SF),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,c=(i==="100%"||i==="100vw")&&(!s||s==="100%"||s==="100vw"),u=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,p=this._xOffset,v=this._overlayRef.getConfig().direction==="rtl",_="",S="",R="";c?R="flex-start":d==="center"?(R="center",v?S=p:_=p):v?d==="left"||d==="end"?(R="flex-end",_=p):(d==="right"||d==="start")&&(R="flex-start",S=p):d==="left"||d==="start"?(R="flex-start",_=p):(d==="right"||d==="end")&&(R="flex-end",S=p),e.position=this._cssPosition,e.marginLeft=c?"0":_,e.marginTop=u?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":S,t.justifyContent=R,t.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(SF),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},kF=(()=>{class n{_viewportRuler=I(iT);_document=I(Ie);_platform=I(Yt);_overlayContainer=I(OF);constructor(){}global(){return new Iv}flexibleConnectedTo(t){return new Cv(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),aT=(()=>{class n{scrollStrategies=I(AF);_overlayContainer=I(OF);_positionBuilder=I(kF);_keyboardDispatcher=I(MF);_injector=I(Le);_ngZone=I(ce);_document=I(Ie);_directionality=I(gF);_location=I(Wr);_outsideClickDispatcher=I(PF);_animationsModuleType=I(Ri,{optional:!0});_idGenerator=I(kd);_renderer=I(Xt).createRenderer(null,null);_appRef;_styleLoader=I(Lo);constructor(){}create(t){this._styleLoader.load(RF);let r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),s=new zc(t);return s.direction=s.direction||this._directionality.value,new Ev(o,r,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(dt),this._renderer)}position(){return this._positionBuilder}_createPaneElement(t){let r=this._document.createElement("div");return r.id=this._idGenerator.getId("cdk-overlay-"),r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){let t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(wr)),new Fd(t,null,this._appRef,this._injector,this._document)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function aK(n,e){if(n&1){let t=Pe();g(0,"div",1)(1,"button",2),z("click",function(){J(t);let i=B();return ee(i.action())}),b(2),m()()}if(n&2){let t=B();E(2),ie(" ",t.data.action," ")}}var cK=["label"];function lK(n,e){}var uK=Math.pow(2,31)-1,Vd=class{_overlayRef;instance;containerInstance;_afterDismissed=new fe;_afterOpened=new fe;_onAction=new fe;_durationTimeoutId;_dismissedByAction=!1;constructor(e,t){this._overlayRef=t,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,uK))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},NF=new H("MatSnackBarData"),qc=class{politeness="assertive";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},dK=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return n})(),hK=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return n})(),fK=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return n})(),pK=(()=>{class n{snackBarRef=I(Vd);data=I(NF);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Re({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(r,i){r&1&&(g(0,"div",0),b(1),m(),W(2,aK,3,1,"div",1)),r&2&&(E(),ie(" ",i.data.message,`
`),E(),IM(i.hasAction?2:-1))},dependencies:[vF,dK,hK,fK],styles:[`.mat-mdc-simple-snack-bar{display:flex}
`],encapsulation:2,changeDetection:0})}return n})(),cT="_mat-snack-bar-enter",lT="_mat-snack-bar-exit",mK=(()=>{class n extends ra{_ngZone=I(ce);_elementRef=I(et);_changeDetectorRef=I(Cr);_platform=I(Yt);_rendersRef;_animationsDisabled=I(Ri,{optional:!0})==="NoopAnimations";snackBarConfig=I(qc);_document=I(Ie);_trackedModals=new Set;_enterFallback;_exitFallback;_renders=new fe;_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new fe;_onExit=new fe;_onEnter=new fe;_animationState="void";_live;_label;_role;_liveElementId=I(kd).getId("mat-snack-bar-container-live-");constructor(){super();let t=this.snackBarConfig;t.politeness==="assertive"&&!t.announcementMessage?this._live="assertive":t.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert")),this._rendersRef=zl(()=>this._renders.next(),{manualCleanup:!0})}attachComponentPortal(t){this._assertNotAttached();let r=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),r}attachTemplatePortal(t){this._assertNotAttached();let r=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),r}attachDomPortal=t=>{this._assertNotAttached();let r=this._portalOutlet.attachDomPortal(t);return this._afterPortalAttached(),r};onAnimationEnd(t){t===lT?this._completeExit():t===cT&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?this._renders.pipe(mt(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(cT)))}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(cT)},200)))}exit(){return this._destroyed?X(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?this._renders.pipe(mt(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(lT)))}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(lT),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit(),this._renders.complete(),this._rendersRef.destroy()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let t=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(s=>t.classList.add(s)):t.classList.add(r)),this._exposeToModals();let i=this._label.nativeElement,o="mdc-snackbar__label";i.classList.toggle(o,!i.querySelector(`.${o}`))}_exposeToModals(){let t=this._liveElementId,r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){let o=r[i],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?s.indexOf(t)===-1&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{let r=t.getAttribute("aria-owns");if(r){let i=r.replace(this._liveElementId,"").trim();i.length>0?t.setAttribute("aria-owns",i):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let t=this._elementRef.nativeElement,r=t.querySelector("[aria-hidden]"),i=t.querySelector("[aria-live]");if(r&&i){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&r.contains(document.activeElement)&&(o=document.activeElement),r.removeAttribute("aria-hidden"),i.appendChild(r),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Re({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(r,i){if(r&1&&(tp(vv,7),tp(cK,7)),r&2){let o;Kl(o=Yl())&&(i._portalOutlet=o.first),Kl(o=Yl())&&(i._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(r,i){r&1&&z("animationend",function(s){return i.onAnimationEnd(s.animationName)})("animationcancel",function(s){return i.onAnimationEnd(s.animationName)}),r&2&&Ye("mat-snack-bar-container-enter",i._animationState==="visible")("mat-snack-bar-container-exit",i._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!i._animationsDisabled)},features:[qe],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(r,i){r&1&&(g(0,"div",1)(1,"div",2,0)(3,"div",3),W(4,lK,0,0,"ng-template",4),m(),oe(5,"div"),m()()),r&2&&(E(5),$n("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[vv],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return n})();function gK(){return new qc}var vK=new H("mat-snack-bar-default-options",{providedIn:"root",factory:gK}),FF=(()=>{class n{_overlay=I(aT);_live=I(ZI);_injector=I(Le);_breakpointObserver=I(QI);_parentSnackBar=I(n,{optional:!0,skipSelf:!0});_defaultConfig=I(vK);_snackBarRefAtThisLevel=null;simpleSnackBarComponent=pK;snackBarContainerComponent=mK;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(){}openFromComponent(t,r){return this._attach(t,r)}openFromTemplate(t,r){return this._attach(t,r)}open(t,r="",i){let o=L(L({},this._defaultConfig),i);return o.data={message:t,action:r},o.announcementMessage===t&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,r){let i=r&&r.viewContainerRef&&r.viewContainerRef.injector,o=Le.create({parent:i||this._injector,providers:[{provide:qc,useValue:r}]}),s=new ta(this.snackBarContainerComponent,r.viewContainerRef,o),a=t.attach(s);return a.instance.snackBarConfig=r,a.instance}_attach(t,r){let i=L(L(L({},new qc),this._defaultConfig),r),o=this._createOverlay(i),s=this._attachSnackBarContainer(o,i),a=new Vd(s,o);if(t instanceof er){let c=new na(t,null,{$implicit:i.data,snackBarRef:a});a.instance=s.attachTemplatePortal(c)}else{let c=this._createInjector(i,a),u=new ta(t,void 0,c),d=s.attachComponentPortal(u);a.instance=d.instance}return this._breakpointObserver.observe(yF.HandsetPortrait).pipe(Zn(o.detachments())).subscribe(c=>{o.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),i.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(a,i),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(t,r){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),r.duration&&r.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(r.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter()}_createOverlay(t){let r=new zc;r.direction=t.direction;let i=this._overlay.position().global(),o=t.direction==="rtl",s=t.horizontalPosition==="left"||t.horizontalPosition==="start"&&!o||t.horizontalPosition==="end"&&o,a=!s&&t.horizontalPosition!=="center";return s?i.left("0"):a?i.right("0"):i.centerHorizontally(),t.verticalPosition==="top"?i.top("0"):i.bottom("0"),r.positionStrategy=i,this._overlay.create(r)}_createInjector(t,r){let i=t&&t.viewContainerRef&&t.viewContainerRef.injector;return Le.create({parent:i||this._injector,providers:[{provide:Vd,useValue:r},{provide:NF,useValue:t.data}]})}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yK(n,e){if(n&1&&(g(0,"div",11),b(1),m()),n&2){let t=B();E(),re(t.successMessage)}}function bK(n,e){if(n&1&&(g(0,"div",12),b(1),m()),n&2){let t=B();E(),re(t.errorMessage)}}function wK(n,e){n&1&&(g(0,"small"),b(1,"El correo es obligatorio."),m())}function EK(n,e){n&1&&(g(0,"small"),b(1,"Correo no v\xE1lido."),m())}function CK(n,e){if(n&1&&(g(0,"div",13),W(1,wK,2,0,"small",14)(2,EK,2,0,"small",14),m()),n&2){B();let t=Ha(11);E(),F("ngIf",t.errors==null?null:t.errors.required),E(),F("ngIf",t.errors==null?null:t.errors.email)}}var Tv=class n{constructor(e,t){this.authService=e;this.snackBar=t}email="";isLoading=!1;successMessage="";errorMessage="";onSubmit(){this.successMessage="",this.errorMessage="",this.isLoading=!0,this.authService.sendPasswordResetEmail(this.email).then(()=>{this.successMessage="Correo de recuperaci\xF3n enviado. Revisa tu bandeja de entrada.",this.email=""}).catch(e=>{e.code==="auth/invalid-email"?this.errorMessage="El correo ingresado no es v\xE1lido.":e.code==="auth/user-not-found"?this.errorMessage="No hay usuario registrado con ese correo.":this.errorMessage="Ocurri\xF3 un error. Intenta de nuevo."}).finally(()=>{this.isLoading=!1})}static \u0275fac=function(t){return new(t||n)(j(Be),j(FF))};static \u0275cmp=Re({type:n,selectors:[["app-forgot-password"]],decls:15,vars:6,consts:[["form","ngForm"],["emailInput","ngModel"],[1,"forgot-password-container"],["class","alert alert-success",4,"ngIf"],["class","alert alert-error",4,"ngIf"],["novalidate","",3,"ngSubmit"],[1,"form-group"],["for","email"],["id","email","type","email","name","email","required","","email","","placeholder","ejemplo@gmail.com",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["type","submit",3,"disabled"],[1,"alert","alert-success"],[1,"alert","alert-error"],[1,"error"],[4,"ngIf"]],template:function(t,r){if(t&1){let i=Pe();g(0,"div",2)(1,"h2"),b(2,"Recuperar Contrase\xF1a"),m(),W(3,yK,2,1,"div",3)(4,bK,2,1,"div",4),g(5,"form",5,0),z("ngSubmit",function(){return J(i),ee(r.onSubmit())}),g(7,"div",6)(8,"label",7),b(9,"Correo Electr\xF3nico"),m(),g(10,"input",8,1),nt("ngModelChange",function(s){return J(i),ot(r.email,s)||(r.email=s),ee(s)}),m(),W(12,CK,3,2,"div",9),m(),g(13,"button",10),b(14),m()()()}if(t&2){let i=Ha(6),o=Ha(11);E(3),F("ngIf",r.successMessage),E(),F("ngIf",r.errorMessage),E(6),tt("ngModel",r.email),E(2),F("ngIf",o.invalid&&o.touched),E(),F("disabled",i.invalid||r.isLoading),E(),ie(" ",r.isLoading?"Enviando...":"Enviar enlace"," ")}},dependencies:[Nn,lr,Mt,zt,cr,Li,Cw,Cn,Fi,ht,vt],styles:["body[_ngcontent-%COMP%]{background:#f0fdf4;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.forgot-password-container[_ngcontent-%COMP%]{max-width:400px;margin:4rem auto;padding:2rem;background-color:#fff;border-radius:12px;box-shadow:0 4px 12px #0000001a;text-align:center}h2[_ngcontent-%COMP%]{color:#2f855a;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]{text-align:left}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#2d3748;font-weight:600}input[type=email][_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #cbd5e0;border-radius:8px;font-size:1rem;outline:none;transition:border .3s}input[type=email][_ngcontent-%COMP%]:focus{border-color:#38a169}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:.75rem;margin-top:1rem;background-color:#38a169;color:#fff;border:none;border-radius:8px;font-size:1rem;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2f855a}button[disabled][_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}.back-to-login[_ngcontent-%COMP%]{margin-top:1rem}.back-to-login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#2b6cb0;text-decoration:none}.back-to-login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.alert[_ngcontent-%COMP%]{padding:1rem;border-radius:6px;margin-bottom:1rem;font-weight:500}.alert-success[_ngcontent-%COMP%]{background-color:#f0fff4;border:1px solid #38a169;color:#276749}.alert-error[_ngcontent-%COMP%]{background-color:#fff5f5;border:1px solid #e53e3e;color:#c53030}"]})};var LF=[{path:"dashboard",component:ev},{path:"project/:id",component:cv},{path:"admin",component:nv,canActivate:[Fo,sv]},{path:"user-profile",component:iv,canActivate:[Fo]},{path:"login",component:Jg},{path:"register",component:av},{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"project-creation",component:lv,canActivate:[Fo,ov]},{path:"project-analytics/:id",component:uv,canActivate:[Fo]},{path:"project-edit/:id",component:dv,canActivate:[Fo]},{path:"forgot-password",component:Tv},{path:"**",redirectTo:"/dashboard"}];var VF=(n,e)=>{let t=I(Be),r=I(Ae),i=t.getToken();return i&&(n=n.clone({setHeaders:{Authorization:`Bearer ${i}`}})),e(n).pipe(Ge(o=>(o.status===401&&(t.logout(),r.navigate(["/login"])),St(()=>o))))};function uT(n){n===void 0&&(Vf(uT),n=I(Le));let e=n.get(Wf);return t=>new me(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Gc=new ds("ANGULARFIRE2_VERSION");function dT(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Sv=(n,e)=>{let t=e?[e]:Mm(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Wc=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Wc||{}),jF=a0()&&typeof Zone<"u"?Wc.WARN:Wc.SILENT;var Dv=class{zone;delegate;constructor(e,t=$_){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Kc=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=I(ce);this.outsideAngular=t.runOutsideAngular(()=>new Dv(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Dv(typeof Zone>"u"?void 0:Zone.current,so))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),BF=!1;function IK(n,e){!BF&&(jF>Wc.SILENT||a0())&&(BF=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),jF>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function TK(n){let e=I(ce,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function oa(n){let e=I(ce,{optional:!0});return e?e.run(()=>n()):n()}var DK=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Ut(t,()=>oa(()=>n.apply(void 0,r)))),jd=(n,e,t)=>(t||=e?Wc.WARN:Wc.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=I(Kc),s=I(Wf),a=I(dt)}catch{return IK(n,t),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=oa(()=>s.add())),i[u]=DK(i[u],r,a));let c=TK(()=>n.apply(this,i));return e?c instanceof me?c.pipe(co(o.outsideAngular),ao(o.insideAngular),uT(a)):c instanceof Promise?oa(()=>new Promise((u,d)=>{s.run(()=>c).then(p=>Ut(a,()=>oa(()=>u(p))),p=>Ut(a,()=>oa(()=>d(p))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:oa(()=>c):c instanceof me?c.pipe(co(o.outsideAngular),ao(o.insideAngular)):oa(()=>c)});var sa=class{constructor(e){return e}},Bd=class{constructor(){return Mm()}};function SK(n){return n&&n.length===1?n[0]:new sa(Ls())}var hT=new H("angularfire2._apps"),AK={provide:sa,useFactory:SK,deps:[[new Di,hT]]},xK={provide:Bd,deps:[[new Di,hT]]};function MK(n){return(e,t)=>{let r=t.get(qr);Pt("angularfire",Gc.full,"core"),Pt("angularfire",Gc.full,"app"),Pt("angular",Ql.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new sa(i)}}function UF(n,...e){return Si([AK,xK,{provide:hT,useFactory:MK(n),multi:!0,deps:[ce,Le,Kc,...e]}])}var $F=jd(Qu,!0);var PK=new Map,RK={activated:!1,tokenObservers:[]},OK={initialized:!1,enabled:!1};function kr(n){return PK.get(n)||Object.assign({},RK)}function WF(){return OK}var kK="https://content-firebaseappcheck.googleapis.com/v1";var NK="exchangeDebugToken",HF={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},tme=24*60*60*1e3;var mT=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return w(this,null,function*(){this.stop();try{this.pending=new ks,this.pending.promise.catch(t=>{}),yield FK(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ks,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function FK(n){return new Promise(e=>{setTimeout(e,n)})}var LK={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Vo=new Ar("appCheck","AppCheck",LK);function GF(n){if(!kr(n).activated)throw Vo.create("use-before-activation",{appName:n.name})}function KF(r,i){return w(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let _=yield s.getHeartbeatsHeader();_&&(o["X-Firebase-Client"]=_)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(_){throw Vo.create("fetch-network-error",{originalErrorMessage:_?.message})}if(c.status!==200)throw Vo.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(_){throw Vo.create("fetch-parse-error",{originalErrorMessage:_?.message})}let d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw Vo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let p=Number(d[1])*1e3,v=Date.now();return{token:u.token,expireTimeMillis:v+p,issuedAtTimeMillis:v}})}function YF(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${kK}/projects/${t}/apps/${r}:${NK}?key=${i}`,body:{debug_token:e}}}var VK="firebase-app-check-database",jK=1,gT="firebase-app-check-store";var Av=null;function BK(){return Av||(Av=new Promise((n,e)=>{try{let t=indexedDB.open(VK,jK);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Vo.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(gT,{keyPath:"compositeKey"})}}}catch(t){e(Vo.create("storage-open",{originalErrorMessage:t?.message}))}}),Av)}function UK(n,e){return $K(HK(n),e)}function $K(n,e){return w(this,null,function*(){let r=(yield BK()).transaction(gT,"readwrite"),o=r.objectStore(gT).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(Vo.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function HK(n){return`${n.options.appId}-${n.name}`}var Ud=new ti("@firebase/app-check");function fT(n,e){return Wu()?UK(n,e).catch(t=>{Ud.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function QF(){return WF().enabled}function ZF(){return w(this,null,function*(){let n=WF();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var zK={error:"UNKNOWN_ERROR"};function qK(n){return Cm.encodeString(JSON.stringify(n),!1)}function vT(n,e=!1,t=!1){return w(this,null,function*(){let r=n.app;GF(r);let i=kr(r),o=i.token,s;if(o&&!$d(o)&&(i.token=void 0,o=void 0),!o){let u=yield i.cachedTokenPromise;u&&($d(u)?o=u:yield fT(r,void 0))}if(!e&&o&&$d(o))return{token:o.token};let a=!1;if(QF())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=KF(YF(r,yield ZF()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield fT(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Ud.warn(u.message):t&&Ud.error(u),pT(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield kr(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Ud.warn(u.message):t&&Ud.error(u),s=u}let c;return o?s?$d(o)?c={token:o.token,internalError:s}:c=pT(s):(c={token:o.token},i.token=o,yield fT(r,o)):c=pT(s),a&&YK(r,c),c})}function WK(n){return w(this,null,function*(){let e=n.app;GF(e);let{provider:t}=kr(e);if(QF()){let r=yield ZF(),{token:i}=yield KF(YF(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function GK(n,e,t,r){let{app:i}=n,o=kr(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&$d(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),zF(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>zF(n))}function XF(n,e){let t=kr(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function zF(n){let{app:e}=n,t=kr(e),r=t.tokenRefresher;r||(r=KK(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function KK(n){let{app:e}=n;return new mT(()=>w(null,null,function*(){let t=kr(e),r;if(t.token?r=yield vT(n,!0):r=yield vT(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=kr(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},HF.RETRIAL_MIN_WAIT,HF.RETRIAL_MAX_WAIT)}function YK(n,e){let t=kr(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function $d(n){return n.expireTimeMillis-Date.now()>0}function pT(n){return{token:qK(zK),error:n}}var _T=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=kr(this.app);for(let t of e)XF(this.app,t.next);return Promise.resolve()}};function QK(n,e){return new _T(n,e)}function ZK(n){return{getToken:e=>vT(n,e),getLimitedUseToken:()=>WK(n),addTokenListener:e=>GK(n,"INTERNAL",e),removeTokenListener:e=>XF(n.app,e)}}var XK="@firebase/app-check",JK="0.10.0";var eY="app-check",qF="app-check-internal";function tY(){xr(new In(eY,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return QK(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(qF).initialize()})),xr(new In(qF,n=>{let e=n.getProvider("app-check").getImmediate();return ZK(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Pt(XK,JK)}tY();var nY="app-check";var xv=class{constructor(){return Sv(nY)}};var rY=["localhost","0.0.0.0","127.0.0.1"],pme=typeof window<"u"&&rY.includes(window.location.hostname);var JF="auth",Hd=class{constructor(e){return e}},yT=class{constructor(){return Sv(JF)}};var bT=new H("angularfire2.auth-instances");function iY(n,e){let t=dT(JF,n,e);return t&&new Hd(t)}function oY(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Hd(r)}}var sY={provide:yT,deps:[[new Di,bT]]},aY={provide:Hd,useFactory:iY,deps:[[new Di,bT],sa]};function eL(n,...e){return Pt("angularfire",Gc.full,"auth"),Si([aY,sY,{provide:bT,useFactory:oY(n),multi:!0,deps:[ce,Le,Kc,Bd,[new Di,xv],...e]}])}var tL=jd(Pr,!0);var nL={providers:[cw(LF,om(),uw()),O0(k0([VF])),UF(()=>$F(fi.firebaseConfig)),eL(()=>tL())]};var Mv=class n{transform(e){return e&&(e?.name||e?.email?.split("@")[0])||"Usuario"}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=vs({name:"userDisplay",type:n,pure:!0})};var Nr=Object.create(null);Nr.open="0";Nr.close="1";Nr.ping="2";Nr.pong="3";Nr.message="4";Nr.upgrade="5";Nr.noop="6";var zd=Object.create(null);Object.keys(Nr).forEach(n=>{zd[Nr[n]]=n});var qd={type:"error",data:"parser error"};var oL=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",sL=typeof ArrayBuffer=="function",aL=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,Wd=({type:n,data:e},t,r)=>oL&&e instanceof Blob?t?r(e):rL(e,r):sL&&(e instanceof ArrayBuffer||aL(e))?t?r(e):rL(new Blob([e]),r):r(Nr[n]+(e||"")),rL=(n,e)=>{let t=new FileReader;return t.onload=function(){let r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)};function iL(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}var wT;function cL(n,e){if(oL&&n.data instanceof Blob)return n.data.arrayBuffer().then(iL).then(e);if(sL&&(n.data instanceof ArrayBuffer||aL(n.data)))return e(iL(n.data));Wd(n,!1,t=>{wT||(wT=new TextEncoder),e(wT.encode(t))})}var lL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Gd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<lL.length;n++)Gd[lL.charCodeAt(n)]=n;var uL=n=>{let e=n.length*.75,t=n.length,r,i=0,o,s,a,c;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);let u=new ArrayBuffer(e),d=new Uint8Array(u);for(r=0;r<t;r+=4)o=Gd[n.charCodeAt(r)],s=Gd[n.charCodeAt(r+1)],a=Gd[n.charCodeAt(r+2)],c=Gd[n.charCodeAt(r+3)],d[i++]=o<<2|s>>4,d[i++]=(s&15)<<4|a>>2,d[i++]=(a&3)<<6|c&63;return u};var cY=typeof ArrayBuffer=="function",Kd=(n,e)=>{if(typeof n!="string")return{type:"message",data:dL(n,e)};let t=n.charAt(0);return t==="b"?{type:"message",data:lY(n.substring(1),e)}:zd[t]?n.length>1?{type:zd[t],data:n.substring(1)}:{type:zd[t]}:qd},lY=(n,e)=>{if(cY){let t=uL(n);return dL(t,e)}else return{base64:!0,data:n}},dL=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}};var hL="",fL=(n,e)=>{let t=n.length,r=new Array(t),i=0;n.forEach((o,s)=>{Wd(o,!1,a=>{r[s]=a,++i===t&&e(r.join(hL))})})},pL=(n,e)=>{let t=n.split(hL),r=[];for(let i=0;i<t.length;i++){let o=Kd(t[i],e);if(r.push(o),o.type==="error")break}return r};function mL(){return new TransformStream({transform(n,e){cL(n,t=>{let r=t.length,i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);let o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);let o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}n.data&&typeof n.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}var ET;function Pv(n){return n.reduce((e,t)=>e+t.length,0)}function Rv(n,e){if(n[0].length===e)return n.shift();let t=new Uint8Array(e),r=0;for(let i=0;i<e;i++)t[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),t}function gL(n,e){ET||(ET=new TextDecoder);let t=[],r=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(t.push(s);;){if(r===0){if(Pv(t)<1)break;let c=Rv(t,1);o=(c[0]&128)===128,i=c[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Pv(t)<2)break;let c=Rv(t,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(Pv(t)<8)break;let c=Rv(t,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){a.enqueue(qd);break}i=d*Math.pow(2,32)+u.getUint32(4),r=3}else{if(Pv(t)<i)break;let c=Rv(t,i);a.enqueue(Kd(o?c:ET.decode(c),e)),r=0}if(i===0||i>n){a.enqueue(qd);break}}}})}var CT=4;function ct(n){if(n)return uY(n)}function uY(n){for(var e in ct.prototype)n[e]=ct.prototype[e];return n}ct.prototype.on=ct.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};ct.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};ct.prototype.off=ct.prototype.removeListener=ct.prototype.removeAllListeners=ct.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if(r=t[i],r===e||r.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+n],this};ct.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,i=t.length;r<i;++r)t[r].apply(this,e)}return this};ct.prototype.emitReserved=ct.prototype.emit;ct.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};ct.prototype.hasListeners=function(n){return!!this.listeners(n).length};var Xi=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Tn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),vL="arraybuffer";function Ov(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}var dY=Tn.setTimeout,hY=Tn.clearTimeout;function Ji(n,e){e.useNativeTimers?(n.setTimeoutFn=dY.bind(Tn),n.clearTimeoutFn=hY.bind(Tn)):(n.setTimeoutFn=Tn.setTimeout.bind(Tn),n.clearTimeoutFn=Tn.clearTimeout.bind(Tn))}var fY=1.33;function _L(n){return typeof n=="string"?pY(n):Math.ceil((n.byteLength||n.size)*fY)}function pY(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}function kv(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function yL(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function bL(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let o=t[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}var Nv=class extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}},eo=class extends ct{constructor(e){super(),this.writable=!1,Ji(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new Nv(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=Kd(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let t=yL(e);return t.length?"?"+t:""}};var Yd=class extends eo{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};pL(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,fL(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=kv()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}};var wL=!1;try{wL=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var EL=wL;function mY(){}var IT=class extends Yd{constructor(e){if(super(e),typeof location<"u"){let t=location.protocol==="https:",r=location.port;r||(r=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){let r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}},Fv=(()=>{class n extends ct{constructor(t,r,i){super(),this.createRequest=t,Ji(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var t;let r=Ov(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;let i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=n.requestsCount++,n.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=mY,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this._index],this._xhr=null}}_onLoad(){let t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return n.requestsCount=0,n.requests={},n})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",CL);else if(typeof addEventListener=="function"){let n="onpagehide"in Tn?"pagehide":"unload";addEventListener(n,CL,!1)}}function CL(){for(let n in Fv.requests)Fv.requests.hasOwnProperty(n)&&Fv.requests[n].abort()}var gY=function(){let n=IL({xdomain:!1});return n&&n.responseType!==null}(),jo=class extends IT{constructor(e){super(e);let t=e&&e.forceBase64;this.supportsBinary=gY&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Fv(IL,this.uri(),e)}};function IL(n){let e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||EL))return new XMLHttpRequest}catch{}if(!e)try{return new Tn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var TL=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",DT=class extends eo{get name(){return"websocket"}doOpen(){let e=this.uri(),t=this.opts.protocols,r=TL?{}:Ov(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;Wd(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}i&&Xi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=kv()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}},TT=Tn.WebSocket||Tn.MozWebSocket,Bo=class extends DT{createSocket(e,t,r){return TL?new TT(e,t,r):t?new TT(e,t):new TT(e)}doWrite(e,t){this.ws.send(t)}};var Yc=class extends eo{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let t=gL(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),i=mL();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();let o=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),o())}).catch(a=>{})};o();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;this._writer.write(r).then(()=>{i&&Xi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}};var ST={websocket:Bo,webtransport:Yc,polling:jo};var vY=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,_Y=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Qc(n){if(n.length>8e3)throw"URI too long";let e=n,t=n.indexOf("["),r=n.indexOf("]");t!=-1&&r!=-1&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=vY.exec(n||""),o={},s=14;for(;s--;)o[_Y[s]]=i[s]||"";return t!=-1&&r!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=yY(o,o.path),o.queryKey=bY(o,o.query),o}function yY(n,e){let t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function bY(n,e){let t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(t[i]=o)}),t}var AT=typeof addEventListener=="function"&&typeof removeEventListener=="function",Lv=[];AT&&addEventListener("offline",()=>{Lv.forEach(n=>n())},!1);var Vv=(()=>{class n extends ct{constructor(t,r){if(super(),this.binaryType=vL,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){let i=Qc(t);r.hostname=i.host,r.secure=i.protocol==="https"||i.protocol==="wss",r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=Qc(r.host).host);Ji(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{let o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=bL(this.opts.query)),AT&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Lv.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){let r=Object.assign({},this.opts.query);r.EIO=CT,r.transport=t,this.id&&(r.sid=this.id);let i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let t=this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",n.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){let o=this.writeBuffer[i].data;if(o&&(r+=_L(o)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Xi(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,i){return this._sendPacket("message",t,r,i),this}send(t,r,i){return this._sendPacket("message",t,r,i),this}_sendPacket(t,r,i,o){if(typeof r=="function"&&(o=r,r=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;let s={type:t,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){let t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}_onError(t){if(n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),AT&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let i=Lv.indexOf(this._offlineEventListener);i!==-1&&Lv.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}return n.protocol=CT,n})(),jv=class extends Vv{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;Vv.priorWebsocketSuccess=!1;let i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",p=>{if(!r)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Vv.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{let v=new Error("probe error");v.transport=t.name,this.emitReserved("upgradeError",v)}}))};function o(){r||(r=!0,d(),t.close(),t=null)}let s=p=>{let v=new Error("probe error: "+p);v.transport=t.name,o(),this.emitReserved("upgradeError",v)};function a(){s("transport closed")}function c(){s("socket closed")}function u(p){t&&p.name!==t.name&&o()}let d=()=>{t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",a),this.off("close",c),this.off("upgrading",u)};t.once("open",i),t.once("error",s),t.once("close",a),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}},Zc=class extends jv{constructor(e,t={}){let r=typeof e=="object"?e:t;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>ST[i]).filter(i=>!!i)),super(e,r)}};var jge=Zc.protocol;function DL(n,e="",t){let r=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),r=Qc(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(t&&t.port===r.port?"":":"+r.port),r}var kT={};_V(kT,{Decoder:()=>RT,Encoder:()=>PT,PacketType:()=>Fe,protocol:()=>PL});var EY=typeof ArrayBuffer=="function",CY=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,SL=Object.prototype.toString,IY=typeof Blob=="function"||typeof Blob<"u"&&SL.call(Blob)==="[object BlobConstructor]",TY=typeof File=="function"||typeof File<"u"&&SL.call(File)==="[object FileConstructor]";function Zd(n){return EY&&(n instanceof ArrayBuffer||CY(n))||IY&&n instanceof Blob||TY&&n instanceof File}function Qd(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(Qd(n[t]))return!0;return!1}if(Zd(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return Qd(n.toJSON(),!0);for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&Qd(n[t]))return!0;return!1}function AL(n){let e=[],t=n.data,r=n;return r.data=xT(t,e),r.attachments=e.length,{packet:r,buffers:e}}function xT(n,e){if(!n)return n;if(Zd(n)){let t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){let t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=xT(n[r],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){let t={};for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=xT(n[r],e));return t}return n}function xL(n,e){return n.data=MT(n.data,e),delete n.attachments,n}function MT(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=MT(n[t],e);else if(typeof n=="object")for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=MT(n[t],e));return n}var DY=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],PL=5,Fe=function(n){return n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",n}(Fe||{}),PT=class{constructor(e){this.replacer=e}encode(e){return(e.type===Fe.EVENT||e.type===Fe.ACK)&&Qd(e)?this.encodeAsBinary({type:e.type===Fe.EVENT?Fe.BINARY_EVENT:Fe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===Fe.BINARY_EVENT||e.type===Fe.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){let t=AL(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}};function ML(n){return Object.prototype.toString.call(n)==="[object Object]"}var RT=class n extends ct{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let r=t.type===Fe.BINARY_EVENT;r||t.type===Fe.BINARY_ACK?(t.type=r?Fe.EVENT:Fe.ACK,this.reconstructor=new OT(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(Zd(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0,r={type:Number(e.charAt(0))};if(Fe[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Fe.BINARY_EVENT||r.type===Fe.BINARY_ACK){let o=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let s=e.substring(o,t);if(s!=Number(s)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(e.charAt(t+1)==="/"){let o=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(o,t)}else r.nsp="/";let i=e.charAt(t+1);if(i!==""&&Number(i)==i){let o=t+1;for(;++t;){let s=e.charAt(t);if(s==null||Number(s)!=s){--t;break}if(t===e.length)break}r.id=Number(e.substring(o,t+1))}if(e.charAt(++t)){let o=this.tryParse(e.substr(t));if(n.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case Fe.CONNECT:return ML(t);case Fe.DISCONNECT:return t===void 0;case Fe.CONNECT_ERROR:return typeof t=="string"||ML(t);case Fe.EVENT:case Fe.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&DY.indexOf(t[0])===-1);case Fe.ACK:case Fe.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},OT=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=xL(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function Yn(n,e,t){return n.on(e,t),function(){n.off(e,t)}}var SY=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Xc=class extends ct{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[Yn(e,"open",this.onopen.bind(this)),Yn(e,"packet",this.onpacket.bind(this)),Yn(e,"error",this.onerror.bind(this)),Yn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var r,i,o;if(SY.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let s={type:Fe.EVENT,data:t};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){let d=this.ids++,p=t.pop();this._registerAckCallback(d,p),s.id=d}let a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var r;let i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},i),s=(...a)=>{this.io.clearTimeoutFn(o),t.apply(this,a)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...t){return new Promise((r,i)=>{let o=(s,a)=>s?i(s):r(a);o.withError=!0,t.push(o),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Fe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){let r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Fe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Fe.EVENT:case Fe.BINARY_EVENT:this.onevent(e);break;case Fe.ACK:case Fe.BINARY_ACK:this.onack(e);break;case Fe.DISCONNECT:this.ondisconnect();break;case Fe.CONNECT_ERROR:this.destroy();let r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){let t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,r=!1;return function(...i){r||(r=!0,t.packet({type:Fe.ACK,id:e,data:i}))}}onack(e){let t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Fe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let r of t)r.apply(this,e.data)}}};function aa(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}aa.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=(Math.floor(e*10)&1)==0?n-t:n+t}return Math.min(n,this.max)|0};aa.prototype.reset=function(){this.attempts=0};aa.prototype.setMin=function(n){this.ms=n};aa.prototype.setMax=function(n){this.max=n};aa.prototype.setJitter=function(n){this.jitter=n};var Jc=class extends ct{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,Ji(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new aa({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;let i=t.parser||kT;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Zc(this.uri,this.opts);let t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let i=Yn(t,"open",function(){r.onopen(),e&&e()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},s=Yn(t,"error",o);if(this._timeout!==!1){let a=this._timeout,c=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),t.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(Yn(e,"ping",this.onping.bind(this)),Yn(e,"data",this.ondata.bind(this)),Yn(e,"error",this.onerror.bind(this)),Yn(e,"close",this.onclose.bind(this)),Yn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Xi(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Xc(this,e,t),this.nsps[e]=r),r}_destroy(e){let t=Object.keys(this.nsps);for(let r of t)if(this.nsps[r].active)return;this._close()}_packet(e){let t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};var Xd={};function Jd(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};let t=DL(n,e.path||"/socket.io"),r=t.source,i=t.id,o=t.path,s=Xd[i]&&o in Xd[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||s,c;return a?c=new Jc(r,e):(Xd[i]||(Xd[i]=new Jc(r,e)),c=Xd[i]),t.query&&!e.query&&(e.query=t.queryKey),c.socket(t.path,e)}Object.assign(Jd,{Manager:Jc,Socket:Xc,io:Jd,connect:Jd});var Bv=class n{socket;notificationsSubject=new it([]);notifications$=this.notificationsSubject.asObservable();userId=null;constructor(){this.userId=localStorage.getItem("user_id"),this.socket=Jd("https://cocreandoback.onrender.com",{transports:["websocket"],autoConnect:!0,reconnectionAttempts:3}),this.cleanupSocketListeners(),this.setupBaseListeners(),console.log(this.userId),this.userId&&(this.joinUserRoom(),console.log("Hola"),this.socket.on("confirmacion_join",e=>{console.log("\u{1F514} Unido a la sala:",e.room,"| Socket ID:",e.socket_id,"| Mi user_id:",this.userId)}),console.log("Hola2"),this.socket.on("connect",()=>{console.log("\u{1F7E2} ID de conexi\xF3n actual:",this.socket.id)}),this.socket.on("join_error",e=>{console.error("\u274C Error al unirse a la sala:",e)}),this.cargarNotificaciones())}cleanupSocketListeners(){this.socket.off("connect"),this.socket.off("nueva_notificacion"),this.socket.off("lista_notificaciones"),this.socket.off("notificaciones_actualizadas")}setupBaseListeners(){this.socket.on("nueva_notificacion",e=>{this.handleNewNotification(e)}),this.socket.on("connect",()=>{console.log("Conectado al servidor Socket.IO"),this.userId&&this.joinUserRoom()})}joinUserRoom(){this.socket.emit("join",{user_id:this.userId})}handleNewNotification(e){let t=ne(L({},e),{date:e.date?new Date(e.date):new Date(e.timestamp)}),r=this.notificationsSubject.value;this.notificationsSubject.next([t,...r])}cargarNotificaciones(){this.userId&&(this.socket.off("lista_notificaciones"),this.socket.emit("obtener_notificaciones",{user_id:this.userId}),this.socket.on("lista_notificaciones",e=>{let t=e.filter(r=>r.user_id===this.userId).map(r=>ne(L({},r),{date:r.date?new Date(r.date):new Date(r.timestamp)}));this.notificationsSubject.next(t)}))}marcarComoLeidas(){this.userId&&(this.socket.off("notificaciones_actualizadas"),this.socket.emit("marcar_como_leidas",{user_id:this.userId}),this.socket.on("notificaciones_actualizadas",e=>{let t=e.map(r=>ne(L({},r),{date:r.date?new Date(r.date):new Date(r.timestamp),read:!0}));this.notificationsSubject.next(t)}))}marcarComoLeida(e){if(!this.userId)return;this.socket.emit("marcar_como_leida",{user_id:this.userId,notification_id:e});let t=this.notificationsSubject.value.map(r=>r.id===e?ne(L({},r),{read:!0}):r);this.notificationsSubject.next(t)}ngOnDestroy(){this.cleanupSocketListeners(),this.socket.disconnect(),console.log("Socket.IO desconectado")}static \u0275fac=function(t){return new(t||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};function xY(n,e){n&1&&(g(0,"div",12)(1,"div",13),oe(2,"div",14),g(3,"p"),b(4,"Cargando..."),m()()())}function MY(n,e){if(n&1){let t=Pe();g(0,"a",23),z("click",function(){J(t);let i=B(2);return ee(i.navigateTo("/admin"))}),b(1,` Panel Admin
`),m()}}function PY(n,e){if(n&1&&(g(0,"span",24),b(1),m()),n&2){let t=B(2);E(),re(t.unreadNotifications)}}function RY(n,e){n&1&&(g(0,"strong"),b(1,"\u2022"),m())}function OY(n,e){if(n&1&&(g(0,"div",28),b(1),W(2,RY,2,0,"strong",29),b(3),m()),n&2){let t=e.$implicit;E(),ie(" ",t.message," "),E(),F("ngIf",!t.read),E(),_s(" ",t.title,": ",t.message," ")}}function kY(n,e){n&1&&(g(0,"div",30),b(1," No hay notificaciones "),m())}function NY(n,e){if(n&1&&(g(0,"div",25),W(1,OY,4,4,"div",26)(2,kY,2,0,"div",27),m()),n&2){let t=B(2);E(),F("ngForOf",t.notifications),E(),F("ngIf",t.notifications.length===0)}}function FY(n,e){if(n&1){let t=Pe();n0(0),g(1,"div",15),W(2,MY,2,0,"a",16),g(3,"div",15)(4,"div",17),z("click",function(){J(t);let i=B();return ee(i.toggleNotifications())}),b(5," \u{1F514} "),W(6,PY,2,1,"span",18)(7,NY,3,2,"div",19),m(),g(8,"a",20),z("click",function(){J(t);let i=B();return ee(i.navigateTo("/dashboard"))}),b(9,"Proyectos"),m(),g(10,"a",20),z("click",function(){J(t);let i=B();return ee(i.navigateTo("/user-profile"))}),b(11),st(12,"async"),st(13,"userDisplay"),m(),g(14,"a",21),z("click",function(){J(t);let i=B();return ee(i.logout())}),b(15,"Cerrar Sesi\xF3n"),m()(),g(16,"a",20),z("click",function(){J(t);let i=B();return ee(i.navigateTo("/dashboard"))}),b(17,"Proyectos"),m(),g(18,"a",20),z("click",function(){J(t);let i=B();return ee(i.navigateTo("/project-creation"))}),b(19,"Crear Proyecto"),m(),g(20,"a",20),z("click",function(){J(t);let i=B();return ee(i.navigateTo("/user-profile"))}),b(21),st(22,"async"),st(23,"userDisplay"),m(),g(24,"a",22),z("click",function(){J(t);let i=B();return ee(i.logout())}),b(25,"Cerrar Sesi\xF3n"),m()(),r0()}if(n&2){let t=B();E(2),F("ngIf",t.authService.isAdmin()),E(4),F("ngIf",t.unreadNotifications>0),E(),F("ngIf",t.showNotifications),E(4),re(Lt(13,7,Lt(12,5,t.authService.currentUser$))),E(10),ie(" ",Lt(23,11,Lt(22,9,t.authService.currentUser$))," ")}}function LY(n,e){if(n&1){let t=Pe();g(0,"a",20),z("click",function(){J(t);let i=B();return ee(i.navigateTo("/login"))}),b(1,"Iniciar Sesi\xF3n"),m(),g(2,"a",20),z("click",function(){J(t);let i=B();return ee(i.navigateTo("/register"))}),b(3,"Registrarse"),m()}}var Uv=class n{constructor(e,t,r){this.authService=e;this.router=t;this.notificationService=r}title="CoCreando";showNotifications=!1;unreadNotifications=0;notifications=[];notificationsSub;authSub;isLoading$=new it(!0);ngOnInit(){this.notificationsSub=this.notificationService.notifications$.subscribe(e=>{this.notifications=e.sort((t,r)=>new Date(r.date).getTime()-new Date(t.date).getTime()),this.unreadNotifications=e.filter(t=>!t.read).length}),this.isLoading$.next(!0),this.authSub=this.authService.isAuthenticated$.subscribe(e=>{this.isLoading$.next(!1),e?this.authService.getCurrentUserValue()?.uid&&this.notificationService.cargarNotificaciones():(this.notifications=[],this.unreadNotifications=0)})}ngOnDestroy(){this.notificationsSub.unsubscribe(),this.authSub.unsubscribe()}navigateTo(e){this.router.navigate([e]),this.showNotifications=!1}logout(){this.authService.logout(),this.router.navigate(["/dashboard"]),this.showNotifications=!1}toggleNotifications(){this.showNotifications=!this.showNotifications,this.showNotifications&&this.unreadNotifications>0&&this.markAllAsRead()}markAllAsRead(){this.authService.getCurrentUserValue()?.uid&&this.notificationService.marcarComoLeidas()}handleNotificationClick(e){e.link&&this.router.navigate([e.link]),e.read||this.authService.getCurrentUserValue()?.uid&&this.notificationService.marcarComoLeida(e.id),this.showNotifications=!1}static \u0275fac=function(t){return new(t||n)(j(Be),j(Ae),j(Bv))};static \u0275cmp=Re({type:n,selectors:[["app-root"]],decls:19,vars:7,consts:[["notAuthenticated",""],[1,"main-container"],["class","global-loader",4,"ngIf"],[1,"navbar"],[1,"container"],[1,"logo",3,"click"],["src","https://res.cloudinary.com/dtg8i6j9f/image/upload/v1748278102/2-removebg-preview_orvlqt.png","alt","CoCreando Logo",1,"logo-img"],[1,"nav-links"],[4,"ngIf","ngIfElse"],[1,"content"],[1,"app-footer"],[1,"footer-content"],[1,"global-loader"],[1,"loader-content"],[1,"spinner"],[1,"user-notifications"],["class","admin-link",3,"click",4,"ngIf"],[1,"notification-icon",3,"click"],["class","notification-badge",4,"ngIf"],["class","notifications-dropdown",4,"ngIf"],[3,"click"],[2,"cursor","pointer",3,"click"],[1,"logout-link",3,"click"],[1,"admin-link",3,"click"],[1,"notification-badge"],[1,"notifications-dropdown"],["class","notification-item",4,"ngFor","ngForOf"],["class","notification-empty",4,"ngIf"],[1,"notification-item"],[4,"ngIf"],[1,"notification-empty"]],template:function(t,r){if(t&1){let i=Pe();g(0,"div",1),W(1,xY,5,0,"div",2),st(2,"async"),g(3,"nav",3)(4,"div",4)(5,"span",5),z("click",function(){return J(i),ee(r.navigateTo("/dashboard"))}),oe(6,"img",6),b(7," CoCreando "),m(),g(8,"div",7),W(9,FY,26,13,"ng-container",8),st(10,"async"),W(11,LY,4,0,"ng-template",null,0,PM),m()()(),g(13,"div",9),oe(14,"router-outlet"),m(),g(15,"footer",10)(16,"div",11)(17,"span"),b(18,"\xA9 2025 CoCreando - Todos los derechos reservados"),m()()()()}if(t&2){let i=Ha(12);E(),F("ngIf",Lt(2,3,r.isLoading$)),E(8),F("ngIf",Lt(10,5,r.authService.isAuthenticated$))("ngIfElse",i)}},dependencies:[ht,$t,vt,_0,Ps,Au,Mv],styles:['@charset "UTF-8";.main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.navbar[_ngcontent-%COMP%]{background-color:#fff;padding:0;box-shadow:0 4px 12px #0000001a;position:sticky;top:0;z-index:1000}.navbar[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto;padding:1rem 2rem}.navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#4caf50;letter-spacing:-.5px;display:flex;align-items:center}.navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .logo-img[_ngcontent-%COMP%]{width:70px;height:auto;margin-right:.5rem}.navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_bounce .5s ease infinite alternate}.navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]:hover   .logo-img[_ngcontent-%COMP%]{transform:rotate(10deg)}.navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]:hover{color:#087516;text-shadow:0 0 5px rgba(9,77,7,.3)}@keyframes _ngcontent-%COMP%_bounce{0%{transform:translateY(0)}to{transform:translateY(-3px)}}.navbar[_ngcontent-%COMP%]   .logo-img[_ngcontent-%COMP%]{height:30px;transition:transform .3s ease}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#2e7d32;text-decoration:none;font-weight:500;font-size:1.1rem;position:relative;padding:.5rem 0;transition:all .3s ease}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:0;height:2px;background-color:#4caf50;transition:width .3s ease}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#4caf50}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{width:100%}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#4caf50;font-weight:600}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:after{width:100%}.content[_ngcontent-%COMP%]{flex:1;padding:2rem;max-width:1200px;margin:0 auto;width:100%}.app-footer[_ngcontent-%COMP%]{background-color:#c8e6c9;padding:1.5rem;text-align:center;margin-top:auto}.app-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#2e7d32;font-size:.9rem;display:block}@media (max-width: 768px){.navbar[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:1rem;flex-direction:column}.navbar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]{margin-top:1rem;gap:1.5rem}}.user-notifications[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;position:relative}.user-notifications[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-weight:500;color:#2e7d32;margin-right:.5rem}.user-notifications[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{position:relative;cursor:pointer;font-size:1.2rem}.user-notifications[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   .notification-badge[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;background-color:red;color:#fff;border-radius:50%;width:18px;height:18px;display:flex;align-items:center;justify-content:center;font-size:.7rem}.user-notifications[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   .notifications-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;background-color:#fff;border:1px solid #c8e6c9;border-radius:4px;box-shadow:0 4px 8px #0000001a;width:300px;max-height:400px;overflow-y:auto;z-index:1001}.user-notifications[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   .notifications-dropdown[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #c8e6c9;cursor:pointer;transition:background-color .2s}.user-notifications[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   .notifications-dropdown[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]:hover{background-color:#f8fffa}.user-notifications[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   .notifications-dropdown[_ngcontent-%COMP%]   .notification-empty[_ngcontent-%COMP%]{padding:1rem;text-align:center;color:#77cd7b}.global-loader[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#fffc;display:flex;justify-content:center;align-items:center;z-index:1000}.loader-content[_ngcontent-%COMP%]{text-align:center;background:#fff;padding:2rem;border-radius:8px;box-shadow:0 2px 10px #0000001a}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-radius:50%;border-top:4px solid #3498db;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})};A0(Uv,nL).catch(n=>console.error(n));
